(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cP={exports:{}},HC={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iV;function Xse(){if(iV)return HC;iV=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var a in i)a!=="key"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return HC.Fragment=t,HC.jsx=n,HC.jsxs=n,HC}var sV;function Zse(){return sV||(sV=1,cP.exports=Xse()),cP.exports}var B=Zse(),uP={exports:{}},br={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oV;function qse(){if(oV)return br;oV=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function p(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function b(W,re,te){this.props=W,this.context=re,this.refs=w,this.updater=te||m}b.prototype.isReactComponent={},b.prototype.setState=function(W,re){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,re,"setState")},b.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function S(){}S.prototype=b.prototype;function E(W,re,te){this.props=W,this.context=re,this.refs=w,this.updater=te||m}var _=E.prototype=new S;_.constructor=E,y(_,b.prototype),_.isPureReactComponent=!0;var N=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function O(W,re,te,J,ce,fe){return te=fe.ref,{$$typeof:e,type:W,key:re,ref:te!==void 0?te:null,props:fe}}function z(W,re){return O(W.type,re,void 0,void 0,void 0,W.props)}function H(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function X(W){var re={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(te){return re[te]})}var Q=/\/+/g;function U(W,re){return typeof W=="object"&&W!==null&&W.key!=null?X(""+W.key):re.toString(36)}function Z(){}function q(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(Z,Z):(W.status="pending",W.then(function(re){W.status==="pending"&&(W.status="fulfilled",W.value=re)},function(re){W.status==="pending"&&(W.status="rejected",W.reason=re)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function me(W,re,te,J,ce){var fe=typeof W;(fe==="undefined"||fe==="boolean")&&(W=null);var De=!1;if(W===null)De=!0;else switch(fe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(W.$$typeof){case e:case t:De=!0;break;case u:return De=W._init,me(De(W._payload),re,te,J,ce)}}if(De)return ce=ce(W),De=J===""?"."+U(W,0):J,N(ce)?(te="",De!=null&&(te=De.replace(Q,"$&/")+"/"),me(ce,re,te,"",function(qe){return qe})):ce!=null&&(H(ce)&&(ce=z(ce,te+(ce.key==null||W&&W.key===ce.key?"":(""+ce.key).replace(Q,"$&/")+"/")+De)),re.push(ce)),1;De=0;var at=J===""?".":J+":";if(N(W))for(var je=0;je<W.length;je++)J=W[je],fe=at+U(J,je),De+=me(J,re,te,fe,ce);else if(je=p(W),typeof je=="function")for(W=je.call(W),je=0;!(J=W.next()).done;)J=J.value,fe=at+U(J,je++),De+=me(J,re,te,fe,ce);else if(fe==="object"){if(typeof W.then=="function")return me(q(W),re,te,J,ce);throw re=String(W),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return De}function se(W,re,te){if(W==null)return W;var J=[],ce=0;return me(W,J,"","",function(fe){return re.call(te,fe,ce++)}),J}function ue(W){if(W._status===-1){var re=W._result;re=re(),re.then(function(te){(W._status===0||W._status===-1)&&(W._status=1,W._result=te)},function(te){(W._status===0||W._status===-1)&&(W._status=2,W._result=te)}),W._status===-1&&(W._status=0,W._result=re)}if(W._status===1)return W._result.default;throw W._result}var Pe=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function ye(){}return br.Children={map:se,forEach:function(W,re,te){se(W,function(){re.apply(this,arguments)},te)},count:function(W){var re=0;return se(W,function(){re++}),re},toArray:function(W){return se(W,function(re){return re})||[]},only:function(W){if(!H(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},br.Component=b,br.Fragment=n,br.Profiler=i,br.PureComponent=E,br.StrictMode=r,br.Suspense=l,br.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,br.__COMPILER_RUNTIME={__proto__:null,c:function(W){return V.H.useMemoCache(W)}},br.cache=function(W){return function(){return W.apply(null,arguments)}},br.cloneElement=function(W,re,te){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var J=y({},W.props),ce=W.key,fe=void 0;if(re!=null)for(De in re.ref!==void 0&&(fe=void 0),re.key!==void 0&&(ce=""+re.key),re)!M.call(re,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&re.ref===void 0||(J[De]=re[De]);var De=arguments.length-2;if(De===1)J.children=te;else if(1<De){for(var at=Array(De),je=0;je<De;je++)at[je]=arguments[je+2];J.children=at}return O(W.type,ce,void 0,void 0,fe,J)},br.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:s,_context:W},W},br.createElement=function(W,re,te){var J,ce={},fe=null;if(re!=null)for(J in re.key!==void 0&&(fe=""+re.key),re)M.call(re,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ce[J]=re[J]);var De=arguments.length-2;if(De===1)ce.children=te;else if(1<De){for(var at=Array(De),je=0;je<De;je++)at[je]=arguments[je+2];ce.children=at}if(W&&W.defaultProps)for(J in De=W.defaultProps,De)ce[J]===void 0&&(ce[J]=De[J]);return O(W,fe,void 0,void 0,null,ce)},br.createRef=function(){return{current:null}},br.forwardRef=function(W){return{$$typeof:a,render:W}},br.isValidElement=H,br.lazy=function(W){return{$$typeof:u,_payload:{_status:-1,_result:W},_init:ue}},br.memo=function(W,re){return{$$typeof:c,type:W,compare:re===void 0?null:re}},br.startTransition=function(W){var re=V.T,te={};V.T=te;try{var J=W(),ce=V.S;ce!==null&&ce(te,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ye,Pe)}catch(fe){Pe(fe)}finally{V.T=re}},br.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},br.use=function(W){return V.H.use(W)},br.useActionState=function(W,re,te){return V.H.useActionState(W,re,te)},br.useCallback=function(W,re){return V.H.useCallback(W,re)},br.useContext=function(W){return V.H.useContext(W)},br.useDebugValue=function(){},br.useDeferredValue=function(W,re){return V.H.useDeferredValue(W,re)},br.useEffect=function(W,re,te){var J=V.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(W,re)},br.useId=function(){return V.H.useId()},br.useImperativeHandle=function(W,re,te){return V.H.useImperativeHandle(W,re,te)},br.useInsertionEffect=function(W,re){return V.H.useInsertionEffect(W,re)},br.useLayoutEffect=function(W,re){return V.H.useLayoutEffect(W,re)},br.useMemo=function(W,re){return V.H.useMemo(W,re)},br.useOptimistic=function(W,re){return V.H.useOptimistic(W,re)},br.useReducer=function(W,re,te){return V.H.useReducer(W,re,te)},br.useRef=function(W){return V.H.useRef(W)},br.useState=function(W){return V.H.useState(W)},br.useSyncExternalStore=function(W,re,te){return V.H.useSyncExternalStore(W,re,te)},br.useTransition=function(){return V.H.useTransition()},br.version="19.1.1",br}var aV;function _w(){return aV||(aV=1,uP.exports=qse()),uP.exports}var I=_w();const Ve=Wg(I);var dP={exports:{}},zC={},hP={exports:{}},fP={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lV;function Qse(){return lV||(lV=1,function(e){function t(se,ue){var Pe=se.length;se.push(ue);e:for(;0<Pe;){var ye=Pe-1>>>1,W=se[ye];if(0<i(W,ue))se[ye]=ue,se[Pe]=W,Pe=ye;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ue=se[0],Pe=se.pop();if(Pe!==ue){se[0]=Pe;e:for(var ye=0,W=se.length,re=W>>>1;ye<re;){var te=2*(ye+1)-1,J=se[te],ce=te+1,fe=se[ce];if(0>i(J,Pe))ce<W&&0>i(fe,J)?(se[ye]=fe,se[ce]=Pe,ye=ce):(se[ye]=J,se[te]=Pe,ye=te);else if(ce<W&&0>i(fe,Pe))se[ye]=fe,se[ce]=Pe,ye=ce;else break e}}return ue}function i(se,ue){var Pe=se.sortIndex-ue.sortIndex;return Pe!==0?Pe:se.id-ue.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,p=3,m=!1,y=!1,w=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function N(se){for(var ue=n(c);ue!==null;){if(ue.callback===null)r(c);else if(ue.startTime<=se)r(c),ue.sortIndex=ue.expirationTime,t(l,ue);else break;ue=n(c)}}function V(se){if(w=!1,N(se),!y)if(n(l)!==null)y=!0,M||(M=!0,U());else{var ue=n(c);ue!==null&&me(V,ue.startTime-se)}}var M=!1,O=-1,z=5,H=-1;function X(){return b?!0:!(e.unstable_now()-H<z)}function Q(){if(b=!1,M){var se=e.unstable_now();H=se;var ue=!0;try{e:{y=!1,w&&(w=!1,E(O),O=-1),m=!0;var Pe=p;try{t:{for(N(se),h=n(l);h!==null&&!(h.expirationTime>se&&X());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,p=h.priorityLevel;var W=ye(h.expirationTime<=se);if(se=e.unstable_now(),typeof W=="function"){h.callback=W,N(se),ue=!0;break t}h===n(l)&&r(l),N(se)}else r(l);h=n(l)}if(h!==null)ue=!0;else{var re=n(c);re!==null&&me(V,re.startTime-se),ue=!1}}break e}finally{h=null,p=Pe,m=!1}ue=void 0}}finally{ue?U():M=!1}}}var U;if(typeof _=="function")U=function(){_(Q)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,q=Z.port2;Z.port1.onmessage=Q,U=function(){q.postMessage(null)}}else U=function(){S(Q,0)};function me(se,ue){O=S(function(){se(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(se){switch(p){case 1:case 2:case 3:var ue=3;break;default:ue=p}var Pe=p;p=ue;try{return se()}finally{p=Pe}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(se,ue){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Pe=p;p=se;try{return ue()}finally{p=Pe}},e.unstable_scheduleCallback=function(se,ue,Pe){var ye=e.unstable_now();switch(typeof Pe=="object"&&Pe!==null?(Pe=Pe.delay,Pe=typeof Pe=="number"&&0<Pe?ye+Pe:ye):Pe=ye,se){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Pe+W,se={id:u++,callback:ue,priorityLevel:se,startTime:Pe,expirationTime:W,sortIndex:-1},Pe>ye?(se.sortIndex=Pe,t(c,se),n(l)===null&&se===n(c)&&(w?(E(O),O=-1):w=!0,me(V,Pe-ye))):(se.sortIndex=W,t(l,se),y||m||(y=!0,M||(M=!0,U()))),se},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(se){var ue=p;return function(){var Pe=p;p=ue;try{return se.apply(this,arguments)}finally{p=Pe}}}}(fP)),fP}var cV;function Jse(){return cV||(cV=1,hP.exports=Qse()),hP.exports}var pP={exports:{}},_l={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uV;function $se(){if(uV)return _l;uV=1;var e=_w();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)c+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:c,implementation:u}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return _l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_l.createPortal=function(l,c){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return s(l,c,null,u)},_l.flushSync=function(l){var c=o.T,u=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=u,r.d.f()}},_l.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},_l.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},_l.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var u=c.as,h=a(u,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;u==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:m}):u==="script"&&r.d.X(l,{crossOrigin:h,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},_l.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var u=a(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},_l.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var u=c.as,h=a(u,c.crossOrigin);r.d.L(l,u,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},_l.preloadModule=function(l,c){if(typeof l=="string")if(c){var u=a(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:u,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},_l.requestFormReset=function(l){r.d.r(l)},_l.unstable_batchedUpdates=function(l,c){return l(c)},_l.useFormState=function(l,c,u){return o.H.useFormState(l,c,u)},_l.useFormStatus=function(){return o.H.useHostTransitionStatus()},_l.version="19.1.1",_l}var dV;function IR(){if(dV)return pP.exports;dV=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pP.exports=$se(),pP.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hV;function eoe(){if(hV)return zC;hV=1;var e=Jse(),t=_w(),n=IR();function r(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s(d){var f=d,v=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,(f.flags&4098)!==0&&(v=f.return),d=f.return;while(d)}return f.tag===3?v:null}function o(d){if(d.tag===13){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function a(d){if(s(d)!==d)throw Error(r(188))}function l(d){var f=d.alternate;if(!f){if(f=s(d),f===null)throw Error(r(188));return f!==d?null:d}for(var v=d,x=f;;){var D=v.return;if(D===null)break;var G=D.alternate;if(G===null){if(x=D.return,x!==null){v=x;continue}break}if(D.child===G.child){for(G=D.child;G;){if(G===v)return a(D),d;if(G===x)return a(D),f;G=G.sibling}throw Error(r(188))}if(v.return!==x.return)v=D,x=G;else{for(var de=!1,_e=D.child;_e;){if(_e===v){de=!0,v=D,x=G;break}if(_e===x){de=!0,x=D,v=G;break}_e=_e.sibling}if(!de){for(_e=G.child;_e;){if(_e===v){de=!0,v=G,x=D;break}if(_e===x){de=!0,x=G,v=D;break}_e=_e.sibling}if(!de)throw Error(r(189))}}if(v.alternate!==x)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?d:f}function c(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d;for(d=d.child;d!==null;){if(f=c(d),f!==null)return f;d=d.sibling}return null}var u=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),_=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function U(d){return d===null||typeof d!="object"?null:(d=Q&&d[Q]||d["@@iterator"],typeof d=="function"?d:null)}var Z=Symbol.for("react.client.reference");function q(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===Z?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case y:return"Fragment";case b:return"Profiler";case w:return"StrictMode";case V:return"Suspense";case M:return"SuspenseList";case H:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case m:return"Portal";case _:return(d.displayName||"Context")+".Provider";case E:return(d._context.displayName||"Context")+".Consumer";case N:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case O:return f=d.displayName||null,f!==null?f:q(d.type)||"Memo";case z:f=d._payload,d=d._init;try{return q(d(f))}catch{}}return null}var me=Array.isArray,se=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe={pending:!1,data:null,method:null,action:null},ye=[],W=-1;function re(d){return{current:d}}function te(d){0>W||(d.current=ye[W],ye[W]=null,W--)}function J(d,f){W++,ye[W]=d.current,d.current=f}var ce=re(null),fe=re(null),De=re(null),at=re(null);function je(d,f){switch(J(De,f),J(fe,d),J(ce,null),f.nodeType){case 9:case 11:d=(d=f.documentElement)&&(d=d.namespaceURI)?F3(d):0;break;default:if(d=f.tagName,f=f.namespaceURI)f=F3(f),d=I3(f,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}te(ce),J(ce,d)}function qe(){te(ce),te(fe),te(De)}function et(d){d.memoizedState!==null&&J(at,d);var f=ce.current,v=I3(f,d.type);f!==v&&(J(fe,d),J(ce,v))}function Et(d){fe.current===d&&(te(ce),te(fe)),at.current===d&&(te(at),OC._currentValue=Pe)}var Se=Object.prototype.hasOwnProperty,$t=e.unstable_scheduleCallback,ne=e.unstable_cancelCallback,Ge=e.unstable_shouldYield,Me=e.unstable_requestPaint,ve=e.unstable_now,xe=e.unstable_getCurrentPriorityLevel,Le=e.unstable_ImmediatePriority,Je=e.unstable_UserBlockingPriority,nt=e.unstable_NormalPriority,Be=e.unstable_LowPriority,gt=e.unstable_IdlePriority,Mt=e.log,At=e.unstable_setDisableYieldValue,Ie=null,it=null;function yt(d){if(typeof Mt=="function"&&At(d),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(Ie,d)}catch{}}var Gt=Math.clz32?Math.clz32:cr,qt=Math.log,mn=Math.LN2;function cr(d){return d>>>=0,d===0?32:31-(qt(d)/mn|0)|0}var fn=256,Pr=4194304;function Kr(d){var f=d&42;if(f!==0)return f;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function xn(d,f,v){var x=d.pendingLanes;if(x===0)return 0;var D=0,G=d.suspendedLanes,de=d.pingedLanes;d=d.warmLanes;var _e=x&134217727;return _e!==0?(x=_e&~G,x!==0?D=Kr(x):(de&=_e,de!==0?D=Kr(de):v||(v=_e&~d,v!==0&&(D=Kr(v))))):(_e=x&~G,_e!==0?D=Kr(_e):de!==0?D=Kr(de):v||(v=x&~d,v!==0&&(D=Kr(v)))),D===0?0:f!==0&&f!==D&&(f&G)===0&&(G=D&-D,v=f&-f,G>=v||G===32&&(v&4194048)!==0)?f:D}function rr(d,f){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&f)===0}function fi(d,f){switch(d){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(){var d=fn;return fn<<=1,(fn&4194048)===0&&(fn=256),d}function Ni(){var d=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),d}function is(d){for(var f=[],v=0;31>v;v++)f.push(d);return f}function Bi(d,f){d.pendingLanes|=f,f!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function gs(d,f,v,x,D,G){var de=d.pendingLanes;d.pendingLanes=v,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=v,d.entangledLanes&=v,d.errorRecoveryDisabledLanes&=v,d.shellSuspendCounter=0;var _e=d.entanglements,He=d.expirationTimes,pt=d.hiddenUpdates;for(v=de&~v;0<v;){var Ft=31-Gt(v),Bt=1<<Ft;_e[Ft]=0,He[Ft]=-1;var wt=pt[Ft];if(wt!==null)for(pt[Ft]=null,Ft=0;Ft<wt.length;Ft++){var bt=wt[Ft];bt!==null&&(bt.lane&=-536870913)}v&=~Bt}x!==0&&As(d,x,0),G!==0&&D===0&&d.tag!==0&&(d.suspendedLanes|=G&~(de&~f))}function As(d,f,v){d.pendingLanes|=f,d.suspendedLanes&=~f;var x=31-Gt(f);d.entangledLanes|=f,d.entanglements[x]=d.entanglements[x]|1073741824|v&4194090}function da(d,f){var v=d.entangledLanes|=f;for(d=d.entanglements;v;){var x=31-Gt(v),D=1<<x;D&f|d[x]&f&&(d[x]|=f),v&=~D}}function qo(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Ci(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function Ne(){var d=ue.p;return d!==0?d:(d=window.event,d===void 0?32:J3(d.type))}function Qe(d,f){var v=ue.p;try{return ue.p=d,f()}finally{ue.p=v}}var lt=Math.random().toString(36).slice(2),Pt="__reactFiber$"+lt,Dt="__reactProps$"+lt,ln="__reactContainer$"+lt,an="__reactEvents$"+lt,Tt="__reactListeners$"+lt,he="__reactHandles$"+lt,Te="__reactResources$"+lt,be="__reactMarker$"+lt;function Ce(d){delete d[Pt],delete d[Dt],delete d[an],delete d[Tt],delete d[he]}function Ee(d){var f=d[Pt];if(f)return f;for(var v=d.parentNode;v;){if(f=v[ln]||v[Pt]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(d=N3(d);d!==null;){if(v=d[Pt])return v;d=N3(d)}return f}d=v,v=d.parentNode}return null}function Fe(d){if(d=d[Pt]||d[ln]){var f=d.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return d}return null}function Xe(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d.stateNode;throw Error(r(33))}function ht(d){var f=d[Te];return f||(f=d[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Ke(d){d[be]=!0}var $e=new Set,ut={};function Ot(d,f){Wt(d,f),Wt(d+"Capture",f)}function Wt(d,f){for(ut[d]=f,d=0;d<f.length;d++)$e.add(f[d])}var jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ut={},Xt={};function pn(d){return Se.call(Xt,d)?!0:Se.call(Ut,d)?!1:jt.test(d)?Xt[d]=!0:(Ut[d]=!0,!1)}function sr(d,f,v){if(pn(f))if(v===null)d.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":d.removeAttribute(f);return;case"boolean":var x=f.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){d.removeAttribute(f);return}}d.setAttribute(f,""+v)}}function Kn(d,f,v){if(v===null)d.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(f);return}d.setAttribute(f,""+v)}}function dn(d,f,v,x){if(x===null)d.removeAttribute(v);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(v);return}d.setAttributeNS(f,v,""+x)}}var hr,Vi;function Ai(d){if(hr===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);hr=f&&f[1]||"",Vi=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hr+d+Vi}var vr=!1;function ur(d,f){if(!d||vr)return"";vr=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(f){var Bt=function(){throw Error()};if(Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(bt){var wt=bt}Reflect.construct(d,[],Bt)}else{try{Bt.call()}catch(bt){wt=bt}d.call(Bt.prototype)}}else{try{throw Error()}catch(bt){wt=bt}(Bt=d())&&typeof Bt.catch=="function"&&Bt.catch(function(){})}}catch(bt){if(bt&&wt&&typeof bt.stack=="string")return[bt.stack,wt.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=x.DetermineComponentFrameRoot(),de=G[0],_e=G[1];if(de&&_e){var He=de.split(`
`),pt=_e.split(`
`);for(D=x=0;x<He.length&&!He[x].includes("DetermineComponentFrameRoot");)x++;for(;D<pt.length&&!pt[D].includes("DetermineComponentFrameRoot");)D++;if(x===He.length||D===pt.length)for(x=He.length-1,D=pt.length-1;1<=x&&0<=D&&He[x]!==pt[D];)D--;for(;1<=x&&0<=D;x--,D--)if(He[x]!==pt[D]){if(x!==1||D!==1)do if(x--,D--,0>D||He[x]!==pt[D]){var Ft=`
`+He[x].replace(" at new "," at ");return d.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",d.displayName)),Ft}while(1<=x&&0<=D);break}}}finally{vr=!1,Error.prepareStackTrace=v}return(v=d?d.displayName||d.name:"")?Ai(v):""}function Pn(d){switch(d.tag){case 26:case 27:case 5:return Ai(d.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return ur(d.type,!1);case 11:return ur(d.type.render,!1);case 1:return ur(d.type,!0);case 31:return Ai("Activity");default:return""}}function Hr(d){try{var f="";do f+=Pn(d),d=d.return;while(d);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function ms(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function vs(d){var f=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ol(d){var f=vs(d)?"checked":"value",v=Object.getOwnPropertyDescriptor(d.constructor.prototype,f),x=""+d[f];if(!d.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var D=v.get,G=v.set;return Object.defineProperty(d,f,{configurable:!0,get:function(){return D.call(this)},set:function(de){x=""+de,G.call(this,de)}}),Object.defineProperty(d,f,{enumerable:v.enumerable}),{getValue:function(){return x},setValue:function(de){x=""+de},stopTracking:function(){d._valueTracker=null,delete d[f]}}}}function uo(d){d._valueTracker||(d._valueTracker=ol(d))}function zn(d){if(!d)return!1;var f=d._valueTracker;if(!f)return!0;var v=f.getValue(),x="";return d&&(x=vs(d)?d.checked?"true":"false":d.value),d=x,d!==v?(f.setValue(d),!0):!1}function Zr(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Du=/[\n"\\]/g;function bi(d){return d.replace(Du,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function pi(d,f,v,x,D,G,de,_e){d.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?d.type=de:d.removeAttribute("type"),f!=null?de==="number"?(f===0&&d.value===""||d.value!=f)&&(d.value=""+ms(f)):d.value!==""+ms(f)&&(d.value=""+ms(f)):de!=="submit"&&de!=="reset"||d.removeAttribute("value"),f!=null?ho(d,de,ms(f)):v!=null?ho(d,de,ms(v)):x!=null&&d.removeAttribute("value"),D==null&&G!=null&&(d.defaultChecked=!!G),D!=null&&(d.checked=D&&typeof D!="function"&&typeof D!="symbol"),_e!=null&&typeof _e!="function"&&typeof _e!="symbol"&&typeof _e!="boolean"?d.name=""+ms(_e):d.removeAttribute("name")}function ko(d,f,v,x,D,G,de,_e){if(G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(d.type=G),f!=null||v!=null){if(!(G!=="submit"&&G!=="reset"||f!=null))return;v=v!=null?""+ms(v):"",f=f!=null?""+ms(f):v,_e||f===d.value||(d.value=f),d.defaultValue=f}x=x??D,x=typeof x!="function"&&typeof x!="symbol"&&!!x,d.checked=_e?d.checked:!!x,d.defaultChecked=!!x,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(d.name=de)}function ho(d,f,v){f==="number"&&Zr(d.ownerDocument)===d||d.defaultValue===""+v||(d.defaultValue=""+v)}function fo(d,f,v,x){if(d=d.options,f){f={};for(var D=0;D<v.length;D++)f["$"+v[D]]=!0;for(v=0;v<d.length;v++)D=f.hasOwnProperty("$"+d[v].value),d[v].selected!==D&&(d[v].selected=D),D&&x&&(d[v].defaultSelected=!0)}else{for(v=""+ms(v),f=null,D=0;D<d.length;D++){if(d[D].value===v){d[D].selected=!0,x&&(d[D].defaultSelected=!0);return}f!==null||d[D].disabled||(f=d[D])}f!==null&&(f.selected=!0)}}function Bn(d,f,v){if(f!=null&&(f=""+ms(f),f!==d.value&&(d.value=f),v==null)){d.defaultValue!==f&&(d.defaultValue=f);return}d.defaultValue=v!=null?""+ms(v):""}function Ks(d,f,v,x){if(f==null){if(x!=null){if(v!=null)throw Error(r(92));if(me(x)){if(1<x.length)throw Error(r(93));x=x[0]}v=x}v==null&&(v=""),f=v}v=ms(f),d.defaultValue=v,x=d.textContent,x===v&&x!==""&&x!==null&&(d.value=x)}function Ys(d,f){if(f){var v=d.firstChild;if(v&&v===d.lastChild&&v.nodeType===3){v.nodeValue=f;return}}d.textContent=f}var ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fu(d,f,v){var x=f.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?x?d.setProperty(f,""):f==="float"?d.cssFloat="":d[f]="":x?d.setProperty(f,v):typeof v!="number"||v===0||ha.has(f)?f==="float"?d.cssFloat=v:d[f]=(""+v).trim():d[f]=v+"px"}function po(d,f,v){if(f!=null&&typeof f!="object")throw Error(r(62));if(d=d.style,v!=null){for(var x in v)!v.hasOwnProperty(x)||f!=null&&f.hasOwnProperty(x)||(x.indexOf("--")===0?d.setProperty(x,""):x==="float"?d.cssFloat="":d[x]="");for(var D in f)x=f[D],f.hasOwnProperty(D)&&v[D]!==x&&Fu(d,D,x)}else for(var G in f)f.hasOwnProperty(G)&&Fu(d,G,f[G])}function Ma(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(d){return Wl.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}var La=null;function go(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var ks=null,Qo=null;function Bc(d){var f=Fe(d);if(f&&(d=f.stateNode)){var v=d[Dt]||null;e:switch(d=f.stateNode,f.type){case"input":if(pi(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),f=v.name,v.type==="radio"&&f!=null){for(v=d;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+bi(""+f)+'"][type="radio"]'),f=0;f<v.length;f++){var x=v[f];if(x!==d&&x.form===d.form){var D=x[Dt]||null;if(!D)throw Error(r(90));pi(x,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(f=0;f<v.length;f++)x=v[f],x.form===d.form&&zn(x)}break e;case"textarea":Bn(d,v.value,v.defaultValue);break e;case"select":f=v.value,f!=null&&fo(d,!!v.multiple,f,!1)}}}var Rn=!1;function Xs(d,f,v){if(Rn)return d(f,v);Rn=!0;try{var x=d(f);return x}finally{if(Rn=!1,(ks!==null||Qo!==null)&&(j1(),ks&&(f=ks,d=Qo,Qo=ks=null,Bc(f),d)))for(f=0;f<d.length;f++)Bc(d[f])}}function Sn(d,f){var v=d.stateNode;if(v===null)return null;var x=v[Dt]||null;if(x===null)return null;v=x[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(d=d.type,x=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!x;break e;default:d=!1}if(d)return null;if(v&&typeof v!="function")throw Error(r(231,f,typeof v));return v}var Zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(Zs)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Ls=!1}var qs=null,Ps=null,Po=null;function Do(){if(Po)return Po;var d,f=Ps,v=f.length,x,D="value"in qs?qs.value:qs.textContent,G=D.length;for(d=0;d<v&&f[d]===D[d];d++);var de=v-d;for(x=1;x<=de&&f[v-x]===D[G-x];x++);return Po=D.slice(d,1<x?1-x:void 0)}function Ar(d){var f=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&f===13&&(d=13)):d=f,d===10&&(d=13),32<=d||d===13?d:0}function ys(){return!0}function Fo(){return!1}function ss(d){function f(v,x,D,G,de){this._reactName=v,this._targetInst=D,this.type=x,this.nativeEvent=G,this.target=de,this.currentTarget=null;for(var _e in d)d.hasOwnProperty(_e)&&(v=d[_e],this[_e]=v?v(G):G[_e]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?ys:Fo,this.isPropagationStopped=Fo,this}return u(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),f}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=ss(Dr),$o=u({},Dr,{view:0,detail:0}),Pd=ss($o),uc,or,al,Ns=u({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==al&&(al&&d.type==="mousemove"?(uc=d.screenX-al.screenX,or=d.screenY-al.screenY):or=uc=0,al=d),uc)},movementY:function(d){return"movementY"in d?d.movementY:or}}),Qs=ss(Ns),Iu=u({},Ns,{dataTransfer:0}),ph=ss(Iu),jl=u({},$o,{relatedTarget:0}),ll=ss(jl),Vc=u({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kl=ss(Vc),gh=u({},Dr,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),cl=ss(gh),mh=u({},Dr,{data:0}),ws=ss(mh),Yl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(d){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(d):(d=pa[d])?!!f[d]:!1}function ea(){return ul}var Mu=u({},$o,{key:function(d){if(d.key){var f=Yl[d.key]||d.key;if(f!=="Unidentified")return f}return d.type==="keypress"?(d=Ar(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?dc[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(d){return d.type==="keypress"?Ar(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Ar(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Ou=ss(Mu),Ji=u({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=ss(Ji),mo=u({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),hc=ss(mo),Hc=u({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hl=ss(Hc),os=u({},Ns,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),as=ss(os),zr=u({},Dr,{newState:0,oldState:0}),Io=ss(zr),Dd=[9,13,27,32],Js=Zs&&"CompositionEvent"in window,T=null;Zs&&"documentMode"in document&&(T=document.documentMode);var ee=Zs&&"TextEvent"in window&&!T,ae=Zs&&(!Js||T&&8<T&&11>=T),Re=" ",st=!1;function Ct(d,f){switch(d){case"keyup":return Dd.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zt(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var fr=!1;function Fr(d,f){switch(d){case"compositionend":return Zt(f);case"keypress":return f.which!==32?null:(st=!0,Re);case"textInput":return d=f.data,d===Re&&st?null:d;default:return null}}function Er(d,f){if(fr)return d==="compositionend"||!Js&&Ct(d,f)?(d=Do(),Po=Ps=qs=null,fr=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return ae&&f.locale!=="ko"?null:f.data;default:return null}}var Ir={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ai(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f==="input"?!!Ir[d.type]:f==="textarea"}function Na(d,f,v,x){ks?Qo?Qo.push(x):Qo=[x]:ks=x,f=Q1(f,"onChange"),0<f.length&&(v=new fa("onChange","change",null,v,x),d.push({event:v,listeners:f}))}var ri=null,ta=null;function Mo(d){R3(d,0)}function Lu(d){var f=Xe(d);if(zn(f))return d}function zc(d,f){if(d==="change")return f}var Fd=!1;if(Zs){var Ba;if(Zs){var fl="oninput"in document;if(!fl){var Oo=document.createElement("div");Oo.setAttribute("oninput","return;"),fl=typeof Oo.oninput=="function"}Ba=fl}else Ba=!1;Fd=Ba&&(!document.documentMode||9<document.documentMode)}function Va(){ri&&(ri.detachEvent("onpropertychange",Nu),ta=ri=null)}function Nu(d){if(d.propertyName==="value"&&Lu(ta)){var f=[];Na(f,ta,d,go(d)),Xs(Mo,f)}}function Bu(d,f,v){d==="focusin"?(Va(),ri=f,ta=v,ri.attachEvent("onpropertychange",Nu)):d==="focusout"&&Va()}function _f(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Lu(ta)}function na(d,f){if(d==="click")return Lu(f)}function Gc(d,f){if(d==="input"||d==="change")return Lu(f)}function Vu(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var $s=typeof Object.is=="function"?Object.is:Vu;function Lo(d,f){if($s(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var v=Object.keys(d),x=Object.keys(f);if(v.length!==x.length)return!1;for(x=0;x<v.length;x++){var D=v[x];if(!Se.call(f,D)||!$s(d[D],f[D]))return!1}return!0}function ga(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function A(d,f){var v=ga(d);d=0;for(var x;v;){if(v.nodeType===3){if(x=d+v.textContent.length,d<=f&&x>=f)return{node:v,offset:f-d};d=x}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=ga(v)}}function F(d,f){return d&&f?d===f?!0:d&&d.nodeType===3?!1:f&&f.nodeType===3?F(d,f.parentNode):"contains"in d?d.contains(f):d.compareDocumentPosition?!!(d.compareDocumentPosition(f)&16):!1:!1}function Y(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var f=Zr(d.document);f instanceof d.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)d=f.contentWindow;else break;f=Zr(d.document)}return f}function oe(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f&&(f==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||f==="textarea"||d.contentEditable==="true")}var ge=Zs&&"documentMode"in document&&11>=document.documentMode,Ae=null,Ue=null,St=null,ct=!1;function xt(d,f,v){var x=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;ct||Ae==null||Ae!==Zr(x)||(x=Ae,"selectionStart"in x&&oe(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),St&&Lo(St,x)||(St=x,x=Q1(Ue,"onSelect"),0<x.length&&(f=new fa("onSelect","select",null,f,v),d.push({event:f,listeners:x}),f.target=Ae)))}function Jt(d,f){var v={};return v[d.toLowerCase()]=f.toLowerCase(),v["Webkit"+d]="webkit"+f,v["Moz"+d]="moz"+f,v}var Kt={animationend:Jt("Animation","AnimationEnd"),animationiteration:Jt("Animation","AnimationIteration"),animationstart:Jt("Animation","AnimationStart"),transitionrun:Jt("Transition","TransitionRun"),transitionstart:Jt("Transition","TransitionStart"),transitioncancel:Jt("Transition","TransitionCancel"),transitionend:Jt("Transition","TransitionEnd")},yn={},An={};Zs&&(An=document.createElement("div").style,"AnimationEvent"in window||(delete Kt.animationend.animation,delete Kt.animationiteration.animation,delete Kt.animationstart.animation),"TransitionEvent"in window||delete Kt.transitionend.transition);function _n(d){if(yn[d])return yn[d];if(!Kt[d])return d;var f=Kt[d],v;for(v in f)if(f.hasOwnProperty(v)&&v in An)return yn[d]=f[v];return d}var Un=_n("animationend"),pr=_n("animationiteration"),Nr=_n("animationstart"),qr=_n("transitionrun"),ii=_n("transitionstart"),En=_n("transitioncancel"),ki=_n("transitionend"),gr=new Map,xi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xi.push("scrollEnd");function li(d,f){gr.set(d,f),Ot(f,[d])}var On=new WeakMap;function Gr(d,f){if(typeof d=="object"&&d!==null){var v=On.get(d);return v!==void 0?v:(f={value:d,source:f,stack:Hr(f)},On.set(d,f),f)}return{value:d,source:f,stack:Hr(f)}}var ls=[],Hi=0,Cs=0;function eo(){for(var d=Hi,f=Cs=Hi=0;f<d;){var v=ls[f];ls[f++]=null;var x=ls[f];ls[f++]=null;var D=ls[f];ls[f++]=null;var G=ls[f];if(ls[f++]=null,x!==null&&D!==null){var de=x.pending;de===null?D.next=D:(D.next=de.next,de.next=D),x.pending=D}G!==0&&ra(v,D,G)}}function $i(d,f,v,x){ls[Hi++]=d,ls[Hi++]=f,ls[Hi++]=v,ls[Hi++]=x,Cs|=x,d.lanes|=x,d=d.alternate,d!==null&&(d.lanes|=x)}function es(d,f,v,x){return $i(d,f,v,x),zi(d)}function ts(d,f){return $i(d,null,null,f),zi(d)}function ra(d,f,v){d.lanes|=v;var x=d.alternate;x!==null&&(x.lanes|=v);for(var D=!1,G=d.return;G!==null;)G.childLanes|=v,x=G.alternate,x!==null&&(x.childLanes|=v),G.tag===22&&(d=G.stateNode,d===null||d._visibility&1||(D=!0)),d=G,G=G.return;return d.tag===3?(G=d.stateNode,D&&f!==null&&(D=31-Gt(v),d=G.hiddenUpdates,x=d[D],x===null?d[D]=[f]:x.push(f),f.lane=v|536870912),G):null}function zi(d){if(50<RC)throw RC=0,Ik=null,Error(r(185));for(var f=d.return;f!==null;)d=f,f=d.return;return d.tag===3?d.stateNode:null}var ma={};function pl(d,f,v,x){this.tag=d,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(d,f,v,x){return new pl(d,f,v,x)}function gl(d){return d=d.prototype,!(!d||!d.isReactComponent)}function ia(d,f){var v=d.alternate;return v===null?(v=cs(d.tag,f,d.key,d.mode),v.elementType=d.elementType,v.type=d.type,v.stateNode=d.stateNode,v.alternate=d,d.alternate=v):(v.pendingProps=f,v.type=d.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=d.flags&65011712,v.childLanes=d.childLanes,v.lanes=d.lanes,v.child=d.child,v.memoizedProps=d.memoizedProps,v.memoizedState=d.memoizedState,v.updateQueue=d.updateQueue,f=d.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=d.sibling,v.index=d.index,v.ref=d.ref,v.refCleanup=d.refCleanup,v}function Hu(d,f){d.flags&=65011714;var v=d.alternate;return v===null?(d.childLanes=0,d.lanes=f,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=v.childLanes,d.lanes=v.lanes,d.child=v.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=v.memoizedProps,d.memoizedState=v.memoizedState,d.updateQueue=v.updateQueue,d.type=v.type,f=v.dependencies,d.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),d}function ml(d,f,v,x,D,G){var de=0;if(x=d,typeof d=="function")gl(d)&&(de=1);else if(typeof d=="string")de=Ose(d,v,ce.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case H:return d=cs(31,v,f,D),d.elementType=H,d.lanes=G,d;case y:return Ds(v.children,D,G,f);case w:de=8,D|=24;break;case b:return d=cs(12,v,f,D|2),d.elementType=b,d.lanes=G,d;case V:return d=cs(13,v,f,D),d.elementType=V,d.lanes=G,d;case M:return d=cs(19,v,f,D),d.elementType=M,d.lanes=G,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case S:case _:de=10;break e;case E:de=9;break e;case N:de=11;break e;case O:de=14;break e;case z:de=16,x=null;break e}de=29,v=Error(r(130,d===null?"null":typeof d,"")),x=null}return f=cs(de,v,f,D),f.elementType=d,f.type=x,f.lanes=G,f}function Ds(d,f,v,x){return d=cs(7,d,x,f),d.lanes=v,d}function vh(d,f,v){return d=cs(6,d,null,f),d.lanes=v,d}function fc(d,f,v){return f=cs(4,d.children!==null?d.children:[],d.key,f),f.lanes=v,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}var Xl=[],pc=0,g=null,C=0,k=[],j=0,ie=null,we=1,Oe="";function tt(d,f){Xl[pc++]=C,Xl[pc++]=g,g=d,C=f}function mt(d,f,v){k[j++]=we,k[j++]=Oe,k[j++]=ie,ie=d;var x=we;d=Oe;var D=32-Gt(x)-1;x&=~(1<<D),v+=1;var G=32-Gt(f)+D;if(30<G){var de=D-D%5;G=(x&(1<<de)-1).toString(32),x>>=de,D-=de,we=1<<32-Gt(f)+D|v<<D|x,Oe=G+d}else we=1<<G|v<<D|x,Oe=d}function Nt(d){d.return!==null&&(tt(d,1),mt(d,1,0))}function en(d){for(;d===g;)g=Xl[--pc],Xl[pc]=null,C=Xl[--pc],Xl[pc]=null;for(;d===ie;)ie=k[--j],k[j]=null,Oe=k[--j],k[j]=null,we=k[--j],k[j]=null}var hn=null,un=null,Vn=!1,Yr=null,Qr=!1,Tr=Error(r(519));function vo(d){var f=Error(r(418,""));throw sa(Gr(f,d)),Tr}function va(d){var f=d.stateNode,v=d.type,x=d.memoizedProps;switch(f[Pt]=d,f[Dt]=x,v){case"dialog":Vr("cancel",f),Vr("close",f);break;case"iframe":case"object":case"embed":Vr("load",f);break;case"video":case"audio":for(v=0;v<kC.length;v++)Vr(kC[v],f);break;case"source":Vr("error",f);break;case"img":case"image":case"link":Vr("error",f),Vr("load",f);break;case"details":Vr("toggle",f);break;case"input":Vr("invalid",f),ko(f,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),uo(f);break;case"select":Vr("invalid",f);break;case"textarea":Vr("invalid",f),Ks(f,x.value,x.defaultValue,x.children),uo(f)}v=x.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||f.textContent===""+v||x.suppressHydrationWarning===!0||D3(f.textContent,v)?(x.popover!=null&&(Vr("beforetoggle",f),Vr("toggle",f)),x.onScroll!=null&&Vr("scroll",f),x.onScrollEnd!=null&&Vr("scrollend",f),x.onClick!=null&&(f.onclick=J1),f=!0):f=!1,f||vo(d)}function Uc(d){for(hn=d.return;hn;)switch(hn.tag){case 5:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:hn=hn.return}}function Zl(d){if(d!==hn)return!1;if(!Vn)return Uc(d),Vn=!0,!1;var f=d.tag,v;if((v=f!==3&&f!==27)&&((v=f===5)&&(v=d.type,v=!(v!=="form"&&v!=="button")||Zk(d.type,d.memoizedProps)),v=!v),v&&un&&vo(d),Uc(d),f===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,f=0;d;){if(d.nodeType===8)if(v=d.data,v==="/$"){if(f===0){un=Kd(d.nextSibling);break e}f--}else v!=="$"&&v!=="$!"&&v!=="$?"||f++;d=d.nextSibling}un=null}}else f===27?(f=un,zp(d.type)?(d=$k,$k=null,un=d):un=f):un=hn?Kd(d.stateNode.nextSibling):null;return!0}function ya(){un=hn=null,Vn=!1}function Ha(){var d=Yr;return d!==null&&(Cc===null?Cc=d:Cc.push.apply(Cc,d),Yr=null),d}function sa(d){Yr===null?Yr=[d]:Yr.push(d)}var dr=re(null),Fs=null,za=null;function vl(d,f,v){J(dr,f._currentValue),f._currentValue=v}function No(d){d._currentValue=dr.current,te(dr)}function Wc(d,f,v){for(;d!==null;){var x=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,x!==null&&(x.childLanes|=f)):x!==null&&(x.childLanes&f)!==f&&(x.childLanes|=f),d===v)break;d=d.return}}function Gi(d,f,v,x){var D=d.child;for(D!==null&&(D.return=d);D!==null;){var G=D.dependencies;if(G!==null){var de=D.child;G=G.firstContext;e:for(;G!==null;){var _e=G;G=D;for(var He=0;He<f.length;He++)if(_e.context===f[He]){G.lanes|=v,_e=G.alternate,_e!==null&&(_e.lanes|=v),Wc(G.return,v,d),x||(de=null);break e}G=_e.next}}else if(D.tag===18){if(de=D.return,de===null)throw Error(r(341));de.lanes|=v,G=de.alternate,G!==null&&(G.lanes|=v),Wc(de,v,d),de=null}else de=D.child;if(de!==null)de.return=D;else for(de=D;de!==null;){if(de===d){de=null;break}if(D=de.sibling,D!==null){D.return=de.return,de=D;break}de=de.return}D=de}}function yl(d,f,v,x){d=null;for(var D=f,G=!1;D!==null;){if(!G){if((D.flags&524288)!==0)G=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var de=D.alternate;if(de===null)throw Error(r(387));if(de=de.memoizedProps,de!==null){var _e=D.type;$s(D.pendingProps.value,de.value)||(d!==null?d.push(_e):d=[_e])}}else if(D===at.current){if(de=D.alternate,de===null)throw Error(r(387));de.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(d!==null?d.push(OC):d=[OC])}D=D.return}d!==null&&Gi(f,d,v,x),f.flags|=262144}function gc(d){for(d=d.firstContext;d!==null;){if(!$s(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function wa(d){Fs=d,za=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Is(d){return Ca(Fs,d)}function zu(d,f){return Fs===null&&wa(d),Ca(d,f)}function Ca(d,f){var v=f._currentValue;if(f={context:f,memoizedValue:v,next:null},za===null){if(d===null)throw Error(r(308));za=f,d.dependencies={lanes:0,firstContext:f},d.flags|=524288}else za=za.next=f;return v}var fv=typeof AbortController<"u"?AbortController:function(){var d=[],f=this.signal={aborted:!1,addEventListener:function(v,x){d.push(x)}};this.abort=function(){f.aborted=!0,d.forEach(function(v){return v()})}},Id=e.unstable_scheduleCallback,om=e.unstable_NormalPriority,Ui={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gu(){return{controller:new fv,data:new Map,refCount:0}}function jc(d){d.refCount--,d.refCount===0&&Id(om,function(){d.controller.abort()})}var wl=null,Md=0,Kc=0,Yc=null;function Ef(d,f){if(wl===null){var v=wl=[];Md=0,Kc=Hk(),Yc={status:"pending",value:void 0,then:function(x){v.push(x)}}}return Md++,f.then(Cl,Cl),f}function Cl(){if(--Md===0&&wl!==null){Yc!==null&&(Yc.status="fulfilled");var d=wl;wl=null,Kc=0,Yc=null;for(var f=0;f<d.length;f++)(0,d[f])()}}function Xc(d,f){var v=[],x={status:"pending",value:null,reason:null,then:function(D){v.push(D)}};return d.then(function(){x.status="fulfilled",x.value=f;for(var D=0;D<v.length;D++)(0,v[D])(f)},function(D){for(x.status="rejected",x.reason=D,D=0;D<v.length;D++)(0,v[D])(void 0)}),x}var Od=se.S;se.S=function(d,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Ef(d,f),Od!==null&&Od(d,f)};var Ga=re(null);function Ld(){var d=Ga.current;return d!==null?d:hs.pooledCache}function Zc(d,f){f===null?J(Ga,Ga.current):J(Ga,f.pool)}function yh(){var d=Ld();return d===null?null:{parent:Ui._currentValue,pool:d}}var bl=Error(r(460)),qc=Error(r(474)),mc=Error(r(542)),Qc={then:function(){}};function wh(d){return d=d.status,d==="fulfilled"||d==="rejected"}function R(){}function P(d,f,v){switch(v=d[v],v===void 0?d.push(f):v!==f&&(f.then(R,R),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,pe(d),d;default:if(typeof f.status=="string")f.then(R,R);else{if(d=hs,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=f,d.status="pending",d.then(function(x){if(f.status==="pending"){var D=f;D.status="fulfilled",D.value=x}},function(x){if(f.status==="pending"){var D=f;D.status="rejected",D.reason=x}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,pe(d),d}throw K=f,bl}}var K=null;function le(){if(K===null)throw Error(r(459));var d=K;return K=null,d}function pe(d){if(d===bl||d===mc)throw Error(r(483))}var ke=!1;function ze(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ft(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function We(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function ot(d,f,v){var x=d.updateQueue;if(x===null)return null;if(x=x.shared,(Fi&2)!==0){var D=x.pending;return D===null?f.next=f:(f.next=D.next,D.next=f),x.pending=f,f=zi(d),ra(d,null,v),f}return $i(d,x,f,v),zi(d)}function Yt(d,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194048)!==0)){var x=f.lanes;x&=d.pendingLanes,v|=x,f.lanes=v,da(d,v)}}function kt(d,f){var v=d.updateQueue,x=d.alternate;if(x!==null&&(x=x.updateQueue,v===x)){var D=null,G=null;if(v=v.firstBaseUpdate,v!==null){do{var de={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};G===null?D=G=de:G=G.next=de,v=v.next}while(v!==null);G===null?D=G=f:G=G.next=f}else D=G=f;v={baseState:x.baseState,firstBaseUpdate:D,lastBaseUpdate:G,shared:x.shared,callbacks:x.callbacks},d.updateQueue=v;return}d=v.lastBaseUpdate,d===null?v.firstBaseUpdate=f:d.next=f,v.lastBaseUpdate=f}var gn=!1;function wn(){if(gn){var d=Yc;if(d!==null)throw d}}function kn(d,f,v,x){gn=!1;var D=d.updateQueue;ke=!1;var G=D.firstBaseUpdate,de=D.lastBaseUpdate,_e=D.shared.pending;if(_e!==null){D.shared.pending=null;var He=_e,pt=He.next;He.next=null,de===null?G=pt:de.next=pt,de=He;var Ft=d.alternate;Ft!==null&&(Ft=Ft.updateQueue,_e=Ft.lastBaseUpdate,_e!==de&&(_e===null?Ft.firstBaseUpdate=pt:_e.next=pt,Ft.lastBaseUpdate=He))}if(G!==null){var Bt=D.baseState;de=0,Ft=pt=He=null,_e=G;do{var wt=_e.lane&-536870913,bt=wt!==_e.lane;if(bt?(Jr&wt)===wt:(x&wt)===wt){wt!==0&&wt===Kc&&(gn=!0),Ft!==null&&(Ft=Ft.next={lane:0,tag:_e.tag,payload:_e.payload,callback:null,next:null});e:{var er=d,jn=_e;wt=f;var Ki=v;switch(jn.tag){case 1:if(er=jn.payload,typeof er=="function"){Bt=er.call(Ki,Bt,wt);break e}Bt=er;break e;case 3:er.flags=er.flags&-65537|128;case 0:if(er=jn.payload,wt=typeof er=="function"?er.call(Ki,Bt,wt):er,wt==null)break e;Bt=u({},Bt,wt);break e;case 2:ke=!0}}wt=_e.callback,wt!==null&&(d.flags|=64,bt&&(d.flags|=8192),bt=D.callbacks,bt===null?D.callbacks=[wt]:bt.push(wt))}else bt={lane:wt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},Ft===null?(pt=Ft=bt,He=Bt):Ft=Ft.next=bt,de|=wt;if(_e=_e.next,_e===null){if(_e=D.shared.pending,_e===null)break;bt=_e,_e=bt.next,bt.next=null,D.lastBaseUpdate=bt,D.shared.pending=null}}while(!0);Ft===null&&(He=Bt),D.baseState=He,D.firstBaseUpdate=pt,D.lastBaseUpdate=Ft,G===null&&(D.shared.lanes=0),Np|=de,d.lanes=de,d.memoizedState=Bt}}function Zn(d,f){if(typeof d!="function")throw Error(r(191,d));d.call(f)}function gi(d,f){var v=d.callbacks;if(v!==null)for(d.callbacks=null,d=0;d<v.length;d++)Zn(v[d],f)}var Pi=re(null),Cr=re(0);function yo(d,f){d=Mf,J(Cr,d),J(Pi,f),Mf=d|f.baseLanes}function ns(){J(Cr,Mf),J(Pi,Pi.current)}function Bo(){Mf=Cr.current,te(Pi),te(Cr)}var Wi=0,Wn=null,mr=null,yr=null,us=!1,mi=!1,ds=!1,Jc=0,xl=0,Ua=null,Ch=0;function Di(){throw Error(r(321))}function pv(d,f){if(f===null)return!1;for(var v=0;v<f.length&&v<d.length;v++)if(!$s(d[v],f[v]))return!1;return!0}function gv(d,f,v,x,D,G){return Wi=G,Wn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,se.H=d===null||d.memoizedState===null?kf:mC,ds=!1,G=v(x,D),ds=!1,mi&&(G=nC(f,v,x,D)),tC(d),G}function tC(d){se.H=Sm;var f=mr!==null&&mr.next!==null;if(Wi=0,yr=mr=Wn=null,us=!1,xl=0,Ua=null,f)throw Error(r(300));d===null||ba||(d=d.dependencies,d!==null&&gc(d)&&(ba=!0))}function nC(d,f,v,x){Wn=d;var D=0;do{if(mi&&(Ua=null),xl=0,mi=!1,25<=D)throw Error(r(301));if(D+=1,yr=mr=null,d.updateQueue!=null){var G=d.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}se.H=Tv,G=f(v,x)}while(mi);return G}function rC(){var d=se.H,f=d.useState()[0];return f=typeof f.then=="function"?Nd(f):f,d=d.useState()[0],(mr!==null?mr.memoizedState:null)!==d&&(Wn.flags|=1024),f}function am(){var d=Jc!==0;return Jc=0,d}function lm(d,f,v){f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~v}function cm(d){if(us){for(d=d.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}us=!1}Wi=0,yr=mr=Wn=null,mi=!1,xl=Jc=0,Ua=null}function Vo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Wn.memoizedState=yr=d:yr=yr.next=d,yr}function ci(){if(mr===null){var d=Wn.alternate;d=d!==null?d.memoizedState:null}else d=mr.next;var f=yr===null?Wn.memoizedState:yr.next;if(f!==null)yr=f,mr=d;else{if(d===null)throw Wn.alternate===null?Error(r(467)):Error(r(310));mr=d,d={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},yr===null?Wn.memoizedState=yr=d:yr=yr.next=d}return yr}function mv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nd(d){var f=xl;return xl+=1,Ua===null&&(Ua=[]),d=P(Ua,d,f),f=Wn,(yr===null?f.memoizedState:yr.next)===null&&(f=f.alternate,se.H=f===null||f.memoizedState===null?kf:mC),d}function um(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Nd(d);if(d.$$typeof===_)return Is(d)}throw Error(r(438,String(d)))}function vv(d){var f=null,v=Wn.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var x=Wn.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(f={data:x.data.map(function(D){return D.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=mv(),Wn.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(d),x=0;x<d;x++)v[x]=X;return f.index++,v}function Uu(d,f){return typeof f=="function"?f(d):f}function dm(d){var f=ci();return yv(f,mr,d)}function yv(d,f,v){var x=d.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=v;var D=d.baseQueue,G=x.pending;if(G!==null){if(D!==null){var de=D.next;D.next=G.next,G.next=de}f.baseQueue=D=G,x.pending=null}if(G=d.baseState,D===null)d.memoizedState=G;else{f=D.next;var _e=de=null,He=null,pt=f,Ft=!1;do{var Bt=pt.lane&-536870913;if(Bt!==pt.lane?(Jr&Bt)===Bt:(Wi&Bt)===Bt){var wt=pt.revertLane;if(wt===0)He!==null&&(He=He.next={lane:0,revertLane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),Bt===Kc&&(Ft=!0);else if((Wi&wt)===wt){pt=pt.next,wt===Kc&&(Ft=!0);continue}else Bt={lane:0,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},He===null?(_e=He=Bt,de=G):He=He.next=Bt,Wn.lanes|=wt,Np|=wt;Bt=pt.action,ds&&v(G,Bt),G=pt.hasEagerState?pt.eagerState:v(G,Bt)}else wt={lane:Bt,revertLane:pt.revertLane,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null},He===null?(_e=He=wt,de=G):He=He.next=wt,Wn.lanes|=Bt,Np|=Bt;pt=pt.next}while(pt!==null&&pt!==f);if(He===null?de=G:He.next=_e,!$s(G,d.memoizedState)&&(ba=!0,Ft&&(v=Yc,v!==null)))throw v;d.memoizedState=G,d.baseState=de,d.baseQueue=He,x.lastRenderedState=G}return D===null&&(x.lanes=0),[d.memoizedState,x.dispatch]}function wv(d){var f=ci(),v=f.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=d;var x=v.dispatch,D=v.pending,G=f.memoizedState;if(D!==null){v.pending=null;var de=D=D.next;do G=d(G,de.action),de=de.next;while(de!==D);$s(G,f.memoizedState)||(ba=!0),f.memoizedState=G,f.baseQueue===null&&(f.baseState=G),v.lastRenderedState=G}return[G,x]}function xp(d,f,v){var x=Wn,D=ci(),G=Vn;if(G){if(v===void 0)throw Error(r(407));v=v()}else v=f();var de=!$s((mr||D).memoizedState,v);de&&(D.memoizedState=v,ba=!0),D=D.queue;var _e=sC.bind(null,x,D,d);if(Tf(2048,8,_e,[d]),D.getSnapshot!==f||de||yr!==null&&yr.memoizedState.tag&1){if(x.flags|=2048,ju(9,xh(),iC.bind(null,x,D,v,f),null),hs===null)throw Error(r(349));G||(Wi&124)!==0||Wu(x,f,v)}return v}function Wu(d,f,v){d.flags|=16384,d={getSnapshot:f,value:v},f=Wn.updateQueue,f===null?(f=mv(),Wn.updateQueue=f,f.stores=[d]):(v=f.stores,v===null?f.stores=[d]:v.push(d))}function iC(d,f,v,x){f.value=v,f.getSnapshot=x,Sp(f)&&oC(d)}function sC(d,f,v){return v(function(){Sp(f)&&oC(d)})}function Sp(d){var f=d.getSnapshot;d=d.value;try{var v=f();return!$s(d,v)}catch{return!0}}function oC(d){var f=ts(d,2);f!==null&&su(f,d,2)}function Bd(d){var f=Vo();if(typeof d=="function"){var v=d;if(d=v(),ds){yt(!0);try{v()}finally{yt(!1)}}}return f.memoizedState=f.baseState=d,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:d},f}function _p(d,f,v,x){return d.baseState=v,yv(d,mr,typeof x=="function"?x:Uu)}function hm(d,f,v,x,D){if(Sh(d))throw Error(r(485));if(d=f.action,d!==null){var G={payload:D,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){G.listeners.push(de)}};se.T!==null?v(!0):G.isTransition=!1,x(G),v=f.pending,v===null?(G.next=f.pending=G,Ep(f,G)):(G.next=v.next,f.pending=v.next=G)}}function Ep(d,f){var v=f.action,x=f.payload,D=d.state;if(f.isTransition){var G=se.T,de={};se.T=de;try{var _e=v(D,x),He=se.S;He!==null&&He(de,_e),Tp(d,f,_e)}catch(pt){fm(d,f,pt)}finally{se.T=G}}else try{G=v(D,x),Tp(d,f,G)}catch(pt){fm(d,f,pt)}}function Tp(d,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(x){Vd(d,f,x)},function(x){return fm(d,f,x)}):Vd(d,f,v)}function Vd(d,f,v){f.status="fulfilled",f.value=v,Cv(f),d.state=v,f=d.pending,f!==null&&(v=f.next,v===f?d.pending=null:(v=v.next,f.next=v,Ep(d,v)))}function fm(d,f,v){var x=d.pending;if(d.pending=null,x!==null){x=x.next;do f.status="rejected",f.reason=v,Cv(f),f=f.next;while(f!==x)}d.action=null}function Cv(d){d=d.listeners;for(var f=0;f<d.length;f++)(0,d[f])()}function bh(d,f){return f}function aC(d,f){if(Vn){var v=hs.formState;if(v!==null){e:{var x=Wn;if(Vn){if(un){t:{for(var D=un,G=Qr;D.nodeType!==8;){if(!G){D=null;break t}if(D=Kd(D.nextSibling),D===null){D=null;break t}}G=D.data,D=G==="F!"||G==="F"?D:null}if(D){un=Kd(D.nextSibling),x=D.data==="F!";break e}}vo(x)}x=!1}x&&(f=v[0])}}return v=Vo(),v.memoizedState=v.baseState=f,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bh,lastRenderedState:f},v.queue=x,v=pC.bind(null,Wn,x),x.dispatch=v,x=Bd(!1),G=Pp.bind(null,Wn,!1,x.queue),x=Vo(),D={state:f,dispatch:null,action:d,pending:null},x.queue=D,v=hm.bind(null,Wn,D,G,v),D.dispatch=v,x.memoizedState=d,[f,v,!1]}function pm(d){var f=ci();return lC(f,mr,d)}function lC(d,f,v){if(f=yv(d,f,bh)[0],d=dm(Uu)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var x=Nd(f)}catch(de){throw de===bl?mc:de}else x=f;f=ci();var D=f.queue,G=D.dispatch;return v!==f.memoizedState&&(Wn.flags|=2048,ju(9,xh(),gm.bind(null,D,v),null)),[x,G,d]}function gm(d,f){d.action=f}function cC(d){var f=ci(),v=mr;if(v!==null)return lC(f,v,d);ci(),f=f.memoizedState,v=ci();var x=v.queue.dispatch;return v.memoizedState=d,[f,x,!1]}function ju(d,f,v,x){return d={tag:d,create:v,deps:x,inst:f,next:null},f=Wn.updateQueue,f===null&&(f=mv(),Wn.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=d.next=d:(x=v.next,v.next=d,d.next=x,f.lastEffect=d),d}function xh(){return{destroy:void 0,resource:void 0}}function uC(){return ci().memoizedState}function mm(d,f,v,x){var D=Vo();x=x===void 0?null:x,Wn.flags|=d,D.memoizedState=ju(1|f,xh(),v,x)}function Tf(d,f,v,x){var D=ci();x=x===void 0?null:x;var G=D.memoizedState.inst;mr!==null&&x!==null&&pv(x,mr.memoizedState.deps)?D.memoizedState=ju(f,G,v,x):(Wn.flags|=d,D.memoizedState=ju(1|f,G,v,x))}function N1(d,f){mm(8390656,8,d,f)}function Hd(d,f){Tf(2048,8,d,f)}function vm(d,f){return Tf(4,2,d,f)}function Rp(d,f){return Tf(4,4,d,f)}function Rf(d,f){if(typeof f=="function"){d=d();var v=f(d);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function ym(d,f,v){v=v!=null?v.concat([d]):null,Tf(4,4,Rf.bind(null,f,d),v)}function Ap(){}function bv(d,f){var v=ci();f=f===void 0?null:f;var x=v.memoizedState;return f!==null&&pv(f,x[1])?x[0]:(v.memoizedState=[d,f],d)}function dC(d,f){var v=ci();f=f===void 0?null:f;var x=v.memoizedState;if(f!==null&&pv(f,x[1]))return x[0];if(x=d(),ds){yt(!0);try{d()}finally{yt(!1)}}return v.memoizedState=[x,f],x}function wm(d,f,v){return v===void 0||(Wi&1073741824)!==0?d.memoizedState=f:(d.memoizedState=v,d=i3(),Wn.lanes|=d,Np|=d,v)}function hC(d,f,v,x){return $s(v,f)?v:Pi.current!==null?(d=wm(d,v,x),$s(d,f)||(ba=!0),d):(Wi&42)===0?(ba=!0,d.memoizedState=v):(d=i3(),Wn.lanes|=d,Np|=d,f)}function Cm(d,f,v,x,D){var G=ue.p;ue.p=G!==0&&8>G?G:8;var de=se.T,_e={};se.T=_e,Pp(d,!1,f,v);try{var He=D(),pt=se.S;if(pt!==null&&pt(_e,He),He!==null&&typeof He=="object"&&typeof He.then=="function"){var Ft=Xc(He,x);zd(d,f,Ft,iu(d))}else zd(d,f,x,iu(d))}catch(Bt){zd(d,f,{then:function(){},status:"rejected",reason:Bt},iu())}finally{ue.p=G,se.T=de}}function xv(){}function Sv(d,f,v,x){if(d.tag!==5)throw Error(r(476));var D=bm(d).queue;Cm(d,D,f,Pe,v===null?xv:function(){return _v(d),v(x)})}function bm(d){var f=d.memoizedState;if(f!==null)return f;f={memoizedState:Pe,baseState:Pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:Pe},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:v},next:null},d.memoizedState=f,d=d.alternate,d!==null&&(d.memoizedState=f),f}function _v(d){var f=bm(d).next.queue;zd(d,f,{},iu())}function Ev(){return Is(OC)}function fC(){return ci().memoizedState}function xm(){return ci().memoizedState}function Af(d){for(var f=d.return;f!==null;){switch(f.tag){case 24:case 3:var v=iu();d=We(v);var x=ot(f,d,v);x!==null&&(su(x,f,v),Yt(x,f,v)),f={cache:Gu()},d.payload=f;return}f=f.return}}function kp(d,f,v){var x=iu();v={lane:x,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},Sh(d)?gC(f,v):(v=es(d,f,v,x),v!==null&&(su(v,d,x),_h(v,f,x)))}function pC(d,f,v){var x=iu();zd(d,f,v,x)}function zd(d,f,v,x){var D={lane:x,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(Sh(d))gC(f,D);else{var G=d.alternate;if(d.lanes===0&&(G===null||G.lanes===0)&&(G=f.lastRenderedReducer,G!==null))try{var de=f.lastRenderedState,_e=G(de,v);if(D.hasEagerState=!0,D.eagerState=_e,$s(_e,de))return $i(d,f,D,0),hs===null&&eo(),!1}catch{}finally{}if(v=es(d,f,D,x),v!==null)return su(v,d,x),_h(v,f,x),!0}return!1}function Pp(d,f,v,x){if(x={lane:2,revertLane:Hk(),action:x,hasEagerState:!1,eagerState:null,next:null},Sh(d)){if(f)throw Error(r(479))}else f=es(d,v,x,2),f!==null&&su(f,d,2)}function Sh(d){var f=d.alternate;return d===Wn||f!==null&&f===Wn}function gC(d,f){mi=us=!0;var v=d.pending;v===null?f.next=f:(f.next=v.next,v.next=f),d.pending=f}function _h(d,f,v){if((v&4194048)!==0){var x=f.lanes;x&=d.pendingLanes,v|=x,f.lanes=v,da(d,v)}}var Sm={readContext:Is,use:um,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useLayoutEffect:Di,useInsertionEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useSyncExternalStore:Di,useId:Di,useHostTransitionStatus:Di,useFormState:Di,useActionState:Di,useOptimistic:Di,useMemoCache:Di,useCacheRefresh:Di},kf={readContext:Is,use:um,useCallback:function(d,f){return Vo().memoizedState=[d,f===void 0?null:f],d},useContext:Is,useEffect:N1,useImperativeHandle:function(d,f,v){v=v!=null?v.concat([d]):null,mm(4194308,4,Rf.bind(null,f,d),v)},useLayoutEffect:function(d,f){return mm(4194308,4,d,f)},useInsertionEffect:function(d,f){mm(4,2,d,f)},useMemo:function(d,f){var v=Vo();f=f===void 0?null:f;var x=d();if(ds){yt(!0);try{d()}finally{yt(!1)}}return v.memoizedState=[x,f],x},useReducer:function(d,f,v){var x=Vo();if(v!==void 0){var D=v(f);if(ds){yt(!0);try{v(f)}finally{yt(!1)}}}else D=f;return x.memoizedState=x.baseState=D,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:D},x.queue=d,d=d.dispatch=kp.bind(null,Wn,d),[x.memoizedState,d]},useRef:function(d){var f=Vo();return d={current:d},f.memoizedState=d},useState:function(d){d=Bd(d);var f=d.queue,v=pC.bind(null,Wn,f);return f.dispatch=v,[d.memoizedState,v]},useDebugValue:Ap,useDeferredValue:function(d,f){var v=Vo();return wm(v,d,f)},useTransition:function(){var d=Bd(!1);return d=Cm.bind(null,Wn,d.queue,!0,!1),Vo().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,f,v){var x=Wn,D=Vo();if(Vn){if(v===void 0)throw Error(r(407));v=v()}else{if(v=f(),hs===null)throw Error(r(349));(Jr&124)!==0||Wu(x,f,v)}D.memoizedState=v;var G={value:v,getSnapshot:f};return D.queue=G,N1(sC.bind(null,x,G,d),[d]),x.flags|=2048,ju(9,xh(),iC.bind(null,x,G,v,f),null),v},useId:function(){var d=Vo(),f=hs.identifierPrefix;if(Vn){var v=Oe,x=we;v=(x&~(1<<32-Gt(x)-1)).toString(32)+v,f=""+f+"R"+v,v=Jc++,0<v&&(f+="H"+v.toString(32)),f+=""}else v=Ch++,f=""+f+"r"+v.toString(32)+"";return d.memoizedState=f},useHostTransitionStatus:Ev,useFormState:aC,useActionState:aC,useOptimistic:function(d){var f=Vo();f.memoizedState=f.baseState=d;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=Pp.bind(null,Wn,!0,v),v.dispatch=f,[d,f]},useMemoCache:vv,useCacheRefresh:function(){return Vo().memoizedState=Af.bind(null,Wn)}},mC={readContext:Is,use:um,useCallback:bv,useContext:Is,useEffect:Hd,useImperativeHandle:ym,useInsertionEffect:vm,useLayoutEffect:Rp,useMemo:dC,useReducer:dm,useRef:uC,useState:function(){return dm(Uu)},useDebugValue:Ap,useDeferredValue:function(d,f){var v=ci();return hC(v,mr.memoizedState,d,f)},useTransition:function(){var d=dm(Uu)[0],f=ci().memoizedState;return[typeof d=="boolean"?d:Nd(d),f]},useSyncExternalStore:xp,useId:fC,useHostTransitionStatus:Ev,useFormState:pm,useActionState:pm,useOptimistic:function(d,f){var v=ci();return _p(v,mr,d,f)},useMemoCache:vv,useCacheRefresh:xm},Tv={readContext:Is,use:um,useCallback:bv,useContext:Is,useEffect:Hd,useImperativeHandle:ym,useInsertionEffect:vm,useLayoutEffect:Rp,useMemo:dC,useReducer:wv,useRef:uC,useState:function(){return wv(Uu)},useDebugValue:Ap,useDeferredValue:function(d,f){var v=ci();return mr===null?wm(v,d,f):hC(v,mr.memoizedState,d,f)},useTransition:function(){var d=wv(Uu)[0],f=ci().memoizedState;return[typeof d=="boolean"?d:Nd(d),f]},useSyncExternalStore:xp,useId:fC,useHostTransitionStatus:Ev,useFormState:cC,useActionState:cC,useOptimistic:function(d,f){var v=ci();return mr!==null?_p(v,mr,d,f):(v.baseState=d,[d,v.queue.dispatch])},useMemoCache:vv,useCacheRefresh:xm},Eh=null,Gd=0;function _m(d){var f=Gd;return Gd+=1,Eh===null&&(Eh=[]),P(Eh,d,f)}function Ud(d,f){f=f.props.ref,d.ref=f!==void 0?f:null}function Th(d,f){throw f.$$typeof===h?Error(r(525)):(d=Object.prototype.toString.call(f),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d)))}function Dp(d){var f=d._init;return f(d._payload)}function Em(d){function f(rt,Ze){if(d){var dt=rt.deletions;dt===null?(rt.deletions=[Ze],rt.flags|=16):dt.push(Ze)}}function v(rt,Ze){if(!d)return null;for(;Ze!==null;)f(rt,Ze),Ze=Ze.sibling;return null}function x(rt){for(var Ze=new Map;rt!==null;)rt.key!==null?Ze.set(rt.key,rt):Ze.set(rt.index,rt),rt=rt.sibling;return Ze}function D(rt,Ze){return rt=ia(rt,Ze),rt.index=0,rt.sibling=null,rt}function G(rt,Ze,dt){return rt.index=dt,d?(dt=rt.alternate,dt!==null?(dt=dt.index,dt<Ze?(rt.flags|=67108866,Ze):dt):(rt.flags|=67108866,Ze)):(rt.flags|=1048576,Ze)}function de(rt){return d&&rt.alternate===null&&(rt.flags|=67108866),rt}function _e(rt,Ze,dt,Lt){return Ze===null||Ze.tag!==6?(Ze=vh(dt,rt.mode,Lt),Ze.return=rt,Ze):(Ze=D(Ze,dt),Ze.return=rt,Ze)}function He(rt,Ze,dt,Lt){var Cn=dt.type;return Cn===y?Ft(rt,Ze,dt.props.children,Lt,dt.key):Ze!==null&&(Ze.elementType===Cn||typeof Cn=="object"&&Cn!==null&&Cn.$$typeof===z&&Dp(Cn)===Ze.type)?(Ze=D(Ze,dt.props),Ud(Ze,dt),Ze.return=rt,Ze):(Ze=ml(dt.type,dt.key,dt.props,null,rt.mode,Lt),Ud(Ze,dt),Ze.return=rt,Ze)}function pt(rt,Ze,dt,Lt){return Ze===null||Ze.tag!==4||Ze.stateNode.containerInfo!==dt.containerInfo||Ze.stateNode.implementation!==dt.implementation?(Ze=fc(dt,rt.mode,Lt),Ze.return=rt,Ze):(Ze=D(Ze,dt.children||[]),Ze.return=rt,Ze)}function Ft(rt,Ze,dt,Lt,Cn){return Ze===null||Ze.tag!==7?(Ze=Ds(dt,rt.mode,Lt,Cn),Ze.return=rt,Ze):(Ze=D(Ze,dt),Ze.return=rt,Ze)}function Bt(rt,Ze,dt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Ze=vh(""+Ze,rt.mode,dt),Ze.return=rt,Ze;if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case p:return dt=ml(Ze.type,Ze.key,Ze.props,null,rt.mode,dt),Ud(dt,Ze),dt.return=rt,dt;case m:return Ze=fc(Ze,rt.mode,dt),Ze.return=rt,Ze;case z:var Lt=Ze._init;return Ze=Lt(Ze._payload),Bt(rt,Ze,dt)}if(me(Ze)||U(Ze))return Ze=Ds(Ze,rt.mode,dt,null),Ze.return=rt,Ze;if(typeof Ze.then=="function")return Bt(rt,_m(Ze),dt);if(Ze.$$typeof===_)return Bt(rt,zu(rt,Ze),dt);Th(rt,Ze)}return null}function wt(rt,Ze,dt,Lt){var Cn=Ze!==null?Ze.key:null;if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return Cn!==null?null:_e(rt,Ze,""+dt,Lt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case p:return dt.key===Cn?He(rt,Ze,dt,Lt):null;case m:return dt.key===Cn?pt(rt,Ze,dt,Lt):null;case z:return Cn=dt._init,dt=Cn(dt._payload),wt(rt,Ze,dt,Lt)}if(me(dt)||U(dt))return Cn!==null?null:Ft(rt,Ze,dt,Lt,null);if(typeof dt.then=="function")return wt(rt,Ze,_m(dt),Lt);if(dt.$$typeof===_)return wt(rt,Ze,zu(rt,dt),Lt);Th(rt,dt)}return null}function bt(rt,Ze,dt,Lt,Cn){if(typeof Lt=="string"&&Lt!==""||typeof Lt=="number"||typeof Lt=="bigint")return rt=rt.get(dt)||null,_e(Ze,rt,""+Lt,Cn);if(typeof Lt=="object"&&Lt!==null){switch(Lt.$$typeof){case p:return rt=rt.get(Lt.key===null?dt:Lt.key)||null,He(Ze,rt,Lt,Cn);case m:return rt=rt.get(Lt.key===null?dt:Lt.key)||null,pt(Ze,rt,Lt,Cn);case z:var Mr=Lt._init;return Lt=Mr(Lt._payload),bt(rt,Ze,dt,Lt,Cn)}if(me(Lt)||U(Lt))return rt=rt.get(dt)||null,Ft(Ze,rt,Lt,Cn,null);if(typeof Lt.then=="function")return bt(rt,Ze,dt,_m(Lt),Cn);if(Lt.$$typeof===_)return bt(rt,Ze,dt,zu(Ze,Lt),Cn);Th(Ze,Lt)}return null}function er(rt,Ze,dt,Lt){for(var Cn=null,Mr=null,Dn=Ze,Yn=Ze=0,Sa=null;Dn!==null&&Yn<dt.length;Yn++){Dn.index>Yn?(Sa=Dn,Dn=null):Sa=Dn.sibling;var ui=wt(rt,Dn,dt[Yn],Lt);if(ui===null){Dn===null&&(Dn=Sa);break}d&&Dn&&ui.alternate===null&&f(rt,Dn),Ze=G(ui,Ze,Yn),Mr===null?Cn=ui:Mr.sibling=ui,Mr=ui,Dn=Sa}if(Yn===dt.length)return v(rt,Dn),Vn&&tt(rt,Yn),Cn;if(Dn===null){for(;Yn<dt.length;Yn++)Dn=Bt(rt,dt[Yn],Lt),Dn!==null&&(Ze=G(Dn,Ze,Yn),Mr===null?Cn=Dn:Mr.sibling=Dn,Mr=Dn);return Vn&&tt(rt,Yn),Cn}for(Dn=x(Dn);Yn<dt.length;Yn++)Sa=bt(Dn,rt,Yn,dt[Yn],Lt),Sa!==null&&(d&&Sa.alternate!==null&&Dn.delete(Sa.key===null?Yn:Sa.key),Ze=G(Sa,Ze,Yn),Mr===null?Cn=Sa:Mr.sibling=Sa,Mr=Sa);return d&&Dn.forEach(function(Kp){return f(rt,Kp)}),Vn&&tt(rt,Yn),Cn}function jn(rt,Ze,dt,Lt){if(dt==null)throw Error(r(151));for(var Cn=null,Mr=null,Dn=Ze,Yn=Ze=0,Sa=null,ui=dt.next();Dn!==null&&!ui.done;Yn++,ui=dt.next()){Dn.index>Yn?(Sa=Dn,Dn=null):Sa=Dn.sibling;var Kp=wt(rt,Dn,ui.value,Lt);if(Kp===null){Dn===null&&(Dn=Sa);break}d&&Dn&&Kp.alternate===null&&f(rt,Dn),Ze=G(Kp,Ze,Yn),Mr===null?Cn=Kp:Mr.sibling=Kp,Mr=Kp,Dn=Sa}if(ui.done)return v(rt,Dn),Vn&&tt(rt,Yn),Cn;if(Dn===null){for(;!ui.done;Yn++,ui=dt.next())ui=Bt(rt,ui.value,Lt),ui!==null&&(Ze=G(ui,Ze,Yn),Mr===null?Cn=ui:Mr.sibling=ui,Mr=ui);return Vn&&tt(rt,Yn),Cn}for(Dn=x(Dn);!ui.done;Yn++,ui=dt.next())ui=bt(Dn,rt,Yn,ui.value,Lt),ui!==null&&(d&&ui.alternate!==null&&Dn.delete(ui.key===null?Yn:ui.key),Ze=G(ui,Ze,Yn),Mr===null?Cn=ui:Mr.sibling=ui,Mr=ui);return d&&Dn.forEach(function(Yse){return f(rt,Yse)}),Vn&&tt(rt,Yn),Cn}function Ki(rt,Ze,dt,Lt){if(typeof dt=="object"&&dt!==null&&dt.type===y&&dt.key===null&&(dt=dt.props.children),typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case p:e:{for(var Cn=dt.key;Ze!==null;){if(Ze.key===Cn){if(Cn=dt.type,Cn===y){if(Ze.tag===7){v(rt,Ze.sibling),Lt=D(Ze,dt.props.children),Lt.return=rt,rt=Lt;break e}}else if(Ze.elementType===Cn||typeof Cn=="object"&&Cn!==null&&Cn.$$typeof===z&&Dp(Cn)===Ze.type){v(rt,Ze.sibling),Lt=D(Ze,dt.props),Ud(Lt,dt),Lt.return=rt,rt=Lt;break e}v(rt,Ze);break}else f(rt,Ze);Ze=Ze.sibling}dt.type===y?(Lt=Ds(dt.props.children,rt.mode,Lt,dt.key),Lt.return=rt,rt=Lt):(Lt=ml(dt.type,dt.key,dt.props,null,rt.mode,Lt),Ud(Lt,dt),Lt.return=rt,rt=Lt)}return de(rt);case m:e:{for(Cn=dt.key;Ze!==null;){if(Ze.key===Cn)if(Ze.tag===4&&Ze.stateNode.containerInfo===dt.containerInfo&&Ze.stateNode.implementation===dt.implementation){v(rt,Ze.sibling),Lt=D(Ze,dt.children||[]),Lt.return=rt,rt=Lt;break e}else{v(rt,Ze);break}else f(rt,Ze);Ze=Ze.sibling}Lt=fc(dt,rt.mode,Lt),Lt.return=rt,rt=Lt}return de(rt);case z:return Cn=dt._init,dt=Cn(dt._payload),Ki(rt,Ze,dt,Lt)}if(me(dt))return er(rt,Ze,dt,Lt);if(U(dt)){if(Cn=U(dt),typeof Cn!="function")throw Error(r(150));return dt=Cn.call(dt),jn(rt,Ze,dt,Lt)}if(typeof dt.then=="function")return Ki(rt,Ze,_m(dt),Lt);if(dt.$$typeof===_)return Ki(rt,Ze,zu(rt,dt),Lt);Th(rt,dt)}return typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint"?(dt=""+dt,Ze!==null&&Ze.tag===6?(v(rt,Ze.sibling),Lt=D(Ze,dt),Lt.return=rt,rt=Lt):(v(rt,Ze),Lt=vh(dt,rt.mode,Lt),Lt.return=rt,rt=Lt),de(rt)):v(rt,Ze)}return function(rt,Ze,dt,Lt){try{Gd=0;var Cn=Ki(rt,Ze,dt,Lt);return Eh=null,Cn}catch(Dn){if(Dn===bl||Dn===mc)throw Dn;var Mr=cs(29,Dn,null,rt.mode);return Mr.lanes=Lt,Mr.return=rt,Mr}finally{}}}var vc=Em(!0),oa=Em(!1),Si=re(null),$c=null;function ql(d){var f=d.alternate;J(to,to.current&1),J(Si,d),$c===null&&(f===null||Pi.current!==null||f.memoizedState!==null)&&($c=d)}function Rv(d){if(d.tag===22){if(J(to,to.current),J(Si,d),$c===null){var f=d.alternate;f!==null&&f.memoizedState!==null&&($c=d)}}else Sl()}function Sl(){J(to,to.current),J(Si,Si.current)}function eu(d){te(Si),$c===d&&($c=null),te(to)}var to=re(0);function Ku(d){for(var f=d;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||Jk(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Tm(d,f,v,x){f=d.memoizedState,v=v(x,f),v=v==null?f:u({},f,v),d.memoizedState=v,d.lanes===0&&(d.updateQueue.baseState=v)}var Rm={enqueueSetState:function(d,f,v){d=d._reactInternals;var x=iu(),D=We(x);D.payload=f,v!=null&&(D.callback=v),f=ot(d,D,x),f!==null&&(su(f,d,x),Yt(f,d,x))},enqueueReplaceState:function(d,f,v){d=d._reactInternals;var x=iu(),D=We(x);D.tag=1,D.payload=f,v!=null&&(D.callback=v),f=ot(d,D,x),f!==null&&(su(f,d,x),Yt(f,d,x))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var v=iu(),x=We(v);x.tag=2,f!=null&&(x.callback=f),f=ot(d,x,v),f!==null&&(su(f,d,v),Yt(f,d,v))}};function vC(d,f,v,x,D,G,de){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(x,G,de):f.prototype&&f.prototype.isPureReactComponent?!Lo(v,x)||!Lo(D,G):!0}function Av(d,f,v,x){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,x),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,x),f.state!==d&&Rm.enqueueReplaceState(f,f.state,null)}function Rh(d,f){var v=f;if("ref"in f){v={};for(var x in f)x!=="ref"&&(v[x]=f[x])}if(d=d.defaultProps){v===f&&(v=u({},v));for(var D in d)v[D]===void 0&&(v[D]=d[D])}return v}var Fp=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)};function yC(d){Fp(d)}function kv(d){console.error(d)}function wC(d){Fp(d)}function Wd(d,f){try{var v=d.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(x){setTimeout(function(){throw x})}}function yc(d,f,v){try{var x=d.onCaughtError;x(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function Pv(d,f,v){return v=We(v),v.tag=3,v.payload={element:null},v.callback=function(){Wd(d,f)},v}function SB(d){return d=We(d),d.tag=3,d}function _B(d,f,v,x){var D=v.type.getDerivedStateFromError;if(typeof D=="function"){var G=x.value;d.payload=function(){return D(G)},d.callback=function(){yc(f,v,x)}}var de=v.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(d.callback=function(){yc(f,v,x),typeof D!="function"&&(Bp===null?Bp=new Set([this]):Bp.add(this));var _e=x.stack;this.componentDidCatch(x.value,{componentStack:_e!==null?_e:""})})}function Yie(d,f,v,x,D){if(v.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(f=v.alternate,f!==null&&yl(f,v,D,!0),v=Si.current,v!==null){switch(v.tag){case 13:return $c===null?Ok():v.alternate===null&&no===0&&(no=3),v.flags&=-257,v.flags|=65536,v.lanes=D,x===Qc?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([x]):f.add(x),Nk(d,x,D)),!1;case 22:return v.flags|=65536,x===Qc?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([x])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([x]):v.add(x)),Nk(d,x,D)),!1}throw Error(r(435,v.tag))}return Nk(d,x,D),Ok(),!1}if(Vn)return f=Si.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=D,x!==Tr&&(d=Error(r(422),{cause:x}),sa(Gr(d,v)))):(x!==Tr&&(f=Error(r(423),{cause:x}),sa(Gr(f,v))),d=d.current.alternate,d.flags|=65536,D&=-D,d.lanes|=D,x=Gr(x,v),D=Pv(d.stateNode,x,D),kt(d,D),no!==4&&(no=2)),!1;var G=Error(r(520),{cause:x});if(G=Gr(G,v),TC===null?TC=[G]:TC.push(G),no!==4&&(no=2),f===null)return!0;x=Gr(x,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,d=D&-D,v.lanes|=d,d=Pv(v.stateNode,x,d),kt(v,d),!1;case 1:if(f=v.type,G=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Bp===null||!Bp.has(G))))return v.flags|=65536,D&=-D,v.lanes|=D,D=SB(D),_B(D,d,v,x),kt(v,D),!1}v=v.return}while(v!==null);return!1}var EB=Error(r(461)),ba=!1;function Wa(d,f,v,x){f.child=d===null?oa(f,null,v,x):vc(f,d.child,v,x)}function TB(d,f,v,x,D){v=v.render;var G=f.ref;if("ref"in x){var de={};for(var _e in x)_e!=="ref"&&(de[_e]=x[_e])}else de=x;return wa(f),x=gv(d,f,v,de,G,D),_e=am(),d!==null&&!ba?(lm(d,f,D),Pf(d,f,D)):(Vn&&_e&&Nt(f),f.flags|=1,Wa(d,f,x,D),f.child)}function RB(d,f,v,x,D){if(d===null){var G=v.type;return typeof G=="function"&&!gl(G)&&G.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=G,AB(d,f,G,x,D)):(d=ml(v.type,null,x,f,f.mode,D),d.ref=f.ref,d.return=f,f.child=d)}if(G=d.child,!wk(d,D)){var de=G.memoizedProps;if(v=v.compare,v=v!==null?v:Lo,v(de,x)&&d.ref===f.ref)return Pf(d,f,D)}return f.flags|=1,d=ia(G,x),d.ref=f.ref,d.return=f,f.child=d}function AB(d,f,v,x,D){if(d!==null){var G=d.memoizedProps;if(Lo(G,x)&&d.ref===f.ref)if(ba=!1,f.pendingProps=x=G,wk(d,D))(d.flags&131072)!==0&&(ba=!0);else return f.lanes=d.lanes,Pf(d,f,D)}return hk(d,f,v,x,D)}function kB(d,f,v){var x=f.pendingProps,D=x.children,G=d!==null?d.memoizedState:null;if(x.mode==="hidden"){if((f.flags&128)!==0){if(x=G!==null?G.baseLanes|v:v,d!==null){for(D=f.child=d.child,G=0;D!==null;)G=G|D.lanes|D.childLanes,D=D.sibling;f.childLanes=G&~x}else f.childLanes=0,f.child=null;return PB(d,f,x,v)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},d!==null&&Zc(f,G!==null?G.cachePool:null),G!==null?yo(f,G):ns(),Rv(f);else return f.lanes=f.childLanes=536870912,PB(d,f,G!==null?G.baseLanes|v:v,v)}else G!==null?(Zc(f,G.cachePool),yo(f,G),Sl(),f.memoizedState=null):(d!==null&&Zc(f,null),ns(),Sl());return Wa(d,f,D,v),f.child}function PB(d,f,v,x){var D=Ld();return D=D===null?null:{parent:Ui._currentValue,pool:D},f.memoizedState={baseLanes:v,cachePool:D},d!==null&&Zc(f,null),ns(),Rv(f),d!==null&&yl(d,f,x,!0),null}function B1(d,f){var v=f.ref;if(v===null)d!==null&&d.ref!==null&&(f.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(d===null||d.ref!==v)&&(f.flags|=4194816)}}function hk(d,f,v,x,D){return wa(f),v=gv(d,f,v,x,void 0,D),x=am(),d!==null&&!ba?(lm(d,f,D),Pf(d,f,D)):(Vn&&x&&Nt(f),f.flags|=1,Wa(d,f,v,D),f.child)}function DB(d,f,v,x,D,G){return wa(f),f.updateQueue=null,v=nC(f,x,v,D),tC(d),x=am(),d!==null&&!ba?(lm(d,f,G),Pf(d,f,G)):(Vn&&x&&Nt(f),f.flags|=1,Wa(d,f,v,G),f.child)}function FB(d,f,v,x,D){if(wa(f),f.stateNode===null){var G=ma,de=v.contextType;typeof de=="object"&&de!==null&&(G=Is(de)),G=new v(x,G),f.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=Rm,f.stateNode=G,G._reactInternals=f,G=f.stateNode,G.props=x,G.state=f.memoizedState,G.refs={},ze(f),de=v.contextType,G.context=typeof de=="object"&&de!==null?Is(de):ma,G.state=f.memoizedState,de=v.getDerivedStateFromProps,typeof de=="function"&&(Tm(f,v,de,x),G.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(de=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),de!==G.state&&Rm.enqueueReplaceState(G,G.state,null),kn(f,x,G,D),wn(),G.state=f.memoizedState),typeof G.componentDidMount=="function"&&(f.flags|=4194308),x=!0}else if(d===null){G=f.stateNode;var _e=f.memoizedProps,He=Rh(v,_e);G.props=He;var pt=G.context,Ft=v.contextType;de=ma,typeof Ft=="object"&&Ft!==null&&(de=Is(Ft));var Bt=v.getDerivedStateFromProps;Ft=typeof Bt=="function"||typeof G.getSnapshotBeforeUpdate=="function",_e=f.pendingProps!==_e,Ft||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(_e||pt!==de)&&Av(f,G,x,de),ke=!1;var wt=f.memoizedState;G.state=wt,kn(f,x,G,D),wn(),pt=f.memoizedState,_e||wt!==pt||ke?(typeof Bt=="function"&&(Tm(f,v,Bt,x),pt=f.memoizedState),(He=ke||vC(f,v,He,x,wt,pt,de))?(Ft||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(f.flags|=4194308)):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=x,f.memoizedState=pt),G.props=x,G.state=pt,G.context=de,x=He):(typeof G.componentDidMount=="function"&&(f.flags|=4194308),x=!1)}else{G=f.stateNode,ft(d,f),de=f.memoizedProps,Ft=Rh(v,de),G.props=Ft,Bt=f.pendingProps,wt=G.context,pt=v.contextType,He=ma,typeof pt=="object"&&pt!==null&&(He=Is(pt)),_e=v.getDerivedStateFromProps,(pt=typeof _e=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(de!==Bt||wt!==He)&&Av(f,G,x,He),ke=!1,wt=f.memoizedState,G.state=wt,kn(f,x,G,D),wn();var bt=f.memoizedState;de!==Bt||wt!==bt||ke||d!==null&&d.dependencies!==null&&gc(d.dependencies)?(typeof _e=="function"&&(Tm(f,v,_e,x),bt=f.memoizedState),(Ft=ke||vC(f,v,Ft,x,wt,bt,He)||d!==null&&d.dependencies!==null&&gc(d.dependencies))?(pt||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(x,bt,He),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(x,bt,He)),typeof G.componentDidUpdate=="function"&&(f.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof G.componentDidUpdate!="function"||de===d.memoizedProps&&wt===d.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&wt===d.memoizedState||(f.flags|=1024),f.memoizedProps=x,f.memoizedState=bt),G.props=x,G.state=bt,G.context=He,x=Ft):(typeof G.componentDidUpdate!="function"||de===d.memoizedProps&&wt===d.memoizedState||(f.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&wt===d.memoizedState||(f.flags|=1024),x=!1)}return G=x,B1(d,f),x=(f.flags&128)!==0,G||x?(G=f.stateNode,v=x&&typeof v.getDerivedStateFromError!="function"?null:G.render(),f.flags|=1,d!==null&&x?(f.child=vc(f,d.child,null,D),f.child=vc(f,null,v,D)):Wa(d,f,v,D),f.memoizedState=G.state,d=f.child):d=Pf(d,f,D),d}function IB(d,f,v,x){return ya(),f.flags|=256,Wa(d,f,v,x),f.child}var fk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pk(d){return{baseLanes:d,cachePool:yh()}}function gk(d,f,v){return d=d!==null?d.childLanes&~v:0,f&&(d|=Yu),d}function MB(d,f,v){var x=f.pendingProps,D=!1,G=(f.flags&128)!==0,de;if((de=G)||(de=d!==null&&d.memoizedState===null?!1:(to.current&2)!==0),de&&(D=!0,f.flags&=-129),de=(f.flags&32)!==0,f.flags&=-33,d===null){if(Vn){if(D?ql(f):Sl(),Vn){var _e=un,He;if(He=_e){e:{for(He=_e,_e=Qr;He.nodeType!==8;){if(!_e){_e=null;break e}if(He=Kd(He.nextSibling),He===null){_e=null;break e}}_e=He}_e!==null?(f.memoizedState={dehydrated:_e,treeContext:ie!==null?{id:we,overflow:Oe}:null,retryLane:536870912,hydrationErrors:null},He=cs(18,null,null,0),He.stateNode=_e,He.return=f,f.child=He,hn=f,un=null,He=!0):He=!1}He||vo(f)}if(_e=f.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null))return Jk(_e)?f.lanes=32:f.lanes=536870912,null;eu(f)}return _e=x.children,x=x.fallback,D?(Sl(),D=f.mode,_e=V1({mode:"hidden",children:_e},D),x=Ds(x,D,v,null),_e.return=f,x.return=f,_e.sibling=x,f.child=_e,D=f.child,D.memoizedState=pk(v),D.childLanes=gk(d,de,v),f.memoizedState=fk,x):(ql(f),mk(f,_e))}if(He=d.memoizedState,He!==null&&(_e=He.dehydrated,_e!==null)){if(G)f.flags&256?(ql(f),f.flags&=-257,f=vk(d,f,v)):f.memoizedState!==null?(Sl(),f.child=d.child,f.flags|=128,f=null):(Sl(),D=x.fallback,_e=f.mode,x=V1({mode:"visible",children:x.children},_e),D=Ds(D,_e,v,null),D.flags|=2,x.return=f,D.return=f,x.sibling=D,f.child=x,vc(f,d.child,null,v),x=f.child,x.memoizedState=pk(v),x.childLanes=gk(d,de,v),f.memoizedState=fk,f=D);else if(ql(f),Jk(_e)){if(de=_e.nextSibling&&_e.nextSibling.dataset,de)var pt=de.dgst;de=pt,x=Error(r(419)),x.stack="",x.digest=de,sa({value:x,source:null,stack:null}),f=vk(d,f,v)}else if(ba||yl(d,f,v,!1),de=(v&d.childLanes)!==0,ba||de){if(de=hs,de!==null&&(x=v&-v,x=(x&42)!==0?1:qo(x),x=(x&(de.suspendedLanes|v))!==0?0:x,x!==0&&x!==He.retryLane))throw He.retryLane=x,ts(d,x),su(de,d,x),EB;_e.data==="$?"||Ok(),f=vk(d,f,v)}else _e.data==="$?"?(f.flags|=192,f.child=d.child,f=null):(d=He.treeContext,un=Kd(_e.nextSibling),hn=f,Vn=!0,Yr=null,Qr=!1,d!==null&&(k[j++]=we,k[j++]=Oe,k[j++]=ie,we=d.id,Oe=d.overflow,ie=f),f=mk(f,x.children),f.flags|=4096);return f}return D?(Sl(),D=x.fallback,_e=f.mode,He=d.child,pt=He.sibling,x=ia(He,{mode:"hidden",children:x.children}),x.subtreeFlags=He.subtreeFlags&65011712,pt!==null?D=ia(pt,D):(D=Ds(D,_e,v,null),D.flags|=2),D.return=f,x.return=f,x.sibling=D,f.child=x,x=D,D=f.child,_e=d.child.memoizedState,_e===null?_e=pk(v):(He=_e.cachePool,He!==null?(pt=Ui._currentValue,He=He.parent!==pt?{parent:pt,pool:pt}:He):He=yh(),_e={baseLanes:_e.baseLanes|v,cachePool:He}),D.memoizedState=_e,D.childLanes=gk(d,de,v),f.memoizedState=fk,x):(ql(f),v=d.child,d=v.sibling,v=ia(v,{mode:"visible",children:x.children}),v.return=f,v.sibling=null,d!==null&&(de=f.deletions,de===null?(f.deletions=[d],f.flags|=16):de.push(d)),f.child=v,f.memoizedState=null,v)}function mk(d,f){return f=V1({mode:"visible",children:f},d.mode),f.return=d,d.child=f}function V1(d,f){return d=cs(22,d,null,f),d.lanes=0,d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},d}function vk(d,f,v){return vc(f,d.child,null,v),d=mk(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function OB(d,f,v){d.lanes|=f;var x=d.alternate;x!==null&&(x.lanes|=f),Wc(d.return,f,v)}function yk(d,f,v,x,D){var G=d.memoizedState;G===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:x,tail:v,tailMode:D}:(G.isBackwards=f,G.rendering=null,G.renderingStartTime=0,G.last=x,G.tail=v,G.tailMode=D)}function LB(d,f,v){var x=f.pendingProps,D=x.revealOrder,G=x.tail;if(Wa(d,f,x.children,v),x=to.current,(x&2)!==0)x=x&1|2,f.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&OB(d,v,f);else if(d.tag===19)OB(d,v,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}x&=1}switch(J(to,x),D){case"forwards":for(v=f.child,D=null;v!==null;)d=v.alternate,d!==null&&Ku(d)===null&&(D=v),v=v.sibling;v=D,v===null?(D=f.child,f.child=null):(D=v.sibling,v.sibling=null),yk(f,!1,D,v,G);break;case"backwards":for(v=null,D=f.child,f.child=null;D!==null;){if(d=D.alternate,d!==null&&Ku(d)===null){f.child=D;break}d=D.sibling,D.sibling=v,v=D,D=d}yk(f,!0,v,null,G);break;case"together":yk(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Pf(d,f,v){if(d!==null&&(f.dependencies=d.dependencies),Np|=f.lanes,(v&f.childLanes)===0)if(d!==null){if(yl(d,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(d!==null&&f.child!==d.child)throw Error(r(153));if(f.child!==null){for(d=f.child,v=ia(d,d.pendingProps),f.child=v,v.return=f;d.sibling!==null;)d=d.sibling,v=v.sibling=ia(d,d.pendingProps),v.return=f;v.sibling=null}return f.child}function wk(d,f){return(d.lanes&f)!==0?!0:(d=d.dependencies,!!(d!==null&&gc(d)))}function Xie(d,f,v){switch(f.tag){case 3:je(f,f.stateNode.containerInfo),vl(f,Ui,d.memoizedState.cache),ya();break;case 27:case 5:et(f);break;case 4:je(f,f.stateNode.containerInfo);break;case 10:vl(f,f.type,f.memoizedProps.value);break;case 13:var x=f.memoizedState;if(x!==null)return x.dehydrated!==null?(ql(f),f.flags|=128,null):(v&f.child.childLanes)!==0?MB(d,f,v):(ql(f),d=Pf(d,f,v),d!==null?d.sibling:null);ql(f);break;case 19:var D=(d.flags&128)!==0;if(x=(v&f.childLanes)!==0,x||(yl(d,f,v,!1),x=(v&f.childLanes)!==0),D){if(x)return LB(d,f,v);f.flags|=128}if(D=f.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),J(to,to.current),x)break;return null;case 22:case 23:return f.lanes=0,kB(d,f,v);case 24:vl(f,Ui,d.memoizedState.cache)}return Pf(d,f,v)}function NB(d,f,v){if(d!==null)if(d.memoizedProps!==f.pendingProps)ba=!0;else{if(!wk(d,v)&&(f.flags&128)===0)return ba=!1,Xie(d,f,v);ba=(d.flags&131072)!==0}else ba=!1,Vn&&(f.flags&1048576)!==0&&mt(f,C,f.index);switch(f.lanes=0,f.tag){case 16:e:{d=f.pendingProps;var x=f.elementType,D=x._init;if(x=D(x._payload),f.type=x,typeof x=="function")gl(x)?(d=Rh(x,d),f.tag=1,f=FB(null,f,x,d,v)):(f.tag=0,f=hk(null,f,x,d,v));else{if(x!=null){if(D=x.$$typeof,D===N){f.tag=11,f=TB(null,f,x,d,v);break e}else if(D===O){f.tag=14,f=RB(null,f,x,d,v);break e}}throw f=q(x)||x,Error(r(306,f,""))}}return f;case 0:return hk(d,f,f.type,f.pendingProps,v);case 1:return x=f.type,D=Rh(x,f.pendingProps),FB(d,f,x,D,v);case 3:e:{if(je(f,f.stateNode.containerInfo),d===null)throw Error(r(387));x=f.pendingProps;var G=f.memoizedState;D=G.element,ft(d,f),kn(f,x,null,v);var de=f.memoizedState;if(x=de.cache,vl(f,Ui,x),x!==G.cache&&Gi(f,[Ui],v,!0),wn(),x=de.element,G.isDehydrated)if(G={element:x,isDehydrated:!1,cache:de.cache},f.updateQueue.baseState=G,f.memoizedState=G,f.flags&256){f=IB(d,f,x,v);break e}else if(x!==D){D=Gr(Error(r(424)),f),sa(D),f=IB(d,f,x,v);break e}else{switch(d=f.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(un=Kd(d.firstChild),hn=f,Vn=!0,Yr=null,Qr=!0,v=oa(f,null,x,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(ya(),x===D){f=Pf(d,f,v);break e}Wa(d,f,x,v)}f=f.child}return f;case 26:return B1(d,f),d===null?(v=z3(f.type,null,f.pendingProps,null))?f.memoizedState=v:Vn||(v=f.type,d=f.pendingProps,x=$1(De.current).createElement(v),x[Pt]=f,x[Dt]=d,Ka(x,v,d),Ke(x),f.stateNode=x):f.memoizedState=z3(f.type,d.memoizedProps,f.pendingProps,d.memoizedState),null;case 27:return et(f),d===null&&Vn&&(x=f.stateNode=B3(f.type,f.pendingProps,De.current),hn=f,Qr=!0,D=un,zp(f.type)?($k=D,un=Kd(x.firstChild)):un=D),Wa(d,f,f.pendingProps.children,v),B1(d,f),d===null&&(f.flags|=4194304),f.child;case 5:return d===null&&Vn&&((D=x=un)&&(x=xse(x,f.type,f.pendingProps,Qr),x!==null?(f.stateNode=x,hn=f,un=Kd(x.firstChild),Qr=!1,D=!0):D=!1),D||vo(f)),et(f),D=f.type,G=f.pendingProps,de=d!==null?d.memoizedProps:null,x=G.children,Zk(D,G)?x=null:de!==null&&Zk(D,de)&&(f.flags|=32),f.memoizedState!==null&&(D=gv(d,f,rC,null,null,v),OC._currentValue=D),B1(d,f),Wa(d,f,x,v),f.child;case 6:return d===null&&Vn&&((d=v=un)&&(v=Sse(v,f.pendingProps,Qr),v!==null?(f.stateNode=v,hn=f,un=null,d=!0):d=!1),d||vo(f)),null;case 13:return MB(d,f,v);case 4:return je(f,f.stateNode.containerInfo),x=f.pendingProps,d===null?f.child=vc(f,null,x,v):Wa(d,f,x,v),f.child;case 11:return TB(d,f,f.type,f.pendingProps,v);case 7:return Wa(d,f,f.pendingProps,v),f.child;case 8:return Wa(d,f,f.pendingProps.children,v),f.child;case 12:return Wa(d,f,f.pendingProps.children,v),f.child;case 10:return x=f.pendingProps,vl(f,f.type,x.value),Wa(d,f,x.children,v),f.child;case 9:return D=f.type._context,x=f.pendingProps.children,wa(f),D=Is(D),x=x(D),f.flags|=1,Wa(d,f,x,v),f.child;case 14:return RB(d,f,f.type,f.pendingProps,v);case 15:return AB(d,f,f.type,f.pendingProps,v);case 19:return LB(d,f,v);case 31:return x=f.pendingProps,v=f.mode,x={mode:x.mode,children:x.children},d===null?(v=V1(x,v),v.ref=f.ref,f.child=v,v.return=f,f=v):(v=ia(d.child,x),v.ref=f.ref,f.child=v,v.return=f,f=v),f;case 22:return kB(d,f,v);case 24:return wa(f),x=Is(Ui),d===null?(D=Ld(),D===null&&(D=hs,G=Gu(),D.pooledCache=G,G.refCount++,G!==null&&(D.pooledCacheLanes|=v),D=G),f.memoizedState={parent:x,cache:D},ze(f),vl(f,Ui,D)):((d.lanes&v)!==0&&(ft(d,f),kn(f,null,null,v),wn()),D=d.memoizedState,G=f.memoizedState,D.parent!==x?(D={parent:x,cache:x},f.memoizedState=D,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=D),vl(f,Ui,x)):(x=G.cache,vl(f,Ui,x),x!==D.cache&&Gi(f,[Ui],v,!0))),Wa(d,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function Df(d){d.flags|=4}function BB(d,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!K3(f)){if(f=Si.current,f!==null&&((Jr&4194048)===Jr?$c!==null:(Jr&62914560)!==Jr&&(Jr&536870912)===0||f!==$c))throw K=Qc,qc;d.flags|=8192}}function H1(d,f){f!==null&&(d.flags|=4),d.flags&16384&&(f=d.tag!==22?Ni():536870912,d.lanes|=f,Mv|=f)}function CC(d,f){if(!Vn)switch(d.tailMode){case"hidden":f=d.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?d.tail=null:v.sibling=null;break;case"collapsed":v=d.tail;for(var x=null;v!==null;)v.alternate!==null&&(x=v),v=v.sibling;x===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:x.sibling=null}}function Bs(d){var f=d.alternate!==null&&d.alternate.child===d.child,v=0,x=0;if(f)for(var D=d.child;D!==null;)v|=D.lanes|D.childLanes,x|=D.subtreeFlags&65011712,x|=D.flags&65011712,D.return=d,D=D.sibling;else for(D=d.child;D!==null;)v|=D.lanes|D.childLanes,x|=D.subtreeFlags,x|=D.flags,D.return=d,D=D.sibling;return d.subtreeFlags|=x,d.childLanes=v,f}function Zie(d,f,v){var x=f.pendingProps;switch(en(f),f.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bs(f),null;case 1:return Bs(f),null;case 3:return v=f.stateNode,x=null,d!==null&&(x=d.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),No(Ui),qe(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(d===null||d.child===null)&&(Zl(f)?Df(f):d===null||d.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Ha())),Bs(f),null;case 26:return v=f.memoizedState,d===null?(Df(f),v!==null?(Bs(f),BB(f,v)):(Bs(f),f.flags&=-16777217)):v?v!==d.memoizedState?(Df(f),Bs(f),BB(f,v)):(Bs(f),f.flags&=-16777217):(d.memoizedProps!==x&&Df(f),Bs(f),f.flags&=-16777217),null;case 27:Et(f),v=De.current;var D=f.type;if(d!==null&&f.stateNode!=null)d.memoizedProps!==x&&Df(f);else{if(!x){if(f.stateNode===null)throw Error(r(166));return Bs(f),null}d=ce.current,Zl(f)?va(f):(d=B3(D,x,v),f.stateNode=d,Df(f))}return Bs(f),null;case 5:if(Et(f),v=f.type,d!==null&&f.stateNode!=null)d.memoizedProps!==x&&Df(f);else{if(!x){if(f.stateNode===null)throw Error(r(166));return Bs(f),null}if(d=ce.current,Zl(f))va(f);else{switch(D=$1(De.current),d){case 1:d=D.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:d=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":d=D.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":d=D.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":d=D.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof x.is=="string"?D.createElement("select",{is:x.is}):D.createElement("select"),x.multiple?d.multiple=!0:x.size&&(d.size=x.size);break;default:d=typeof x.is=="string"?D.createElement(v,{is:x.is}):D.createElement(v)}}d[Pt]=f,d[Dt]=x;e:for(D=f.child;D!==null;){if(D.tag===5||D.tag===6)d.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===f)break e;for(;D.sibling===null;){if(D.return===null||D.return===f)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}f.stateNode=d;e:switch(Ka(d,v,x),v){case"button":case"input":case"select":case"textarea":d=!!x.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Df(f)}}return Bs(f),f.flags&=-16777217,null;case 6:if(d&&f.stateNode!=null)d.memoizedProps!==x&&Df(f);else{if(typeof x!="string"&&f.stateNode===null)throw Error(r(166));if(d=De.current,Zl(f)){if(d=f.stateNode,v=f.memoizedProps,x=null,D=hn,D!==null)switch(D.tag){case 27:case 5:x=D.memoizedProps}d[Pt]=f,d=!!(d.nodeValue===v||x!==null&&x.suppressHydrationWarning===!0||D3(d.nodeValue,v)),d||vo(f)}else d=$1(d).createTextNode(x),d[Pt]=f,f.stateNode=d}return Bs(f),null;case 13:if(x=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(D=Zl(f),x!==null&&x.dehydrated!==null){if(d===null){if(!D)throw Error(r(318));if(D=f.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[Pt]=f}else ya(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Bs(f),D=!1}else D=Ha(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=D),D=!0;if(!D)return f.flags&256?(eu(f),f):(eu(f),null)}if(eu(f),(f.flags&128)!==0)return f.lanes=v,f;if(v=x!==null,d=d!==null&&d.memoizedState!==null,v){x=f.child,D=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(D=x.alternate.memoizedState.cachePool.pool);var G=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(G=x.memoizedState.cachePool.pool),G!==D&&(x.flags|=2048)}return v!==d&&v&&(f.child.flags|=8192),H1(f,f.updateQueue),Bs(f),null;case 4:return qe(),d===null&&Wk(f.stateNode.containerInfo),Bs(f),null;case 10:return No(f.type),Bs(f),null;case 19:if(te(to),D=f.memoizedState,D===null)return Bs(f),null;if(x=(f.flags&128)!==0,G=D.rendering,G===null)if(x)CC(D,!1);else{if(no!==0||d!==null&&(d.flags&128)!==0)for(d=f.child;d!==null;){if(G=Ku(d),G!==null){for(f.flags|=128,CC(D,!1),d=G.updateQueue,f.updateQueue=d,H1(f,d),f.subtreeFlags=0,d=v,v=f.child;v!==null;)Hu(v,d),v=v.sibling;return J(to,to.current&1|2),f.child}d=d.sibling}D.tail!==null&&ve()>U1&&(f.flags|=128,x=!0,CC(D,!1),f.lanes=4194304)}else{if(!x)if(d=Ku(G),d!==null){if(f.flags|=128,x=!0,d=d.updateQueue,f.updateQueue=d,H1(f,d),CC(D,!0),D.tail===null&&D.tailMode==="hidden"&&!G.alternate&&!Vn)return Bs(f),null}else 2*ve()-D.renderingStartTime>U1&&v!==536870912&&(f.flags|=128,x=!0,CC(D,!1),f.lanes=4194304);D.isBackwards?(G.sibling=f.child,f.child=G):(d=D.last,d!==null?d.sibling=G:f.child=G,D.last=G)}return D.tail!==null?(f=D.tail,D.rendering=f,D.tail=f.sibling,D.renderingStartTime=ve(),f.sibling=null,d=to.current,J(to,x?d&1|2:d&1),f):(Bs(f),null);case 22:case 23:return eu(f),Bo(),x=f.memoizedState!==null,d!==null?d.memoizedState!==null!==x&&(f.flags|=8192):x&&(f.flags|=8192),x?(v&536870912)!==0&&(f.flags&128)===0&&(Bs(f),f.subtreeFlags&6&&(f.flags|=8192)):Bs(f),v=f.updateQueue,v!==null&&H1(f,v.retryQueue),v=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==v&&(f.flags|=2048),d!==null&&te(Ga),null;case 24:return v=null,d!==null&&(v=d.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),No(Ui),Bs(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function qie(d,f){switch(en(f),f.tag){case 1:return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return No(Ui),qe(),d=f.flags,(d&65536)!==0&&(d&128)===0?(f.flags=d&-65537|128,f):null;case 26:case 27:case 5:return Et(f),null;case 13:if(eu(f),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(r(340));ya()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return te(to),null;case 4:return qe(),null;case 10:return No(f.type),null;case 22:case 23:return eu(f),Bo(),d!==null&&te(Ga),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 24:return No(Ui),null;case 25:return null;default:return null}}function VB(d,f){switch(en(f),f.tag){case 3:No(Ui),qe();break;case 26:case 27:case 5:Et(f);break;case 4:qe();break;case 13:eu(f);break;case 19:te(to);break;case 10:No(f.type);break;case 22:case 23:eu(f),Bo(),d!==null&&te(Ga);break;case 24:No(Ui)}}function bC(d,f){try{var v=f.updateQueue,x=v!==null?v.lastEffect:null;if(x!==null){var D=x.next;v=D;do{if((v.tag&d)===d){x=void 0;var G=v.create,de=v.inst;x=G(),de.destroy=x}v=v.next}while(v!==D)}}catch(_e){rs(f,f.return,_e)}}function Ip(d,f,v){try{var x=f.updateQueue,D=x!==null?x.lastEffect:null;if(D!==null){var G=D.next;x=G;do{if((x.tag&d)===d){var de=x.inst,_e=de.destroy;if(_e!==void 0){de.destroy=void 0,D=f;var He=v,pt=_e;try{pt()}catch(Ft){rs(D,He,Ft)}}}x=x.next}while(x!==G)}}catch(Ft){rs(f,f.return,Ft)}}function HB(d){var f=d.updateQueue;if(f!==null){var v=d.stateNode;try{gi(f,v)}catch(x){rs(d,d.return,x)}}}function zB(d,f,v){v.props=Rh(d.type,d.memoizedProps),v.state=d.memoizedState;try{v.componentWillUnmount()}catch(x){rs(d,f,x)}}function xC(d,f){try{var v=d.ref;if(v!==null){switch(d.tag){case 26:case 27:case 5:var x=d.stateNode;break;case 30:x=d.stateNode;break;default:x=d.stateNode}typeof v=="function"?d.refCleanup=v(x):v.current=x}}catch(D){rs(d,f,D)}}function Ah(d,f){var v=d.ref,x=d.refCleanup;if(v!==null)if(typeof x=="function")try{x()}catch(D){rs(d,f,D)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(D){rs(d,f,D)}else v.current=null}function GB(d){var f=d.type,v=d.memoizedProps,x=d.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":v.autoFocus&&x.focus();break e;case"img":v.src?x.src=v.src:v.srcSet&&(x.srcset=v.srcSet)}}catch(D){rs(d,d.return,D)}}function Ck(d,f,v){try{var x=d.stateNode;vse(x,d.type,v,f),x[Dt]=f}catch(D){rs(d,d.return,D)}}function UB(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&zp(d.type)||d.tag===4}function bk(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||UB(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&zp(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function xk(d,f,v){var x=d.tag;if(x===5||x===6)d=d.stateNode,f?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(d,f):(f=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,f.appendChild(d),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=J1));else if(x!==4&&(x===27&&zp(d.type)&&(v=d.stateNode,f=null),d=d.child,d!==null))for(xk(d,f,v),d=d.sibling;d!==null;)xk(d,f,v),d=d.sibling}function z1(d,f,v){var x=d.tag;if(x===5||x===6)d=d.stateNode,f?v.insertBefore(d,f):v.appendChild(d);else if(x!==4&&(x===27&&zp(d.type)&&(v=d.stateNode),d=d.child,d!==null))for(z1(d,f,v),d=d.sibling;d!==null;)z1(d,f,v),d=d.sibling}function WB(d){var f=d.stateNode,v=d.memoizedProps;try{for(var x=d.type,D=f.attributes;D.length;)f.removeAttributeNode(D[0]);Ka(f,x,v),f[Pt]=d,f[Dt]=v}catch(G){rs(d,d.return,G)}}var Ff=!1,wo=!1,Sk=!1,jB=typeof WeakSet=="function"?WeakSet:Set,xa=null;function Qie(d,f){if(d=d.containerInfo,Yk=s_,d=Y(d),oe(d)){if("selectionStart"in d)var v={start:d.selectionStart,end:d.selectionEnd};else e:{v=(v=d.ownerDocument)&&v.defaultView||window;var x=v.getSelection&&v.getSelection();if(x&&x.rangeCount!==0){v=x.anchorNode;var D=x.anchorOffset,G=x.focusNode;x=x.focusOffset;try{v.nodeType,G.nodeType}catch{v=null;break e}var de=0,_e=-1,He=-1,pt=0,Ft=0,Bt=d,wt=null;t:for(;;){for(var bt;Bt!==v||D!==0&&Bt.nodeType!==3||(_e=de+D),Bt!==G||x!==0&&Bt.nodeType!==3||(He=de+x),Bt.nodeType===3&&(de+=Bt.nodeValue.length),(bt=Bt.firstChild)!==null;)wt=Bt,Bt=bt;for(;;){if(Bt===d)break t;if(wt===v&&++pt===D&&(_e=de),wt===G&&++Ft===x&&(He=de),(bt=Bt.nextSibling)!==null)break;Bt=wt,wt=Bt.parentNode}Bt=bt}v=_e===-1||He===-1?null:{start:_e,end:He}}else v=null}v=v||{start:0,end:0}}else v=null;for(Xk={focusedElem:d,selectionRange:v},s_=!1,xa=f;xa!==null;)if(f=xa,d=f.child,(f.subtreeFlags&1024)!==0&&d!==null)d.return=f,xa=d;else for(;xa!==null;){switch(f=xa,G=f.alternate,d=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((d&1024)!==0&&G!==null){d=void 0,v=f,D=G.memoizedProps,G=G.memoizedState,x=v.stateNode;try{var er=Rh(v.type,D,v.elementType===v.type);d=x.getSnapshotBeforeUpdate(er,G),x.__reactInternalSnapshotBeforeUpdate=d}catch(jn){rs(v,v.return,jn)}}break;case 3:if((d&1024)!==0){if(d=f.stateNode.containerInfo,v=d.nodeType,v===9)Qk(d);else if(v===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":Qk(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=f.sibling,d!==null){d.return=f.return,xa=d;break}xa=f.return}}function KB(d,f,v){var x=v.flags;switch(v.tag){case 0:case 11:case 15:Mp(d,v),x&4&&bC(5,v);break;case 1:if(Mp(d,v),x&4)if(d=v.stateNode,f===null)try{d.componentDidMount()}catch(de){rs(v,v.return,de)}else{var D=Rh(v.type,f.memoizedProps);f=f.memoizedState;try{d.componentDidUpdate(D,f,d.__reactInternalSnapshotBeforeUpdate)}catch(de){rs(v,v.return,de)}}x&64&&HB(v),x&512&&xC(v,v.return);break;case 3:if(Mp(d,v),x&64&&(d=v.updateQueue,d!==null)){if(f=null,v.child!==null)switch(v.child.tag){case 27:case 5:f=v.child.stateNode;break;case 1:f=v.child.stateNode}try{gi(d,f)}catch(de){rs(v,v.return,de)}}break;case 27:f===null&&x&4&&WB(v);case 26:case 5:Mp(d,v),f===null&&x&4&&GB(v),x&512&&xC(v,v.return);break;case 12:Mp(d,v);break;case 13:Mp(d,v),x&4&&ZB(d,v),x&64&&(d=v.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(v=ose.bind(null,v),_se(d,v))));break;case 22:if(x=v.memoizedState!==null||Ff,!x){f=f!==null&&f.memoizedState!==null||wo,D=Ff;var G=wo;Ff=x,(wo=f)&&!G?Op(d,v,(v.subtreeFlags&8772)!==0):Mp(d,v),Ff=D,wo=G}break;case 30:break;default:Mp(d,v)}}function YB(d){var f=d.alternate;f!==null&&(d.alternate=null,YB(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&Ce(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Ms=null,wc=!1;function If(d,f,v){for(v=v.child;v!==null;)XB(d,f,v),v=v.sibling}function XB(d,f,v){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(Ie,v)}catch{}switch(v.tag){case 26:wo||Ah(v,f),If(d,f,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:wo||Ah(v,f);var x=Ms,D=wc;zp(v.type)&&(Ms=v.stateNode,wc=!1),If(d,f,v),DC(v.stateNode),Ms=x,wc=D;break;case 5:wo||Ah(v,f);case 6:if(x=Ms,D=wc,Ms=null,If(d,f,v),Ms=x,wc=D,Ms!==null)if(wc)try{(Ms.nodeType===9?Ms.body:Ms.nodeName==="HTML"?Ms.ownerDocument.body:Ms).removeChild(v.stateNode)}catch(G){rs(v,f,G)}else try{Ms.removeChild(v.stateNode)}catch(G){rs(v,f,G)}break;case 18:Ms!==null&&(wc?(d=Ms,L3(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,v.stateNode),VC(d)):L3(Ms,v.stateNode));break;case 4:x=Ms,D=wc,Ms=v.stateNode.containerInfo,wc=!0,If(d,f,v),Ms=x,wc=D;break;case 0:case 11:case 14:case 15:wo||Ip(2,v,f),wo||Ip(4,v,f),If(d,f,v);break;case 1:wo||(Ah(v,f),x=v.stateNode,typeof x.componentWillUnmount=="function"&&zB(v,f,x)),If(d,f,v);break;case 21:If(d,f,v);break;case 22:wo=(x=wo)||v.memoizedState!==null,If(d,f,v),wo=x;break;default:If(d,f,v)}}function ZB(d,f){if(f.memoizedState===null&&(d=f.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{VC(d)}catch(v){rs(f,f.return,v)}}function Jie(d){switch(d.tag){case 13:case 19:var f=d.stateNode;return f===null&&(f=d.stateNode=new jB),f;case 22:return d=d.stateNode,f=d._retryCache,f===null&&(f=d._retryCache=new jB),f;default:throw Error(r(435,d.tag))}}function _k(d,f){var v=Jie(d);f.forEach(function(x){var D=ase.bind(null,d,x);v.has(x)||(v.add(x),x.then(D,D))})}function tu(d,f){var v=f.deletions;if(v!==null)for(var x=0;x<v.length;x++){var D=v[x],G=d,de=f,_e=de;e:for(;_e!==null;){switch(_e.tag){case 27:if(zp(_e.type)){Ms=_e.stateNode,wc=!1;break e}break;case 5:Ms=_e.stateNode,wc=!1;break e;case 3:case 4:Ms=_e.stateNode.containerInfo,wc=!0;break e}_e=_e.return}if(Ms===null)throw Error(r(160));XB(G,de,D),Ms=null,wc=!1,G=D.alternate,G!==null&&(G.return=null),D.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)qB(f,d),f=f.sibling}var jd=null;function qB(d,f){var v=d.alternate,x=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:tu(f,d),nu(d),x&4&&(Ip(3,d,d.return),bC(3,d),Ip(5,d,d.return));break;case 1:tu(f,d),nu(d),x&512&&(wo||v===null||Ah(v,v.return)),x&64&&Ff&&(d=d.updateQueue,d!==null&&(x=d.callbacks,x!==null&&(v=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=v===null?x:v.concat(x))));break;case 26:var D=jd;if(tu(f,d),nu(d),x&512&&(wo||v===null||Ah(v,v.return)),x&4){var G=v!==null?v.memoizedState:null;if(x=d.memoizedState,v===null)if(x===null)if(d.stateNode===null){e:{x=d.type,v=d.memoizedProps,D=D.ownerDocument||D;t:switch(x){case"title":G=D.getElementsByTagName("title")[0],(!G||G[be]||G[Pt]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))&&(G=D.createElement(x),D.head.insertBefore(G,D.querySelector("head > title"))),Ka(G,x,v),G[Pt]=d,Ke(G),x=G;break e;case"link":var de=W3("link","href",D).get(x+(v.href||""));if(de){for(var _e=0;_e<de.length;_e++)if(G=de[_e],G.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&G.getAttribute("rel")===(v.rel==null?null:v.rel)&&G.getAttribute("title")===(v.title==null?null:v.title)&&G.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){de.splice(_e,1);break t}}G=D.createElement(x),Ka(G,x,v),D.head.appendChild(G);break;case"meta":if(de=W3("meta","content",D).get(x+(v.content||""))){for(_e=0;_e<de.length;_e++)if(G=de[_e],G.getAttribute("content")===(v.content==null?null:""+v.content)&&G.getAttribute("name")===(v.name==null?null:v.name)&&G.getAttribute("property")===(v.property==null?null:v.property)&&G.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&G.getAttribute("charset")===(v.charSet==null?null:v.charSet)){de.splice(_e,1);break t}}G=D.createElement(x),Ka(G,x,v),D.head.appendChild(G);break;default:throw Error(r(468,x))}G[Pt]=d,Ke(G),x=G}d.stateNode=x}else j3(D,d.type,d.stateNode);else d.stateNode=U3(D,x,d.memoizedProps);else G!==x?(G===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):G.count--,x===null?j3(D,d.type,d.stateNode):U3(D,x,d.memoizedProps)):x===null&&d.stateNode!==null&&Ck(d,d.memoizedProps,v.memoizedProps)}break;case 27:tu(f,d),nu(d),x&512&&(wo||v===null||Ah(v,v.return)),v!==null&&x&4&&Ck(d,d.memoizedProps,v.memoizedProps);break;case 5:if(tu(f,d),nu(d),x&512&&(wo||v===null||Ah(v,v.return)),d.flags&32){D=d.stateNode;try{Ys(D,"")}catch(bt){rs(d,d.return,bt)}}x&4&&d.stateNode!=null&&(D=d.memoizedProps,Ck(d,D,v!==null?v.memoizedProps:D)),x&1024&&(Sk=!0);break;case 6:if(tu(f,d),nu(d),x&4){if(d.stateNode===null)throw Error(r(162));x=d.memoizedProps,v=d.stateNode;try{v.nodeValue=x}catch(bt){rs(d,d.return,bt)}}break;case 3:if(n_=null,D=jd,jd=e_(f.containerInfo),tu(f,d),jd=D,nu(d),x&4&&v!==null&&v.memoizedState.isDehydrated)try{VC(f.containerInfo)}catch(bt){rs(d,d.return,bt)}Sk&&(Sk=!1,QB(d));break;case 4:x=jd,jd=e_(d.stateNode.containerInfo),tu(f,d),nu(d),jd=x;break;case 12:tu(f,d),nu(d);break;case 13:tu(f,d),nu(d),d.child.flags&8192&&d.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Pk=ve()),x&4&&(x=d.updateQueue,x!==null&&(d.updateQueue=null,_k(d,x)));break;case 22:D=d.memoizedState!==null;var He=v!==null&&v.memoizedState!==null,pt=Ff,Ft=wo;if(Ff=pt||D,wo=Ft||He,tu(f,d),wo=Ft,Ff=pt,nu(d),x&8192)e:for(f=d.stateNode,f._visibility=D?f._visibility&-2:f._visibility|1,D&&(v===null||He||Ff||wo||Am(d)),v=null,f=d;;){if(f.tag===5||f.tag===26){if(v===null){He=v=f;try{if(G=He.stateNode,D)de=G.style,typeof de.setProperty=="function"?de.setProperty("display","none","important"):de.display="none";else{_e=He.stateNode;var Bt=He.memoizedProps.style,wt=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null;_e.style.display=wt==null||typeof wt=="boolean"?"":(""+wt).trim()}}catch(bt){rs(He,He.return,bt)}}}else if(f.tag===6){if(v===null){He=f;try{He.stateNode.nodeValue=D?"":He.memoizedProps}catch(bt){rs(He,He.return,bt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===d)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}x&4&&(x=d.updateQueue,x!==null&&(v=x.retryQueue,v!==null&&(x.retryQueue=null,_k(d,v))));break;case 19:tu(f,d),nu(d),x&4&&(x=d.updateQueue,x!==null&&(d.updateQueue=null,_k(d,x)));break;case 30:break;case 21:break;default:tu(f,d),nu(d)}}function nu(d){var f=d.flags;if(f&2){try{for(var v,x=d.return;x!==null;){if(UB(x)){v=x;break}x=x.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var D=v.stateNode,G=bk(d);z1(d,G,D);break;case 5:var de=v.stateNode;v.flags&32&&(Ys(de,""),v.flags&=-33);var _e=bk(d);z1(d,_e,de);break;case 3:case 4:var He=v.stateNode.containerInfo,pt=bk(d);xk(d,pt,He);break;default:throw Error(r(161))}}catch(Ft){rs(d,d.return,Ft)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function QB(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var f=d;QB(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),d=d.sibling}}function Mp(d,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)KB(d,f.alternate,f),f=f.sibling}function Am(d){for(d=d.child;d!==null;){var f=d;switch(f.tag){case 0:case 11:case 14:case 15:Ip(4,f,f.return),Am(f);break;case 1:Ah(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&zB(f,f.return,v),Am(f);break;case 27:DC(f.stateNode);case 26:case 5:Ah(f,f.return),Am(f);break;case 22:f.memoizedState===null&&Am(f);break;case 30:Am(f);break;default:Am(f)}d=d.sibling}}function Op(d,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var x=f.alternate,D=d,G=f,de=G.flags;switch(G.tag){case 0:case 11:case 15:Op(D,G,v),bC(4,G);break;case 1:if(Op(D,G,v),x=G,D=x.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(pt){rs(x,x.return,pt)}if(x=G,D=x.updateQueue,D!==null){var _e=x.stateNode;try{var He=D.shared.hiddenCallbacks;if(He!==null)for(D.shared.hiddenCallbacks=null,D=0;D<He.length;D++)Zn(He[D],_e)}catch(pt){rs(x,x.return,pt)}}v&&de&64&&HB(G),xC(G,G.return);break;case 27:WB(G);case 26:case 5:Op(D,G,v),v&&x===null&&de&4&&GB(G),xC(G,G.return);break;case 12:Op(D,G,v);break;case 13:Op(D,G,v),v&&de&4&&ZB(D,G);break;case 22:G.memoizedState===null&&Op(D,G,v),xC(G,G.return);break;case 30:break;default:Op(D,G,v)}f=f.sibling}}function Ek(d,f){var v=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),d=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(d=f.memoizedState.cachePool.pool),d!==v&&(d!=null&&d.refCount++,v!=null&&jc(v))}function Tk(d,f){d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&jc(d))}function kh(d,f,v,x){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)JB(d,f,v,x),f=f.sibling}function JB(d,f,v,x){var D=f.flags;switch(f.tag){case 0:case 11:case 15:kh(d,f,v,x),D&2048&&bC(9,f);break;case 1:kh(d,f,v,x);break;case 3:kh(d,f,v,x),D&2048&&(d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&jc(d)));break;case 12:if(D&2048){kh(d,f,v,x),d=f.stateNode;try{var G=f.memoizedProps,de=G.id,_e=G.onPostCommit;typeof _e=="function"&&_e(de,f.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(He){rs(f,f.return,He)}}else kh(d,f,v,x);break;case 13:kh(d,f,v,x);break;case 23:break;case 22:G=f.stateNode,de=f.alternate,f.memoizedState!==null?G._visibility&2?kh(d,f,v,x):SC(d,f):G._visibility&2?kh(d,f,v,x):(G._visibility|=2,Dv(d,f,v,x,(f.subtreeFlags&10256)!==0)),D&2048&&Ek(de,f);break;case 24:kh(d,f,v,x),D&2048&&Tk(f.alternate,f);break;default:kh(d,f,v,x)}}function Dv(d,f,v,x,D){for(D=D&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var G=d,de=f,_e=v,He=x,pt=de.flags;switch(de.tag){case 0:case 11:case 15:Dv(G,de,_e,He,D),bC(8,de);break;case 23:break;case 22:var Ft=de.stateNode;de.memoizedState!==null?Ft._visibility&2?Dv(G,de,_e,He,D):SC(G,de):(Ft._visibility|=2,Dv(G,de,_e,He,D)),D&&pt&2048&&Ek(de.alternate,de);break;case 24:Dv(G,de,_e,He,D),D&&pt&2048&&Tk(de.alternate,de);break;default:Dv(G,de,_e,He,D)}f=f.sibling}}function SC(d,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=d,x=f,D=x.flags;switch(x.tag){case 22:SC(v,x),D&2048&&Ek(x.alternate,x);break;case 24:SC(v,x),D&2048&&Tk(x.alternate,x);break;default:SC(v,x)}f=f.sibling}}var _C=8192;function Fv(d){if(d.subtreeFlags&_C)for(d=d.child;d!==null;)$B(d),d=d.sibling}function $B(d){switch(d.tag){case 26:Fv(d),d.flags&_C&&d.memoizedState!==null&&Nse(jd,d.memoizedState,d.memoizedProps);break;case 5:Fv(d);break;case 3:case 4:var f=jd;jd=e_(d.stateNode.containerInfo),Fv(d),jd=f;break;case 22:d.memoizedState===null&&(f=d.alternate,f!==null&&f.memoizedState!==null?(f=_C,_C=16777216,Fv(d),_C=f):Fv(d));break;default:Fv(d)}}function e3(d){var f=d.alternate;if(f!==null&&(d=f.child,d!==null)){f.child=null;do f=d.sibling,d.sibling=null,d=f;while(d!==null)}}function EC(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var x=f[v];xa=x,n3(x,d)}e3(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)t3(d),d=d.sibling}function t3(d){switch(d.tag){case 0:case 11:case 15:EC(d),d.flags&2048&&Ip(9,d,d.return);break;case 3:EC(d);break;case 12:EC(d);break;case 22:var f=d.stateNode;d.memoizedState!==null&&f._visibility&2&&(d.return===null||d.return.tag!==13)?(f._visibility&=-3,G1(d)):EC(d);break;default:EC(d)}}function G1(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var x=f[v];xa=x,n3(x,d)}e3(d)}for(d=d.child;d!==null;){switch(f=d,f.tag){case 0:case 11:case 15:Ip(8,f,f.return),G1(f);break;case 22:v=f.stateNode,v._visibility&2&&(v._visibility&=-3,G1(f));break;default:G1(f)}d=d.sibling}}function n3(d,f){for(;xa!==null;){var v=xa;switch(v.tag){case 0:case 11:case 15:Ip(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var x=v.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:jc(v.memoizedState.cache)}if(x=v.child,x!==null)x.return=v,xa=x;else e:for(v=d;xa!==null;){x=xa;var D=x.sibling,G=x.return;if(YB(x),x===v){xa=null;break e}if(D!==null){D.return=G,xa=D;break e}xa=G}}}var $ie={getCacheForType:function(d){var f=Is(Ui),v=f.data.get(d);return v===void 0&&(v=d(),f.data.set(d,v)),v}},ese=typeof WeakMap=="function"?WeakMap:Map,Fi=0,hs=null,Br=null,Jr=0,Ii=0,ru=null,Lp=!1,Iv=!1,Rk=!1,Mf=0,no=0,Np=0,km=0,Ak=0,Yu=0,Mv=0,TC=null,Cc=null,kk=!1,Pk=0,U1=1/0,W1=null,Bp=null,ja=0,Vp=null,Ov=null,Lv=0,Dk=0,Fk=null,r3=null,RC=0,Ik=null;function iu(){if((Fi&2)!==0&&Jr!==0)return Jr&-Jr;if(se.T!==null){var d=Kc;return d!==0?d:Hk()}return Ne()}function i3(){Yu===0&&(Yu=(Jr&536870912)===0||Vn?Qi():536870912);var d=Si.current;return d!==null&&(d.flags|=32),Yu}function su(d,f,v){(d===hs&&(Ii===2||Ii===9)||d.cancelPendingCommit!==null)&&(Nv(d,0),Hp(d,Jr,Yu,!1)),Bi(d,v),((Fi&2)===0||d!==hs)&&(d===hs&&((Fi&2)===0&&(km|=v),no===4&&Hp(d,Jr,Yu,!1)),Ph(d))}function s3(d,f,v){if((Fi&6)!==0)throw Error(r(327));var x=!v&&(f&124)===0&&(f&d.expiredLanes)===0||rr(d,f),D=x?rse(d,f):Lk(d,f,!0),G=x;do{if(D===0){Iv&&!x&&Hp(d,f,0,!1);break}else{if(v=d.current.alternate,G&&!tse(v)){D=Lk(d,f,!1),G=!1;continue}if(D===2){if(G=f,d.errorRecoveryDisabledLanes&G)var de=0;else de=d.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){f=de;e:{var _e=d;D=TC;var He=_e.current.memoizedState.isDehydrated;if(He&&(Nv(_e,de).flags|=256),de=Lk(_e,de,!1),de!==2){if(Rk&&!He){_e.errorRecoveryDisabledLanes|=G,km|=G,D=4;break e}G=Cc,Cc=D,G!==null&&(Cc===null?Cc=G:Cc.push.apply(Cc,G))}D=de}if(G=!1,D!==2)continue}}if(D===1){Nv(d,0),Hp(d,f,0,!0);break}e:{switch(x=d,G=D,G){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:Hp(x,f,Yu,!Lp);break e;case 2:Cc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(D=Pk+300-ve(),10<D)){if(Hp(x,f,Yu,!Lp),xn(x,0,!0)!==0)break e;x.timeoutHandle=M3(o3.bind(null,x,v,Cc,W1,kk,f,Yu,km,Mv,Lp,G,2,-0,0),D);break e}o3(x,v,Cc,W1,kk,f,Yu,km,Mv,Lp,G,0,-0,0)}}break}while(!0);Ph(d)}function o3(d,f,v,x,D,G,de,_e,He,pt,Ft,Bt,wt,bt){if(d.timeoutHandle=-1,Bt=f.subtreeFlags,(Bt&8192||(Bt&16785408)===16785408)&&(MC={stylesheets:null,count:0,unsuspend:Lse},$B(f),Bt=Bse(),Bt!==null)){d.cancelPendingCommit=Bt(f3.bind(null,d,f,G,v,x,D,de,_e,He,Ft,1,wt,bt)),Hp(d,G,de,!pt);return}f3(d,f,G,v,x,D,de,_e,He)}function tse(d){for(var f=d;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var x=0;x<v.length;x++){var D=v[x],G=D.getSnapshot;D=D.value;try{if(!$s(G(),D))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Hp(d,f,v,x){f&=~Ak,f&=~km,d.suspendedLanes|=f,d.pingedLanes&=~f,x&&(d.warmLanes|=f),x=d.expirationTimes;for(var D=f;0<D;){var G=31-Gt(D),de=1<<G;x[G]=-1,D&=~de}v!==0&&As(d,v,f)}function j1(){return(Fi&6)===0?(AC(0),!1):!0}function Mk(){if(Br!==null){if(Ii===0)var d=Br.return;else d=Br,za=Fs=null,cm(d),Eh=null,Gd=0,d=Br;for(;d!==null;)VB(d.alternate,d),d=d.return;Br=null}}function Nv(d,f){var v=d.timeoutHandle;v!==-1&&(d.timeoutHandle=-1,wse(v)),v=d.cancelPendingCommit,v!==null&&(d.cancelPendingCommit=null,v()),Mk(),hs=d,Br=v=ia(d.current,null),Jr=f,Ii=0,ru=null,Lp=!1,Iv=rr(d,f),Rk=!1,Mv=Yu=Ak=km=Np=no=0,Cc=TC=null,kk=!1,(f&8)!==0&&(f|=f&32);var x=d.entangledLanes;if(x!==0)for(d=d.entanglements,x&=f;0<x;){var D=31-Gt(x),G=1<<D;f|=d[D],x&=~G}return Mf=f,eo(),v}function a3(d,f){Wn=null,se.H=Sm,f===bl||f===mc?(f=le(),Ii=3):f===qc?(f=le(),Ii=4):Ii=f===EB?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ru=f,Br===null&&(no=1,Wd(d,Gr(f,d.current)))}function l3(){var d=se.H;return se.H=Sm,d===null?Sm:d}function c3(){var d=se.A;return se.A=$ie,d}function Ok(){no=4,Lp||(Jr&4194048)!==Jr&&Si.current!==null||(Iv=!0),(Np&134217727)===0&&(km&134217727)===0||hs===null||Hp(hs,Jr,Yu,!1)}function Lk(d,f,v){var x=Fi;Fi|=2;var D=l3(),G=c3();(hs!==d||Jr!==f)&&(W1=null,Nv(d,f)),f=!1;var de=no;e:do try{if(Ii!==0&&Br!==null){var _e=Br,He=ru;switch(Ii){case 8:Mk(),de=6;break e;case 3:case 2:case 9:case 6:Si.current===null&&(f=!0);var pt=Ii;if(Ii=0,ru=null,Bv(d,_e,He,pt),v&&Iv){de=0;break e}break;default:pt=Ii,Ii=0,ru=null,Bv(d,_e,He,pt)}}nse(),de=no;break}catch(Ft){a3(d,Ft)}while(!0);return f&&d.shellSuspendCounter++,za=Fs=null,Fi=x,se.H=D,se.A=G,Br===null&&(hs=null,Jr=0,eo()),de}function nse(){for(;Br!==null;)u3(Br)}function rse(d,f){var v=Fi;Fi|=2;var x=l3(),D=c3();hs!==d||Jr!==f?(W1=null,U1=ve()+500,Nv(d,f)):Iv=rr(d,f);e:do try{if(Ii!==0&&Br!==null){f=Br;var G=ru;t:switch(Ii){case 1:Ii=0,ru=null,Bv(d,f,G,1);break;case 2:case 9:if(wh(G)){Ii=0,ru=null,d3(f);break}f=function(){Ii!==2&&Ii!==9||hs!==d||(Ii=7),Ph(d)},G.then(f,f);break e;case 3:Ii=7;break e;case 4:Ii=5;break e;case 7:wh(G)?(Ii=0,ru=null,d3(f)):(Ii=0,ru=null,Bv(d,f,G,7));break;case 5:var de=null;switch(Br.tag){case 26:de=Br.memoizedState;case 5:case 27:var _e=Br;if(!de||K3(de)){Ii=0,ru=null;var He=_e.sibling;if(He!==null)Br=He;else{var pt=_e.return;pt!==null?(Br=pt,K1(pt)):Br=null}break t}}Ii=0,ru=null,Bv(d,f,G,5);break;case 6:Ii=0,ru=null,Bv(d,f,G,6);break;case 8:Mk(),no=6;break e;default:throw Error(r(462))}}ise();break}catch(Ft){a3(d,Ft)}while(!0);return za=Fs=null,se.H=x,se.A=D,Fi=v,Br!==null?0:(hs=null,Jr=0,eo(),no)}function ise(){for(;Br!==null&&!Ge();)u3(Br)}function u3(d){var f=NB(d.alternate,d,Mf);d.memoizedProps=d.pendingProps,f===null?K1(d):Br=f}function d3(d){var f=d,v=f.alternate;switch(f.tag){case 15:case 0:f=DB(v,f,f.pendingProps,f.type,void 0,Jr);break;case 11:f=DB(v,f,f.pendingProps,f.type.render,f.ref,Jr);break;case 5:cm(f);default:VB(v,f),f=Br=Hu(f,Mf),f=NB(v,f,Mf)}d.memoizedProps=d.pendingProps,f===null?K1(d):Br=f}function Bv(d,f,v,x){za=Fs=null,cm(f),Eh=null,Gd=0;var D=f.return;try{if(Yie(d,D,f,v,Jr)){no=1,Wd(d,Gr(v,d.current)),Br=null;return}}catch(G){if(D!==null)throw Br=D,G;no=1,Wd(d,Gr(v,d.current)),Br=null;return}f.flags&32768?(Vn||x===1?d=!0:Iv||(Jr&536870912)!==0?d=!1:(Lp=d=!0,(x===2||x===9||x===3||x===6)&&(x=Si.current,x!==null&&x.tag===13&&(x.flags|=16384))),h3(f,d)):K1(f)}function K1(d){var f=d;do{if((f.flags&32768)!==0){h3(f,Lp);return}d=f.return;var v=Zie(f.alternate,f,Mf);if(v!==null){Br=v;return}if(f=f.sibling,f!==null){Br=f;return}Br=f=d}while(f!==null);no===0&&(no=5)}function h3(d,f){do{var v=qie(d.alternate,d);if(v!==null){v.flags&=32767,Br=v;return}if(v=d.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(d=d.sibling,d!==null)){Br=d;return}Br=d=v}while(d!==null);no=6,Br=null}function f3(d,f,v,x,D,G,de,_e,He){d.cancelPendingCommit=null;do Y1();while(ja!==0);if((Fi&6)!==0)throw Error(r(327));if(f!==null){if(f===d.current)throw Error(r(177));if(G=f.lanes|f.childLanes,G|=Cs,gs(d,v,G,de,_e,He),d===hs&&(Br=hs=null,Jr=0),Ov=f,Vp=d,Lv=v,Dk=G,Fk=D,r3=x,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,lse(nt,function(){return y3(),null})):(d.callbackNode=null,d.callbackPriority=0),x=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||x){x=se.T,se.T=null,D=ue.p,ue.p=2,de=Fi,Fi|=4;try{Qie(d,f,v)}finally{Fi=de,ue.p=D,se.T=x}}ja=1,p3(),g3(),m3()}}function p3(){if(ja===1){ja=0;var d=Vp,f=Ov,v=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||v){v=se.T,se.T=null;var x=ue.p;ue.p=2;var D=Fi;Fi|=4;try{qB(f,d);var G=Xk,de=Y(d.containerInfo),_e=G.focusedElem,He=G.selectionRange;if(de!==_e&&_e&&_e.ownerDocument&&F(_e.ownerDocument.documentElement,_e)){if(He!==null&&oe(_e)){var pt=He.start,Ft=He.end;if(Ft===void 0&&(Ft=pt),"selectionStart"in _e)_e.selectionStart=pt,_e.selectionEnd=Math.min(Ft,_e.value.length);else{var Bt=_e.ownerDocument||document,wt=Bt&&Bt.defaultView||window;if(wt.getSelection){var bt=wt.getSelection(),er=_e.textContent.length,jn=Math.min(He.start,er),Ki=He.end===void 0?jn:Math.min(He.end,er);!bt.extend&&jn>Ki&&(de=Ki,Ki=jn,jn=de);var rt=A(_e,jn),Ze=A(_e,Ki);if(rt&&Ze&&(bt.rangeCount!==1||bt.anchorNode!==rt.node||bt.anchorOffset!==rt.offset||bt.focusNode!==Ze.node||bt.focusOffset!==Ze.offset)){var dt=Bt.createRange();dt.setStart(rt.node,rt.offset),bt.removeAllRanges(),jn>Ki?(bt.addRange(dt),bt.extend(Ze.node,Ze.offset)):(dt.setEnd(Ze.node,Ze.offset),bt.addRange(dt))}}}}for(Bt=[],bt=_e;bt=bt.parentNode;)bt.nodeType===1&&Bt.push({element:bt,left:bt.scrollLeft,top:bt.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<Bt.length;_e++){var Lt=Bt[_e];Lt.element.scrollLeft=Lt.left,Lt.element.scrollTop=Lt.top}}s_=!!Yk,Xk=Yk=null}finally{Fi=D,ue.p=x,se.T=v}}d.current=f,ja=2}}function g3(){if(ja===2){ja=0;var d=Vp,f=Ov,v=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||v){v=se.T,se.T=null;var x=ue.p;ue.p=2;var D=Fi;Fi|=4;try{KB(d,f.alternate,f)}finally{Fi=D,ue.p=x,se.T=v}}ja=3}}function m3(){if(ja===4||ja===3){ja=0,Me();var d=Vp,f=Ov,v=Lv,x=r3;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ja=5:(ja=0,Ov=Vp=null,v3(d,d.pendingLanes));var D=d.pendingLanes;if(D===0&&(Bp=null),Ci(v),f=f.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(Ie,f,void 0,(f.current.flags&128)===128)}catch{}if(x!==null){f=se.T,D=ue.p,ue.p=2,se.T=null;try{for(var G=d.onRecoverableError,de=0;de<x.length;de++){var _e=x[de];G(_e.value,{componentStack:_e.stack})}}finally{se.T=f,ue.p=D}}(Lv&3)!==0&&Y1(),Ph(d),D=d.pendingLanes,(v&4194090)!==0&&(D&42)!==0?d===Ik?RC++:(RC=0,Ik=d):RC=0,AC(0)}}function v3(d,f){(d.pooledCacheLanes&=f)===0&&(f=d.pooledCache,f!=null&&(d.pooledCache=null,jc(f)))}function Y1(d){return p3(),g3(),m3(),y3()}function y3(){if(ja!==5)return!1;var d=Vp,f=Dk;Dk=0;var v=Ci(Lv),x=se.T,D=ue.p;try{ue.p=32>v?32:v,se.T=null,v=Fk,Fk=null;var G=Vp,de=Lv;if(ja=0,Ov=Vp=null,Lv=0,(Fi&6)!==0)throw Error(r(331));var _e=Fi;if(Fi|=4,t3(G.current),JB(G,G.current,de,v),Fi=_e,AC(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(Ie,G)}catch{}return!0}finally{ue.p=D,se.T=x,v3(d,f)}}function w3(d,f,v){f=Gr(v,f),f=Pv(d.stateNode,f,2),d=ot(d,f,2),d!==null&&(Bi(d,2),Ph(d))}function rs(d,f,v){if(d.tag===3)w3(d,d,v);else for(;f!==null;){if(f.tag===3){w3(f,d,v);break}else if(f.tag===1){var x=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Bp===null||!Bp.has(x))){d=Gr(v,d),v=SB(2),x=ot(f,v,2),x!==null&&(_B(v,x,f,d),Bi(x,2),Ph(x));break}}f=f.return}}function Nk(d,f,v){var x=d.pingCache;if(x===null){x=d.pingCache=new ese;var D=new Set;x.set(f,D)}else D=x.get(f),D===void 0&&(D=new Set,x.set(f,D));D.has(v)||(Rk=!0,D.add(v),d=sse.bind(null,d,f,v),f.then(d,d))}function sse(d,f,v){var x=d.pingCache;x!==null&&x.delete(f),d.pingedLanes|=d.suspendedLanes&v,d.warmLanes&=~v,hs===d&&(Jr&v)===v&&(no===4||no===3&&(Jr&62914560)===Jr&&300>ve()-Pk?(Fi&2)===0&&Nv(d,0):Ak|=v,Mv===Jr&&(Mv=0)),Ph(d)}function C3(d,f){f===0&&(f=Ni()),d=ts(d,f),d!==null&&(Bi(d,f),Ph(d))}function ose(d){var f=d.memoizedState,v=0;f!==null&&(v=f.retryLane),C3(d,v)}function ase(d,f){var v=0;switch(d.tag){case 13:var x=d.stateNode,D=d.memoizedState;D!==null&&(v=D.retryLane);break;case 19:x=d.stateNode;break;case 22:x=d.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(f),C3(d,v)}function lse(d,f){return $t(d,f)}var X1=null,Vv=null,Bk=!1,Z1=!1,Vk=!1,Pm=0;function Ph(d){d!==Vv&&d.next===null&&(Vv===null?X1=Vv=d:Vv=Vv.next=d),Z1=!0,Bk||(Bk=!0,use())}function AC(d,f){if(!Vk&&Z1){Vk=!0;do for(var v=!1,x=X1;x!==null;){if(d!==0){var D=x.pendingLanes;if(D===0)var G=0;else{var de=x.suspendedLanes,_e=x.pingedLanes;G=(1<<31-Gt(42|d)+1)-1,G&=D&~(de&~_e),G=G&201326741?G&201326741|1:G?G|2:0}G!==0&&(v=!0,_3(x,G))}else G=Jr,G=xn(x,x===hs?G:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(G&3)===0||rr(x,G)||(v=!0,_3(x,G));x=x.next}while(v);Vk=!1}}function cse(){b3()}function b3(){Z1=Bk=!1;var d=0;Pm!==0&&(yse()&&(d=Pm),Pm=0);for(var f=ve(),v=null,x=X1;x!==null;){var D=x.next,G=x3(x,f);G===0?(x.next=null,v===null?X1=D:v.next=D,D===null&&(Vv=v)):(v=x,(d!==0||(G&3)!==0)&&(Z1=!0)),x=D}AC(d)}function x3(d,f){for(var v=d.suspendedLanes,x=d.pingedLanes,D=d.expirationTimes,G=d.pendingLanes&-62914561;0<G;){var de=31-Gt(G),_e=1<<de,He=D[de];He===-1?((_e&v)===0||(_e&x)!==0)&&(D[de]=fi(_e,f)):He<=f&&(d.expiredLanes|=_e),G&=~_e}if(f=hs,v=Jr,v=xn(d,d===f?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),x=d.callbackNode,v===0||d===f&&(Ii===2||Ii===9)||d.cancelPendingCommit!==null)return x!==null&&x!==null&&ne(x),d.callbackNode=null,d.callbackPriority=0;if((v&3)===0||rr(d,v)){if(f=v&-v,f===d.callbackPriority)return f;switch(x!==null&&ne(x),Ci(v)){case 2:case 8:v=Je;break;case 32:v=nt;break;case 268435456:v=gt;break;default:v=nt}return x=S3.bind(null,d),v=$t(v,x),d.callbackPriority=f,d.callbackNode=v,f}return x!==null&&x!==null&&ne(x),d.callbackPriority=2,d.callbackNode=null,2}function S3(d,f){if(ja!==0&&ja!==5)return d.callbackNode=null,d.callbackPriority=0,null;var v=d.callbackNode;if(Y1()&&d.callbackNode!==v)return null;var x=Jr;return x=xn(d,d===hs?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),x===0?null:(s3(d,x,f),x3(d,ve()),d.callbackNode!=null&&d.callbackNode===v?S3.bind(null,d):null)}function _3(d,f){if(Y1())return null;s3(d,f,!0)}function use(){Cse(function(){(Fi&6)!==0?$t(Le,cse):b3()})}function Hk(){return Pm===0&&(Pm=Qi()),Pm}function E3(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Oa(""+d)}function T3(d,f){var v=f.ownerDocument.createElement("input");return v.name=f.name,v.value=f.value,d.id&&v.setAttribute("form",d.id),f.parentNode.insertBefore(v,f),d=new FormData(d),v.parentNode.removeChild(v),d}function dse(d,f,v,x,D){if(f==="submit"&&v&&v.stateNode===D){var G=E3((D[Dt]||null).action),de=x.submitter;de&&(f=(f=de[Dt]||null)?E3(f.formAction):de.getAttribute("formAction"),f!==null&&(G=f,de=null));var _e=new fa("action","action",null,x,D);d.push({event:_e,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Pm!==0){var He=de?T3(D,de):new FormData(D);Sv(v,{pending:!0,data:He,method:D.method,action:G},null,He)}}else typeof G=="function"&&(_e.preventDefault(),He=de?T3(D,de):new FormData(D),Sv(v,{pending:!0,data:He,method:D.method,action:G},G,He))},currentTarget:D}]})}}for(var zk=0;zk<xi.length;zk++){var Gk=xi[zk],hse=Gk.toLowerCase(),fse=Gk[0].toUpperCase()+Gk.slice(1);li(hse,"on"+fse)}li(Un,"onAnimationEnd"),li(pr,"onAnimationIteration"),li(Nr,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(qr,"onTransitionRun"),li(ii,"onTransitionStart"),li(En,"onTransitionCancel"),li(ki,"onTransitionEnd"),Wt("onMouseEnter",["mouseout","mouseover"]),Wt("onMouseLeave",["mouseout","mouseover"]),Wt("onPointerEnter",["pointerout","pointerover"]),Wt("onPointerLeave",["pointerout","pointerover"]),Ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kC="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pse=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kC));function R3(d,f){f=(f&4)!==0;for(var v=0;v<d.length;v++){var x=d[v],D=x.event;x=x.listeners;e:{var G=void 0;if(f)for(var de=x.length-1;0<=de;de--){var _e=x[de],He=_e.instance,pt=_e.currentTarget;if(_e=_e.listener,He!==G&&D.isPropagationStopped())break e;G=_e,D.currentTarget=pt;try{G(D)}catch(Ft){Fp(Ft)}D.currentTarget=null,G=He}else for(de=0;de<x.length;de++){if(_e=x[de],He=_e.instance,pt=_e.currentTarget,_e=_e.listener,He!==G&&D.isPropagationStopped())break e;G=_e,D.currentTarget=pt;try{G(D)}catch(Ft){Fp(Ft)}D.currentTarget=null,G=He}}}}function Vr(d,f){var v=f[an];v===void 0&&(v=f[an]=new Set);var x=d+"__bubble";v.has(x)||(A3(f,d,2,!1),v.add(x))}function Uk(d,f,v){var x=0;f&&(x|=4),A3(v,d,x,f)}var q1="_reactListening"+Math.random().toString(36).slice(2);function Wk(d){if(!d[q1]){d[q1]=!0,$e.forEach(function(v){v!=="selectionchange"&&(pse.has(v)||Uk(v,!1,d),Uk(v,!0,d))});var f=d.nodeType===9?d:d.ownerDocument;f===null||f[q1]||(f[q1]=!0,Uk("selectionchange",!1,f))}}function A3(d,f,v,x){switch(J3(f)){case 2:var D=zse;break;case 8:D=Gse;break;default:D=iP}v=D.bind(null,f,v,d),D=void 0,!Ls||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(D=!0),x?D!==void 0?d.addEventListener(f,v,{capture:!0,passive:D}):d.addEventListener(f,v,!0):D!==void 0?d.addEventListener(f,v,{passive:D}):d.addEventListener(f,v,!1)}function jk(d,f,v,x,D){var G=x;if((f&1)===0&&(f&2)===0&&x!==null)e:for(;;){if(x===null)return;var de=x.tag;if(de===3||de===4){var _e=x.stateNode.containerInfo;if(_e===D)break;if(de===4)for(de=x.return;de!==null;){var He=de.tag;if((He===3||He===4)&&de.stateNode.containerInfo===D)return;de=de.return}for(;_e!==null;){if(de=Ee(_e),de===null)return;if(He=de.tag,He===5||He===6||He===26||He===27){x=G=de;continue e}_e=_e.parentNode}}x=x.return}Xs(function(){var pt=G,Ft=go(v),Bt=[];e:{var wt=gr.get(d);if(wt!==void 0){var bt=fa,er=d;switch(d){case"keypress":if(Ar(v)===0)break e;case"keydown":case"keyup":bt=Ou;break;case"focusin":er="focus",bt=ll;break;case"focusout":er="blur",bt=ll;break;case"beforeblur":case"afterblur":bt=ll;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Qs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=hc;break;case Un:case pr:case Nr:bt=Kl;break;case ki:bt=hl;break;case"scroll":case"scrollend":bt=Pd;break;case"wheel":bt=as;break;case"copy":case"cut":case"paste":bt=cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=dl;break;case"toggle":case"beforetoggle":bt=Io}var jn=(f&4)!==0,Ki=!jn&&(d==="scroll"||d==="scrollend"),rt=jn?wt!==null?wt+"Capture":null:wt;jn=[];for(var Ze=pt,dt;Ze!==null;){var Lt=Ze;if(dt=Lt.stateNode,Lt=Lt.tag,Lt!==5&&Lt!==26&&Lt!==27||dt===null||rt===null||(Lt=Sn(Ze,rt),Lt!=null&&jn.push(PC(Ze,Lt,dt))),Ki)break;Ze=Ze.return}0<jn.length&&(wt=new bt(wt,er,null,v,Ft),Bt.push({event:wt,listeners:jn}))}}if((f&7)===0){e:{if(wt=d==="mouseover"||d==="pointerover",bt=d==="mouseout"||d==="pointerout",wt&&v!==La&&(er=v.relatedTarget||v.fromElement)&&(Ee(er)||er[ln]))break e;if((bt||wt)&&(wt=Ft.window===Ft?Ft:(wt=Ft.ownerDocument)?wt.defaultView||wt.parentWindow:window,bt?(er=v.relatedTarget||v.toElement,bt=pt,er=er?Ee(er):null,er!==null&&(Ki=s(er),jn=er.tag,er!==Ki||jn!==5&&jn!==27&&jn!==6)&&(er=null)):(bt=null,er=pt),bt!==er)){if(jn=Qs,Lt="onMouseLeave",rt="onMouseEnter",Ze="mouse",(d==="pointerout"||d==="pointerover")&&(jn=dl,Lt="onPointerLeave",rt="onPointerEnter",Ze="pointer"),Ki=bt==null?wt:Xe(bt),dt=er==null?wt:Xe(er),wt=new jn(Lt,Ze+"leave",bt,v,Ft),wt.target=Ki,wt.relatedTarget=dt,Lt=null,Ee(Ft)===pt&&(jn=new jn(rt,Ze+"enter",er,v,Ft),jn.target=dt,jn.relatedTarget=Ki,Lt=jn),Ki=Lt,bt&&er)t:{for(jn=bt,rt=er,Ze=0,dt=jn;dt;dt=Hv(dt))Ze++;for(dt=0,Lt=rt;Lt;Lt=Hv(Lt))dt++;for(;0<Ze-dt;)jn=Hv(jn),Ze--;for(;0<dt-Ze;)rt=Hv(rt),dt--;for(;Ze--;){if(jn===rt||rt!==null&&jn===rt.alternate)break t;jn=Hv(jn),rt=Hv(rt)}jn=null}else jn=null;bt!==null&&k3(Bt,wt,bt,jn,!1),er!==null&&Ki!==null&&k3(Bt,Ki,er,jn,!0)}}e:{if(wt=pt?Xe(pt):window,bt=wt.nodeName&&wt.nodeName.toLowerCase(),bt==="select"||bt==="input"&&wt.type==="file")var Cn=zc;else if(ai(wt))if(Fd)Cn=Gc;else{Cn=_f;var Mr=Bu}else bt=wt.nodeName,!bt||bt.toLowerCase()!=="input"||wt.type!=="checkbox"&&wt.type!=="radio"?pt&&Ma(pt.elementType)&&(Cn=zc):Cn=na;if(Cn&&(Cn=Cn(d,pt))){Na(Bt,Cn,v,Ft);break e}Mr&&Mr(d,wt,pt),d==="focusout"&&pt&&wt.type==="number"&&pt.memoizedProps.value!=null&&ho(wt,"number",wt.value)}switch(Mr=pt?Xe(pt):window,d){case"focusin":(ai(Mr)||Mr.contentEditable==="true")&&(Ae=Mr,Ue=pt,St=null);break;case"focusout":St=Ue=Ae=null;break;case"mousedown":ct=!0;break;case"contextmenu":case"mouseup":case"dragend":ct=!1,xt(Bt,v,Ft);break;case"selectionchange":if(ge)break;case"keydown":case"keyup":xt(Bt,v,Ft)}var Dn;if(Js)e:{switch(d){case"compositionstart":var Yn="onCompositionStart";break e;case"compositionend":Yn="onCompositionEnd";break e;case"compositionupdate":Yn="onCompositionUpdate";break e}Yn=void 0}else fr?Ct(d,v)&&(Yn="onCompositionEnd"):d==="keydown"&&v.keyCode===229&&(Yn="onCompositionStart");Yn&&(ae&&v.locale!=="ko"&&(fr||Yn!=="onCompositionStart"?Yn==="onCompositionEnd"&&fr&&(Dn=Do()):(qs=Ft,Ps="value"in qs?qs.value:qs.textContent,fr=!0)),Mr=Q1(pt,Yn),0<Mr.length&&(Yn=new ws(Yn,d,null,v,Ft),Bt.push({event:Yn,listeners:Mr}),Dn?Yn.data=Dn:(Dn=Zt(v),Dn!==null&&(Yn.data=Dn)))),(Dn=ee?Fr(d,v):Er(d,v))&&(Yn=Q1(pt,"onBeforeInput"),0<Yn.length&&(Mr=new ws("onBeforeInput","beforeinput",null,v,Ft),Bt.push({event:Mr,listeners:Yn}),Mr.data=Dn)),dse(Bt,d,pt,v,Ft)}R3(Bt,f)})}function PC(d,f,v){return{instance:d,listener:f,currentTarget:v}}function Q1(d,f){for(var v=f+"Capture",x=[];d!==null;){var D=d,G=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||G===null||(D=Sn(d,v),D!=null&&x.unshift(PC(d,D,G)),D=Sn(d,f),D!=null&&x.push(PC(d,D,G))),d.tag===3)return x;d=d.return}return[]}function Hv(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function k3(d,f,v,x,D){for(var G=f._reactName,de=[];v!==null&&v!==x;){var _e=v,He=_e.alternate,pt=_e.stateNode;if(_e=_e.tag,He!==null&&He===x)break;_e!==5&&_e!==26&&_e!==27||pt===null||(He=pt,D?(pt=Sn(v,G),pt!=null&&de.unshift(PC(v,pt,He))):D||(pt=Sn(v,G),pt!=null&&de.push(PC(v,pt,He)))),v=v.return}de.length!==0&&d.push({event:f,listeners:de})}var gse=/\r\n?/g,mse=/\u0000|\uFFFD/g;function P3(d){return(typeof d=="string"?d:""+d).replace(gse,`
`).replace(mse,"")}function D3(d,f){return f=P3(f),P3(d)===f}function J1(){}function ji(d,f,v,x,D,G){switch(v){case"children":typeof x=="string"?f==="body"||f==="textarea"&&x===""||Ys(d,x):(typeof x=="number"||typeof x=="bigint")&&f!=="body"&&Ys(d,""+x);break;case"className":Kn(d,"class",x);break;case"tabIndex":Kn(d,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(d,v,x);break;case"style":po(d,x,G);break;case"data":if(f!=="object"){Kn(d,"data",x);break}case"src":case"href":if(x===""&&(f!=="a"||v!=="href")){d.removeAttribute(v);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){d.removeAttribute(v);break}x=Oa(""+x),d.setAttribute(v,x);break;case"action":case"formAction":if(typeof x=="function"){d.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G=="function"&&(v==="formAction"?(f!=="input"&&ji(d,f,"name",D.name,D,null),ji(d,f,"formEncType",D.formEncType,D,null),ji(d,f,"formMethod",D.formMethod,D,null),ji(d,f,"formTarget",D.formTarget,D,null)):(ji(d,f,"encType",D.encType,D,null),ji(d,f,"method",D.method,D,null),ji(d,f,"target",D.target,D,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){d.removeAttribute(v);break}x=Oa(""+x),d.setAttribute(v,x);break;case"onClick":x!=null&&(d.onclick=J1);break;case"onScroll":x!=null&&Vr("scroll",d);break;case"onScrollEnd":x!=null&&Vr("scrollend",d);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(v=x.__html,v!=null){if(D.children!=null)throw Error(r(60));d.innerHTML=v}}break;case"multiple":d.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":d.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){d.removeAttribute("xlink:href");break}v=Oa(""+x),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?d.setAttribute(v,""+x):d.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?d.setAttribute(v,""):d.removeAttribute(v);break;case"capture":case"download":x===!0?d.setAttribute(v,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?d.setAttribute(v,x):d.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?d.setAttribute(v,x):d.removeAttribute(v);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?d.removeAttribute(v):d.setAttribute(v,x);break;case"popover":Vr("beforetoggle",d),Vr("toggle",d),sr(d,"popover",x);break;case"xlinkActuate":dn(d,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":dn(d,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":dn(d,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":dn(d,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":dn(d,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":dn(d,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":dn(d,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":dn(d,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":dn(d,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":sr(d,"is",x);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=kd.get(v)||v,sr(d,v,x))}}function Kk(d,f,v,x,D,G){switch(v){case"style":po(d,x,G);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(v=x.__html,v!=null){if(D.children!=null)throw Error(r(60));d.innerHTML=v}}break;case"children":typeof x=="string"?Ys(d,x):(typeof x=="number"||typeof x=="bigint")&&Ys(d,""+x);break;case"onScroll":x!=null&&Vr("scroll",d);break;case"onScrollEnd":x!=null&&Vr("scrollend",d);break;case"onClick":x!=null&&(d.onclick=J1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ut.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(D=v.endsWith("Capture"),f=v.slice(2,D?v.length-7:void 0),G=d[Dt]||null,G=G!=null?G[v]:null,typeof G=="function"&&d.removeEventListener(f,G,D),typeof x=="function")){typeof G!="function"&&G!==null&&(v in d?d[v]=null:d.hasAttribute(v)&&d.removeAttribute(v)),d.addEventListener(f,x,D);break e}v in d?d[v]=x:x===!0?d.setAttribute(v,""):sr(d,v,x)}}}function Ka(d,f,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vr("error",d),Vr("load",d);var x=!1,D=!1,G;for(G in v)if(v.hasOwnProperty(G)){var de=v[G];if(de!=null)switch(G){case"src":x=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:ji(d,f,G,de,v,null)}}D&&ji(d,f,"srcSet",v.srcSet,v,null),x&&ji(d,f,"src",v.src,v,null);return;case"input":Vr("invalid",d);var _e=G=de=D=null,He=null,pt=null;for(x in v)if(v.hasOwnProperty(x)){var Ft=v[x];if(Ft!=null)switch(x){case"name":D=Ft;break;case"type":de=Ft;break;case"checked":He=Ft;break;case"defaultChecked":pt=Ft;break;case"value":G=Ft;break;case"defaultValue":_e=Ft;break;case"children":case"dangerouslySetInnerHTML":if(Ft!=null)throw Error(r(137,f));break;default:ji(d,f,x,Ft,v,null)}}ko(d,G,_e,He,pt,de,D,!1),uo(d);return;case"select":Vr("invalid",d),x=de=G=null;for(D in v)if(v.hasOwnProperty(D)&&(_e=v[D],_e!=null))switch(D){case"value":G=_e;break;case"defaultValue":de=_e;break;case"multiple":x=_e;default:ji(d,f,D,_e,v,null)}f=G,v=de,d.multiple=!!x,f!=null?fo(d,!!x,f,!1):v!=null&&fo(d,!!x,v,!0);return;case"textarea":Vr("invalid",d),G=D=x=null;for(de in v)if(v.hasOwnProperty(de)&&(_e=v[de],_e!=null))switch(de){case"value":x=_e;break;case"defaultValue":D=_e;break;case"children":G=_e;break;case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(91));break;default:ji(d,f,de,_e,v,null)}Ks(d,x,D,G),uo(d);return;case"option":for(He in v)if(v.hasOwnProperty(He)&&(x=v[He],x!=null))switch(He){case"selected":d.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:ji(d,f,He,x,v,null)}return;case"dialog":Vr("beforetoggle",d),Vr("toggle",d),Vr("cancel",d),Vr("close",d);break;case"iframe":case"object":Vr("load",d);break;case"video":case"audio":for(x=0;x<kC.length;x++)Vr(kC[x],d);break;case"image":Vr("error",d),Vr("load",d);break;case"details":Vr("toggle",d);break;case"embed":case"source":case"link":Vr("error",d),Vr("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pt in v)if(v.hasOwnProperty(pt)&&(x=v[pt],x!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:ji(d,f,pt,x,v,null)}return;default:if(Ma(f)){for(Ft in v)v.hasOwnProperty(Ft)&&(x=v[Ft],x!==void 0&&Kk(d,f,Ft,x,v,void 0));return}}for(_e in v)v.hasOwnProperty(_e)&&(x=v[_e],x!=null&&ji(d,f,_e,x,v,null))}function vse(d,f,v,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,G=null,de=null,_e=null,He=null,pt=null,Ft=null;for(bt in v){var Bt=v[bt];if(v.hasOwnProperty(bt)&&Bt!=null)switch(bt){case"checked":break;case"value":break;case"defaultValue":He=Bt;default:x.hasOwnProperty(bt)||ji(d,f,bt,null,x,Bt)}}for(var wt in x){var bt=x[wt];if(Bt=v[wt],x.hasOwnProperty(wt)&&(bt!=null||Bt!=null))switch(wt){case"type":G=bt;break;case"name":D=bt;break;case"checked":pt=bt;break;case"defaultChecked":Ft=bt;break;case"value":de=bt;break;case"defaultValue":_e=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(r(137,f));break;default:bt!==Bt&&ji(d,f,wt,bt,x,Bt)}}pi(d,de,_e,He,pt,Ft,G,D);return;case"select":bt=de=_e=wt=null;for(G in v)if(He=v[G],v.hasOwnProperty(G)&&He!=null)switch(G){case"value":break;case"multiple":bt=He;default:x.hasOwnProperty(G)||ji(d,f,G,null,x,He)}for(D in x)if(G=x[D],He=v[D],x.hasOwnProperty(D)&&(G!=null||He!=null))switch(D){case"value":wt=G;break;case"defaultValue":_e=G;break;case"multiple":de=G;default:G!==He&&ji(d,f,D,G,x,He)}f=_e,v=de,x=bt,wt!=null?fo(d,!!v,wt,!1):!!x!=!!v&&(f!=null?fo(d,!!v,f,!0):fo(d,!!v,v?[]:"",!1));return;case"textarea":bt=wt=null;for(_e in v)if(D=v[_e],v.hasOwnProperty(_e)&&D!=null&&!x.hasOwnProperty(_e))switch(_e){case"value":break;case"children":break;default:ji(d,f,_e,null,x,D)}for(de in x)if(D=x[de],G=v[de],x.hasOwnProperty(de)&&(D!=null||G!=null))switch(de){case"value":wt=D;break;case"defaultValue":bt=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:D!==G&&ji(d,f,de,D,x,G)}Bn(d,wt,bt);return;case"option":for(var er in v)if(wt=v[er],v.hasOwnProperty(er)&&wt!=null&&!x.hasOwnProperty(er))switch(er){case"selected":d.selected=!1;break;default:ji(d,f,er,null,x,wt)}for(He in x)if(wt=x[He],bt=v[He],x.hasOwnProperty(He)&&wt!==bt&&(wt!=null||bt!=null))switch(He){case"selected":d.selected=wt&&typeof wt!="function"&&typeof wt!="symbol";break;default:ji(d,f,He,wt,x,bt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var jn in v)wt=v[jn],v.hasOwnProperty(jn)&&wt!=null&&!x.hasOwnProperty(jn)&&ji(d,f,jn,null,x,wt);for(pt in x)if(wt=x[pt],bt=v[pt],x.hasOwnProperty(pt)&&wt!==bt&&(wt!=null||bt!=null))switch(pt){case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(r(137,f));break;default:ji(d,f,pt,wt,x,bt)}return;default:if(Ma(f)){for(var Ki in v)wt=v[Ki],v.hasOwnProperty(Ki)&&wt!==void 0&&!x.hasOwnProperty(Ki)&&Kk(d,f,Ki,void 0,x,wt);for(Ft in x)wt=x[Ft],bt=v[Ft],!x.hasOwnProperty(Ft)||wt===bt||wt===void 0&&bt===void 0||Kk(d,f,Ft,wt,x,bt);return}}for(var rt in v)wt=v[rt],v.hasOwnProperty(rt)&&wt!=null&&!x.hasOwnProperty(rt)&&ji(d,f,rt,null,x,wt);for(Bt in x)wt=x[Bt],bt=v[Bt],!x.hasOwnProperty(Bt)||wt===bt||wt==null&&bt==null||ji(d,f,Bt,wt,x,bt)}var Yk=null,Xk=null;function $1(d){return d.nodeType===9?d:d.ownerDocument}function F3(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I3(d,f){if(d===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&f==="foreignObject"?0:d}function Zk(d,f){return d==="textarea"||d==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var qk=null;function yse(){var d=window.event;return d&&d.type==="popstate"?d===qk?!1:(qk=d,!0):(qk=null,!1)}var M3=typeof setTimeout=="function"?setTimeout:void 0,wse=typeof clearTimeout=="function"?clearTimeout:void 0,O3=typeof Promise=="function"?Promise:void 0,Cse=typeof queueMicrotask=="function"?queueMicrotask:typeof O3<"u"?function(d){return O3.resolve(null).then(d).catch(bse)}:M3;function bse(d){setTimeout(function(){throw d})}function zp(d){return d==="head"}function L3(d,f){var v=f,x=0,D=0;do{var G=v.nextSibling;if(d.removeChild(v),G&&G.nodeType===8)if(v=G.data,v==="/$"){if(0<x&&8>x){v=x;var de=d.ownerDocument;if(v&1&&DC(de.documentElement),v&2&&DC(de.body),v&4)for(v=de.head,DC(v),de=v.firstChild;de;){var _e=de.nextSibling,He=de.nodeName;de[be]||He==="SCRIPT"||He==="STYLE"||He==="LINK"&&de.rel.toLowerCase()==="stylesheet"||v.removeChild(de),de=_e}}if(D===0){d.removeChild(G),VC(f);return}D--}else v==="$"||v==="$?"||v==="$!"?D++:x=v.charCodeAt(0)-48;else x=0;v=G}while(v);VC(f)}function Qk(d){var f=d.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var v=f;switch(f=f.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":Qk(v),Ce(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}d.removeChild(v)}}function xse(d,f,v,x){for(;d.nodeType===1;){var D=v;if(d.nodeName.toLowerCase()!==f.toLowerCase()){if(!x&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(x){if(!d[be])switch(f){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(G=d.getAttribute("rel"),G==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(G!==D.rel||d.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||d.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||d.getAttribute("title")!==(D.title==null?null:D.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(G=d.getAttribute("src"),(G!==(D.src==null?null:D.src)||d.getAttribute("type")!==(D.type==null?null:D.type)||d.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&G&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(f==="input"&&d.type==="hidden"){var G=D.name==null?null:""+D.name;if(D.type==="hidden"&&d.getAttribute("name")===G)return d}else return d;if(d=Kd(d.nextSibling),d===null)break}return null}function Sse(d,f,v){if(f==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!v||(d=Kd(d.nextSibling),d===null))return null;return d}function Jk(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState==="complete"}function _se(d,f){var v=d.ownerDocument;if(d.data!=="$?"||v.readyState==="complete")f();else{var x=function(){f(),v.removeEventListener("DOMContentLoaded",x)};v.addEventListener("DOMContentLoaded",x),d._reactRetry=x}}function Kd(d){for(;d!=null;d=d.nextSibling){var f=d.nodeType;if(f===1||f===3)break;if(f===8){if(f=d.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return d}var $k=null;function N3(d){d=d.previousSibling;for(var f=0;d;){if(d.nodeType===8){var v=d.data;if(v==="$"||v==="$!"||v==="$?"){if(f===0)return d;f--}else v==="/$"&&f++}d=d.previousSibling}return null}function B3(d,f,v){switch(f=$1(v),d){case"html":if(d=f.documentElement,!d)throw Error(r(452));return d;case"head":if(d=f.head,!d)throw Error(r(453));return d;case"body":if(d=f.body,!d)throw Error(r(454));return d;default:throw Error(r(451))}}function DC(d){for(var f=d.attributes;f.length;)d.removeAttributeNode(f[0]);Ce(d)}var Xu=new Map,V3=new Set;function e_(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Of=ue.d;ue.d={f:Ese,r:Tse,D:Rse,C:Ase,L:kse,m:Pse,X:Fse,S:Dse,M:Ise};function Ese(){var d=Of.f(),f=j1();return d||f}function Tse(d){var f=Fe(d);f!==null&&f.tag===5&&f.type==="form"?_v(f):Of.r(d)}var zv=typeof document>"u"?null:document;function H3(d,f,v){var x=zv;if(x&&typeof f=="string"&&f){var D=bi(f);D='link[rel="'+d+'"][href="'+D+'"]',typeof v=="string"&&(D+='[crossorigin="'+v+'"]'),V3.has(D)||(V3.add(D),d={rel:d,crossOrigin:v,href:f},x.querySelector(D)===null&&(f=x.createElement("link"),Ka(f,"link",d),Ke(f),x.head.appendChild(f)))}}function Rse(d){Of.D(d),H3("dns-prefetch",d,null)}function Ase(d,f){Of.C(d,f),H3("preconnect",d,f)}function kse(d,f,v){Of.L(d,f,v);var x=zv;if(x&&d&&f){var D='link[rel="preload"][as="'+bi(f)+'"]';f==="image"&&v&&v.imageSrcSet?(D+='[imagesrcset="'+bi(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(D+='[imagesizes="'+bi(v.imageSizes)+'"]')):D+='[href="'+bi(d)+'"]';var G=D;switch(f){case"style":G=Gv(d);break;case"script":G=Uv(d)}Xu.has(G)||(d=u({rel:"preload",href:f==="image"&&v&&v.imageSrcSet?void 0:d,as:f},v),Xu.set(G,d),x.querySelector(D)!==null||f==="style"&&x.querySelector(FC(G))||f==="script"&&x.querySelector(IC(G))||(f=x.createElement("link"),Ka(f,"link",d),Ke(f),x.head.appendChild(f)))}}function Pse(d,f){Of.m(d,f);var v=zv;if(v&&d){var x=f&&typeof f.as=="string"?f.as:"script",D='link[rel="modulepreload"][as="'+bi(x)+'"][href="'+bi(d)+'"]',G=D;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=Uv(d)}if(!Xu.has(G)&&(d=u({rel:"modulepreload",href:d},f),Xu.set(G,d),v.querySelector(D)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(IC(G)))return}x=v.createElement("link"),Ka(x,"link",d),Ke(x),v.head.appendChild(x)}}}function Dse(d,f,v){Of.S(d,f,v);var x=zv;if(x&&d){var D=ht(x).hoistableStyles,G=Gv(d);f=f||"default";var de=D.get(G);if(!de){var _e={loading:0,preload:null};if(de=x.querySelector(FC(G)))_e.loading=5;else{d=u({rel:"stylesheet",href:d,"data-precedence":f},v),(v=Xu.get(G))&&eP(d,v);var He=de=x.createElement("link");Ke(He),Ka(He,"link",d),He._p=new Promise(function(pt,Ft){He.onload=pt,He.onerror=Ft}),He.addEventListener("load",function(){_e.loading|=1}),He.addEventListener("error",function(){_e.loading|=2}),_e.loading|=4,t_(de,f,x)}de={type:"stylesheet",instance:de,count:1,state:_e},D.set(G,de)}}}function Fse(d,f){Of.X(d,f);var v=zv;if(v&&d){var x=ht(v).hoistableScripts,D=Uv(d),G=x.get(D);G||(G=v.querySelector(IC(D)),G||(d=u({src:d,async:!0},f),(f=Xu.get(D))&&tP(d,f),G=v.createElement("script"),Ke(G),Ka(G,"link",d),v.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},x.set(D,G))}}function Ise(d,f){Of.M(d,f);var v=zv;if(v&&d){var x=ht(v).hoistableScripts,D=Uv(d),G=x.get(D);G||(G=v.querySelector(IC(D)),G||(d=u({src:d,async:!0,type:"module"},f),(f=Xu.get(D))&&tP(d,f),G=v.createElement("script"),Ke(G),Ka(G,"link",d),v.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},x.set(D,G))}}function z3(d,f,v,x){var D=(D=De.current)?e_(D):null;if(!D)throw Error(r(446));switch(d){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(f=Gv(v.href),v=ht(D).hoistableStyles,x=v.get(f),x||(x={type:"style",instance:null,count:0,state:null},v.set(f,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){d=Gv(v.href);var G=ht(D).hoistableStyles,de=G.get(d);if(de||(D=D.ownerDocument||D,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(d,de),(G=D.querySelector(FC(d)))&&!G._p&&(de.instance=G,de.state.loading=5),Xu.has(d)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Xu.set(d,v),G||Mse(D,d,v,de.state))),f&&x===null)throw Error(r(528,""));return de}if(f&&x!==null)throw Error(r(529,""));return null;case"script":return f=v.async,v=v.src,typeof v=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Uv(v),v=ht(D).hoistableScripts,x=v.get(f),x||(x={type:"script",instance:null,count:0,state:null},v.set(f,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,d))}}function Gv(d){return'href="'+bi(d)+'"'}function FC(d){return'link[rel="stylesheet"]['+d+"]"}function G3(d){return u({},d,{"data-precedence":d.precedence,precedence:null})}function Mse(d,f,v,x){d.querySelector('link[rel="preload"][as="style"]['+f+"]")?x.loading=1:(f=d.createElement("link"),x.preload=f,f.addEventListener("load",function(){return x.loading|=1}),f.addEventListener("error",function(){return x.loading|=2}),Ka(f,"link",v),Ke(f),d.head.appendChild(f))}function Uv(d){return'[src="'+bi(d)+'"]'}function IC(d){return"script[async]"+d}function U3(d,f,v){if(f.count++,f.instance===null)switch(f.type){case"style":var x=d.querySelector('style[data-href~="'+bi(v.href)+'"]');if(x)return f.instance=x,Ke(x),x;var D=u({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return x=(d.ownerDocument||d).createElement("style"),Ke(x),Ka(x,"style",D),t_(x,v.precedence,d),f.instance=x;case"stylesheet":D=Gv(v.href);var G=d.querySelector(FC(D));if(G)return f.state.loading|=4,f.instance=G,Ke(G),G;x=G3(v),(D=Xu.get(D))&&eP(x,D),G=(d.ownerDocument||d).createElement("link"),Ke(G);var de=G;return de._p=new Promise(function(_e,He){de.onload=_e,de.onerror=He}),Ka(G,"link",x),f.state.loading|=4,t_(G,v.precedence,d),f.instance=G;case"script":return G=Uv(v.src),(D=d.querySelector(IC(G)))?(f.instance=D,Ke(D),D):(x=v,(D=Xu.get(G))&&(x=u({},v),tP(x,D)),d=d.ownerDocument||d,D=d.createElement("script"),Ke(D),Ka(D,"link",x),d.head.appendChild(D),f.instance=D);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(x=f.instance,f.state.loading|=4,t_(x,v.precedence,d));return f.instance}function t_(d,f,v){for(var x=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=x.length?x[x.length-1]:null,G=D,de=0;de<x.length;de++){var _e=x[de];if(_e.dataset.precedence===f)G=_e;else if(G!==D)break}G?G.parentNode.insertBefore(d,G.nextSibling):(f=v.nodeType===9?v.head:v,f.insertBefore(d,f.firstChild))}function eP(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.title==null&&(d.title=f.title)}function tP(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.integrity==null&&(d.integrity=f.integrity)}var n_=null;function W3(d,f,v){if(n_===null){var x=new Map,D=n_=new Map;D.set(v,x)}else D=n_,x=D.get(v),x||(x=new Map,D.set(v,x));if(x.has(d))return x;for(x.set(d,null),v=v.getElementsByTagName(d),D=0;D<v.length;D++){var G=v[D];if(!(G[be]||G[Pt]||d==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var de=G.getAttribute(f)||"";de=d+de;var _e=x.get(de);_e?_e.push(G):x.set(de,[G])}}return x}function j3(d,f,v){d=d.ownerDocument||d,d.head.insertBefore(v,f==="title"?d.querySelector("head > title"):null)}function Ose(d,f,v){if(v===1||f.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return d=f.disabled,typeof f.precedence=="string"&&d==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function K3(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}var MC=null;function Lse(){}function Nse(d,f,v){if(MC===null)throw Error(r(475));var x=MC;if(f.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var D=Gv(v.href),G=d.querySelector(FC(D));if(G){d=G._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(x.count++,x=r_.bind(x),d.then(x,x)),f.state.loading|=4,f.instance=G,Ke(G);return}G=d.ownerDocument||d,v=G3(v),(D=Xu.get(D))&&eP(v,D),G=G.createElement("link"),Ke(G);var de=G;de._p=new Promise(function(_e,He){de.onload=_e,de.onerror=He}),Ka(G,"link",v),f.instance=G}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(f,d),(d=f.state.preload)&&(f.state.loading&3)===0&&(x.count++,f=r_.bind(x),d.addEventListener("load",f),d.addEventListener("error",f))}}function Bse(){if(MC===null)throw Error(r(475));var d=MC;return d.stylesheets&&d.count===0&&nP(d,d.stylesheets),0<d.count?function(f){var v=setTimeout(function(){if(d.stylesheets&&nP(d,d.stylesheets),d.unsuspend){var x=d.unsuspend;d.unsuspend=null,x()}},6e4);return d.unsuspend=f,function(){d.unsuspend=null,clearTimeout(v)}}:null}function r_(){if(this.count--,this.count===0){if(this.stylesheets)nP(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var i_=null;function nP(d,f){d.stylesheets=null,d.unsuspend!==null&&(d.count++,i_=new Map,f.forEach(Vse,d),i_=null,r_.call(d))}function Vse(d,f){if(!(f.state.loading&4)){var v=i_.get(d);if(v)var x=v.get(null);else{v=new Map,i_.set(d,v);for(var D=d.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<D.length;G++){var de=D[G];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(v.set(de.dataset.precedence,de),x=de)}x&&v.set(null,x)}D=f.instance,de=D.getAttribute("data-precedence"),G=v.get(de)||x,G===x&&v.set(null,D),v.set(de,D),this.count++,x=r_.bind(this),D.addEventListener("load",x),D.addEventListener("error",x),G?G.parentNode.insertBefore(D,G.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(D,d.firstChild)),f.state.loading|=4}}var OC={$$typeof:_,Provider:null,Consumer:null,_currentValue:Pe,_currentValue2:Pe,_threadCount:0};function Hse(d,f,v,x,D,G,de,_e){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=x,this.onUncaughtError=D,this.onCaughtError=G,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_e,this.incompleteTransitions=new Map}function Y3(d,f,v,x,D,G,de,_e,He,pt,Ft,Bt){return d=new Hse(d,f,v,de,_e,He,pt,Bt),f=1,G===!0&&(f|=24),G=cs(3,null,null,f),d.current=G,G.stateNode=d,f=Gu(),f.refCount++,d.pooledCache=f,f.refCount++,G.memoizedState={element:x,isDehydrated:v,cache:f},ze(G),d}function X3(d){return d?(d=ma,d):ma}function Z3(d,f,v,x,D,G){D=X3(D),x.context===null?x.context=D:x.pendingContext=D,x=We(f),x.payload={element:v},G=G===void 0?null:G,G!==null&&(x.callback=G),v=ot(d,x,f),v!==null&&(su(v,d,f),Yt(v,d,f))}function q3(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var v=d.retryLane;d.retryLane=v!==0&&v<f?v:f}}function rP(d,f){q3(d,f),(d=d.alternate)&&q3(d,f)}function Q3(d){if(d.tag===13){var f=ts(d,67108864);f!==null&&su(f,d,67108864),rP(d,67108864)}}var s_=!0;function zse(d,f,v,x){var D=se.T;se.T=null;var G=ue.p;try{ue.p=2,iP(d,f,v,x)}finally{ue.p=G,se.T=D}}function Gse(d,f,v,x){var D=se.T;se.T=null;var G=ue.p;try{ue.p=8,iP(d,f,v,x)}finally{ue.p=G,se.T=D}}function iP(d,f,v,x){if(s_){var D=sP(x);if(D===null)jk(d,f,x,o_,v),$3(d,x);else if(Wse(D,d,f,v,x))x.stopPropagation();else if($3(d,x),f&4&&-1<Use.indexOf(d)){for(;D!==null;){var G=Fe(D);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var de=Kr(G.pendingLanes);if(de!==0){var _e=G;for(_e.pendingLanes|=2,_e.entangledLanes|=2;de;){var He=1<<31-Gt(de);_e.entanglements[1]|=He,de&=~He}Ph(G),(Fi&6)===0&&(U1=ve()+500,AC(0))}}break;case 13:_e=ts(G,2),_e!==null&&su(_e,G,2),j1(),rP(G,2)}if(G=sP(x),G===null&&jk(d,f,x,o_,v),G===D)break;D=G}D!==null&&x.stopPropagation()}else jk(d,f,x,null,v)}}function sP(d){return d=go(d),oP(d)}var o_=null;function oP(d){if(o_=null,d=Ee(d),d!==null){var f=s(d);if(f===null)d=null;else{var v=f.tag;if(v===13){if(d=o(f),d!==null)return d;d=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;d=null}else f!==d&&(d=null)}}return o_=d,null}function J3(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Le:return 2;case Je:return 8;case nt:case Be:return 32;case gt:return 268435456;default:return 32}default:return 32}}var aP=!1,Gp=null,Up=null,Wp=null,LC=new Map,NC=new Map,jp=[],Use="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $3(d,f){switch(d){case"focusin":case"focusout":Gp=null;break;case"dragenter":case"dragleave":Up=null;break;case"mouseover":case"mouseout":Wp=null;break;case"pointerover":case"pointerout":LC.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":NC.delete(f.pointerId)}}function BC(d,f,v,x,D,G){return d===null||d.nativeEvent!==G?(d={blockedOn:f,domEventName:v,eventSystemFlags:x,nativeEvent:G,targetContainers:[D]},f!==null&&(f=Fe(f),f!==null&&Q3(f)),d):(d.eventSystemFlags|=x,f=d.targetContainers,D!==null&&f.indexOf(D)===-1&&f.push(D),d)}function Wse(d,f,v,x,D){switch(f){case"focusin":return Gp=BC(Gp,d,f,v,x,D),!0;case"dragenter":return Up=BC(Up,d,f,v,x,D),!0;case"mouseover":return Wp=BC(Wp,d,f,v,x,D),!0;case"pointerover":var G=D.pointerId;return LC.set(G,BC(LC.get(G)||null,d,f,v,x,D)),!0;case"gotpointercapture":return G=D.pointerId,NC.set(G,BC(NC.get(G)||null,d,f,v,x,D)),!0}return!1}function eV(d){var f=Ee(d.target);if(f!==null){var v=s(f);if(v!==null){if(f=v.tag,f===13){if(f=o(v),f!==null){d.blockedOn=f,Qe(d.priority,function(){if(v.tag===13){var x=iu();x=qo(x);var D=ts(v,x);D!==null&&su(D,v,x),rP(v,x)}});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){d.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}d.blockedOn=null}function a_(d){if(d.blockedOn!==null)return!1;for(var f=d.targetContainers;0<f.length;){var v=sP(d.nativeEvent);if(v===null){v=d.nativeEvent;var x=new v.constructor(v.type,v);La=x,v.target.dispatchEvent(x),La=null}else return f=Fe(v),f!==null&&Q3(f),d.blockedOn=v,!1;f.shift()}return!0}function tV(d,f,v){a_(d)&&v.delete(f)}function jse(){aP=!1,Gp!==null&&a_(Gp)&&(Gp=null),Up!==null&&a_(Up)&&(Up=null),Wp!==null&&a_(Wp)&&(Wp=null),LC.forEach(tV),NC.forEach(tV)}function l_(d,f){d.blockedOn===f&&(d.blockedOn=null,aP||(aP=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jse)))}var c_=null;function nV(d){c_!==d&&(c_=d,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){c_===d&&(c_=null);for(var f=0;f<d.length;f+=3){var v=d[f],x=d[f+1],D=d[f+2];if(typeof x!="function"){if(oP(x||v)===null)continue;break}var G=Fe(v);G!==null&&(d.splice(f,3),f-=3,Sv(G,{pending:!0,data:D,method:v.method,action:x},x,D))}}))}function VC(d){function f(He){return l_(He,d)}Gp!==null&&l_(Gp,d),Up!==null&&l_(Up,d),Wp!==null&&l_(Wp,d),LC.forEach(f),NC.forEach(f);for(var v=0;v<jp.length;v++){var x=jp[v];x.blockedOn===d&&(x.blockedOn=null)}for(;0<jp.length&&(v=jp[0],v.blockedOn===null);)eV(v),v.blockedOn===null&&jp.shift();if(v=(d.ownerDocument||d).$$reactFormReplay,v!=null)for(x=0;x<v.length;x+=3){var D=v[x],G=v[x+1],de=D[Dt]||null;if(typeof G=="function")de||nV(v);else if(de){var _e=null;if(G&&G.hasAttribute("formAction")){if(D=G,de=G[Dt]||null)_e=de.formAction;else if(oP(D)!==null)continue}else _e=de.action;typeof _e=="function"?v[x+1]=_e:(v.splice(x,3),x-=3),nV(v)}}}function lP(d){this._internalRoot=d}u_.prototype.render=lP.prototype.render=function(d){var f=this._internalRoot;if(f===null)throw Error(r(409));var v=f.current,x=iu();Z3(v,x,d,f,null,null)},u_.prototype.unmount=lP.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var f=d.containerInfo;Z3(d.current,2,null,d,null,null),j1(),f[ln]=null}};function u_(d){this._internalRoot=d}u_.prototype.unstable_scheduleHydration=function(d){if(d){var f=Ne();d={blockedOn:null,target:d,priority:f};for(var v=0;v<jp.length&&f!==0&&f<jp[v].priority;v++);jp.splice(v,0,d),v===0&&eV(d)}};var rV=t.version;if(rV!=="19.1.1")throw Error(r(527,rV,"19.1.1"));ue.findDOMNode=function(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=l(f),d=d!==null?c(d):null,d=d===null?null:d.stateNode,d};var Kse={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d_.isDisabled&&d_.supportsFiber)try{Ie=d_.inject(Kse),it=d_}catch{}}return zC.createRoot=function(d,f){if(!i(d))throw Error(r(299));var v=!1,x="",D=yC,G=kv,de=wC,_e=null;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(D=f.onUncaughtError),f.onCaughtError!==void 0&&(G=f.onCaughtError),f.onRecoverableError!==void 0&&(de=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(_e=f.unstable_transitionCallbacks)),f=Y3(d,1,!1,null,null,v,x,D,G,de,_e,null),d[ln]=f.current,Wk(d),new lP(f)},zC.hydrateRoot=function(d,f,v){if(!i(d))throw Error(r(299));var x=!1,D="",G=yC,de=kv,_e=wC,He=null,pt=null;return v!=null&&(v.unstable_strictMode===!0&&(x=!0),v.identifierPrefix!==void 0&&(D=v.identifierPrefix),v.onUncaughtError!==void 0&&(G=v.onUncaughtError),v.onCaughtError!==void 0&&(de=v.onCaughtError),v.onRecoverableError!==void 0&&(_e=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(He=v.unstable_transitionCallbacks),v.formState!==void 0&&(pt=v.formState)),f=Y3(d,1,!0,f,v??null,x,D,G,de,_e,He,pt),f.context=X3(null),v=f.current,x=iu(),x=qo(x),D=We(x),D.callback=null,ot(v,D,x),v=x,f.current.lanes=v,Bi(f,v),Ph(f),d[ln]=f.current,Wk(d),new u_(f)},zC.version="19.1.1",zC}var fV;function toe(){if(fV)return dP.exports;fV=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dP.exports=eoe(),dP.exports}var noe=toe();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var BW=e=>{throw TypeError(e)},roe=(e,t,n)=>t.has(e)||BW("Cannot "+n),gP=(e,t,n)=>(roe(e,t,"read from private field"),n?n.call(e):t.get(e)),ioe=(e,t,n)=>t.has(e)?BW("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),pV="popstate";function soe(e={}){function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=gp(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),fx("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Sg(s))}function r(i,s){so(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return aoe(t,n,r,e)}function Lr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function so(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ooe(){return Math.random().toString(36).substring(2,10)}function gV(e,t){return{usr:e.state,key:e.key,idx:t}}function fx(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gp(t):t,state:n,key:t&&t.key||r||ooe()}}function Sg({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gp(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function aoe(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function h(){a="POP";let b=u(),S=b==null?null:b-c;c=b,l&&l({action:a,location:w.location,delta:S})}function p(b,S){a="PUSH";let E=fx(w.location,b,S);n&&n(E,b),c=u()+1;let _=gV(E,c),N=w.createHref(E);try{o.pushState(_,"",N)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(N)}s&&l&&l({action:a,location:w.location,delta:1})}function m(b,S){a="REPLACE";let E=fx(w.location,b,S);n&&n(E,b),c=u();let _=gV(E,c),N=w.createHref(E);o.replaceState(_,"",N),s&&l&&l({action:a,location:w.location,delta:0})}function y(b){return VW(b)}let w={get action(){return a},get location(){return e(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pV,h),l=b,()=>{i.removeEventListener(pV,h),l=null}},createHref(b){return t(i,b)},createURL:y,encodeLocation(b){let S=y(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:m,go(b){return o.go(b)}};return w}function VW(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Lr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Sg(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var db,mV=class{constructor(e){if(ioe(this,db,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(gP(this,db).has(e))return gP(this,db).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){gP(this,db).set(e,t)}};db=new WeakMap;var loe=new Set(["lazy","caseSensitive","path","id","index","children"]);function coe(e){return loe.has(e)}var uoe=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function doe(e){return uoe.has(e)}function hoe(e){return e.index===!0}function px(e,t,n=[],r={},i=!1){return e.map((s,o)=>{let a=[...n,String(o)],l=typeof s.id=="string"?s.id:a.join("-");if(Lr(s.index!==!0||!s.children,"Cannot specify children on an index route"),Lr(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),hoe(s)){let c={...s,...t(s),id:l};return r[l]=c,c}else{let c={...s,...t(s),id:l,children:void 0};return r[l]=c,s.children&&(c.children=px(s.children,t,a,r,i)),c}})}function rg(e,t,n="/"){return hE(e,t,n,!1)}function hE(e,t,n,r){let i=typeof t=="string"?gp(t):t,s=yd(i.pathname||"/",n);if(s==null)return null;let o=HW(e);poe(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Eoe(s);a=Soe(o[l],c,r)}return a}function foe(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function HW(e,t=[],n=[],r=""){let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Lr(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let c=Yh([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Lr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),HW(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:boe(c,s.index),routesMeta:u})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let a of zW(s.path))i(s,o,a)}),t}function zW(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=zW(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function poe(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:xoe(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var goe=/^:[\w-]+$/,moe=3,voe=2,yoe=1,woe=10,Coe=-2,vV=e=>e==="*";function boe(e,t){let n=e.split("/"),r=n.length;return n.some(vV)&&(r+=Coe),t&&(r+=voe),n.filter(i=>!vV(i)).reduce((i,s)=>i+(goe.test(s)?moe:s===""?yoe:woe),r)}function xoe(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Soe(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",h=JE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=JE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Yh([s,h.pathname]),pathnameBase:koe(Yh([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=Yh([s,h.pathnameBase]))}return o}function JE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_oe(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:h},p)=>{if(u==="*"){let y=a[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[p];return h&&!m?c[u]=void 0:c[u]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:e}}function _oe(e,t=!1,n=!0){so(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Eoe(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return so(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Toe({basename:e,pathname:t}){return t==="/"?e:Yh([e,t])}function Roe(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?gp(e):e;return{pathname:n?n.startsWith("/")?n:Aoe(n,t):t,search:Poe(r),hash:Doe(i)}}function Aoe(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mP(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GW(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function MR(e){let t=GW(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function OR(e,t,n,r=!1){let i;typeof e=="string"?i=gp(e):(i={...e},Lr(!i.pathname||!i.pathname.includes("?"),mP("?","pathname","search",i)),Lr(!i.pathname||!i.pathname.includes("#"),mP("#","pathname","hash",i)),Lr(!i.search||!i.search.includes("#"),mP("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?t[h]:"/"}let l=Roe(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Yh=e=>e.join("/").replace(/\/\/+/g,"/"),koe=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Poe=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Doe=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,$E=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function gx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var UW=["POST","PUT","PATCH","DELETE"],Foe=new Set(UW),Ioe=["GET",...UW],Moe=new Set(Ioe),Ooe=new Set([301,302,303,307,308]),Loe=new Set([307,308]),vP={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Noe={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GC={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Boe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wM=e=>Boe.test(e),Voe=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),WW="remix-router-transitions",jW=Symbol("ResetLoaderData");function Hoe(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Lr(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||Voe,s={},o=px(e.routes,i,void 0,s),a,l=e.basename||"/",c=e.dataStrategy||joe,u={unstable_middleware:!1,...e.future},h=null,p=new Set,m=null,y=null,w=null,b=e.hydrationData!=null,S=rg(o,e.history.location,l),E=!1,_=null,N;if(S==null&&!e.patchRoutesOnNavigation){let Ne=sd(404,{pathname:e.history.location.pathname}),{matches:Qe,route:lt}=kV(o);N=!0,S=Qe,_={[lt.id]:Ne}}else if(S&&!e.hydrationData&&As(S,o,e.history.location.pathname).active&&(S=null),S)if(S.some(Ne=>Ne.route.lazy))N=!1;else if(!S.some(Ne=>Ne.route.loader))N=!0;else{let Ne=e.hydrationData?e.hydrationData.loaderData:null,Qe=e.hydrationData?e.hydrationData.errors:null;if(Qe){let lt=S.findIndex(Pt=>Qe[Pt.route.id]!==void 0);N=S.slice(0,lt+1).every(Pt=>!k2(Pt.route,Ne,Qe))}else N=S.every(lt=>!k2(lt.route,Ne,Qe))}else{N=!1,S=[];let Ne=As(null,o,e.history.location.pathname);Ne.active&&Ne.matches&&(E=!0,S=Ne.matches)}let V,M={historyAction:e.history.action,location:e.history.location,matches:S,initialized:N,navigation:vP,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},O="POP",z=!1,H,X=!1,Q=new Map,U=null,Z=!1,q=!1,me=new Set,se=new Map,ue=0,Pe=-1,ye=new Map,W=new Set,re=new Map,te=new Map,J=new Set,ce=new Map,fe,De=null;function at(){if(h=e.history.listen(({action:Ne,location:Qe,delta:lt})=>{if(fe){fe(),fe=void 0;return}so(ce.size===0||lt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Pt=fi({currentLocation:M.location,nextLocation:Qe,historyAction:Ne});if(Pt&&lt!=null){let Dt=new Promise(ln=>{fe=ln});e.history.go(lt*-1),rr(Pt,{state:"blocked",location:Qe,proceed(){rr(Pt,{state:"proceeding",proceed:void 0,reset:void 0,location:Qe}),Dt.then(()=>e.history.go(lt))},reset(){let ln=new Map(M.blockers);ln.set(Pt,GC),et({blockers:ln})}});return}return ne(Ne,Qe)}),n){nae(t,Q);let Ne=()=>rae(t,Q);t.addEventListener("pagehide",Ne),U=()=>t.removeEventListener("pagehide",Ne)}return M.initialized||ne("POP",M.location,{initialHydration:!0}),V}function je(){h&&h(),U&&U(),p.clear(),H&&H.abort(),M.fetchers.forEach((Ne,Qe)=>Gt(Qe)),M.blockers.forEach((Ne,Qe)=>xn(Qe))}function qe(Ne){return p.add(Ne),()=>p.delete(Ne)}function et(Ne,Qe={}){Ne.matches&&(Ne.matches=Ne.matches.map(Dt=>{let ln=s[Dt.route.id],an=Dt.route;return an.element!==ln.element||an.errorElement!==ln.errorElement||an.hydrateFallbackElement!==ln.hydrateFallbackElement?{...Dt,route:ln}:Dt})),M={...M,...Ne};let lt=[],Pt=[];M.fetchers.forEach((Dt,ln)=>{Dt.state==="idle"&&(J.has(ln)?lt.push(ln):Pt.push(ln))}),J.forEach(Dt=>{!M.fetchers.has(Dt)&&!se.has(Dt)&&lt.push(Dt)}),[...p].forEach(Dt=>Dt(M,{deletedFetchers:lt,viewTransitionOpts:Qe.viewTransitionOpts,flushSync:Qe.flushSync===!0})),lt.forEach(Dt=>Gt(Dt)),Pt.forEach(Dt=>M.fetchers.delete(Dt))}function Et(Ne,Qe,{flushSync:lt}={}){let Pt=M.actionData!=null&&M.navigation.formMethod!=null&&Ec(M.navigation.formMethod)&&M.navigation.state==="loading"&&Ne.state?._isRedirect!==!0,Dt;Qe.actionData?Object.keys(Qe.actionData).length>0?Dt=Qe.actionData:Dt=null:Pt?Dt=M.actionData:Dt=null;let ln=Qe.loaderData?RV(M.loaderData,Qe.loaderData,Qe.matches||[],Qe.errors):M.loaderData,an=M.blockers;an.size>0&&(an=new Map(an),an.forEach((be,Ce)=>an.set(Ce,GC)));let Tt=Z?!1:gs(Ne,Qe.matches||M.matches),he=z===!0||M.navigation.formMethod!=null&&Ec(M.navigation.formMethod)&&Ne.state?._isRedirect!==!0;a&&(o=a,a=void 0),Z||O==="POP"||(O==="PUSH"?e.history.push(Ne,Ne.state):O==="REPLACE"&&e.history.replace(Ne,Ne.state));let Te;if(O==="POP"){let be=Q.get(M.location.pathname);be&&be.has(Ne.pathname)?Te={currentLocation:M.location,nextLocation:Ne}:Q.has(Ne.pathname)&&(Te={currentLocation:Ne,nextLocation:M.location})}else if(X){let be=Q.get(M.location.pathname);be?be.add(Ne.pathname):(be=new Set([Ne.pathname]),Q.set(M.location.pathname,be)),Te={currentLocation:M.location,nextLocation:Ne}}et({...Qe,actionData:Dt,loaderData:ln,historyAction:O,location:Ne,initialized:!0,navigation:vP,revalidation:"idle",restoreScrollPosition:Tt,preventScrollReset:he,blockers:an},{viewTransitionOpts:Te,flushSync:lt===!0}),O="POP",z=!1,X=!1,Z=!1,q=!1,De?.resolve(),De=null}async function Se(Ne,Qe){if(typeof Ne=="number"){e.history.go(Ne);return}let lt=A2(M.location,M.matches,l,Ne,Qe?.fromRouteId,Qe?.relative),{path:Pt,submission:Dt,error:ln}=yV(!1,lt,Qe),an=M.location,Tt=fx(M.location,Pt,Qe&&Qe.state);Tt={...Tt,...e.history.encodeLocation(Tt)};let he=Qe&&Qe.replace!=null?Qe.replace:void 0,Te="PUSH";he===!0?Te="REPLACE":he===!1||Dt!=null&&Ec(Dt.formMethod)&&Dt.formAction===M.location.pathname+M.location.search&&(Te="REPLACE");let be=Qe&&"preventScrollReset"in Qe?Qe.preventScrollReset===!0:void 0,Ce=(Qe&&Qe.flushSync)===!0,Ee=fi({currentLocation:an,nextLocation:Tt,historyAction:Te});if(Ee){rr(Ee,{state:"blocked",location:Tt,proceed(){rr(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:Tt}),Se(Ne,Qe)},reset(){let Fe=new Map(M.blockers);Fe.set(Ee,GC),et({blockers:Fe})}});return}await ne(Te,Tt,{submission:Dt,pendingError:ln,preventScrollReset:be,replace:Qe&&Qe.replace,enableViewTransition:Qe&&Qe.viewTransition,flushSync:Ce})}function $t(){De||(De=iae()),At(),et({revalidation:"loading"});let Ne=De.promise;return M.navigation.state==="submitting"?Ne:M.navigation.state==="idle"?(ne(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),Ne):(ne(O||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:X===!0}),Ne)}async function ne(Ne,Qe,lt){H&&H.abort(),H=null,O=Ne,Z=(lt&&lt.startUninterruptedRevalidation)===!0,Bi(M.location,M.matches),z=(lt&&lt.preventScrollReset)===!0,X=(lt&&lt.enableViewTransition)===!0;let Pt=a||o,Dt=lt&&lt.overrideNavigation,ln=lt?.initialHydration&&M.matches&&M.matches.length>0&&!E?M.matches:rg(Pt,Qe,l),an=(lt&&lt.flushSync)===!0;if(ln&&M.initialized&&!q&&Qoe(M.location,Qe)&&!(lt&&lt.submission&&Ec(lt.submission.formMethod))){Et(Qe,{matches:ln},{flushSync:an});return}let Tt=As(ln,Pt,Qe.pathname);if(Tt.active&&Tt.matches&&(ln=Tt.matches),!ln){let{error:ht,notFoundMatches:Ke,route:$e}=Qi(Qe.pathname);Et(Qe,{matches:Ke,loaderData:{},errors:{[$e.id]:ht}},{flushSync:an});return}H=new AbortController;let he=ey(e.history,Qe,H.signal,lt&&lt.submission),Te=new mV(e.unstable_getContext?await e.unstable_getContext():void 0),be;if(lt&&lt.pendingError)be=[Hm(ln).route.id,{type:"error",error:lt.pendingError}];else if(lt&&lt.submission&&Ec(lt.submission.formMethod)){let ht=await Ge(he,Qe,lt.submission,ln,Te,Tt.active,lt&&lt.initialHydration===!0,{replace:lt.replace,flushSync:an});if(ht.shortCircuited)return;if(ht.pendingActionResult){let[Ke,$e]=ht.pendingActionResult;if(cu($e)&&gx($e.error)&&$e.error.status===404){H=null,Et(Qe,{matches:ht.matches,loaderData:{},errors:{[Ke]:$e.error}});return}}ln=ht.matches||ln,be=ht.pendingActionResult,Dt=yP(Qe,lt.submission),an=!1,Tt.active=!1,he=ey(e.history,he.url,he.signal)}let{shortCircuited:Ce,matches:Ee,loaderData:Fe,errors:Xe}=await Me(he,Qe,ln,Te,Tt.active,Dt,lt&&lt.submission,lt&&lt.fetcherSubmission,lt&&lt.replace,lt&&lt.initialHydration===!0,an,be);Ce||(H=null,Et(Qe,{matches:Ee||ln,...AV(be),loaderData:Fe,errors:Xe}))}async function Ge(Ne,Qe,lt,Pt,Dt,ln,an,Tt={}){At();let he=eae(Qe,lt);if(et({navigation:he},{flushSync:Tt.flushSync===!0}),ln){let Ce=await da(Pt,Qe.pathname,Ne.signal);if(Ce.type==="aborted")return{shortCircuited:!0};if(Ce.type==="error"){let Ee=Hm(Ce.partialMatches).route.id;return{matches:Ce.partialMatches,pendingActionResult:[Ee,{type:"error",error:Ce.error}]}}else if(Ce.matches)Pt=Ce.matches;else{let{notFoundMatches:Ee,error:Fe,route:Xe}=Qi(Qe.pathname);return{matches:Ee,pendingActionResult:[Xe.id,{type:"error",error:Fe}]}}}let Te,be=fE(Pt,Qe);if(!be.route.action&&!be.route.lazy)Te={type:"error",error:sd(405,{method:Ne.method,pathname:Qe.pathname,routeId:be.route.id})};else{let Ce=yy(i,s,Ne,Pt,be,an?[]:r,Dt),Ee=await gt(Ne,Ce,Dt,null);if(Te=Ee[be.route.id],!Te){for(let Fe of Pt)if(Ee[Fe.route.id]){Te=Ee[Fe.route.id];break}}if(Ne.signal.aborted)return{shortCircuited:!0}}if(Um(Te)){let Ce;return Tt&&Tt.replace!=null?Ce=Tt.replace:Ce=_V(Te.response.headers.get("Location"),new URL(Ne.url),l)===M.location.pathname+M.location.search,await Be(Ne,Te,!0,{submission:lt,replace:Ce}),{shortCircuited:!0}}if(cu(Te)){let Ce=Hm(Pt,be.route.id);return(Tt&&Tt.replace)!==!0&&(O="PUSH"),{matches:Pt,pendingActionResult:[Ce.route.id,Te,be.route.id]}}return{matches:Pt,pendingActionResult:[be.route.id,Te]}}async function Me(Ne,Qe,lt,Pt,Dt,ln,an,Tt,he,Te,be,Ce){let Ee=ln||yP(Qe,an),Fe=an||Tt||DV(Ee),Xe=!Z&&!Te;if(Dt){if(Xe){let hr=ve(Ce);et({navigation:Ee,...hr!==void 0?{actionData:hr}:{}},{flushSync:be})}let dn=await da(lt,Qe.pathname,Ne.signal);if(dn.type==="aborted")return{shortCircuited:!0};if(dn.type==="error"){let hr=Hm(dn.partialMatches).route.id;return{matches:dn.partialMatches,loaderData:{},errors:{[hr]:dn.error}}}else if(dn.matches)lt=dn.matches;else{let{error:hr,notFoundMatches:Vi,route:Ai}=Qi(Qe.pathname);return{matches:Vi,loaderData:{},errors:{[Ai.id]:hr}}}}let ht=a||o,{dsMatches:Ke,revalidatingFetchers:$e}=wV(Ne,Pt,i,s,e.history,M,lt,Fe,Qe,Te?[]:r,Te===!0,q,me,J,re,W,ht,l,e.patchRoutesOnNavigation!=null,Ce);if(Pe=++ue,!e.dataStrategy&&!Ke.some(dn=>dn.shouldLoad)&&$e.length===0){let dn=fn();return Et(Qe,{matches:lt,loaderData:{},errors:Ce&&cu(Ce[1])?{[Ce[0]]:Ce[1].error}:null,...AV(Ce),...dn?{fetchers:new Map(M.fetchers)}:{}},{flushSync:be}),{shortCircuited:!0}}if(Xe){let dn={};if(!Dt){dn.navigation=Ee;let hr=ve(Ce);hr!==void 0&&(dn.actionData=hr)}$e.length>0&&(dn.fetchers=xe($e)),et(dn,{flushSync:be})}$e.forEach(dn=>{mn(dn.key),dn.controller&&se.set(dn.key,dn.controller)});let ut=()=>$e.forEach(dn=>mn(dn.key));H&&H.signal.addEventListener("abort",ut);let{loaderResults:Ot,fetcherResults:Wt}=await Mt(Ke,$e,Ne,Pt);if(Ne.signal.aborted)return{shortCircuited:!0};H&&H.signal.removeEventListener("abort",ut),$e.forEach(dn=>se.delete(dn.key));let jt=f_(Ot);if(jt)return await Be(Ne,jt.result,!0,{replace:he}),{shortCircuited:!0};if(jt=f_(Wt),jt)return W.add(jt.key),await Be(Ne,jt.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:Ut,errors:Xt}=TV(M,lt,Ot,Ce,$e,Wt);Te&&M.errors&&(Xt={...M.errors,...Xt});let pn=fn(),sr=Pr(Pe),Kn=pn||sr||$e.length>0;return{matches:lt,loaderData:Ut,errors:Xt,...Kn?{fetchers:new Map(M.fetchers)}:{}}}function ve(Ne){if(Ne&&!cu(Ne[1]))return{[Ne[0]]:Ne[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function xe(Ne){return Ne.forEach(Qe=>{let lt=M.fetchers.get(Qe.key),Pt=UC(void 0,lt?lt.data:void 0);M.fetchers.set(Qe.key,Pt)}),new Map(M.fetchers)}async function Le(Ne,Qe,lt,Pt){mn(Ne);let Dt=(Pt&&Pt.flushSync)===!0,ln=a||o,an=A2(M.location,M.matches,l,lt,Qe,Pt?.relative),Tt=rg(ln,an,l),he=As(Tt,ln,an);if(he.active&&he.matches&&(Tt=he.matches),!Tt){it(Ne,Qe,sd(404,{pathname:an}),{flushSync:Dt});return}let{path:Te,submission:be,error:Ce}=yV(!0,an,Pt);if(Ce){it(Ne,Qe,Ce,{flushSync:Dt});return}let Ee=new mV(e.unstable_getContext?await e.unstable_getContext():void 0),Fe=(Pt&&Pt.preventScrollReset)===!0;if(be&&Ec(be.formMethod)){await Je(Ne,Qe,Te,Tt,Ee,he.active,Dt,Fe,be);return}re.set(Ne,{routeId:Qe,path:Te}),await nt(Ne,Qe,Te,Tt,Ee,he.active,Dt,Fe,be)}async function Je(Ne,Qe,lt,Pt,Dt,ln,an,Tt,he){At(),re.delete(Ne);let Te=M.fetchers.get(Ne);Ie(Ne,tae(he,Te),{flushSync:an});let be=new AbortController,Ce=ey(e.history,lt,be.signal,he);if(ln){let vr=await da(Pt,new URL(Ce.url).pathname,Ce.signal,Ne);if(vr.type==="aborted")return;if(vr.type==="error"){it(Ne,Qe,vr.error,{flushSync:an});return}else if(vr.matches)Pt=vr.matches;else{it(Ne,Qe,sd(404,{pathname:lt}),{flushSync:an});return}}let Ee=fE(Pt,lt);if(!Ee.route.action&&!Ee.route.lazy){let vr=sd(405,{method:he.formMethod,pathname:lt,routeId:Qe});it(Ne,Qe,vr,{flushSync:an});return}se.set(Ne,be);let Fe=ue,Xe=yy(i,s,Ce,Pt,Ee,r,Dt),Ke=(await gt(Ce,Xe,Dt,Ne))[Ee.route.id];if(Ce.signal.aborted){se.get(Ne)===be&&se.delete(Ne);return}if(J.has(Ne)){if(Um(Ke)||cu(Ke)){Ie(Ne,$p(void 0));return}}else{if(Um(Ke))if(se.delete(Ne),Pe>Fe){Ie(Ne,$p(void 0));return}else return W.add(Ne),Ie(Ne,UC(he)),Be(Ce,Ke,!1,{fetcherSubmission:he,preventScrollReset:Tt});if(cu(Ke)){it(Ne,Qe,Ke.error);return}}let $e=M.navigation.location||M.location,ut=ey(e.history,$e,be.signal),Ot=a||o,Wt=M.navigation.state!=="idle"?rg(Ot,M.navigation.location,l):M.matches;Lr(Wt,"Didn't find any matches after fetcher action");let jt=++ue;ye.set(Ne,jt);let Ut=UC(he,Ke.data);M.fetchers.set(Ne,Ut);let{dsMatches:Xt,revalidatingFetchers:pn}=wV(ut,Dt,i,s,e.history,M,Wt,he,$e,r,!1,q,me,J,re,W,Ot,l,e.patchRoutesOnNavigation!=null,[Ee.route.id,Ke]);pn.filter(vr=>vr.key!==Ne).forEach(vr=>{let ur=vr.key,Pn=M.fetchers.get(ur),Hr=UC(void 0,Pn?Pn.data:void 0);M.fetchers.set(ur,Hr),mn(ur),vr.controller&&se.set(ur,vr.controller)}),et({fetchers:new Map(M.fetchers)});let sr=()=>pn.forEach(vr=>mn(vr.key));be.signal.addEventListener("abort",sr);let{loaderResults:Kn,fetcherResults:dn}=await Mt(Xt,pn,ut,Dt);if(be.signal.aborted)return;if(be.signal.removeEventListener("abort",sr),ye.delete(Ne),se.delete(Ne),pn.forEach(vr=>se.delete(vr.key)),M.fetchers.has(Ne)){let vr=$p(Ke.data);M.fetchers.set(Ne,vr)}let hr=f_(Kn);if(hr)return Be(ut,hr.result,!1,{preventScrollReset:Tt});if(hr=f_(dn),hr)return W.add(hr.key),Be(ut,hr.result,!1,{preventScrollReset:Tt});let{loaderData:Vi,errors:Ai}=TV(M,Wt,Kn,void 0,pn,dn);Pr(jt),M.navigation.state==="loading"&&jt>Pe?(Lr(O,"Expected pending action"),H&&H.abort(),Et(M.navigation.location,{matches:Wt,loaderData:Vi,errors:Ai,fetchers:new Map(M.fetchers)})):(et({errors:Ai,loaderData:RV(M.loaderData,Vi,Wt,Ai),fetchers:new Map(M.fetchers)}),q=!1)}async function nt(Ne,Qe,lt,Pt,Dt,ln,an,Tt,he){let Te=M.fetchers.get(Ne);Ie(Ne,UC(he,Te?Te.data:void 0),{flushSync:an});let be=new AbortController,Ce=ey(e.history,lt,be.signal);if(ln){let $e=await da(Pt,new URL(Ce.url).pathname,Ce.signal,Ne);if($e.type==="aborted")return;if($e.type==="error"){it(Ne,Qe,$e.error,{flushSync:an});return}else if($e.matches)Pt=$e.matches;else{it(Ne,Qe,sd(404,{pathname:lt}),{flushSync:an});return}}let Ee=fE(Pt,lt);se.set(Ne,be);let Fe=ue,Xe=yy(i,s,Ce,Pt,Ee,r,Dt),Ke=(await gt(Ce,Xe,Dt,Ne))[Ee.route.id];if(se.get(Ne)===be&&se.delete(Ne),!Ce.signal.aborted){if(J.has(Ne)){Ie(Ne,$p(void 0));return}if(Um(Ke))if(Pe>Fe){Ie(Ne,$p(void 0));return}else{W.add(Ne),await Be(Ce,Ke,!1,{preventScrollReset:Tt});return}if(cu(Ke)){it(Ne,Qe,Ke.error);return}Ie(Ne,$p(Ke.data))}}async function Be(Ne,Qe,lt,{submission:Pt,fetcherSubmission:Dt,preventScrollReset:ln,replace:an}={}){Qe.response.headers.has("X-Remix-Revalidate")&&(q=!0);let Tt=Qe.response.headers.get("Location");Lr(Tt,"Expected a Location header on the redirect Response"),Tt=_V(Tt,new URL(Ne.url),l);let he=fx(M.location,Tt,{_isRedirect:!0});if(n){let Xe=!1;if(Qe.response.headers.has("X-Remix-Reload-Document"))Xe=!0;else if(wM(Tt)){const ht=VW(Tt,!0);Xe=ht.origin!==t.location.origin||yd(ht.pathname,l)==null}if(Xe){an?t.location.replace(Tt):t.location.assign(Tt);return}}H=null;let Te=an===!0||Qe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:be,formAction:Ce,formEncType:Ee}=M.navigation;!Pt&&!Dt&&be&&Ce&&Ee&&(Pt=DV(M.navigation));let Fe=Pt||Dt;if(Loe.has(Qe.response.status)&&Fe&&Ec(Fe.formMethod))await ne(Te,he,{submission:{...Fe,formAction:Tt},preventScrollReset:ln||z,enableViewTransition:lt?X:void 0});else{let Xe=yP(he,Pt);await ne(Te,he,{overrideNavigation:Xe,fetcherSubmission:Dt,preventScrollReset:ln||z,enableViewTransition:lt?X:void 0})}}async function gt(Ne,Qe,lt,Pt){let Dt,ln={};try{Dt=await Koe(c,Ne,Qe,Pt,lt,!1)}catch(an){return Qe.filter(Tt=>Tt.shouldLoad).forEach(Tt=>{ln[Tt.route.id]={type:"error",error:an}}),ln}if(Ne.signal.aborted)return ln;for(let[an,Tt]of Object.entries(Dt))if(Joe(Tt)){let he=Tt.result;ln[an]={type:"redirect",response:Zoe(he,Ne,an,Qe,l)}}else ln[an]=await Xoe(Tt);return ln}async function Mt(Ne,Qe,lt,Pt){let Dt=gt(lt,Ne,Pt,null),ln=Promise.all(Qe.map(async he=>{if(he.matches&&he.match&&he.request&&he.controller){let be=(await gt(he.request,he.matches,Pt,he.key))[he.match.route.id];return{[he.key]:be}}else return Promise.resolve({[he.key]:{type:"error",error:sd(404,{pathname:he.path})}})})),an=await Dt,Tt=(await ln).reduce((he,Te)=>Object.assign(he,Te),{});return{loaderResults:an,fetcherResults:Tt}}function At(){q=!0,re.forEach((Ne,Qe)=>{se.has(Qe)&&me.add(Qe),mn(Qe)})}function Ie(Ne,Qe,lt={}){M.fetchers.set(Ne,Qe),et({fetchers:new Map(M.fetchers)},{flushSync:(lt&&lt.flushSync)===!0})}function it(Ne,Qe,lt,Pt={}){let Dt=Hm(M.matches,Qe);Gt(Ne),et({errors:{[Dt.route.id]:lt},fetchers:new Map(M.fetchers)},{flushSync:(Pt&&Pt.flushSync)===!0})}function yt(Ne){return te.set(Ne,(te.get(Ne)||0)+1),J.has(Ne)&&J.delete(Ne),M.fetchers.get(Ne)||Noe}function Gt(Ne){let Qe=M.fetchers.get(Ne);se.has(Ne)&&!(Qe&&Qe.state==="loading"&&ye.has(Ne))&&mn(Ne),re.delete(Ne),ye.delete(Ne),W.delete(Ne),J.delete(Ne),me.delete(Ne),M.fetchers.delete(Ne)}function qt(Ne){let Qe=(te.get(Ne)||0)-1;Qe<=0?(te.delete(Ne),J.add(Ne)):te.set(Ne,Qe),et({fetchers:new Map(M.fetchers)})}function mn(Ne){let Qe=se.get(Ne);Qe&&(Qe.abort(),se.delete(Ne))}function cr(Ne){for(let Qe of Ne){let lt=yt(Qe),Pt=$p(lt.data);M.fetchers.set(Qe,Pt)}}function fn(){let Ne=[],Qe=!1;for(let lt of W){let Pt=M.fetchers.get(lt);Lr(Pt,`Expected fetcher: ${lt}`),Pt.state==="loading"&&(W.delete(lt),Ne.push(lt),Qe=!0)}return cr(Ne),Qe}function Pr(Ne){let Qe=[];for(let[lt,Pt]of ye)if(Pt<Ne){let Dt=M.fetchers.get(lt);Lr(Dt,`Expected fetcher: ${lt}`),Dt.state==="loading"&&(mn(lt),ye.delete(lt),Qe.push(lt))}return cr(Qe),Qe.length>0}function Kr(Ne,Qe){let lt=M.blockers.get(Ne)||GC;return ce.get(Ne)!==Qe&&ce.set(Ne,Qe),lt}function xn(Ne){M.blockers.delete(Ne),ce.delete(Ne)}function rr(Ne,Qe){let lt=M.blockers.get(Ne)||GC;Lr(lt.state==="unblocked"&&Qe.state==="blocked"||lt.state==="blocked"&&Qe.state==="blocked"||lt.state==="blocked"&&Qe.state==="proceeding"||lt.state==="blocked"&&Qe.state==="unblocked"||lt.state==="proceeding"&&Qe.state==="unblocked",`Invalid blocker state transition: ${lt.state} -> ${Qe.state}`);let Pt=new Map(M.blockers);Pt.set(Ne,Qe),et({blockers:Pt})}function fi({currentLocation:Ne,nextLocation:Qe,historyAction:lt}){if(ce.size===0)return;ce.size>1&&so(!1,"A router only supports one blocker at a time");let Pt=Array.from(ce.entries()),[Dt,ln]=Pt[Pt.length-1],an=M.blockers.get(Dt);if(!(an&&an.state==="proceeding")&&ln({currentLocation:Ne,nextLocation:Qe,historyAction:lt}))return Dt}function Qi(Ne){let Qe=sd(404,{pathname:Ne}),lt=a||o,{matches:Pt,route:Dt}=kV(lt);return{notFoundMatches:Pt,route:Dt,error:Qe}}function Ni(Ne,Qe,lt){if(m=Ne,w=Qe,y=lt||null,!b&&M.navigation===vP){b=!0;let Pt=gs(M.location,M.matches);Pt!=null&&et({restoreScrollPosition:Pt})}return()=>{m=null,w=null,y=null}}function is(Ne,Qe){return y&&y(Ne,Qe.map(Pt=>foe(Pt,M.loaderData)))||Ne.key}function Bi(Ne,Qe){if(m&&w){let lt=is(Ne,Qe);m[lt]=w()}}function gs(Ne,Qe){if(m){let lt=is(Ne,Qe),Pt=m[lt];if(typeof Pt=="number")return Pt}return null}function As(Ne,Qe,lt){if(e.patchRoutesOnNavigation)if(Ne){if(Object.keys(Ne[0].params).length>0)return{active:!0,matches:hE(Qe,lt,l,!0)}}else return{active:!0,matches:hE(Qe,lt,l,!0)||[]};return{active:!1,matches:null}}async function da(Ne,Qe,lt,Pt){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Ne};let Dt=Ne;for(;;){let ln=a==null,an=a||o,Tt=s;try{await e.patchRoutesOnNavigation({signal:lt,path:Qe,matches:Dt,fetcherKey:Pt,patch:(be,Ce)=>{lt.aborted||CV(be,Ce,an,Tt,i,!1)}})}catch(be){return{type:"error",error:be,partialMatches:Dt}}finally{ln&&!lt.aborted&&(o=[...o])}if(lt.aborted)return{type:"aborted"};let he=rg(an,Qe,l);if(he)return{type:"success",matches:he};let Te=hE(an,Qe,l,!0);if(!Te||Dt.length===Te.length&&Dt.every((be,Ce)=>be.route.id===Te[Ce].route.id))return{type:"success",matches:null};Dt=Te}}function qo(Ne){s={},a=px(Ne,i,void 0,s)}function Ci(Ne,Qe,lt=!1){let Pt=a==null;CV(Ne,Qe,a||o,s,i,lt),Pt&&(o=[...o],et({}))}return V={get basename(){return l},get future(){return u},get state(){return M},get routes(){return o},get window(){return t},initialize:at,subscribe:qe,enableScrollRestoration:Ni,navigate:Se,fetch:Le,revalidate:$t,createHref:Ne=>e.history.createHref(Ne),encodeLocation:Ne=>e.history.encodeLocation(Ne),getFetcher:yt,deleteFetcher:qt,dispose:je,getBlocker:Kr,deleteBlocker:xn,patchRoutes:Ci,_internalFetchControllers:se,_internalSetRoutes:qo,_internalSetStateDoNotUseOrYouWillBreakYourApp(Ne){et(Ne)}},V}function zoe(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function A2(e,t,n,r,i,s){let o,a;if(i){o=[];for(let c of t)if(o.push(c),c.route.id===i){a=c;break}}else o=t,a=t[t.length-1];let l=OR(r||".",MR(o),yd(e.pathname,n)||e.pathname,s==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&a){let c=CM(l.search);if(a.route.index&&!c)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&c){let u=new URLSearchParams(l.search),h=u.getAll("index");u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let p=u.toString();l.search=p?`?${p}`:""}}return n!=="/"&&(l.pathname=Toe({basename:n,pathname:l.pathname})),Sg(l)}function yV(e,t,n){if(!n||!zoe(n))return{path:t};if(n.formMethod&&!$oe(n.formMethod))return{path:t,error:sd(405,{method:n.formMethod})};let r=()=>({path:t,error:sd(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),o=QW(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ec(s))return r();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,[m,y])=>`${p}${m}=${y}
`,""):String(n.body);return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!Ec(s))return r();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:s,formAction:o,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return r()}}}Lr(typeof FormData=="function","FormData is not available in this environment");let a,l;if(n.formData)a=D2(n.formData),l=n.formData;else if(n.body instanceof FormData)a=D2(n.body),l=n.body;else if(n.body instanceof URLSearchParams)a=n.body,l=EV(a);else if(n.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(n.body),l=EV(a)}catch{return r()}let c={formMethod:s,formAction:o,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Ec(c.formMethod))return{path:t,submission:c};let u=gp(t);return e&&u.search&&CM(u.search)&&a.append("index",""),u.search=`?${a}`,{path:Sg(u),submission:c}}function wV(e,t,n,r,i,s,o,a,l,c,u,h,p,m,y,w,b,S,E,_){let N=_?cu(_[1])?_[1].error:_[1].data:void 0,V=i.createURL(s.location),M=i.createURL(l),O;if(u&&s.errors){let Z=Object.keys(s.errors)[0];O=o.findIndex(q=>q.route.id===Z)}else if(_&&cu(_[1])){let Z=_[0];O=o.findIndex(q=>q.route.id===Z)-1}let z=_?_[1].statusCode:void 0,H=z&&z>=400,X={currentUrl:V,currentParams:s.matches[0]?.params||{},nextUrl:M,nextParams:o[0].params,...a,actionResult:N,actionStatus:z},Q=o.map((Z,q)=>{let{route:me}=Z,se=null;if(O!=null&&q>O?se=!1:me.lazy?se=!0:me.loader==null?se=!1:u?se=k2(me,s.loaderData,s.errors):Goe(s.loaderData,s.matches[q],Z)&&(se=!0),se!==null)return P2(n,r,e,Z,c,t,se);let ue=H?!1:h||V.pathname+V.search===M.pathname+M.search||V.search!==M.search||Uoe(s.matches[q],Z),Pe={...X,defaultShouldRevalidate:ue},ye=eT(Z,Pe);return P2(n,r,e,Z,c,t,ye,Pe)}),U=[];return y.forEach((Z,q)=>{if(u||!o.some(te=>te.route.id===Z.routeId)||m.has(q))return;let me=s.fetchers.get(q),se=me&&me.state!=="idle"&&me.data===void 0,ue=rg(b,Z.path,S);if(!ue){if(E&&se)return;U.push({key:q,routeId:Z.routeId,path:Z.path,matches:null,match:null,request:null,controller:null});return}if(w.has(q))return;let Pe=fE(ue,Z.path),ye=new AbortController,W=ey(i,Z.path,ye.signal),re=null;if(p.has(q))p.delete(q),re=yy(n,r,W,ue,Pe,c,t);else if(se)h&&(re=yy(n,r,W,ue,Pe,c,t));else{let te={...X,defaultShouldRevalidate:H?!1:h};eT(Pe,te)&&(re=yy(n,r,W,ue,Pe,c,t,te))}re&&U.push({key:q,routeId:Z.routeId,path:Z.path,matches:re,match:Pe,request:W,controller:ye})}),{dsMatches:Q,revalidatingFetchers:U}}function k2(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function Goe(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function Uoe(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function eT(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function CV(e,t,n,r,i,s){let o;if(e){let c=r[e];Lr(c,`No route found to patch children into: routeId = ${e}`),c.children||(c.children=[]),o=c.children}else o=n;let a=[],l=[];if(t.forEach(c=>{let u=o.find(h=>KW(c,h));u?l.push({existingRoute:u,newRoute:c}):a.push(c)}),a.length>0){let c=px(a,i,[e||"_","patch",String(o?.length||"0")],r);o.push(...c)}if(s&&l.length>0)for(let c=0;c<l.length;c++){let{existingRoute:u,newRoute:h}=l[c],p=u,[m]=px([h],i,[],{},!0);Object.assign(p,{element:m.element?m.element:p.element,errorElement:m.errorElement?m.errorElement:p.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:p.hydrateFallbackElement})}}function KW(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>KW(n,i))):!1}var bV=new WeakMap,YW=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Lr(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[e];if(!s)return;let o=bV.get(i);o||(o={},bV.set(i,o));let a=o[e];if(a)return a;let l=(async()=>{let c=coe(e),h=i[e]!==void 0&&e!=="hasErrorBoundary";if(c)so(!c,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),o[e]=Promise.resolve();else if(h)so(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let p=await s();p!=null&&(Object.assign(i,{[e]:p}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(p=>p===void 0)&&(i.lazy=void 0))})();return o[e]=l,l},xV=new WeakMap;function Woe(e,t,n,r,i){let s=n[e.id];if(Lr(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let u=xV.get(s);if(u)return{lazyRoutePromise:u,lazyHandlerPromise:u};let h=(async()=>{Lr(typeof e.lazy=="function","No lazy route function found");let p=await e.lazy(),m={};for(let y in p){let w=p[y];if(w===void 0)continue;let b=doe(y),E=s[y]!==void 0&&y!=="hasErrorBoundary";b?so(!b,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):E?so(!E,`Route "${s.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):m[y]=w}Object.assign(s,m),Object.assign(s,{...r(s),lazy:void 0})})();return xV.set(s,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let o=Object.keys(e.lazy),a=[],l;for(let u of o){if(i&&i.includes(u))continue;let h=YW({key:u,route:e,manifest:n,mapRouteProperties:r});h&&(a.push(h),u===t&&(l=h))}let c=a.length>0?Promise.all(a).then(()=>{}):void 0;return c?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:l}}async function SV(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,s)=>{n[t[s].route.id]=i}),n}async function joe(e){return e.matches.some(t=>t.route.unstable_middleware)?XW(e,!1,()=>SV(e),(t,n)=>({[n]:{type:"error",result:t}})):SV(e)}async function XW(e,t,n,r){let{matches:i,request:s,params:o,context:a}=e,l={handlerResult:void 0};try{let c=i.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(p=>[h.route.id,p]):[]),u=await ZW({request:s,params:o,context:a},c,t,l,n);return t?u:l.handlerResult}catch(c){if(!l.middlewareError)throw c;let u=await r(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,u):u}}async function ZW(e,t,n,r,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let a=t[s];if(!a)return r.handlerResult=await i(),r.handlerResult;let[l,c]=a,u=!1,h,p=async()=>{if(u)throw new Error("You may only call `next()` once per middleware");u=!0,await ZW(e,t,n,r,i,s+1)};try{let m=await c({request:e.request,params:e.params,context:e.context},p);return u?m===void 0?h:m:p()}catch(m){throw r.middlewareError?r.middlewareError.error!==m&&(r.middlewareError={routeId:l,error:m}):r.middlewareError={routeId:l,error:m},m}}function qW(e,t,n,r,i){let s=YW({key:"unstable_middleware",route:r.route,manifest:t,mapRouteProperties:e}),o=Woe(r.route,Ec(n.method)?"action":"loader",t,e,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function P2(e,t,n,r,i,s,o,a=null){let l=!1,c=qW(e,t,n,r,i);return{...r,_lazyPromises:c,shouldLoad:o,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(u){return l=!0,a?typeof u=="boolean"?eT(r,{...a,defaultShouldRevalidate:u}):eT(r,a):o},resolve(u){return l||o||u&&!Ec(n.method)&&(r.route.lazy||r.route.loader)?Yoe({request:n,match:r,lazyHandlerPromise:c?.handler,lazyRoutePromise:c?.route,handlerOverride:u,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function yy(e,t,n,r,i,s,o,a=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:qW(e,t,n,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:P2(e,t,n,l,s,o,!0,a))}async function Koe(e,t,n,r,i,s){n.some(c=>c._lazyPromises?.middleware)&&await Promise.all(n.map(c=>c._lazyPromises?.middleware));let o={request:t,params:n[0].params,context:i,matches:n},l=await e({...o,fetcherKey:r,unstable_runClientMiddleware:c=>{let u=o;return XW(u,!1,()=>c({...u,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,p)=>({[p]:{type:"error",result:h}}))}});try{await Promise.all(n.flatMap(c=>[c._lazyPromises?.handler,c._lazyPromises?.route]))}catch{}return l}async function Yoe({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:s}){let o,a,l=Ec(e.method),c=l?"action":"loader",u=h=>{let p,m=new Promise((b,S)=>p=S);a=()=>p(),e.signal.addEventListener("abort",a);let y=b=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${t.route.id}]`)):h({request:e,params:t.params,context:s},...b!==void 0?[b]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(S=>y(S)):y())}}catch(b){return{type:"error",result:b}}})();return Promise.race([w,m])};try{let h=l?t.route.action:t.route.loader;if(n||r)if(h){let p,[m]=await Promise.all([u(h).catch(y=>{p=y}),n,r]);if(p!==void 0)throw p;o=m}else{await n;let p=l?t.route.action:t.route.loader;if(p)[o]=await Promise.all([u(p),r]);else if(c==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw sd(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(h)o=await u(h);else{let p=new URL(e.url),m=p.pathname+p.search;throw sd(404,{pathname:m})}}catch(h){return{type:"error",result:h}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Xoe(e){let{result:t,type:n}=e;if(JW(t)){let r;try{let i=t.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?t.body==null?r=null:r=await t.json():r=await t.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new $E(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?PV(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new $E(t.init?.status||500,void 0,t.data),statusCode:gx(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:gx(t)?t.status:void 0}:PV(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Zoe(e,t,n,r,i){let s=e.headers.get("Location");if(Lr(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!wM(s)){let o=r.slice(0,r.findIndex(a=>a.route.id===n)+1);s=A2(new URL(t.url),o,i,s),e.headers.set("Location",s)}return e}function _V(e,t,n){if(wM(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=yd(i.pathname,n)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function ey(e,t,n,r){let i=e.createURL(QW(t)).toString(),s={signal:n};if(r&&Ec(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=D2(r.formData):s.body=r.formData}return new Request(i,s)}function D2(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function EV(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function qoe(e,t,n,r=!1,i=!1){let s={},o=null,a,l=!1,c={},u=n&&cu(n[1])?n[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let p=h.route.id,m=t[p];if(Lr(!Um(m),"Cannot handle redirect results in processLoaderData"),cu(m)){let y=m.error;if(u!==void 0&&(y=u,u=void 0),o=o||{},i)o[p]=y;else{let w=Hm(e,p);o[w.route.id]==null&&(o[w.route.id]=y)}r||(s[p]=jW),l||(l=!0,a=gx(m.error)?m.error.status:500),m.headers&&(c[p]=m.headers)}else s[p]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(c[p]=m.headers)}),u!==void 0&&n&&(o={[n[0]]:u},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function TV(e,t,n,r,i,s){let{loaderData:o,errors:a}=qoe(t,n,r);return i.filter(l=>!l.matches||l.matches.some(c=>c.shouldLoad)).forEach(l=>{let{key:c,match:u,controller:h}=l,p=s[c];if(Lr(p,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(cu(p)){let m=Hm(e.matches,u?.route.id);a&&a[m.route.id]||(a={...a,[m.route.id]:p.error}),e.fetchers.delete(c)}else if(Um(p))Lr(!1,"Unhandled fetcher revalidation redirect");else{let m=$p(p.data);e.fetchers.set(c,m)}}),{loaderData:o,errors:a}}function RV(e,t,n,r){let i=Object.entries(t).filter(([,s])=>s!==jW).reduce((s,[o,a])=>(s[o]=a,s),{});for(let s of n){let o=s.route.id;if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&s.route.loader&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function AV(e){return e?cu(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Hm(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function kV(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function sd(e,{pathname:t,routeId:n,method:r,type:i,message:s}={}){let o="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(o="Bad Request",r&&t&&n?a=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(o="Forbidden",a=`Route "${n}" does not match URL "${t}"`):e===404?(o="Not Found",a=`No route matches URL "${t}"`):e===405&&(o="Method Not Allowed",r&&t&&n?a=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(a=`Invalid request method "${r.toUpperCase()}"`)),new $E(e||500,o,new Error(a),!0)}function f_(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(Um(i))return{key:r,result:i}}}function QW(e){let t=typeof e=="string"?gp(e):e;return Sg({...t,hash:""})}function Qoe(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Joe(e){return JW(e.result)&&Ooe.has(e.result.status)}function cu(e){return e.type==="error"}function Um(e){return(e&&e.type)==="redirect"}function PV(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function JW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function $oe(e){return Moe.has(e.toUpperCase())}function Ec(e){return Foe.has(e.toUpperCase())}function CM(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function fE(e,t){let n=typeof t=="string"?gp(t).search:t.search;if(e[e.length-1].route.index&&CM(n||""))return e[e.length-1];let r=GW(e);return r[r.length-1]}function DV(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:o}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function yP(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function eae(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function UC(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function tae(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function $p(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function nae(e,t){try{let n=e.sessionStorage.getItem(WW);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function rae(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(WW,JSON.stringify(n))}catch(r){so(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function iae(){let e,t,n=new Promise((r,i)=>{e=async s=>{r(s);try{await n}catch{}},t=async s=>{i(s);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var j0=I.createContext(null);j0.displayName="DataRouter";var LS=I.createContext(null);LS.displayName="DataRouterState";I.createContext(!1);var bM=I.createContext({isTransitioning:!1});bM.displayName="ViewTransition";var $W=I.createContext(new Map);$W.displayName="Fetchers";var sae=I.createContext(null);sae.displayName="Await";var ch=I.createContext(null);ch.displayName="Navigation";var LR=I.createContext(null);LR.displayName="Location";var Td=I.createContext({outlet:null,matches:[],isDataRoute:!1});Td.displayName="Route";var xM=I.createContext(null);xM.displayName="RouteError";function oae(e,{relative:t}={}){Lr(Ew(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(ch),{hash:i,pathname:s,search:o}=NS(e,{relative:t}),a=s;return n!=="/"&&(a=s==="/"?n:Yh([n,s])),r.createHref({pathname:a,search:o,hash:i})}function Ew(){return I.useContext(LR)!=null}function Cf(){return Lr(Ew(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(LR).location}var e7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t7(e){I.useContext(ch).static||I.useLayoutEffect(e)}function NR(){let{isDataRoute:e}=I.useContext(Td);return e?bae():aae()}function aae(){Lr(Ew(),"useNavigate() may be used only in the context of a <Router> component.");let e=I.useContext(j0),{basename:t,navigator:n}=I.useContext(ch),{matches:r}=I.useContext(Td),{pathname:i}=Cf(),s=JSON.stringify(MR(r)),o=I.useRef(!1);return t7(()=>{o.current=!0}),I.useCallback((l,c={})=>{if(so(o.current,e7),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=OR(l,JSON.parse(s),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Yh([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,s,i,e])}var lae=I.createContext(null);function cae(e){let t=I.useContext(Td).outlet;return t&&I.createElement(lae.Provider,{value:e},t)}function n7(){let{matches:e}=I.useContext(Td),t=e[e.length-1];return t?t.params:{}}function NS(e,{relative:t}={}){let{matches:n}=I.useContext(Td),{pathname:r}=Cf(),i=JSON.stringify(MR(n));return I.useMemo(()=>OR(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function uae(e,t,n,r){Lr(Ew(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(ch),{matches:s}=I.useContext(Td),o=s[s.length-1],a=o?o.params:{},l=o?o.pathname:"/",c=o?o.pathnameBase:"/",u=o&&o.route;{let S=u&&u.path||"";r7(l,!u||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let h=Cf(),p;p=h;let m=p.pathname||"/",y=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=rg(e,{pathname:y});return so(u||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),so(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),gae(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Yh([c,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:Yh([c,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r)}function dae(){let e=Cae(),t=gx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:s},"ErrorBoundary")," or"," ",I.createElement("code",{style:s},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},t),n?I.createElement("pre",{style:i},n):null,o)}var hae=I.createElement(dae,null),fae=class extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?I.createElement(Td.Provider,{value:this.props.routeContext},I.createElement(xM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pae({routeContext:e,match:t,children:n}){let r=I.useContext(j0);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),I.createElement(Td.Provider,{value:e},n)}function gae(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n?.errors;if(s!=null){let l=i.findIndex(c=>c.route.id&&s?.[c.route.id]!==void 0);Lr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let o=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:h}=n,p=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||p){o=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let h,p=!1,m=null,y=null;n&&(h=s&&c.route.id?s[c.route.id]:void 0,m=c.route.errorElement||hae,o&&(a<0&&u===0?(r7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):a===u&&(p=!0,y=c.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,u+1)),b=()=>{let S;return h?S=m:p?S=y:c.route.Component?S=I.createElement(c.route.Component,null):c.route.element?S=c.route.element:S=l,I.createElement(pae,{match:c,routeContext:{outlet:l,matches:w,isDataRoute:n!=null},children:S})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?I.createElement(fae,{location:n.location,revalidation:n.revalidation,component:m,error:h,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}function SM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mae(e){let t=I.useContext(j0);return Lr(t,SM(e)),t}function vae(e){let t=I.useContext(LS);return Lr(t,SM(e)),t}function yae(e){let t=I.useContext(Td);return Lr(t,SM(e)),t}function _M(e){let t=yae(e),n=t.matches[t.matches.length-1];return Lr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function wae(){return _M("useRouteId")}function Cae(){let e=I.useContext(xM),t=vae("useRouteError"),n=_M("useRouteError");return e!==void 0?e:t.errors?.[n]}function bae(){let{router:e}=mae("useNavigate"),t=_M("useNavigate"),n=I.useRef(!1);return t7(()=>{n.current=!0}),I.useCallback(async(i,s={})=>{so(n.current,e7),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var FV={};function r7(e,t,n){!t&&!FV[e]&&(FV[e]=!0,so(!1,n))}var IV={};function MV(e,t){!e&&!IV[t]&&(IV[t]=!0,console.warn(t))}function xae(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&so(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:I.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&so(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:I.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&so(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:I.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Sae=["HydrateFallback","hydrateFallbackElement"],_ae=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function Eae({router:e,flushSync:t}){let[n,r]=I.useState(e.state),[i,s]=I.useState(),[o,a]=I.useState({isTransitioning:!1}),[l,c]=I.useState(),[u,h]=I.useState(),[p,m]=I.useState(),y=I.useRef(new Map),w=I.useCallback((_,{deletedFetchers:N,flushSync:V,viewTransitionOpts:M})=>{_.fetchers.forEach((z,H)=>{z.data!==void 0&&y.current.set(H,z.data)}),N.forEach(z=>y.current.delete(z)),MV(V===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(MV(M==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!O){t&&V?t(()=>r(_)):I.startTransition(()=>r(_));return}if(t&&V){t(()=>{u&&(l&&l.resolve(),u.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let z=e.window.document.startViewTransition(()=>{t(()=>r(_))});z.finished.finally(()=>{t(()=>{c(void 0),h(void 0),s(void 0),a({isTransitioning:!1})})}),t(()=>h(z));return}u?(l&&l.resolve(),u.skipTransition(),m({state:_,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(s(_),a({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[e.window,t,u,l]);I.useLayoutEffect(()=>e.subscribe(w),[e,w]),I.useEffect(()=>{o.isTransitioning&&!o.flushSync&&c(new _ae)},[o]),I.useEffect(()=>{if(l&&i&&e.window){let _=i,N=l.promise,V=e.window.document.startViewTransition(async()=>{I.startTransition(()=>r(_)),await N});V.finished.finally(()=>{c(void 0),h(void 0),s(void 0),a({isTransitioning:!1})}),h(V)}},[i,l,e.window]),I.useEffect(()=>{l&&i&&n.location.key===i.location.key&&l.resolve()},[l,u,n.location,i]),I.useEffect(()=>{!o.isTransitioning&&p&&(s(p.state),a({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[o.isTransitioning,p]);let b=I.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:_=>e.navigate(_),push:(_,N,V)=>e.navigate(_,{state:N,preventScrollReset:V?.preventScrollReset}),replace:(_,N,V)=>e.navigate(_,{replace:!0,state:N,preventScrollReset:V?.preventScrollReset})}),[e]),S=e.basename||"/",E=I.useMemo(()=>({router:e,navigator:b,static:!1,basename:S}),[e,b,S]);return I.createElement(I.Fragment,null,I.createElement(j0.Provider,{value:E},I.createElement(LS.Provider,{value:n},I.createElement($W.Provider,{value:y.current},I.createElement(bM.Provider,{value:o},I.createElement(kae,{basename:S,location:n.location,navigationType:n.historyAction,navigator:b},I.createElement(Tae,{routes:e.routes,future:e.future,state:n})))))),null)}var Tae=I.memo(Rae);function Rae({routes:e,future:t,state:n}){return uae(e,void 0,n,t)}function wy({to:e,replace:t,state:n,relative:r}){Lr(Ew(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(ch);so(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=I.useContext(Td),{pathname:o}=Cf(),a=NR(),l=OR(e,MR(s),o,r==="path"),c=JSON.stringify(l);return I.useEffect(()=>{a(JSON.parse(c),{replace:t,state:n,relative:r})},[a,c,r,t,n]),null}function Aae(e){return cae(e.context)}function kae({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){Lr(!Ew(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=I.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=gp(n));let{pathname:l="/",search:c="",hash:u="",state:h=null,key:p="default"}=n,m=I.useMemo(()=>{let y=yd(l,o);return y==null?null:{location:{pathname:y,search:c,hash:u,state:h,key:p},navigationType:r}},[o,l,c,u,h,p,r]);return so(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${u}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:I.createElement(ch.Provider,{value:a},I.createElement(LR.Provider,{children:t,value:m}))}var pE="get",gE="application/x-www-form-urlencoded";function BR(e){return e!=null&&typeof e.tagName=="string"}function Pae(e){return BR(e)&&e.tagName.toLowerCase()==="button"}function Dae(e){return BR(e)&&e.tagName.toLowerCase()==="form"}function Fae(e){return BR(e)&&e.tagName.toLowerCase()==="input"}function Iae(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Mae(e,t){return e.button===0&&(!t||t==="_self")&&!Iae(e)}var p_=null;function Oae(){if(p_===null)try{new FormData(document.createElement("form"),0),p_=!1}catch{p_=!0}return p_}var Lae=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wP(e){return e!=null&&!Lae.has(e)?(so(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gE}"`),null):e}function Nae(e,t){let n,r,i,s,o;if(Dae(e)){let a=e.getAttribute("action");r=a?yd(a,t):null,n=e.getAttribute("method")||pE,i=wP(e.getAttribute("enctype"))||gE,s=new FormData(e)}else if(Pae(e)||Fae(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?yd(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||pE,i=wP(e.getAttribute("formenctype"))||wP(a.getAttribute("enctype"))||gE,s=new FormData(a,e),!Oae()){let{name:c,type:u,value:h}=e;if(u==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,h)}}else{if(BR(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pE,r=null,i=gE,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function EM(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bae(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&yd(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Vae(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hae(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function zae(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await Vae(s,n);return o.links?o.links():[]}return[]}));return jae(r.flat(1).filter(Hae).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function OV(e,t,n,r,i,s){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>n[c].pathname!==l.pathname||n[c].route.path?.endsWith("*")&&n[c].params["*"]!==l.params["*"];return s==="assets"?t.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?t.filter((l,c)=>{let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Gae(e,t,{includeHydrateFallback:n}={}){return Uae(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Uae(e){return[...new Set(e)]}function Wae(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function jae(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(Wae(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function i7(){let e=I.useContext(j0);return EM(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Kae(){let e=I.useContext(LS);return EM(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var TM=I.createContext(void 0);TM.displayName="FrameworkContext";function s7(){let e=I.useContext(TM);return EM(e,"You must render this element inside a <HydratedRouter> element"),e}function Yae(e,t){let n=I.useContext(TM),[r,i]=I.useState(!1),[s,o]=I.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=t,p=I.useRef(null);I.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=S=>{S.forEach(E=>{o(E.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),I.useEffect(()=>{if(r){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[r]);let m=()=>{i(!0)},y=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,p,{}]:[s,p,{onFocus:WC(a,m),onBlur:WC(l,y),onMouseEnter:WC(c,m),onMouseLeave:WC(u,y),onTouchStart:WC(h,m)}]:[!1,p,{}]}function WC(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Xae({page:e,...t}){let{router:n}=i7(),r=I.useMemo(()=>rg(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?I.createElement(qae,{page:e,matches:r,...t}):null}function Zae(e){let{manifest:t,routeModules:n}=s7(),[r,i]=I.useState([]);return I.useEffect(()=>{let s=!1;return zae(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function qae({page:e,matches:t,...n}){let r=Cf(),{manifest:i,routeModules:s}=s7(),{basename:o}=i7(),{loaderData:a,matches:l}=Kae(),c=I.useMemo(()=>OV(e,t,l,i,r,"data"),[e,t,l,i,r]),u=I.useMemo(()=>OV(e,t,l,i,r,"assets"),[e,t,l,i,r]),h=I.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(t.forEach(S=>{let E=i.routes[S.route.id];!E||!E.hasLoader||(!c.some(_=>_.route.id===S.route.id)&&S.route.id in a&&s[S.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:y.add(S.route.id))}),y.size===0)return[];let b=Bae(e,o,"data");return w&&y.size>0&&b.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[b.pathname+b.search]},[o,a,r,i,c,t,e,s]),p=I.useMemo(()=>Gae(u,i),[u,i]),m=Zae(u);return I.createElement(I.Fragment,null,h.map(y=>I.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>I.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:w})=>I.createElement("link",{key:y,...w})))}function Qae(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var o7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{o7&&(window.__reactRouterVersion="7.7.1")}catch{}function Jae(e,t){return Hoe({basename:t?.basename,unstable_getContext:t?.unstable_getContext,future:t?.future,history:soe({window:t?.window}),hydrationData:$ae(),routes:e,mapRouteProperties:xae,hydrationRouteProperties:Sae,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function $ae(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:ele(e.errors)}),e}function ele(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new $E(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}var a7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RM=I.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h,...p},m){let{basename:y}=I.useContext(ch),w=typeof c=="string"&&a7.test(c),b,S=!1;if(typeof c=="string"&&w&&(b=c,o7))try{let H=new URL(window.location.href),X=c.startsWith("//")?new URL(H.protocol+c):new URL(c),Q=yd(X.pathname,y);X.origin===H.origin&&Q!=null?c=Q+X.search+X.hash:S=!0}catch{so(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=oae(c,{relative:i}),[_,N,V]=Yae(r,p),M=ile(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h});function O(H){t&&t(H),H.defaultPrevented||M(H)}let z=I.createElement("a",{...p,...V,href:b||E,onClick:S||s?t:O,ref:Qae(m,N),target:l,"data-discover":!w&&n==="render"?"true":void 0});return _&&!w?I.createElement(I.Fragment,null,z,I.createElement(Xae,{page:E})):z});RM.displayName="Link";var tle=I.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let h=NS(o,{relative:c.relative}),p=Cf(),m=I.useContext(LS),{navigator:y,basename:w}=I.useContext(ch),b=m!=null&&cle(h)&&a===!0,S=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,E=p.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(E=E.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&w&&(_=yd(_,w)||_);const N=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let V=E===S||!i&&E.startsWith(S)&&E.charAt(N)==="/",M=_!=null&&(_===S||!i&&_.startsWith(S)&&_.charAt(S.length)==="/"),O={isActive:V,isPending:M,isTransitioning:b},z=V?t:void 0,H;typeof r=="function"?H=r(O):H=[r,V?"active":null,M?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let X=typeof s=="function"?s(O):s;return I.createElement(RM,{...c,"aria-current":z,className:H,ref:u,style:X,to:o,viewTransition:a},typeof l=="function"?l(O):l)});tle.displayName="NavLink";var nle=I.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=pE,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,...p},m)=>{let y=ale(),w=lle(a,{relative:c}),b=o.toLowerCase()==="get"?"get":"post",S=typeof a=="string"&&a7.test(a),E=_=>{if(l&&l(_),_.defaultPrevented)return;_.preventDefault();let N=_.nativeEvent.submitter,V=N?.getAttribute("formmethod")||o;y(N||_.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:h})};return I.createElement("form",{ref:m,method:b,action:w,onSubmit:r?l:E,...p,"data-discover":!S&&e==="render"?"true":void 0})});nle.displayName="Form";function rle(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l7(e){let t=I.useContext(j0);return Lr(t,rle(e)),t}function ile(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let a=NR(),l=Cf(),c=NS(e,{relative:s});return I.useCallback(u=>{if(Mae(u,t)){u.preventDefault();let h=n!==void 0?n:Sg(l)===Sg(c);a(e,{replace:h,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[l,a,c,n,r,t,e,i,s,o])}var sle=0,ole=()=>`__${String(++sle)}__`;function ale(){let{router:e}=l7("useSubmit"),{basename:t}=I.useContext(ch),n=wae();return I.useCallback(async(r,i={})=>{let{action:s,method:o,encType:a,formData:l,body:c}=Nae(r,t);if(i.navigate===!1){let u=i.fetcherKey||ole();await e.fetch(u,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function lle(e,{relative:t}={}){let{basename:n}=I.useContext(ch),r=I.useContext(Td);Lr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...NS(e||".",{relative:t})},o=Cf();if(e==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let u=a.toString();s.search=u?`?${u}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Yh([n,s.pathname])),Sg(s)}function cle(e,{relative:t}={}){let n=I.useContext(bM);Lr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=l7("useViewTransitionState"),i=NS(e,{relative:t});if(!n.isTransitioning)return!1;let s=yd(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=yd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return JE(i.pathname,o)!=null||JE(i.pathname,s)!=null}var Tw=IR();const Hf=Wg(Tw);function ule(e){return I.createElement(Eae,{flushSync:Tw.flushSync,...e})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var So=function(){return So=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},So.apply(this,arguments)};function v0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Hl(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F2.apply(this,arguments)}function AM(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var dle=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,hle=AM(function(e){return dle.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function fle(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function ple(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var gle=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ple(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=fle(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Rl="-ms-",tT="-moz-",vi="-webkit-",c7="comm",kM="rule",PM="decl",mle="@import",u7="@keyframes",vle=Math.abs,VR=String.fromCharCode,yle=Object.assign;function wle(e,t){return Qa(e,0)^45?(((t<<2^Qa(e,0))<<2^Qa(e,1))<<2^Qa(e,2))<<2^Qa(e,3):0}function d7(e){return e.trim()}function Cle(e,t){return(e=t.exec(e))?e[0]:e}function _i(e,t,n){return e.replace(t,n)}function I2(e,t){return e.indexOf(t)}function Qa(e,t){return e.charCodeAt(t)|0}function mx(e,t,n){return e.slice(t,n)}function Bh(e){return e.length}function DM(e){return e.length}function g_(e,t){return t.push(e),e}function ble(e,t){return e.map(t).join("")}var HR=1,Wy=1,h7=0,Mc=0,Ko=0,Rw="";function zR(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:HR,column:Wy,length:o,return:""}}function jC(e,t){return yle(zR("",null,null,"",null,null,0),e,{length:-e.length},t)}function xle(){return Ko}function Sle(){return Ko=Mc>0?Qa(Rw,--Mc):0,Wy--,Ko===10&&(Wy=1,HR--),Ko}function xu(){return Ko=Mc<h7?Qa(Rw,Mc++):0,Wy++,Ko===10&&(Wy=1,HR++),Ko}function Xh(){return Qa(Rw,Mc)}function mE(){return Mc}function BS(e,t){return mx(Rw,e,t)}function vx(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function f7(e){return HR=Wy=1,h7=Bh(Rw=e),Mc=0,[]}function p7(e){return Rw="",e}function vE(e){return d7(BS(Mc-1,M2(e===91?e+2:e===40?e+1:e)))}function _le(e){for(;(Ko=Xh())&&Ko<33;)xu();return vx(e)>2||vx(Ko)>3?"":" "}function Ele(e,t){for(;--t&&xu()&&!(Ko<48||Ko>102||Ko>57&&Ko<65||Ko>70&&Ko<97););return BS(e,mE()+(t<6&&Xh()==32&&xu()==32))}function M2(e){for(;xu();)switch(Ko){case e:return Mc;case 34:case 39:e!==34&&e!==39&&M2(Ko);break;case 40:e===41&&M2(e);break;case 92:xu();break}return Mc}function Tle(e,t){for(;xu()&&e+Ko!==57;)if(e+Ko===84&&Xh()===47)break;return"/*"+BS(t,Mc-1)+"*"+VR(e===47?e:xu())}function Rle(e){for(;!vx(Xh());)xu();return BS(e,Mc)}function LV(e){return p7(yE("",null,null,null,[""],e=f7(e),0,[0],e))}function yE(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,h=o,p=0,m=0,y=0,w=1,b=1,S=1,E=0,_="",N=i,V=s,M=r,O=_;b;)switch(y=E,E=xu()){case 40:if(y!=108&&Qa(O,h-1)==58){I2(O+=_i(vE(E),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:O+=vE(E);break;case 9:case 10:case 13:case 32:O+=_le(y);break;case 92:O+=Ele(mE()-1,7);continue;case 47:switch(Xh()){case 42:case 47:g_(Ale(Tle(xu(),mE()),t,n),l);break;default:O+="/"}break;case 123*w:a[c++]=Bh(O)*S;case 125*w:case 59:case 0:switch(E){case 0:case 125:b=0;case 59+u:m>0&&Bh(O)-h&&g_(m>32?BV(O+";",r,n,h-1):BV(_i(O," ","")+";",r,n,h-2),l);break;case 59:O+=";";default:if(g_(M=NV(O,t,n,c,u,i,a,_,N=[],V=[],h),s),E===123)if(u===0)yE(O,t,M,M,N,s,h,a,V);else switch(p===99&&Qa(O,3)===110?100:p){case 100:case 109:case 115:yE(e,M,M,r&&g_(NV(e,M,M,0,0,i,a,_,i,N=[],h),V),i,V,h,a,r?N:V);break;default:yE(O,M,M,M,[""],V,0,a,V)}}c=u=m=0,w=S=1,_=O="",h=o;break;case 58:h=1+Bh(O),m=y;default:if(w<1){if(E==123)--w;else if(E==125&&w++==0&&Sle()==125)continue}switch(O+=VR(E),E*w){case 38:S=u>0?1:(O+="\f",-1);break;case 44:a[c++]=(Bh(O)-1)*S,S=1;break;case 64:Xh()===45&&(O+=vE(xu())),p=Xh(),u=h=Bh(_=O+=Rle(mE())),E++;break;case 45:y===45&&Bh(O)==2&&(w=0)}}return s}function NV(e,t,n,r,i,s,o,a,l,c,u){for(var h=i-1,p=i===0?s:[""],m=DM(p),y=0,w=0,b=0;y<r;++y)for(var S=0,E=mx(e,h+1,h=vle(w=o[y])),_=e;S<m;++S)(_=d7(w>0?p[S]+" "+E:_i(E,/&\f/g,p[S])))&&(l[b++]=_);return zR(e,t,n,i===0?kM:a,l,c,u)}function Ale(e,t,n){return zR(e,t,n,c7,VR(xle()),mx(e,2,-2),0)}function BV(e,t,n,r){return zR(e,t,n,PM,mx(e,0,r),mx(e,r+1,-1),r)}function Qm(e,t){for(var n="",r=DM(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function VV(e,t,n,r){switch(e.type){case mle:case PM:return e.return=e.return||e.value;case c7:return"";case u7:return e.return=e.value+"{"+Qm(e.children,r)+"}";case kM:e.value=e.props.join(",")}return Bh(n=Qm(e.children,r))?e.return=e.value+"{"+n+"}":""}function HV(e){var t=DM(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}function kle(e){return function(t){t.root||(t=t.return)&&e(t)}}var Ple=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var i=t(r);return n.set(r,i),i}},Dle=function(t,n,r){for(var i=0,s=0;i=s,s=Xh(),i===38&&s===12&&(n[r]=1),!vx(s);)xu();return BS(t,Mc)},Fle=function(t,n){var r=-1,i=44;do switch(vx(i)){case 0:i===38&&Xh()===12&&(n[r]=1),t[r]+=Dle(Mc-1,n,r);break;case 2:t[r]+=vE(i);break;case 4:if(i===44){t[++r]=Xh()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=VR(i)}while(i=xu());return t},Ile=function(t,n){return p7(Fle(f7(t),n))},zV=new WeakMap,Mle=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!zV.get(r))&&!i){zV.set(t,!0);for(var s=[],o=Ile(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Ole=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function g7(e,t){switch(wle(e,t)){case 5103:return vi+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return vi+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return vi+e+tT+e+Rl+e+e;case 6828:case 4268:return vi+e+Rl+e+e;case 6165:return vi+e+Rl+"flex-"+e+e;case 5187:return vi+e+_i(e,/(\w+).+(:[^]+)/,vi+"box-$1$2"+Rl+"flex-$1$2")+e;case 5443:return vi+e+Rl+"flex-item-"+_i(e,/flex-|-self/,"")+e;case 4675:return vi+e+Rl+"flex-line-pack"+_i(e,/align-content|flex-|-self/,"")+e;case 5548:return vi+e+Rl+_i(e,"shrink","negative")+e;case 5292:return vi+e+Rl+_i(e,"basis","preferred-size")+e;case 6060:return vi+"box-"+_i(e,"-grow","")+vi+e+Rl+_i(e,"grow","positive")+e;case 4554:return vi+_i(e,/([^-])(transform)/g,"$1"+vi+"$2")+e;case 6187:return _i(_i(_i(e,/(zoom-|grab)/,vi+"$1"),/(image-set)/,vi+"$1"),e,"")+e;case 5495:case 3959:return _i(e,/(image-set\([^]*)/,vi+"$1$`$1");case 4968:return _i(_i(e,/(.+:)(flex-)?(.*)/,vi+"box-pack:$3"+Rl+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+vi+e+e;case 4095:case 3583:case 4068:case 2532:return _i(e,/(.+)-inline(.+)/,vi+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bh(e)-1-t>6)switch(Qa(e,t+1)){case 109:if(Qa(e,t+4)!==45)break;case 102:return _i(e,/(.+:)(.+)-([^]+)/,"$1"+vi+"$2-$3$1"+tT+(Qa(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~I2(e,"stretch")?g7(_i(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Qa(e,t+1)!==115)break;case 6444:switch(Qa(e,Bh(e)-3-(~I2(e,"!important")&&10))){case 107:return _i(e,":",":"+vi)+e;case 101:return _i(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+vi+(Qa(e,14)===45?"inline-":"")+"box$3$1"+vi+"$2$3$1"+Rl+"$2box$3")+e}break;case 5936:switch(Qa(e,t+11)){case 114:return vi+e+Rl+_i(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return vi+e+Rl+_i(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return vi+e+Rl+_i(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return vi+e+Rl+e+e}return e}var Lle=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case PM:t.return=g7(t.value,t.length);break;case u7:return Qm([jC(t,{value:_i(t.value,"@","@"+vi)})],i);case kM:if(t.length)return ble(t.props,function(s){switch(Cle(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qm([jC(t,{props:[_i(s,/:(read-\w+)/,":"+tT+"$1")]})],i);case"::placeholder":return Qm([jC(t,{props:[_i(s,/:(plac\w+)/,":"+vi+"input-$1")]}),jC(t,{props:[_i(s,/:(plac\w+)/,":"+tT+"$1")]}),jC(t,{props:[_i(s,/:(plac\w+)/,Rl+"input-$1")]})],i)}return""})}},wE=typeof document<"u",Nle=wE?void 0:Ple(function(){return AM(function(){var e={};return function(t){return e[t]}})}),Ble=[Lle],m7=function(t){var n=t.key;if(wE&&n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(N){var V=N.getAttribute("data-emotion");V.indexOf(" ")!==-1&&(document.head.appendChild(N),N.setAttribute("data-s",""))})}var i=t.stylisPlugins||Ble,s={},o,a=[];wE&&(o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(N){for(var V=N.getAttribute("data-emotion").split(" "),M=1;M<V.length;M++)s[V[M]]=!0;a.push(N)}));var l,c=[Mle,Ole];if(wE){var u,h=[VV,kle(function(N){u.insert(N)})],p=HV(c.concat(i,h)),m=function(V){return Qm(LV(V),p)};l=function(V,M,O,z){u=O,m(V?V+"{"+M.styles+"}":M.styles),z&&(_.inserted[M.name]=!0)}}else{var y=[VV],w=HV(c.concat(i,y)),b=function(V){return Qm(LV(V),w)},S=Nle(i)(n),E=function(V,M){var O=M.name;return S[O]===void 0&&(S[O]=b(V?V+"{"+M.styles+"}":M.styles)),S[O]};l=function(V,M,O,z){var H=M.name,X=E(V,M);if(_.compat===void 0)return z&&(_.inserted[H]=!0),X;if(z)_.inserted[H]=X;else return X}}var _={key:n,sheet:new gle({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(a),_},Vle=typeof document<"u",GV=function(t){return t()},Hle=I.useInsertionEffect?I.useInsertionEffect:!1,zle=Vle&&Hle||GV,Gle=typeof document<"u",nT=I.createContext(typeof HTMLElement<"u"?m7({key:"css"}):null);nT.Provider;var v7=function(t){return I.forwardRef(function(n,r){var i=I.useContext(nT);return t(n,i,r)})};Gle||(v7=function(t){return function(n){var r=I.useContext(nT);return r===null?(r=m7({key:"css"}),I.createElement(nT.Provider,{value:r},t(n,r))):t(n,r)}});var Ule=I.createContext({}),O2=typeof document<"u";function Wle(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var y7=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||O2===!1&&t.compat!==void 0)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},jle=function(t,n,r){y7(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s="",o=n;do{var a=t.insert(n===o?"."+i:"",o,t.sheet,!0);!O2&&a!==void 0&&(s+=a),o=o.next}while(o!==void 0);if(!O2&&s.length!==0)return s}};function Kle(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Yle={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xle=/[A-Z]|^ms/g,Zle=/_EMO_([^_]+?)_([^]*?)_EMO_/g,w7=function(t){return t.charCodeAt(1)===45},UV=function(t){return t!=null&&typeof t!="boolean"},CP=AM(function(e){return w7(e)?e:e.replace(Xle,"-$&").toLowerCase()}),WV=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Zle,function(r,i,s){return Vh={name:i,styles:s,next:Vh},i})}return Yle[t]!==1&&!w7(t)&&typeof n=="number"&&n!==0?n+"px":n};function yx(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Vh={name:n.name,styles:n.styles,next:Vh},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Vh={name:r.name,styles:r.styles,next:Vh},r=r.next;var i=n.styles+";";return i}return qle(e,t,n)}case"function":{if(e!==void 0){var s=Vh,o=n(e);return Vh=s,yx(e,t,o)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function qle(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=yx(e,t,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")t!=null&&t[o]!==void 0?r+=s+"{"+t[o]+"}":UV(o)&&(r+=CP(s)+":"+WV(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)UV(o[a])&&(r+=CP(s)+":"+WV(s,o[a])+";");else{var l=yx(e,t,o);switch(s){case"animation":case"animationName":{r+=CP(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var jV=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Vh,Qle=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Vh=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=yx(r,n,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=yx(r,n,t[a]),i&&(s+=o[a]);jV.lastIndex=0;for(var l="",c;(c=jV.exec(s))!==null;)l+="-"+c[1];var u=Kle(s)+l;return{name:u,styles:s,next:Vh}},Jle=hle,$le=function(t){return t!=="theme"},KV=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Jle:$le},YV=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(o){return t.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},ece=typeof document<"u",tce=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;y7(n,r,i);var s=zle(function(){return jle(n,r,i)});if(!ece&&s!==void 0){for(var o,a=r.name,l=r.next;l!==void 0;)a+=" "+l.name,l=l.next;return I.createElement("style",(o={},o["data-emotion"]=n.key+" "+a,o.dangerouslySetInnerHTML={__html:s},o.nonce=n.sheet.nonce,o))}return null},nce=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,o;n!==void 0&&(s=n.label,o=n.target);var a=YV(t,n,r),l=a||KV(i),c=!l("as");return function(){var u=arguments,h=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)h.push.apply(h,u);else{h.push(u[0][0]);for(var p=u.length,m=1;m<p;m++)h.push(u[m],u[0][m])}var y=v7(function(w,b,S){var E=c&&w.as||i,_="",N=[],V=w;if(w.theme==null){V={};for(var M in w)V[M]=w[M];V.theme=I.useContext(Ule)}typeof w.className=="string"?_=Wle(b.registered,N,w.className):w.className!=null&&(_=w.className+" ");var O=Qle(h.concat(N),b.registered,V);_+=b.key+"-"+O.name,o!==void 0&&(_+=" "+o);var z=c&&a===void 0?KV(E):l,H={};for(var X in w)c&&X==="as"||z(X)&&(H[X]=w[X]);return H.className=_,H.ref=S,I.createElement(I.Fragment,null,I.createElement(tce,{cache:b,serialized:O,isStringTag:typeof E=="string"}),I.createElement(E,H))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=t.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=h,y.__emotion_forwardProp=a,Object.defineProperty(y,"toString",{value:function(){return"."+o}}),y.withComponent=function(w,b){return e(w,F2({},n,b,{shouldForwardProp:YV(y,b,!0)})).apply(void 0,h)},y}},rce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Fa=nce.bind();rce.forEach(function(e){Fa[e]=Fa(e)});var C7={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)t.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(C7);var aa=C7.exports,b7=Ve.createContext(void 0),ice=function(e){var t=e.children,n=Ve.useState({collapsed:!1,toggled:!1,broken:!1,rtl:!1,transitionDuration:300}),r=n[0],i=n[1],s=Ve.useCallback(function(c){i(function(u){return So(So({},u),c)})},[]),o=Ve.useCallback(function(){i(function(c){return So(So({},c),{collapsed:!c?.collapsed})})},[]),a=Ve.useCallback(function(){i(function(c){return So(So({},c),{toggled:!c?.toggled})})},[]),l=Ve.useMemo(function(){return So(So({},r),{updateSidebarState:s,updateCollapseState:o,updateToggleState:a})},[r,o,s,a]);return Ve.createElement(b7.Provider,{value:l},t)},x7=function(){var e=Ve.useContext(b7);return e},sce=function(e){var t=Ve.useState(!!e&&typeof window<"u"&&window.matchMedia(e).matches),n=t[0],r=t[1];return Ve.useEffect(function(){if(e){var i=window.matchMedia(e),s=function(){i.matches!==n&&r(i.matches)};return s(),i.addEventListener("change",s),function(){return i.removeEventListener("change",s)}}},[n,e]),n},xo={root:"ps-sidebar-root",container:"ps-sidebar-container",image:"ps-sidebar-image",backdrop:"ps-sidebar-backdrop",collapsed:"ps-collapsed",toggled:"ps-toggled",rtl:"ps-rtl",broken:"ps-broken"},yi={root:"ps-menu-root",menuItemRoot:"ps-menuitem-root",subMenuRoot:"ps-submenu-root",button:"ps-menu-button",prefix:"ps-menu-prefix",suffix:"ps-menu-suffix",label:"ps-menu-label",icon:"ps-menu-icon",subMenuContent:"ps-submenu-content",SubMenuExpandIcon:"ps-submenu-expand-icon",disabled:"ps-disabled",active:"ps-active",open:"ps-open"},oce=Fa.div(XV||(XV=Hl([`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`],[`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`]))),XV,ace={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},lce=Fa.aside(ZV||(ZV=Hl([`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`],[`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`])),function(e){var t=e.transitionDuration;return"width, left, right, ".concat(t,"ms")},function(e){var t=e.width;return t},function(e){var t=e.width;return t},xo.collapsed,function(e){var t=e.collapsedWidth;return t},function(e){var t=e.collapsedWidth;return t},xo.rtl,xo.broken,function(e){var t=e.rtl,n=e.width;return t?"":"left: -".concat(n,";")},xo.collapsed,function(e){var t=e.rtl,n=e.collapsedWidth;return t?"":"left: -".concat(n,"; ")},xo.toggled,function(e){var t=e.rtl;return t?"":"left: 0;"},xo.rtl,function(e){var t=e.width;return t},xo.collapsed,function(e){var t=e.collapsedWidth;return t},xo.toggled,function(e){var t=e.rootStyles;return t}),cce=Fa.div(qV||(qV=Hl([`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`],[`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`])),function(e){var t=e.backgroundColor;return t?"background-color:".concat(t,";"):""}),uce=Fa.img(QV||(QV=Hl([`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`],[`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`])),xo.image),GR=Ve.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),dce=Ve.forwardRef(function(e,t){var n,r=e.collapsed,i=e.toggled,s=e.onBackdropClick,o=e.onBreakPoint,a=e.width,l=a===void 0?"250px":a,c=e.collapsedWidth,u=c===void 0?"80px":c,h=e.defaultCollapsed,p=e.className,m=e.children,y=e.breakPoint,w=e.customBreakPoint,b=e.backgroundColor,S=b===void 0?"rgb(249, 249, 249, 0.7)":b,E=e.transitionDuration,_=E===void 0?300:E,N=e.image,V=e.rtl,M=e.rootStyles,O=v0(e,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),z=function(){if(w)return"(max-width: ".concat(w,")");if(y)return["xs","sm","md","lg","xl","xxl"].includes(y)?"(max-width: ".concat(ace[y],")"):y==="always"||y==="all"?(y==="always"&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(y,")")},H=Ve.useRef();H.current=function(Pe){o?.(Pe)};var X=sce(z()),Q=Ve.useState(!1),U=Q[0],Z=Q[1],q=x7(),me=r??(!U&&h?!0:q?.collapsed),se=i??q?.toggled,ue=function(){s?.(),q?.updateSidebarState({toggled:!1})};return Ve.useEffect(function(){var Pe;(Pe=H.current)===null||Pe===void 0||Pe.call(H,X)},[X]),Ve.useEffect(function(){q?.updateSidebarState({broken:X,rtl:V,transitionDuration:_})},[X,q?.updateSidebarState,V,_]),Ve.useEffect(function(){U||(q?.updateSidebarState({collapsed:h}),Z(!0))},[h,U,q?.updateSidebarState]),Ve.createElement(GR.Provider,{value:{collapsed:me,toggled:se,rtl:V,transitionDuration:_}},Ve.createElement(lce,So({ref:t,"data-testid":"".concat(xo.root,"-test-id"),rtl:V,rootStyles:M,width:l,collapsedWidth:u,transitionDuration:_,className:aa(xo.root,(n={},n[xo.collapsed]=me,n[xo.toggled]=se,n[xo.broken]=X,n[xo.rtl]=V,n),p)},O),Ve.createElement(cce,{"data-testid":"".concat(xo.container,"-test-id"),className:xo.container,backgroundColor:S},m),N&&Ve.createElement(uce,{"data-testid":"".concat(xo.image,"-test-id"),src:N,alt:"sidebar background",className:xo.image}),X&&se&&Ve.createElement(oce,{"data-testid":"".concat(xo.backdrop,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:ue,onKeyPress:ue,className:xo.backdrop})))}),ZV,qV,QV,S7=Fa.ul(JV||(JV=Hl([`
  list-style-type: none;
  padding: 0;
  margin: 0;
`],[`
  list-style-type: none;
  padding: 0;
  margin: 0;
`]))),JV,hce=Fa.nav($V||($V=Hl([`
  &.`,` {
    `,`
  }
`],[`
  &.`,` {
    `,`
  }
`])),yi.root,function(e){var t=e.rootStyles;return t}),_7=Ve.createContext(void 0),rT=Ve.createContext(0),fce=function(e,t){var n=e.children,r=e.className,i=e.transitionDuration,s=i===void 0?300:i,o=e.closeOnClick,a=o===void 0?!1:o,l=e.rootStyles,c=e.menuItemStyles,u=e.renderExpandIcon,h=v0(e,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),p=Ve.useMemo(function(){return{transitionDuration:s,closeOnClick:a,menuItemStyles:c,renderExpandIcon:u}},[s,a,c,u]);return Ve.createElement(_7.Provider,{value:p},Ve.createElement(rT.Provider,{value:0},Ve.createElement(hce,So({ref:t,className:aa(yi.root,r),rootStyles:l},h),Ve.createElement(S7,null,n))))},pce=Ve.forwardRef(fce),$V,FM=function(){var e=Ve.useContext(_7);if(e===void 0)throw new Error("Menu Component is required!");return e},gce=Fa.div(e5||(e5=Hl([`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`],[`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`])),function(e){var t=e.transitionDuration;return t},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n&&`
     background-color: white;
     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
     `},function(e){var t=e.defaultOpen;return t&&"height: auto;display: block;"},function(e){var t=e.collapsed,n=e.firstLevel,r=e.openWhenCollapsed;return t&&n?`
      position: fixed;
      padding-left: 0px;
      width: 200px;
      border-radius: 4px;
      height: auto!important;
      display: block!important;     
      transition: none!important;     
      visibility: `.concat(r?"visible":"hidden",`;
     `):`
      position: static!important;
      transform: none!important;
      `},function(e){var t=e.rootStyles;return t}),mce=function(e,t){var n=e.children,r=e.open,i=e.openWhenCollapsed,s=e.firstLevel,o=e.collapsed,a=e.defaultOpen,l=v0(e,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),c=FM().transitionDuration,u=Ve.useState(a)[0];return Ve.createElement(gce,So({"data-testid":"".concat(yi.subMenuContent,"-test-id"),ref:t,firstLevel:s,collapsed:o,open:r,openWhenCollapsed:i,transitionDuration:c,defaultOpen:u},l),Ve.createElement(S7,null,n))},vce=Ve.forwardRef(mce),e5,E7=Fa.span(t5||(t5=Hl([`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`],[`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`])),function(e){var t=e.rootStyles;return t}),t5,T7=Fa.span(n5||(n5=Hl([`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`],[`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 10px;":"margin-right: 10px;"},function(e){var t=e.rootStyles;return t}),n5,R7=Fa.span(r5||(r5=Hl([`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.rtl;return t?"margin-left: 5px;":"margin-right: 5px;"},function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),r5,A7=Fa.span(i5||(i5=Hl([`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(e){var t=e.firstLevel,n=e.collapsed;return t&&n?"0":"1"},function(e){var t=e.transitionDuration;return t},function(e){var t=e.rootStyles;return t}),i5,yce=Fa.span(s5||(s5=Hl([`
  `,`

  `,`;
`],[`
  `,`

  `,`;
`])),function(e){var t=e.collapsed,n=e.level,r=e.rtl;return t&&n===0&&`
    position: absolute;
    `.concat(r?"left: 10px;":"right: 10px;",`
    top: 50%;
    transform: translateY(-50%);
    
    `)},function(e){var t=e.rootStyles;return t}),wce=Fa.span(o5||(o5=Hl([`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`],[`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`])),function(e){var t=e.rtl;return t?`
          border-left: 2px solid currentcolor;
          border-top: 2px solid currentcolor;
        `:` border-right: 2px solid currentcolor;
          border-bottom: 2px solid currentcolor;
        `},function(e){var t=e.open,n=e.rtl;return t?n?"-135deg":"45deg":"-45deg"}),Cce=Fa.span(a5||(a5=Hl([`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`],[`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`]))),s5,o5,a5,Ac="top",wd="bottom",Cd="right",kc="left",IM="auto",VS=[Ac,wd,Cd,kc],jy="start",wx="end",bce="clippingParents",k7="viewport",KC="popper",xce="reference",l5=VS.reduce(function(e,t){return e.concat([t+"-"+jy,t+"-"+wx])},[]),P7=[].concat(VS,[IM]).reduce(function(e,t){return e.concat([t,t+"-"+jy,t+"-"+wx])},[]),Sce="beforeRead",_ce="read",Ece="afterRead",Tce="beforeMain",Rce="main",Ace="afterMain",kce="beforeWrite",Pce="write",Dce="afterWrite",Fce=[Sce,_ce,Ece,Tce,Rce,Ace,kce,Pce,Dce];function ff(e){return e?(e.nodeName||"").toLowerCase():null}function Rd(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function y0(e){var t=Rd(e).Element;return e instanceof t||e instanceof Element}function pd(e){var t=Rd(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function MM(e){if(typeof ShadowRoot>"u")return!1;var t=Rd(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Ice(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},s=t.elements[n];!pd(s)||!ff(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Mce(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],s=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!pd(i)||!ff(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Oce={name:"applyStyles",enabled:!0,phase:"write",fn:Ice,effect:Mce,requires:["computeStyles"]};function Zh(e){return e.split("-")[0]}var Jm=Math.max,iT=Math.min,Ky=Math.round;function L2(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function D7(){return!/^((?!chrome|android).)*safari/i.test(L2())}function Yy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&pd(e)&&(i=e.offsetWidth>0&&Ky(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ky(r.height)/e.offsetHeight||1);var o=y0(e)?Rd(e):window,a=o.visualViewport,l=!D7()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,p=r.height/s;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c,x:c,y:u}}function OM(e){var t=Yy(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function F7(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&MM(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ep(e){return Rd(e).getComputedStyle(e)}function Lce(e){return["table","td","th"].indexOf(ff(e))>=0}function jg(e){return((y0(e)?e.ownerDocument:e.document)||window.document).documentElement}function UR(e){return ff(e)==="html"?e:e.assignedSlot||e.parentNode||(MM(e)?e.host:null)||jg(e)}function c5(e){return!pd(e)||ep(e).position==="fixed"?null:e.offsetParent}function Nce(e){var t=/firefox/i.test(L2()),n=/Trident/i.test(L2());if(n&&pd(e)){var r=ep(e);if(r.position==="fixed")return null}var i=UR(e);for(MM(i)&&(i=i.host);pd(i)&&["html","body"].indexOf(ff(i))<0;){var s=ep(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function HS(e){for(var t=Rd(e),n=c5(e);n&&Lce(n)&&ep(n).position==="static";)n=c5(n);return n&&(ff(n)==="html"||ff(n)==="body"&&ep(n).position==="static")?t:n||Nce(e)||t}function LM(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ab(e,t,n){return Jm(e,iT(t,n))}function Bce(e,t,n){var r=Ab(e,t,n);return r>n?n:r}function I7(){return{top:0,right:0,bottom:0,left:0}}function M7(e){return Object.assign({},I7(),e)}function O7(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Vce=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,M7(typeof t!="number"?t:O7(t,VS))};function Hce(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Zh(n.placement),l=LM(a),c=[kc,Cd].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=Vce(i.padding,n),p=OM(s),m=l==="y"?Ac:kc,y=l==="y"?wd:Cd,w=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],b=o[l]-n.rects.reference[l],S=HS(s),E=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,_=w/2-b/2,N=h[m],V=E-p[u]-h[y],M=E/2-p[u]/2+_,O=Ab(N,M,V),z=l;n.modifiersData[r]=(t={},t[z]=O,t.centerOffset=O-M,t)}}function zce(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||F7(t.elements.popper,i)&&(t.elements.arrow=i))}var Gce={name:"arrow",enabled:!0,phase:"main",fn:Hce,effect:zce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xy(e){return e.split("-")[1]}var Uce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wce(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Ky(t*i)/i||0,y:Ky(n*i)/i||0}}function u5(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,p=o.x,m=p===void 0?0:p,y=o.y,w=y===void 0?0:y,b=typeof u=="function"?u({x:m,y:w}):{x:m,y:w};m=b.x,w=b.y;var S=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),_=kc,N=Ac,V=window;if(c){var M=HS(n),O="clientHeight",z="clientWidth";if(M===Rd(n)&&(M=jg(n),ep(M).position!=="static"&&a==="absolute"&&(O="scrollHeight",z="scrollWidth")),M=M,i===Ac||(i===kc||i===Cd)&&s===wx){N=wd;var H=h&&M===V&&V.visualViewport?V.visualViewport.height:M[O];w-=H-r.height,w*=l?1:-1}if(i===kc||(i===Ac||i===wd)&&s===wx){_=Cd;var X=h&&M===V&&V.visualViewport?V.visualViewport.width:M[z];m-=X-r.width,m*=l?1:-1}}var Q=Object.assign({position:a},c&&Uce),U=u===!0?Wce({x:m,y:w}):{x:m,y:w};if(m=U.x,w=U.y,l){var Z;return Object.assign({},Q,(Z={},Z[N]=E?"0":"",Z[_]=S?"0":"",Z.transform=(V.devicePixelRatio||1)<=1?"translate("+m+"px, "+w+"px)":"translate3d("+m+"px, "+w+"px, 0)",Z))}return Object.assign({},Q,(t={},t[N]=E?w+"px":"",t[_]=S?m+"px":"",t.transform="",t))}function jce(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Zh(t.placement),variation:Xy(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,u5(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,u5(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Kce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jce,data:{}},m_={passive:!0};function Yce(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Rd(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,m_)}),a&&l.addEventListener("resize",n.update,m_),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,m_)}),a&&l.removeEventListener("resize",n.update,m_)}}var Xce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Yce,data:{}},Zce={left:"right",right:"left",bottom:"top",top:"bottom"};function CE(e){return e.replace(/left|right|bottom|top/g,function(t){return Zce[t]})}var qce={start:"end",end:"start"};function d5(e){return e.replace(/start|end/g,function(t){return qce[t]})}function NM(e){var t=Rd(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function BM(e){return Yy(jg(e)).left+NM(e).scrollLeft}function Qce(e,t){var n=Rd(e),r=jg(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=D7();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+BM(e),y:l}}function Jce(e){var t,n=jg(e),r=NM(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=Jm(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Jm(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+BM(e),l=-r.scrollTop;return ep(i||n).direction==="rtl"&&(a+=Jm(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function VM(e){var t=ep(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function L7(e){return["html","body","#document"].indexOf(ff(e))>=0?e.ownerDocument.body:pd(e)&&VM(e)?e:L7(UR(e))}function kb(e,t){var n;t===void 0&&(t=[]);var r=L7(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Rd(r),o=i?[s].concat(s.visualViewport||[],VM(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(kb(UR(o)))}function N2(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $ce(e,t){var n=Yy(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function h5(e,t,n){return t===k7?N2(Qce(e,n)):y0(t)?$ce(t,n):N2(Jce(jg(e)))}function eue(e){var t=kb(UR(e)),n=["absolute","fixed"].indexOf(ep(e).position)>=0,r=n&&pd(e)?HS(e):e;return y0(r)?t.filter(function(i){return y0(i)&&F7(i,r)&&ff(i)!=="body"}):[]}function tue(e,t,n,r){var i=t==="clippingParents"?eue(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=h5(e,c,r);return l.top=Jm(u.top,l.top),l.right=iT(u.right,l.right),l.bottom=iT(u.bottom,l.bottom),l.left=Jm(u.left,l.left),l},h5(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function N7(e){var t=e.reference,n=e.element,r=e.placement,i=r?Zh(r):null,s=r?Xy(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Ac:l={x:o,y:t.y-n.height};break;case wd:l={x:o,y:t.y+t.height};break;case Cd:l={x:t.x+t.width,y:a};break;case kc:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?LM(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case jy:l[c]=l[c]-(t[u]/2-n[u]/2);break;case wx:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function Cx(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?bce:a,c=n.rootBoundary,u=c===void 0?k7:c,h=n.elementContext,p=h===void 0?KC:h,m=n.altBoundary,y=m===void 0?!1:m,w=n.padding,b=w===void 0?0:w,S=M7(typeof b!="number"?b:O7(b,VS)),E=p===KC?xce:KC,_=e.rects.popper,N=e.elements[y?E:p],V=tue(y0(N)?N:N.contextElement||jg(e.elements.popper),l,u,o),M=Yy(e.elements.reference),O=N7({reference:M,element:_,placement:i}),z=N2(Object.assign({},_,O)),H=p===KC?z:M,X={top:V.top-H.top+S.top,bottom:H.bottom-V.bottom+S.bottom,left:V.left-H.left+S.left,right:H.right-V.right+S.right},Q=e.modifiersData.offset;if(p===KC&&Q){var U=Q[i];Object.keys(X).forEach(function(Z){var q=[Cd,wd].indexOf(Z)>=0?1:-1,me=[Ac,wd].indexOf(Z)>=0?"y":"x";X[Z]+=U[me]*q})}return X}function nue(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?P7:l,u=Xy(r),h=u?a?l5:l5.filter(function(y){return Xy(y)===u}):VS,p=h.filter(function(y){return c.indexOf(y)>=0});p.length===0&&(p=h);var m=p.reduce(function(y,w){return y[w]=Cx(e,{placement:w,boundary:i,rootBoundary:s,padding:o})[Zh(w)],y},{});return Object.keys(m).sort(function(y,w){return m[y]-m[w]})}function rue(e){if(Zh(e)===IM)return[];var t=CE(e);return[d5(e),t,d5(t)]}function iue(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,w=n.allowedAutoPlacements,b=t.options.placement,S=Zh(b),E=S===b,_=l||(E||!y?[CE(b)]:rue(b)),N=[b].concat(_).reduce(function(ce,fe){return ce.concat(Zh(fe)===IM?nue(t,{placement:fe,boundary:u,rootBoundary:h,padding:c,flipVariations:y,allowedAutoPlacements:w}):fe)},[]),V=t.rects.reference,M=t.rects.popper,O=new Map,z=!0,H=N[0],X=0;X<N.length;X++){var Q=N[X],U=Zh(Q),Z=Xy(Q)===jy,q=[Ac,wd].indexOf(U)>=0,me=q?"width":"height",se=Cx(t,{placement:Q,boundary:u,rootBoundary:h,altBoundary:p,padding:c}),ue=q?Z?Cd:kc:Z?wd:Ac;V[me]>M[me]&&(ue=CE(ue));var Pe=CE(ue),ye=[];if(s&&ye.push(se[U]<=0),a&&ye.push(se[ue]<=0,se[Pe]<=0),ye.every(function(ce){return ce})){H=Q,z=!1;break}O.set(Q,ye)}if(z)for(var W=y?3:1,re=function(fe){var De=N.find(function(at){var je=O.get(at);if(je)return je.slice(0,fe).every(function(qe){return qe})});if(De)return H=De,"break"},te=W;te>0;te--){var J=re(te);if(J==="break")break}t.placement!==H&&(t.modifiersData[r]._skip=!0,t.placement=H,t.reset=!0)}}var sue={name:"flip",enabled:!0,phase:"main",fn:iue,requiresIfExists:["offset"],data:{_skip:!1}};function f5(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function p5(e){return[Ac,Cd,wd,kc].some(function(t){return e[t]>=0})}function oue(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=Cx(t,{elementContext:"reference"}),a=Cx(t,{altBoundary:!0}),l=f5(o,r),c=f5(a,i,s),u=p5(l),h=p5(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var aue={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:oue};function lue(e,t,n){var r=Zh(e),i=[kc,Ac].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[kc,Cd].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function cue(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=P7.reduce(function(u,h){return u[h]=lue(h,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}var uue={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:cue};function due(e){var t=e.state,n=e.name;t.modifiersData[n]=N7({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var hue={name:"popperOffsets",enabled:!0,phase:"read",fn:due,data:{}};function fue(e){return e==="x"?"y":"x"}function pue(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,p=n.tether,m=p===void 0?!0:p,y=n.tetherOffset,w=y===void 0?0:y,b=Cx(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),S=Zh(t.placement),E=Xy(t.placement),_=!E,N=LM(S),V=fue(N),M=t.modifiersData.popperOffsets,O=t.rects.reference,z=t.rects.popper,H=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,X=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),Q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(M){if(s){var Z,q=N==="y"?Ac:kc,me=N==="y"?wd:Cd,se=N==="y"?"height":"width",ue=M[N],Pe=ue+b[q],ye=ue-b[me],W=m?-z[se]/2:0,re=E===jy?O[se]:z[se],te=E===jy?-z[se]:-O[se],J=t.elements.arrow,ce=m&&J?OM(J):{width:0,height:0},fe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:I7(),De=fe[q],at=fe[me],je=Ab(0,O[se],ce[se]),qe=_?O[se]/2-W-je-De-X.mainAxis:re-je-De-X.mainAxis,et=_?-O[se]/2+W+je+at+X.mainAxis:te+je+at+X.mainAxis,Et=t.elements.arrow&&HS(t.elements.arrow),Se=Et?N==="y"?Et.clientTop||0:Et.clientLeft||0:0,$t=(Z=Q?.[N])!=null?Z:0,ne=ue+qe-$t-Se,Ge=ue+et-$t,Me=Ab(m?iT(Pe,ne):Pe,ue,m?Jm(ye,Ge):ye);M[N]=Me,U[N]=Me-ue}if(a){var ve,xe=N==="x"?Ac:kc,Le=N==="x"?wd:Cd,Je=M[V],nt=V==="y"?"height":"width",Be=Je+b[xe],gt=Je-b[Le],Mt=[Ac,kc].indexOf(S)!==-1,At=(ve=Q?.[V])!=null?ve:0,Ie=Mt?Be:Je-O[nt]-z[nt]-At+X.altAxis,it=Mt?Je+O[nt]+z[nt]-At-X.altAxis:gt,yt=m&&Mt?Bce(Ie,Je,it):Ab(m?Ie:Be,Je,m?it:gt);M[V]=yt,U[V]=yt-Je}t.modifiersData[r]=U}}var gue={name:"preventOverflow",enabled:!0,phase:"main",fn:pue,requiresIfExists:["offset"]};function mue(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function vue(e){return e===Rd(e)||!pd(e)?NM(e):mue(e)}function yue(e){var t=e.getBoundingClientRect(),n=Ky(t.width)/e.offsetWidth||1,r=Ky(t.height)/e.offsetHeight||1;return n!==1||r!==1}function wue(e,t,n){n===void 0&&(n=!1);var r=pd(t),i=pd(t)&&yue(t),s=jg(t),o=Yy(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((ff(t)!=="body"||VM(s))&&(a=vue(t)),pd(t)?(l=Yy(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=BM(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Cue(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function bue(e){var t=Cue(e);return Fce.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function xue(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Sue(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var g5={placement:"bottom",modifiers:[],strategy:"absolute"};function m5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _ue(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?g5:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},g5,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],p=!1,m={state:u,setOptions:function(S){var E=typeof S=="function"?S(u.options):S;w(),u.options=Object.assign({},s,u.options,E),u.scrollParents={reference:y0(a)?kb(a):a.contextElement?kb(a.contextElement):[],popper:kb(l)};var _=bue(Sue([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(N){return N.enabled}),y(),m.update()},forceUpdate:function(){if(!p){var S=u.elements,E=S.reference,_=S.popper;if(m5(E,_)){u.rects={reference:wue(E,HS(_),u.options.strategy==="fixed"),popper:OM(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(X){return u.modifiersData[X.name]=Object.assign({},X.data)});for(var N=0;N<u.orderedModifiers.length;N++){if(u.reset===!0){u.reset=!1,N=-1;continue}var V=u.orderedModifiers[N],M=V.fn,O=V.options,z=O===void 0?{}:O,H=V.name;typeof M=="function"&&(u=M({state:u,options:z,name:H,instance:m})||u)}}}},update:xue(function(){return new Promise(function(b){m.forceUpdate(),b(u)})}),destroy:function(){w(),p=!0}};if(!m5(a,l))return m;m.setOptions(c).then(function(b){!p&&c.onFirstUpdate&&c.onFirstUpdate(b)});function y(){u.orderedModifiers.forEach(function(b){var S=b.name,E=b.options,_=E===void 0?{}:E,N=b.effect;if(typeof N=="function"){var V=N({state:u,name:S,instance:m,options:_}),M=function(){};h.push(V||M)}})}function w(){h.forEach(function(b){return b()}),h=[]}return m}}var Eue=[Xce,hue,Kce,Oce,uue,sue,gue,Gce,aue],Tue=_ue({defaultModifiers:Eue}),Rue=function(e){var t=e.level,n=e.buttonRef,r=e.contentRef,i=Ve.useContext(GR),s=i.collapsed,o=i.toggled,a=i.transitionDuration,l=Ve.useRef();return Ve.useEffect(function(){return t===0&&s&&r.current&&n.current&&(l.current=Tue(n.current,r.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var c;return(c=l.current)===null||c===void 0?void 0:c.destroy()}},[t,s,r,n]),Ve.useEffect(function(){if(r.current&&n.current){var c=new ResizeObserver(function(){var u;(u=l.current)===null||u===void 0||u.update()});c.observe(r.current),c.observe(n.current)}setTimeout(function(){var u;(u=l.current)===null||u===void 0||u.update()},a)},[a,o,r,n]),{popperInstance:l.current}},B7=function(e){var t=e.rtl,n=e.level,r=e.collapsed,i=e.disabled,s=e.active;return`
    display: flex;
    align-items: center;
    height: 50px;
    text-decoration: none;
    color: inherit;
    box-sizing: border-box;
    cursor: pointer;

    `.concat(t?`padding-left: 20px;
           padding-right: `.concat(n===0?20:(r?n:n+1)*20,`px;
            `):`padding-right: 20px;
           padding-left: `.concat(n===0?20:(r?n:n+1)*20,`px;
           `),`

    &:hover {
      background-color: #f3f3f3;
    }

    `).concat(i&&` 
      pointer-events: none;
      cursor: default;
      color:#adadad;
        `,`

    `).concat(s&&"background-color: #e2eef9;",`
  
  `)},Aue=function(e,t){var n=e.className,r=e.component,i=e.children,s=v0(e,["className","component","children"]);if(r){if(typeof r=="string")return Ve.createElement(r,So(So({className:aa(n)},s),{ref:t}),i);var o=r.props,a=o.className,l=v0(o,["className"]);return Ve.cloneElement(r,So(So(So({className:aa(n,a)},s),l),{ref:t}),i)}else return Ve.createElement("a",So({ref:t,className:aa(n)},s),i)},V7=Ve.forwardRef(Aue),kue=Fa.li(y5||(y5=Hl([`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},yi.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return B7({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),Pue=function(e,t){var n,r=e.children,i=e.className,s=e.label,o=e.icon,a=e.title,l=e.prefix,c=e.suffix,u=e.open,h=e.defaultOpen,p=e.active,m=p===void 0?!1:p,y=e.disabled,w=y===void 0?!1:y,b=e.rootStyles,S=e.component,E=e.onOpenChange,_=e.onClick,N=e.onKeyUp,V=v0(e,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),M=Ve.useContext(rT),O=Ve.useContext(GR),z=O.collapsed,H=O.rtl,X=O.transitionDuration,Q=FM(),U=Q.renderExpandIcon,Z=Q.closeOnClick,q=Q.menuItemStyles,me=Q.transitionDuration,se=Ve.useState(!!h),ue=se[0],Pe=se[1],ye=Ve.useState(!1),W=ye[0],re=ye[1],te=Ve.useState(!1),J=te[0],ce=te[1],fe=Ve.useRef(null),De=Ve.useRef(null),at=Ve.useRef(),je=Rue({level:M,buttonRef:fe,contentRef:De}).popperInstance,qe=Ve.useCallback(function(){var Me,ve=De.current;if(ve){var xe=(Me=ve?.querySelector(".".concat(yi.subMenuContent," > ul")))===null||Me===void 0?void 0:Me.clientHeight;ve.style.overflow="hidden",ve.style.height="".concat(xe,"px"),at.current=setTimeout(function(){ve.style.overflow="auto",ve.style.height="auto"},me)}},[me]),et=function(){var Me,ve=De.current;if(ve){var xe=(Me=ve?.querySelector(".".concat(yi.subMenuContent," > ul")))===null||Me===void 0?void 0:Me.clientHeight;ve.style.overflow="hidden",ve.style.height="".concat(xe,"px"),ve.offsetHeight,ve.style.height="0px"}},Et=function(){M===0&&z||(typeof u>"u"?(clearTimeout(Number(at.current)),ue?et():qe(),E?.(!ue),Pe(!ue)):E?.(!u))};Ve.useEffect(function(){!(M===0&&z)&&typeof u<"u"&&J&&(clearTimeout(Number(at.current)),u?qe():et())},[z,qe,s,M,E,u]);var Se=function(Me){_?.(Me),Et()},$t=function(Me){N?.(Me),Me.key==="Enter"&&Et()},ne=function(Me){if(q){var ve={level:M,disabled:w,active:m,isSubmenu:!0,open:u??ue},xe=q.root,Le=q.button,Je=q.label,nt=q.icon,Be=q.prefix,gt=q.suffix,Mt=q.subMenuContent,At=q.SubMenuExpandIcon;switch(Me){case"root":return typeof xe=="function"?xe(ve):xe;case"button":return typeof Le=="function"?Le(ve):Le;case"label":return typeof Je=="function"?Je(ve):Je;case"icon":return typeof nt=="function"?nt(ve):nt;case"prefix":return typeof Be=="function"?Be(ve):Be;case"suffix":return typeof gt=="function"?gt(ve):gt;case"SubMenuExpandIcon":return typeof At=="function"?At(ve):At;case"subMenuContent":return typeof Mt=="function"?Mt(ve):Mt;default:return}}};Ve.useEffect(function(){setTimeout(function(){return je?.update()},X),z&&M===0&&re(!1)},[z,M,H,X,je]),Ve.useEffect(function(){var Me=function(Je){var nt,Be,gt;!W&&(!((nt=fe.current)===null||nt===void 0)&&nt.contains(Je))?re(!0):(Z&&!(!((Be=Je.closest(".".concat(yi.menuItemRoot)))===null||Be===void 0)&&Be.classList.contains(yi.subMenuRoot))||!(!((gt=De.current)===null||gt===void 0)&&gt.contains(Je))&&W)&&re(!1)},ve=function(Je){Me(Je.target)},xe=function(Je){Je.key==="Enter"?Me(Je.target):Je.key==="Escape"&&re(!1)},Le=function(){document.removeEventListener("click",ve),document.removeEventListener("keyup",xe)};return Le(),z&&M===0&&(document.addEventListener("click",ve,!1),document.addEventListener("keyup",xe,!1)),function(){Le()}},[z,M,Z,W]),Ve.useEffect(function(){ce(!0)},[]);var Ge=(n={},n[yi.active]=m,n[yi.disabled]=w,n[yi.open]=u??ue,n);return Ve.createElement(kue,{ref:t,className:aa(yi.menuItemRoot,yi.subMenuRoot,Ge,i),menuItemStyles:ne("root"),level:M,collapsed:z,rtl:H,disabled:w,active:m,buttonStyles:ne("button"),rootStyles:b},Ve.createElement(V7,So({"data-testid":"".concat(yi.button,"-test-id"),ref:fe,title:a,className:aa(yi.button,Ge),onClick:Se,onKeyUp:$t,component:S,tabIndex:0},V),o&&Ve.createElement(T7,{rtl:H,className:aa(yi.icon,Ge),rootStyles:ne("icon")},o),l&&Ve.createElement(R7,{collapsed:z,transitionDuration:X,firstLevel:M===0,className:aa(yi.prefix,Ge),rtl:H,rootStyles:ne("prefix")},l),Ve.createElement(E7,{className:aa(yi.label,Ge),rootStyles:ne("label")},s),c&&Ve.createElement(A7,{collapsed:z,transitionDuration:X,firstLevel:M===0,className:aa(yi.suffix,Ge),rootStyles:ne("suffix")},c),Ve.createElement(yce,{rtl:H,className:aa(yi.SubMenuExpandIcon,Ge),collapsed:z,level:M,rootStyles:ne("SubMenuExpandIcon")},U?U({level:M,disabled:w,active:m,open:u??ue}):z&&M===0?Ve.createElement(Cce,null):Ve.createElement(wce,{rtl:H,open:u??ue}))),Ve.createElement(vce,{ref:De,openWhenCollapsed:W,open:u??ue,firstLevel:M===0,collapsed:z,defaultOpen:u&&!J||h,className:aa(yi.subMenuContent,Ge),rootStyles:ne("subMenuContent")},Ve.createElement(rT.Provider,{value:M+1},r)))},v5=Ve.forwardRef(Pue),y5,Due=Fa.li(w5||(w5=Hl([`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(e){var t=e.menuItemStyles;return t},function(e){var t=e.rootStyles;return t},yi.button,function(e){var t=e.level,n=e.disabled,r=e.active,i=e.collapsed,s=e.rtl;return B7({level:t,disabled:n,active:r,collapsed:i,rtl:s})},function(e){var t=e.buttonStyles;return t}),Fue=function(e,t){var n,r=e.children,i=e.icon,s=e.className,o=e.prefix,a=e.suffix,l=e.active,c=l===void 0?!1:l,u=e.disabled,h=u===void 0?!1:u,p=e.component,m=e.rootStyles,y=v0(e,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),w=Ve.useContext(rT),b=Ve.useContext(GR),S=b.collapsed,E=b.rtl,_=b.transitionDuration,N=FM().menuItemStyles,V=function(O){if(N){var z={level:w,disabled:h,active:c,isSubmenu:!1},H=N.root,X=N.button,Q=N.label,U=N.icon,Z=N.prefix,q=N.suffix;switch(O){case"root":return typeof H=="function"?H(z):H;case"button":return typeof X=="function"?X(z):X;case"label":return typeof Q=="function"?Q(z):Q;case"icon":return typeof U=="function"?U(z):U;case"prefix":return typeof Z=="function"?Z(z):Z;case"suffix":return typeof q=="function"?q(z):q;default:return}}},M=(n={},n[yi.active]=c,n[yi.disabled]=h,n);return Ve.createElement(Due,{ref:t,className:aa(yi.menuItemRoot,M,s),menuItemStyles:V("root"),level:w,collapsed:S,rtl:E,disabled:h,active:c,buttonStyles:V("button"),rootStyles:m},Ve.createElement(V7,So({className:aa(yi.button,M),"data-testid":"".concat(yi.button,"-test-id"),component:p,tabIndex:0},y),i&&Ve.createElement(T7,{rtl:E,className:aa(yi.icon,M),rootStyles:V("icon")},i),o&&Ve.createElement(R7,{collapsed:S,transitionDuration:_,firstLevel:w===0,className:aa(yi.prefix,M),rtl:E,rootStyles:V("prefix")},o),Ve.createElement(E7,{className:aa(yi.label,M),rootStyles:V("label")},r),a&&Ve.createElement(A7,{collapsed:S,transitionDuration:_,firstLevel:w===0,className:aa(yi.suffix,M),rootStyles:V("suffix")},a)))},ou=Ve.forwardRef(Fue),w5,Iue=function(e){var t=e.children;return console.warn("ProSidebarProvider is deprecated and will be removed in the next major release."),Ve.createElement(ice,null,t)},Mue=function(){var e=x7();if(e===void 0)throw new Error("useProSidebar must be used within a ProSidebarProvider. Please wrap your component with a ProSidebarProvider to use this hook.");var t=Ve.useCallback(function(r){r===void 0?e.updateCollapseState():e.updateSidebarState({collapsed:r})},[e.updateCollapseState,e.updateSidebarState]),n=Ve.useCallback(function(r){r===void 0?e.updateToggleState():e.updateSidebarState({toggled:r})},[e.updateToggleState,e.updateSidebarState]);return Ve.useEffect(function(){console.warn("useProSidebar is deprecated and will be removed in the next major release. Please use Sidebar props instead.")},[]),{collapseSidebar:t,toggleSidebar:n,collapsed:!!e.collapsed,broken:!!e.broken,toggled:!!e.toggled,rtl:!!e.rtl}},bP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var C5;function Oue(){return C5||(C5=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}(bP)),bP.exports}var Lue=Oue();const bn=Wg(Lue);function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bx.apply(null,arguments)}function H7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function b5(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Nue(e){var t=Bue(e,"string");return typeof t=="symbol"?t:String(t)}function Bue(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function z7(e,t,n){var r=I.useRef(e!==void 0),i=I.useState(t),s=i[0],o=i[1],a=e!==void 0,l=r.current;return r.current=a,!a&&l&&s!==t&&o(t),[a?e:s,I.useCallback(function(c){for(var u=arguments.length,h=new Array(u>1?u-1:0),p=1;p<u;p++)h[p-1]=arguments[p];n&&n.apply(void 0,[c].concat(h)),o(c)},[n])]}function HM(e,t){return Object.keys(t).reduce(function(n,r){var i,s=n,o=s[b5(r)],a=s[r],l=H7(s,[b5(r),r].map(Nue)),c=t[r],u=z7(a,o,e[c]),h=u[0],p=u[1];return bx({},l,(i={},i[r]=h,i[c]=p,i))},e)}function B2(e,t){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},B2(e,t)}function Vue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B2(e,t)}const Hue=["xxl","xl","lg","md","sm","xs"],zue="xs",zS=I.createContext({prefixes:{},breakpoints:Hue,minBreakpoint:zue}),{Consumer:mlt,Provider:vlt}=zS;function Mn(e,t){const{prefixes:n}=I.useContext(zS);return e||n[t]||t}function G7(){const{breakpoints:e}=I.useContext(zS);return e}function U7(){const{minBreakpoint:e}=I.useContext(zS);return e}function zM(){const{dir:e}=I.useContext(zS);return e==="rtl"}function Aw(e){return e&&e.ownerDocument||document}function Gue(e){var t=Aw(e);return t&&t.defaultView||window}function Uue(e,t){return Gue(e).getComputedStyle(e,t)}var Wue=/([A-Z])/g;function jue(e){return e.replace(Wue,"-$1").toLowerCase()}var Kue=/^ms-/;function v_(e){return jue(e).replace(Kue,"-ms-")}var Yue=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Xue(e){return!!(e&&Yue.test(e))}function jf(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(v_(t))||Uue(e).getPropertyValue(v_(t));Object.keys(t).forEach(function(i){var s=t[i];!s&&s!==0?e.style.removeProperty(v_(i)):Xue(i)?r+=i+"("+s+") ":n+=v_(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var xP={exports:{}},SP,x5;function Zue(){if(x5)return SP;x5=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return SP=e,SP}var _P,S5;function que(){if(S5)return _P;S5=1;var e=Zue();function t(){}function n(){}return n.resetWarningCache=t,_P=function(){function r(o,a,l,c,u,h){if(h!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},_P}var _5;function Que(){return _5||(_5=1,xP.exports=que()()),xP.exports}var Jue=Que();const qh=Wg(Jue),E5={disabled:!1},W7=Ve.createContext(null);var $ue=function(t){return t.scrollTop},hb="unmounted",tg="exited",Zd="entering",Vf="entered",xx="exiting",mp=function(e){Vue(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=tg,s.appearStatus=Zd):l=Vf:r.unmountOnExit||r.mountOnEnter?l=hb:l=tg,s.state={status:l},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===hb?{status:tg}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Zd&&o!==Vf&&(s=Zd):(o===Zd||o===Vf)&&(s=xx)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Zd){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Hf.findDOMNode(this);o&&$ue(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tg&&this.setState({status:hb})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Hf.findDOMNode(this),a],c=l[0],u=l[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!i&&!o||E5.disabled){this.safeSetState({status:Vf},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Zd},function(){s.props.onEntering(c,u),s.onTransitionEnd(p,function(){s.safeSetState({status:Vf},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Hf.findDOMNode(this);if(!s||E5.disabled){this.safeSetState({status:tg},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:xx},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:tg},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Hf.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===hb)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=H7(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ve.createElement(W7.Provider,{value:null},typeof o=="function"?o(i,a):Ve.cloneElement(Ve.Children.only(o),a))},t}(Ve.Component);mp.contextType=W7;mp.propTypes={};function Wv(){}mp.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Wv,onEntering:Wv,onEntered:Wv,onExit:Wv,onExiting:Wv,onExited:Wv};mp.UNMOUNTED=hb;mp.EXITED=tg;mp.ENTERING=Zd;mp.ENTERED=Vf;mp.EXITING=xx;function j7(e){return e.code==="Escape"||e.keyCode===27}function ede(){const e=I.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function K0(e){if(!e||typeof e=="function")return null;const{major:t}=ede();return t>=19?e.props.ref:e.ref}const kw=!!(typeof window<"u"&&window.document&&window.document.createElement);var V2=!1,H2=!1;try{var EP={get passive(){return V2=!0},get once(){return H2=V2=!0}};kw&&(window.addEventListener("test",EP,EP),window.removeEventListener("test",EP,!0))}catch{}function K7(e,t,n,r){if(r&&typeof r!="boolean"&&!H2){var i=r.once,s=r.capture,o=n;!H2&&i&&(o=n.__once||function a(l){this.removeEventListener(t,a,s),n.call(this,l)},n.__once=o),e.addEventListener(t,o,V2?r:s)}e.addEventListener(t,n,r)}function z2(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function zf(e,t,n,r){return K7(e,t,n,r),function(){z2(e,t,n,r)}}function tde(e,t,n,r){if(r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function nde(e){var t=jf(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function rde(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||tde(e,"transitionend",!0)},t+n),s=zf(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function Y7(e,t,n,r){n==null&&(n=nde(e)||0);var i=rde(e,n,r),s=zf(e,"transitionend",t);return function(){i(),s()}}function T5(e,t){const n=jf(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function GM(e,t){const n=T5(e,"transitionDuration"),r=T5(e,"transitionDelay"),i=Y7(e,s=>{s.target===e&&(i(),t(s))},n+r)}function YC(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...i){t.apply(this,i),n.apply(this,i)}},null)}function X7(e){e.offsetHeight}const R5=e=>!e||typeof e=="function"?e:t=>{e.current=t};function ide(e,t){const n=R5(e),r=R5(t);return i=>{n&&n(i),r&&r(i)}}function WR(e,t){return I.useMemo(()=>ide(e,t),[e,t])}function sT(e){return e&&"setState"in e?Hf.findDOMNode(e):e??null}const jR=Ve.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:a,childRef:l,...c},u)=>{const h=I.useRef(null),p=WR(h,l),m=M=>{p(sT(M))},y=M=>O=>{M&&h.current&&M(h.current,O)},w=I.useCallback(y(e),[e]),b=I.useCallback(y(t),[t]),S=I.useCallback(y(n),[n]),E=I.useCallback(y(r),[r]),_=I.useCallback(y(i),[i]),N=I.useCallback(y(s),[s]),V=I.useCallback(y(o),[o]);return B.jsx(mp,{ref:u,...c,onEnter:w,onEntered:S,onEntering:b,onExit:E,onExited:N,onExiting:_,addEndListener:V,nodeRef:h,children:typeof a=="function"?(M,O)=>a(M,{...O,ref:m}):Ve.cloneElement(a,{ref:m})})});jR.displayName="TransitionWrapper";const sde={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ode(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],i=sde[e];return r+parseInt(jf(t,i[0]),10)+parseInt(jf(t,i[1]),10)}const ade={[tg]:"collapse",[xx]:"collapsing",[Zd]:"collapsing",[Vf]:"collapse show"},Z7=Ve.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:a="height",in:l=!1,timeout:c=300,mountOnEnter:u=!1,unmountOnExit:h=!1,appear:p=!1,getDimensionValue:m=ode,...y},w)=>{const b=typeof a=="function"?a():a,S=I.useMemo(()=>YC(M=>{M.style[b]="0"},e),[b,e]),E=I.useMemo(()=>YC(M=>{const O=`scroll${b[0].toUpperCase()}${b.slice(1)}`;M.style[b]=`${M[O]}px`},t),[b,t]),_=I.useMemo(()=>YC(M=>{M.style[b]=null},n),[b,n]),N=I.useMemo(()=>YC(M=>{M.style[b]=`${m(b,M)}px`,X7(M)},r),[r,m,b]),V=I.useMemo(()=>YC(M=>{M.style[b]=null},i),[b,i]);return B.jsx(jR,{ref:w,addEndListener:GM,...y,"aria-expanded":y.role?l:null,onEnter:S,onEntering:E,onEntered:_,onExit:N,onExiting:V,childRef:K0(o),in:l,timeout:c,mountOnEnter:u,unmountOnExit:h,appear:p,children:(M,O)=>Ve.cloneElement(o,{...O,className:bn(s,o.props.className,ade[M],b==="width"&&"collapse-horizontal")})})});Z7.displayName="Collapse";function lde(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e},[e]),t}function tp(e){const t=lde(e);return I.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const GS=e=>I.forwardRef((t,n)=>B.jsx("div",{...t,ref:n,className:bn(t.className,e)})),q7=GS("h4");q7.displayName="DivStyledAsH4";const Q7=I.forwardRef(({className:e,bsPrefix:t,as:n=q7,...r},i)=>(t=Mn(t,"alert-heading"),B.jsx(n,{ref:i,className:bn(e,t),...r})));Q7.displayName="AlertHeading";function A5(){return I.useState(null)}function cde(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e},[e]),t}function cd(e){const t=cde(e);return I.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function J7(){const e=I.useRef(!0),t=I.useRef(()=>e.current);return I.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function ude(e){const t=I.useRef(null);return I.useEffect(()=>{t.current=e}),t.current}const dde=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",hde=typeof document<"u",k5=hde||dde?I.useLayoutEffect:I.useEffect,fde=["as","disabled"];function pde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gde(e){return!e||e.trim()==="#"}function UM({tagName:e,disabled:t,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){e||(n!=null||r!=null||i!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},c];const u=p=>{if((t||e==="a"&&gde(n))&&p.preventDefault(),t){p.stopPropagation();return}o?.(p)},h=p=>{p.key===" "&&(p.preventDefault(),u(p))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:t?void 0:a,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:u,onKeyDown:h},c]}const $7=I.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=pde(e,fde);const[s,{tagName:o}]=UM(Object.assign({tagName:n,disabled:r},i));return B.jsx(o,Object.assign({},i,s,{ref:t}))});$7.displayName="Button";const mde=["onKeyDown"];function vde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yde(e){return!e||e.trim()==="#"}const ej=I.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=vde(e,mde);const[i]=UM(Object.assign({tagName:"a"},r)),s=cd(o=>{i.onKeyDown(o),n?.(o)});return yde(r.href)||r.role==="button"?B.jsx("a",Object.assign({ref:t},r,i,{onKeyDown:s})):B.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});ej.displayName="Anchor";const tj=I.forwardRef(({className:e,bsPrefix:t,as:n=ej,...r},i)=>(t=Mn(t,"alert-link"),B.jsx(n,{ref:i,className:bn(e,t),...r})));tj.displayName="AlertLink";const wde={[Zd]:"show",[Vf]:"show"},_g=I.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=I.useCallback((l,c)=>{X7(l),r?.(l,c)},[r]);return B.jsx(jR,{ref:s,addEndListener:GM,...o,onEnter:a,childRef:K0(t),children:(l,c)=>I.cloneElement(t,{...c,className:bn("fade",e,t.props.className,wde[l],n[l])})})});_g.displayName="Fade";const Cde={"aria-label":qh.string,onClick:qh.func,variant:qh.oneOf(["white"])},KR=I.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>B.jsx("button",{ref:i,type:"button",className:bn("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));KR.displayName="CloseButton";KR.propTypes=Cde;const nj=I.forwardRef((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:c,dismissible:u,transition:h=_g,...p}=HM(e,{show:"onClose"}),m=Mn(n,"alert"),y=tp(S=>{c&&c(!1,S)}),w=h===!0?_g:h,b=B.jsxs("div",{role:"alert",...w?void 0:p,ref:t,className:bn(o,m,l&&`${m}-${l}`,u&&`${m}-dismissible`),children:[u&&B.jsx(KR,{onClick:y,"aria-label":i,variant:s}),a]});return w?B.jsx(w,{unmountOnExit:!0,...p,ref:void 0,in:r,children:b}):r?b:null});nj.displayName="Alert";const qd=Object.assign(nj,{Link:tj,Heading:Q7}),G2=I.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:r,className:i,as:s="span",...o},a)=>{const l=Mn(e,"badge");return B.jsx(s,{ref:a,...o,className:bn(i,l,n&&"rounded-pill",r&&`text-${r}`,t&&`bg-${t}`)})});G2.displayName="Badge";const hi=I.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const c=Mn(t,"btn"),[u,{tagName:h}]=UM({tagName:e,disabled:s,...a}),p=h;return B.jsx(p,{...u,...a,ref:l,disabled:s,className:bn(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,a.href&&s&&"disabled")})});hi.displayName="Button";const WM=I.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Mn(t,"card-body"),B.jsx(n,{ref:i,className:bn(e,t),...r})));WM.displayName="CardBody";const rj=I.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Mn(t,"card-footer"),B.jsx(n,{ref:i,className:bn(e,t),...r})));rj.displayName="CardFooter";const ij=I.createContext(null);ij.displayName="CardHeaderContext";const sj=I.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=Mn(e,"card-header"),o=I.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return B.jsx(ij.Provider,{value:o,children:B.jsx(n,{ref:i,...r,className:bn(t,s)})})});sj.displayName="CardHeader";const oj=I.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...i},s)=>{const o=Mn(e,"card-img");return B.jsx(r,{ref:s,className:bn(n?`${o}-${n}`:o,t),...i})});oj.displayName="CardImg";const aj=I.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Mn(t,"card-img-overlay"),B.jsx(n,{ref:i,className:bn(e,t),...r})));aj.displayName="CardImgOverlay";const lj=I.forwardRef(({className:e,bsPrefix:t,as:n="a",...r},i)=>(t=Mn(t,"card-link"),B.jsx(n,{ref:i,className:bn(e,t),...r})));lj.displayName="CardLink";const bde=GS("h6"),cj=I.forwardRef(({className:e,bsPrefix:t,as:n=bde,...r},i)=>(t=Mn(t,"card-subtitle"),B.jsx(n,{ref:i,className:bn(e,t),...r})));cj.displayName="CardSubtitle";const uj=I.forwardRef(({className:e,bsPrefix:t,as:n="p",...r},i)=>(t=Mn(t,"card-text"),B.jsx(n,{ref:i,className:bn(e,t),...r})));uj.displayName="CardText";const xde=GS("h5"),dj=I.forwardRef(({className:e,bsPrefix:t,as:n=xde,...r},i)=>(t=Mn(t,"card-title"),B.jsx(n,{ref:i,className:bn(e,t),...r})));dj.displayName="CardTitle";const hj=I.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:i,body:s=!1,children:o,as:a="div",...l},c)=>{const u=Mn(e,"card");return B.jsx(a,{ref:c,...l,className:bn(t,u,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?B.jsx(WM,{children:o}):o})});hj.displayName="Card";const ei=Object.assign(hj,{Img:oj,Title:dj,Subtitle:cj,Body:WM,Link:lj,Text:uj,Header:sj,Footer:rj,ImgOverlay:aj});function Sde(){const e=I.useRef(!0),t=I.useRef(()=>e.current);return I.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function _de(e){const t=I.useRef(e);return t.current=e,t}function fj(e){const t=_de(e);I.useEffect(()=>()=>t.current(),[])}const U2=2**31-1;function pj(e,t,n){const r=n-Date.now();e.current=r<=U2?setTimeout(t,r):setTimeout(()=>pj(e,t,n),U2)}function Ede(){const e=Sde(),t=I.useRef();return fj(()=>clearTimeout(t.current)),I.useMemo(()=>{const n=()=>clearTimeout(t.current);function r(i,s=0){e()&&(n(),s<=U2?t.current=setTimeout(i,s):pj(t,i,Date.now()+s))}return{set:r,clear:n,handleRef:t}},[])}function Tde(e,t){return I.Children.toArray(e).some(n=>I.isValidElement(n)&&n.type===t)}function Rde({as:e,bsPrefix:t,className:n,...r}){t=Mn(t,"col");const i=G7(),s=U7(),o=[],a=[];return i.forEach(l=>{const c=r[l];delete r[l];let u,h,p;typeof c=="object"&&c!=null?{span:u,offset:h,order:p}=c:u=c;const m=l!==s?`-${l}`:"";u&&o.push(u===!0?`${t}${m}`:`${t}${m}-${u}`),p!=null&&a.push(`order${m}-${p}`),h!=null&&a.push(`offset${m}-${h}`)}),[{...r,className:bn(n,...o,...a)},{as:e,bsPrefix:t,spans:o}]}const Qh=I.forwardRef((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=Rde(e);return B.jsx(i,{...r,ref:t,className:bn(n,!o.length&&s)})});Qh.displayName="Col";const Zy=I.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:r,...i},s)=>{const o=Mn(e,"container"),a=typeof t=="string"?`-${t}`:"-fluid";return B.jsx(n,{ref:s,...i,className:bn(r,t?`${o}${a}`:o)})});Zy.displayName="Container";var Ade=Function.prototype.bind.call(Function.prototype.call,[].slice);function Mm(e,t){return Ade(e.querySelectorAll(t))}function kde(){const[,e]=I.useReducer(t=>t+1,0);return e}var P5=Object.prototype.hasOwnProperty;function D5(e,t,n){for(n of e.keys())if(Pb(n,t))return n}function Pb(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Pb(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=D5(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=D5(t,i),!i)||!Pb(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(P5.call(e,n)&&++r&&!P5.call(t,n)||!(n in t)||!Pb(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function Pde(e){const t=J7();return[e[0],I.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var Pc="top",bd="bottom",xd="right",Dc="left",jM="auto",US=[Pc,bd,xd,Dc],qy="start",Sx="end",Dde="clippingParents",gj="viewport",XC="popper",Fde="reference",F5=US.reduce(function(e,t){return e.concat([t+"-"+qy,t+"-"+Sx])},[]),mj=[].concat(US,[jM]).reduce(function(e,t){return e.concat([t,t+"-"+qy,t+"-"+Sx])},[]),Ide="beforeRead",Mde="read",Ode="afterRead",Lde="beforeMain",Nde="main",Bde="afterMain",Vde="beforeWrite",Hde="write",zde="afterWrite",Gde=[Ide,Mde,Ode,Lde,Nde,Bde,Vde,Hde,zde];function Jh(e){return e.split("-")[0]}function Ru(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function w0(e){var t=Ru(e).Element;return e instanceof t||e instanceof Element}function $h(e){var t=Ru(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function KM(e){if(typeof ShadowRoot>"u")return!1;var t=Ru(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var $m=Math.max,oT=Math.min,Qy=Math.round;function W2(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function vj(){return!/^((?!chrome|android).)*safari/i.test(W2())}function Jy(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&$h(e)&&(i=e.offsetWidth>0&&Qy(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Qy(r.height)/e.offsetHeight||1);var o=w0(e)?Ru(e):window,a=o.visualViewport,l=!vj()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,h=r.width/i,p=r.height/s;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c,x:c,y:u}}function YM(e){var t=Jy(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function yj(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&KM(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Eg(e){return e?(e.nodeName||"").toLowerCase():null}function np(e){return Ru(e).getComputedStyle(e)}function Ude(e){return["table","td","th"].indexOf(Eg(e))>=0}function Kg(e){return((w0(e)?e.ownerDocument:e.document)||window.document).documentElement}function YR(e){return Eg(e)==="html"?e:e.assignedSlot||e.parentNode||(KM(e)?e.host:null)||Kg(e)}function I5(e){return!$h(e)||np(e).position==="fixed"?null:e.offsetParent}function Wde(e){var t=/firefox/i.test(W2()),n=/Trident/i.test(W2());if(n&&$h(e)){var r=np(e);if(r.position==="fixed")return null}var i=YR(e);for(KM(i)&&(i=i.host);$h(i)&&["html","body"].indexOf(Eg(i))<0;){var s=np(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function WS(e){for(var t=Ru(e),n=I5(e);n&&Ude(n)&&np(n).position==="static";)n=I5(n);return n&&(Eg(n)==="html"||Eg(n)==="body"&&np(n).position==="static")?t:n||Wde(e)||t}function XM(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Db(e,t,n){return $m(e,oT(t,n))}function jde(e,t,n){var r=Db(e,t,n);return r>n?n:r}function wj(){return{top:0,right:0,bottom:0,left:0}}function Cj(e){return Object.assign({},wj(),e)}function bj(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Kde=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Cj(typeof t!="number"?t:bj(t,US))};function Yde(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Jh(n.placement),l=XM(a),c=[Dc,xd].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=Kde(i.padding,n),p=YM(s),m=l==="y"?Pc:Dc,y=l==="y"?bd:xd,w=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],b=o[l]-n.rects.reference[l],S=WS(s),E=S?l==="y"?S.clientHeight||0:S.clientWidth||0:0,_=w/2-b/2,N=h[m],V=E-p[u]-h[y],M=E/2-p[u]/2+_,O=Db(N,M,V),z=l;n.modifiersData[r]=(t={},t[z]=O,t.centerOffset=O-M,t)}}function Xde(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||yj(t.elements.popper,i)&&(t.elements.arrow=i))}const Zde={name:"arrow",enabled:!0,phase:"main",fn:Yde,effect:Xde,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $y(e){return e.split("-")[1]}var qde={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qde(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Qy(n*i)/i||0,y:Qy(r*i)/i||0}}function M5(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,p=o.x,m=p===void 0?0:p,y=o.y,w=y===void 0?0:y,b=typeof u=="function"?u({x:m,y:w}):{x:m,y:w};m=b.x,w=b.y;var S=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),_=Dc,N=Pc,V=window;if(c){var M=WS(n),O="clientHeight",z="clientWidth";if(M===Ru(n)&&(M=Kg(n),np(M).position!=="static"&&a==="absolute"&&(O="scrollHeight",z="scrollWidth")),M=M,i===Pc||(i===Dc||i===xd)&&s===Sx){N=bd;var H=h&&M===V&&V.visualViewport?V.visualViewport.height:M[O];w-=H-r.height,w*=l?1:-1}if(i===Dc||(i===Pc||i===bd)&&s===Sx){_=xd;var X=h&&M===V&&V.visualViewport?V.visualViewport.width:M[z];m-=X-r.width,m*=l?1:-1}}var Q=Object.assign({position:a},c&&qde),U=u===!0?Qde({x:m,y:w},Ru(n)):{x:m,y:w};if(m=U.x,w=U.y,l){var Z;return Object.assign({},Q,(Z={},Z[N]=E?"0":"",Z[_]=S?"0":"",Z.transform=(V.devicePixelRatio||1)<=1?"translate("+m+"px, "+w+"px)":"translate3d("+m+"px, "+w+"px, 0)",Z))}return Object.assign({},Q,(t={},t[N]=E?w+"px":"",t[_]=S?m+"px":"",t.transform="",t))}function Jde(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Jh(t.placement),variation:$y(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,M5(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,M5(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const $de={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Jde,data:{}};var y_={passive:!0};function ehe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Ru(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,y_)}),a&&l.addEventListener("resize",n.update,y_),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,y_)}),a&&l.removeEventListener("resize",n.update,y_)}}const the={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ehe,data:{}};var nhe={left:"right",right:"left",bottom:"top",top:"bottom"};function bE(e){return e.replace(/left|right|bottom|top/g,function(t){return nhe[t]})}var rhe={start:"end",end:"start"};function O5(e){return e.replace(/start|end/g,function(t){return rhe[t]})}function ZM(e){var t=Ru(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function qM(e){return Jy(Kg(e)).left+ZM(e).scrollLeft}function ihe(e,t){var n=Ru(e),r=Kg(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=vj();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+qM(e),y:l}}function she(e){var t,n=Kg(e),r=ZM(e),i=(t=e.ownerDocument)==null?void 0:t.body,s=$m(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=$m(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+qM(e),l=-r.scrollTop;return np(i||n).direction==="rtl"&&(a+=$m(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function QM(e){var t=np(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function xj(e){return["html","body","#document"].indexOf(Eg(e))>=0?e.ownerDocument.body:$h(e)&&QM(e)?e:xj(YR(e))}function Fb(e,t){var n;t===void 0&&(t=[]);var r=xj(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=Ru(r),o=i?[s].concat(s.visualViewport||[],QM(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Fb(YR(o)))}function j2(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ohe(e,t){var n=Jy(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function L5(e,t,n){return t===gj?j2(ihe(e,n)):w0(t)?ohe(t,n):j2(she(Kg(e)))}function ahe(e){var t=Fb(YR(e)),n=["absolute","fixed"].indexOf(np(e).position)>=0,r=n&&$h(e)?WS(e):e;return w0(r)?t.filter(function(i){return w0(i)&&yj(i,r)&&Eg(i)!=="body"}):[]}function lhe(e,t,n,r){var i=t==="clippingParents"?ahe(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=L5(e,c,r);return l.top=$m(u.top,l.top),l.right=oT(u.right,l.right),l.bottom=oT(u.bottom,l.bottom),l.left=$m(u.left,l.left),l},L5(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Sj(e){var t=e.reference,n=e.element,r=e.placement,i=r?Jh(r):null,s=r?$y(r):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Pc:l={x:o,y:t.y-n.height};break;case bd:l={x:o,y:t.y+t.height};break;case xd:l={x:t.x+t.width,y:a};break;case Dc:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?XM(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case qy:l[c]=l[c]-(t[u]/2-n[u]/2);break;case Sx:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function _x(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,s=n.strategy,o=s===void 0?e.strategy:s,a=n.boundary,l=a===void 0?Dde:a,c=n.rootBoundary,u=c===void 0?gj:c,h=n.elementContext,p=h===void 0?XC:h,m=n.altBoundary,y=m===void 0?!1:m,w=n.padding,b=w===void 0?0:w,S=Cj(typeof b!="number"?b:bj(b,US)),E=p===XC?Fde:XC,_=e.rects.popper,N=e.elements[y?E:p],V=lhe(w0(N)?N:N.contextElement||Kg(e.elements.popper),l,u,o),M=Jy(e.elements.reference),O=Sj({reference:M,element:_,placement:i}),z=j2(Object.assign({},_,O)),H=p===XC?z:M,X={top:V.top-H.top+S.top,bottom:H.bottom-V.bottom+S.bottom,left:V.left-H.left+S.left,right:H.right-V.right+S.right},Q=e.modifiersData.offset;if(p===XC&&Q){var U=Q[i];Object.keys(X).forEach(function(Z){var q=[xd,bd].indexOf(Z)>=0?1:-1,me=[Pc,bd].indexOf(Z)>=0?"y":"x";X[Z]+=U[me]*q})}return X}function che(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?mj:l,u=$y(r),h=u?a?F5:F5.filter(function(y){return $y(y)===u}):US,p=h.filter(function(y){return c.indexOf(y)>=0});p.length===0&&(p=h);var m=p.reduce(function(y,w){return y[w]=_x(e,{placement:w,boundary:i,rootBoundary:s,padding:o})[Jh(w)],y},{});return Object.keys(m).sort(function(y,w){return m[y]-m[w]})}function uhe(e){if(Jh(e)===jM)return[];var t=bE(e);return[O5(e),t,O5(t)]}function dhe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,y=m===void 0?!0:m,w=n.allowedAutoPlacements,b=t.options.placement,S=Jh(b),E=S===b,_=l||(E||!y?[bE(b)]:uhe(b)),N=[b].concat(_).reduce(function(ce,fe){return ce.concat(Jh(fe)===jM?che(t,{placement:fe,boundary:u,rootBoundary:h,padding:c,flipVariations:y,allowedAutoPlacements:w}):fe)},[]),V=t.rects.reference,M=t.rects.popper,O=new Map,z=!0,H=N[0],X=0;X<N.length;X++){var Q=N[X],U=Jh(Q),Z=$y(Q)===qy,q=[Pc,bd].indexOf(U)>=0,me=q?"width":"height",se=_x(t,{placement:Q,boundary:u,rootBoundary:h,altBoundary:p,padding:c}),ue=q?Z?xd:Dc:Z?bd:Pc;V[me]>M[me]&&(ue=bE(ue));var Pe=bE(ue),ye=[];if(s&&ye.push(se[U]<=0),a&&ye.push(se[ue]<=0,se[Pe]<=0),ye.every(function(ce){return ce})){H=Q,z=!1;break}O.set(Q,ye)}if(z)for(var W=y?3:1,re=function(fe){var De=N.find(function(at){var je=O.get(at);if(je)return je.slice(0,fe).every(function(qe){return qe})});if(De)return H=De,"break"},te=W;te>0;te--){var J=re(te);if(J==="break")break}t.placement!==H&&(t.modifiersData[r]._skip=!0,t.placement=H,t.reset=!0)}}const hhe={name:"flip",enabled:!0,phase:"main",fn:dhe,requiresIfExists:["offset"],data:{_skip:!1}};function N5(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function B5(e){return[Pc,xd,bd,Dc].some(function(t){return e[t]>=0})}function fhe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=_x(t,{elementContext:"reference"}),a=_x(t,{altBoundary:!0}),l=N5(o,r),c=N5(a,i,s),u=B5(l),h=B5(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const phe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fhe};function ghe(e,t,n){var r=Jh(e),i=[Dc,Pc].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[Dc,xd].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function mhe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=i===void 0?[0,0]:i,o=mj.reduce(function(u,h){return u[h]=ghe(h,t.rects,s),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}const vhe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:mhe};function yhe(e){var t=e.state,n=e.name;t.modifiersData[n]=Sj({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const whe={name:"popperOffsets",enabled:!0,phase:"read",fn:yhe,data:{}};function Che(e){return e==="x"?"y":"x"}function bhe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,p=n.tether,m=p===void 0?!0:p,y=n.tetherOffset,w=y===void 0?0:y,b=_x(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),S=Jh(t.placement),E=$y(t.placement),_=!E,N=XM(S),V=Che(N),M=t.modifiersData.popperOffsets,O=t.rects.reference,z=t.rects.popper,H=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,X=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),Q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(M){if(s){var Z,q=N==="y"?Pc:Dc,me=N==="y"?bd:xd,se=N==="y"?"height":"width",ue=M[N],Pe=ue+b[q],ye=ue-b[me],W=m?-z[se]/2:0,re=E===qy?O[se]:z[se],te=E===qy?-z[se]:-O[se],J=t.elements.arrow,ce=m&&J?YM(J):{width:0,height:0},fe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:wj(),De=fe[q],at=fe[me],je=Db(0,O[se],ce[se]),qe=_?O[se]/2-W-je-De-X.mainAxis:re-je-De-X.mainAxis,et=_?-O[se]/2+W+je+at+X.mainAxis:te+je+at+X.mainAxis,Et=t.elements.arrow&&WS(t.elements.arrow),Se=Et?N==="y"?Et.clientTop||0:Et.clientLeft||0:0,$t=(Z=Q?.[N])!=null?Z:0,ne=ue+qe-$t-Se,Ge=ue+et-$t,Me=Db(m?oT(Pe,ne):Pe,ue,m?$m(ye,Ge):ye);M[N]=Me,U[N]=Me-ue}if(a){var ve,xe=N==="x"?Pc:Dc,Le=N==="x"?bd:xd,Je=M[V],nt=V==="y"?"height":"width",Be=Je+b[xe],gt=Je-b[Le],Mt=[Pc,Dc].indexOf(S)!==-1,At=(ve=Q?.[V])!=null?ve:0,Ie=Mt?Be:Je-O[nt]-z[nt]-At+X.altAxis,it=Mt?Je+O[nt]+z[nt]-At-X.altAxis:gt,yt=m&&Mt?jde(Ie,Je,it):Db(m?Ie:Be,Je,m?it:gt);M[V]=yt,U[V]=yt-Je}t.modifiersData[r]=U}}const xhe={name:"preventOverflow",enabled:!0,phase:"main",fn:bhe,requiresIfExists:["offset"]};function She(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function _he(e){return e===Ru(e)||!$h(e)?ZM(e):She(e)}function Ehe(e){var t=e.getBoundingClientRect(),n=Qy(t.width)/e.offsetWidth||1,r=Qy(t.height)/e.offsetHeight||1;return n!==1||r!==1}function The(e,t,n){n===void 0&&(n=!1);var r=$h(t),i=$h(t)&&Ehe(t),s=Kg(t),o=Jy(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Eg(t)!=="body"||QM(s))&&(a=_he(t)),$h(t)?(l=Jy(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=qM(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Rhe(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||i(s)}),r}function Ahe(e){var t=Rhe(e);return Gde.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function khe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Phe(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var V5={placement:"bottom",modifiers:[],strategy:"absolute"};function H5(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Dhe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,s=i===void 0?V5:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},V5,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],p=!1,m={state:u,setOptions:function(S){var E=typeof S=="function"?S(u.options):S;w(),u.options=Object.assign({},s,u.options,E),u.scrollParents={reference:w0(a)?Fb(a):a.contextElement?Fb(a.contextElement):[],popper:Fb(l)};var _=Ahe(Phe([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(N){return N.enabled}),y(),m.update()},forceUpdate:function(){if(!p){var S=u.elements,E=S.reference,_=S.popper;if(H5(E,_)){u.rects={reference:The(E,WS(_),u.options.strategy==="fixed"),popper:YM(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(X){return u.modifiersData[X.name]=Object.assign({},X.data)});for(var N=0;N<u.orderedModifiers.length;N++){if(u.reset===!0){u.reset=!1,N=-1;continue}var V=u.orderedModifiers[N],M=V.fn,O=V.options,z=O===void 0?{}:O,H=V.name;typeof M=="function"&&(u=M({state:u,options:z,name:H,instance:m})||u)}}}},update:khe(function(){return new Promise(function(b){m.forceUpdate(),b(u)})}),destroy:function(){w(),p=!0}};if(!H5(a,l))return m;m.setOptions(c).then(function(b){!p&&c.onFirstUpdate&&c.onFirstUpdate(b)});function y(){u.orderedModifiers.forEach(function(b){var S=b.name,E=b.options,_=E===void 0?{}:E,N=b.effect;if(typeof N=="function"){var V=N({state:u,name:S,instance:m,options:_}),M=function(){};h.push(V||M)}})}function w(){h.forEach(function(b){return b()}),h=[]}return m}}const Fhe=Dhe({defaultModifiers:[phe,whe,$de,the,vhe,hhe,xhe,Zde]}),Ihe=["enabled","placement","strategy","modifiers"];function Mhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const Ohe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Lhe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const r=(t.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?t.setAttribute("aria-describedby",r.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:r}=e.elements,i=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},Nhe=[];function Bhe(e,t,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=Nhe}=n,a=Mhe(n,Ihe);const l=I.useRef(o),c=I.useRef(),u=I.useCallback(()=>{var b;(b=c.current)==null||b.update()},[]),h=I.useCallback(()=>{var b;(b=c.current)==null||b.forceUpdate()},[]),[p,m]=Pde(I.useState({placement:i,update:u,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),y=I.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:b})=>{const S={},E={};Object.keys(b.elements).forEach(_=>{S[_]=b.styles[_],E[_]=b.attributes[_]}),m({state:b,styles:S,attributes:E,update:u,forceUpdate:h,placement:b.placement})}}),[u,h,m]),w=I.useMemo(()=>(Pb(l.current,o)||(l.current=o),l.current),[o]);return I.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:s,modifiers:[...w,y,Ohe]})},[s,i,y,r,w]),I.useEffect(()=>{if(!(!r||e==null||t==null))return c.current=Fhe(e,t,Object.assign({},a,{placement:i,strategy:s,modifiers:[...w,Lhe,y]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,m(b=>Object.assign({},b,{attributes:{},styles:{popper:{}}})))}},[r,e,t]),p}function Ex(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}var TP,z5;function Vhe(){if(z5)return TP;z5=1;var e=function(){};return TP=e,TP}var Hhe=Vhe();const zhe=Wg(Hhe),G5=()=>{};function Ghe(e){return e.button===0}function Uhe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const xE=e=>e&&("current"in e?e.current:e),U5={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Whe(e,t=G5,{disabled:n,clickTrigger:r="click"}={}){const i=I.useRef(!1),s=I.useRef(!1),o=I.useCallback(c=>{const u=xE(e);zhe(!!u,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!u||Uhe(c)||!Ghe(c)||!!Ex(u,c.target)||s.current,s.current=!1},[e]),a=cd(c=>{const u=xE(e);u&&Ex(u,c.target)?s.current=!0:s.current=!1}),l=cd(c=>{i.current||t(c)});I.useEffect(()=>{var c,u;if(n||e==null)return;const h=Aw(xE(e)),p=h.defaultView||window;let m=(c=p.event)!=null?c:(u=p.parent)==null?void 0:u.event,y=null;U5[r]&&(y=zf(h,U5[r],a,!0));const w=zf(h,r,o,!0),b=zf(h,r,E=>{if(E===m){m=void 0;return}l(E)});let S=[];return"ontouchstart"in h.documentElement&&(S=[].slice.call(h.body.children).map(E=>zf(E,"mousemove",G5))),()=>{y?.(),w(),b(),S.forEach(E=>E())}},[e,n,r,o,a,l])}function jhe(e){const t={};return Array.isArray(e)?(e?.forEach(n=>{t[n.name]=n}),t):e||t}function Khe(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function Yhe({enabled:e,enableEvents:t,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:a,popperConfig:l={}}){var c,u,h,p;const m=jhe(l.modifiers);return Object.assign({},l,{placement:n,enabled:e,strategy:s?"fixed":l.strategy,modifiers:Khe(Object.assign({},m,{eventListeners:{enabled:t,options:(c=m.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},m.preventOverflow,{options:Object.assign({padding:o},(u=m.preventOverflow)==null?void 0:u.options)}),offset:{options:Object.assign({offset:i},(h=m.offset)==null?void 0:h.options)},arrow:Object.assign({},m.arrow,{enabled:!!a,options:Object.assign({},(p=m.arrow)==null?void 0:p.options,{element:a})}),flip:Object.assign({enabled:!!r},m.flip)}))})}const aT=I.createContext(null),JM=(e,t=null)=>e!=null?String(e):t||null,$M=I.createContext(null);$M.displayName="NavContext";const Xhe="data-rr-ui-",Zhe="rrUi";function XR(e){return`${Xhe}${e}`}function qhe(e){return`${Zhe}${e}`}const _j=I.createContext(kw?window:void 0);_j.Provider;function eO(){return I.useContext(_j)}const Qhe=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Jhe=typeof document<"u",Ej=Jhe||Qhe?I.useLayoutEffect:I.useEffect,Tj=I.createContext(null);Tj.displayName="InputGroupContext";const jS=I.createContext(null);jS.displayName="NavbarContext";const $he={type:qh.string,tooltip:qh.bool,as:qh.elementType},ZR=I.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...i},s)=>B.jsx(e,{...i,ref:s,className:bn(t,`${n}-${r?"tooltip":"feedback"}`)}));ZR.displayName="Feedback";ZR.propTypes=$he;const rp=I.createContext({}),KS=I.forwardRef(({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...a},l)=>{const{controlId:c}=I.useContext(rp);return t=Mn(t,"form-check-input"),B.jsx(o,{...a,ref:l,type:r,id:e||c,className:bn(n,t,i&&"is-valid",s&&"is-invalid")})});KS.displayName="FormCheckInput";const lT=I.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...r},i)=>{const{controlId:s}=I.useContext(rp);return e=Mn(e,"form-check-label"),B.jsx("label",{...r,ref:i,htmlFor:n||s,className:bn(t,e)})});lT.displayName="FormCheckLabel";const Rj=I.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:c,feedbackType:u,className:h,style:p,title:m="",type:y="checkbox",label:w,children:b,as:S="input",...E},_)=>{t=Mn(t,"form-check"),n=Mn(n,"form-switch");const{controlId:N}=I.useContext(rp),V=I.useMemo(()=>({controlId:e||N}),[N,e]),M=!b&&w!=null&&w!==!1||Tde(b,lT),O=B.jsx(KS,{...E,type:y==="switch"?"checkbox":y,ref:_,isValid:o,isInvalid:a,disabled:s,as:S});return B.jsx(rp.Provider,{value:V,children:B.jsx("div",{style:p,className:bn(h,M&&t,r&&`${t}-inline`,i&&`${t}-reverse`,y==="switch"&&n),children:b||B.jsxs(B.Fragment,{children:[O,M&&B.jsx(lT,{title:m,children:w}),c&&B.jsx(ZR,{type:u,tooltip:l,children:c})]})})})});Rj.displayName="FormCheck";const cT=Object.assign(Rj,{Input:KS,Label:lT}),Aj=I.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:a=!1,plaintext:l,readOnly:c,as:u="input",...h},p)=>{const{controlId:m}=I.useContext(rp);return e=Mn(e,"form-control"),B.jsx(u,{...h,type:t,size:r,ref:p,readOnly:c,id:i||m,className:bn(s,l?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,o&&"is-valid",a&&"is-invalid")})});Aj.displayName="FormControl";const efe=Object.assign(Aj,{Feedback:ZR}),kj=I.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Mn(t,"form-floating"),B.jsx(n,{ref:i,className:bn(e,t),...r})));kj.displayName="FormFloating";const tO=I.forwardRef(({controlId:e,as:t="div",...n},r)=>{const i=I.useMemo(()=>({controlId:e}),[e]);return B.jsx(rp.Provider,{value:i,children:B.jsx(t,{...n,ref:r})})});tO.displayName="FormGroup";const Pj=I.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},a)=>{const{controlId:l}=I.useContext(rp);t=Mn(t,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const u=bn(i,t,r&&"visually-hidden",n&&c);return s=s||l,n?B.jsx(Qh,{ref:a,as:"label",className:u,htmlFor:s,...o}):B.jsx(e,{ref:a,className:u,htmlFor:s,...o})});Pj.displayName="FormLabel";const Dj=I.forwardRef(({bsPrefix:e,className:t,id:n,...r},i)=>{const{controlId:s}=I.useContext(rp);return e=Mn(e,"form-range"),B.jsx("input",{...r,type:"range",ref:i,className:bn(t,e),id:n||s})});Dj.displayName="FormRange";const Fj=I.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...a},l)=>{const{controlId:c}=I.useContext(rp);return e=Mn(e,"form-select"),B.jsx("select",{...a,size:n,ref:l,className:bn(r,e,t&&`${e}-${t}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});Fj.displayName="FormSelect";const Ij=I.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:r,...i},s)=>(e=Mn(e,"form-text"),B.jsx(n,{...i,ref:s,className:bn(t,e,r&&"text-muted")})));Ij.displayName="FormText";const Mj=I.forwardRef((e,t)=>B.jsx(cT,{...e,ref:t,type:"switch"}));Mj.displayName="Switch";const tfe=Object.assign(Mj,{Input:cT.Input,Label:cT.Label}),uT=I.forwardRef(({bsPrefix:e,className:t,children:n,controlId:r,label:i,...s},o)=>(e=Mn(e,"form-floating"),B.jsxs(tO,{ref:o,className:bn(t,e),controlId:r,...s,children:[n,B.jsx("label",{htmlFor:r,children:i})]})));uT.displayName="FloatingLabel";const nfe={_ref:qh.any,validated:qh.bool,as:qh.elementType},nO=I.forwardRef(({className:e,validated:t,as:n="form",...r},i)=>B.jsx(n,{...r,ref:i,className:bn(e,t&&"was-validated")}));nO.displayName="Form";nO.propTypes=nfe;const ar=Object.assign(nO,{Group:tO,Control:efe,Floating:kj,Check:cT,Switch:tfe,Label:Pj,Text:Ij,Range:Dj,Select:Fj,FloatingLabel:uT}),qR=I.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=Mn(t,"input-group-text"),B.jsx(n,{ref:i,className:bn(e,t),...r})));qR.displayName="InputGroupText";const rfe=e=>B.jsx(qR,{children:B.jsx(KS,{type:"checkbox",...e})}),ife=e=>B.jsx(qR,{children:B.jsx(KS,{type:"radio",...e})}),Oj=I.forwardRef(({bsPrefix:e,size:t,hasValidation:n,className:r,as:i="div",...s},o)=>{e=Mn(e,"input-group");const a=I.useMemo(()=>({}),[]);return B.jsx(Tj.Provider,{value:a,children:B.jsx(i,{ref:o,...s,className:bn(r,e,t&&`${e}-${t}`,n&&"has-validation")})})});Oj.displayName="InputGroup";const rc=Object.assign(Oj,{Text:qR,Radio:ife,Checkbox:rfe}),W5=e=>!e||typeof e=="function"?e:t=>{e.current=t};function sfe(e,t){const n=W5(e),r=W5(t);return i=>{n&&n(i),r&&r(i)}}function YS(e,t){return I.useMemo(()=>sfe(e,t),[e,t])}const Lj=I.createContext(null),ofe=["as","active","eventKey"];function afe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Nj({key:e,onClick:t,active:n,id:r,role:i,disabled:s}){const o=I.useContext(aT),a=I.useContext($M),l=I.useContext(Lj);let c=n;const u={role:i};if(a){!i&&a.role==="tablist"&&(u.role="tab");const h=a.getControllerId(e??null),p=a.getControlledId(e??null);u[XR("event-key")]=e,u.id=h||r,c=n==null&&e!=null?a.activeKey===e:n,(c||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(u["aria-controls"]=p)}return u.role==="tab"&&(u["aria-selected"]=c,c||(u.tabIndex=-1),s&&(u.tabIndex=-1,u["aria-disabled"]=!0)),u.onClick=cd(h=>{s||(t?.(h),e!=null&&o&&!h.isPropagationStopped()&&o(e,h))}),[u,{isActive:c}]}const Bj=I.forwardRef((e,t)=>{let{as:n=$7,active:r,eventKey:i}=e,s=afe(e,ofe);const[o,a]=Nj(Object.assign({key:JM(i,s.href),active:r},s));return o[XR("active")]=a.isActive,B.jsx(n,Object.assign({},s,o,{ref:t}))});Bj.displayName="NavItem";const lfe=["as","onSelect","activeKey","role","onKeyDown"];function cfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const j5=()=>{},K5=XR("event-key"),Vj=I.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=e,a=cfe(e,lfe);const l=kde(),c=I.useRef(!1),u=I.useContext(aT),h=I.useContext(Lj);let p,m;h&&(s=s||"tablist",i=h.activeKey,p=h.getControlledId,m=h.getControllerId);const y=I.useRef(null),w=_=>{const N=y.current;if(!N)return null;const V=Mm(N,`[${K5}]:not([aria-disabled=true])`),M=N.querySelector("[aria-selected=true]");if(!M||M!==document.activeElement)return null;const O=V.indexOf(M);if(O===-1)return null;let z=O+_;return z>=V.length&&(z=0),z<0&&(z=V.length-1),V[z]},b=(_,N)=>{_!=null&&(r?.(_,N),u?.(_,N))},S=_=>{if(o?.(_),!h)return;let N;switch(_.key){case"ArrowLeft":case"ArrowUp":N=w(-1);break;case"ArrowRight":case"ArrowDown":N=w(1);break;default:return}N&&(_.preventDefault(),b(N.dataset[qhe("EventKey")]||null,_),c.current=!0,l())};I.useEffect(()=>{if(y.current&&c.current){const _=y.current.querySelector(`[${K5}][aria-selected=true]`);_?.focus()}c.current=!1});const E=YS(t,y);return B.jsx(aT.Provider,{value:b,children:B.jsx($M.Provider,{value:{role:s,activeKey:JM(i),getControlledId:p||j5,getControllerId:m||j5},children:B.jsx(n,Object.assign({},a,{onKeyDown:S,ref:E,role:s}))})})});Vj.displayName="Nav";const ufe=Object.assign(Vj,{Item:Bj}),Hj=I.forwardRef(({bsPrefix:e,active:t,disabled:n,eventKey:r,className:i,variant:s,action:o,as:a,...l},c)=>{e=Mn(e,"list-group-item");const[u,h]=Nj({key:JM(r,l.href),active:t,...l}),p=tp(y=>{if(n){y.preventDefault(),y.stopPropagation();return}u.onClick(y)});n&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const m=a||(o?l.href?"a":"button":"div");return B.jsx(m,{ref:c,...l,...u,onClick:p,className:bn(i,e,h.isActive&&"active",n&&"disabled",s&&`${e}-${s}`,o&&`${e}-action`)})});Hj.displayName="ListGroupItem";const zj=I.forwardRef((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=HM(e,{activeKey:"onSelect"}),c=Mn(r,"list-group");let u;return s&&(u=s===!0?"horizontal":`horizontal-${s}`),B.jsx(ufe,{ref:t,...l,as:a,className:bn(n,c,i&&`${c}-${i}`,u&&`${c}-${u}`,o&&`${c}-numbered`)})});zj.displayName="ListGroup";const Qd=Object.assign(zj,{Item:Hj});var w_;function Y5(e){if((!w_&&w_!==0||e)&&kw){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),w_=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return w_}function dfe(){return I.useState(null)}function RP(e){e===void 0&&(e=Aw());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function hfe(e){const t=I.useRef(e);return t.current=e,t}function ffe(e){const t=hfe(e);I.useEffect(()=>()=>t.current(),[])}function pfe(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const X5=XR("modal-open");class rO{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return pfe(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(jf(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(X5,""),jf(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(X5),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const AP=(e,t)=>kw?e==null?(t||Aw()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function K2(e,t){const n=eO(),[r,i]=I.useState(()=>AP(e,n?.document));if(!r){const s=AP(e);s&&i(s)}return I.useEffect(()=>{},[t,r]),I.useEffect(()=>{const s=AP(e);s!==r&&i(s)},[e,r]),r}function gfe({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=I.useRef(null),o=I.useRef(t),a=cd(n);I.useEffect(()=>{t?o.current=!0:a(s.current)},[t,a]);const l=YS(s,K0(e)),c=I.cloneElement(e,{ref:l});return t?c:i||!o.current&&r?null:c}const mfe=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function vfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yfe(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:a,children:l}=e,c=vfe(e,mfe);const u=I.useRef(null),h=YS(u,K0(l)),p=N=>V=>{N&&u.current&&N(u.current,V)},m=I.useCallback(p(t),[t]),y=I.useCallback(p(n),[n]),w=I.useCallback(p(r),[r]),b=I.useCallback(p(i),[i]),S=I.useCallback(p(s),[s]),E=I.useCallback(p(o),[o]),_=I.useCallback(p(a),[a]);return Object.assign({},c,{nodeRef:u},t&&{onEnter:m},n&&{onEntering:y},r&&{onEntered:w},i&&{onExit:b},s&&{onExiting:S},o&&{onExited:E},a&&{addEndListener:_},{children:typeof l=="function"?(N,V)=>l(N,Object.assign({},V,{ref:h})):I.cloneElement(l,{ref:h})})}const wfe=["component"];function Cfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const bfe=I.forwardRef((e,t)=>{let{component:n}=e,r=Cfe(e,wfe);const i=yfe(r);return B.jsx(n,Object.assign({ref:t},i))});function xfe({in:e,onTransition:t}){const n=I.useRef(null),r=I.useRef(!0),i=cd(t);return k5(()=>{if(!n.current)return;let s=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[e,i]),k5(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function Sfe({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[s,o]=I.useState(!t);t&&s&&o(!1);const a=xfe({in:!!t,onTransition:c=>{const u=()=>{c.isStale()||(c.in?r?.(c.element,c.initial):(o(!0),n?.(c.element)))};Promise.resolve(i(c)).then(u,h=>{throw c.in||o(!0),h})}}),l=YS(a,K0(e));return s&&!t?null:I.cloneElement(e,{ref:l})}function Y2(e,t,n){return e?B.jsx(bfe,Object.assign({},n,{component:e})):t?B.jsx(Sfe,Object.assign({},n,{transition:t})):B.jsx(gfe,Object.assign({},n))}const _fe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Efe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let kP;function Tfe(e){return kP||(kP=new rO({ownerDocument:e?.document})),kP}function Rfe(e){const t=eO(),n=e||Tfe(t),r=I.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:I.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:I.useCallback(i=>{r.current.backdrop=i},[])})}const Gj=I.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:a=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:h,runTransition:p,backdropTransition:m,runBackdropTransition:y,autoFocus:w=!0,enforceFocus:b=!0,restoreFocus:S=!0,restoreFocusOptions:E,renderDialog:_,renderBackdrop:N=Ge=>B.jsx("div",Object.assign({},Ge)),manager:V,container:M,onShow:O,onHide:z=()=>{},onExit:H,onExited:X,onExiting:Q,onEnter:U,onEntering:Z,onEntered:q}=e,me=Efe(e,_fe);const se=eO(),ue=K2(M),Pe=Rfe(V),ye=J7(),W=ude(n),[re,te]=I.useState(!n),J=I.useRef(null);I.useImperativeHandle(t,()=>Pe,[Pe]),kw&&!W&&n&&(J.current=RP(se?.document)),n&&re&&te(!1);const ce=cd(()=>{if(Pe.add(),et.current=zf(document,"keydown",je),qe.current=zf(document,"focus",()=>setTimeout(De),!0),O&&O(),w){var Ge,Me;const ve=RP((Ge=(Me=Pe.dialog)==null?void 0:Me.ownerDocument)!=null?Ge:se?.document);Pe.dialog&&ve&&!Ex(Pe.dialog,ve)&&(J.current=ve,Pe.dialog.focus())}}),fe=cd(()=>{if(Pe.remove(),et.current==null||et.current(),qe.current==null||qe.current(),S){var Ge;(Ge=J.current)==null||Ge.focus==null||Ge.focus(E),J.current=null}});I.useEffect(()=>{!n||!ue||ce()},[n,ue,ce]),I.useEffect(()=>{re&&fe()},[re,fe]),ffe(()=>{fe()});const De=cd(()=>{if(!b||!ye()||!Pe.isTopModal())return;const Ge=RP(se?.document);Pe.dialog&&Ge&&!Ex(Pe.dialog,Ge)&&Pe.dialog.focus()}),at=cd(Ge=>{Ge.target===Ge.currentTarget&&(c?.(Ge),a===!0&&z())}),je=cd(Ge=>{l&&j7(Ge)&&Pe.isTopModal()&&(u?.(Ge),Ge.defaultPrevented||z())}),qe=I.useRef(),et=I.useRef(),Et=(...Ge)=>{te(!0),X?.(...Ge)};if(!ue)return null;const Se=Object.assign({role:r,ref:Pe.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},me,{style:s,className:i,tabIndex:-1});let $t=_?_(Se):B.jsx("div",Object.assign({},Se,{children:I.cloneElement(o,{role:"document"})}));$t=Y2(h,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:H,onExiting:Q,onExited:Et,onEnter:U,onEntering:Z,onEntered:q,children:$t});let ne=null;return a&&(ne=N({ref:Pe.setBackdropRef,onClick:at}),ne=Y2(m,y,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ne})),B.jsx(B.Fragment,{children:Hf.createPortal(B.jsxs(B.Fragment,{children:[ne,$t]}),ue)})});Gj.displayName="Modal";const Uj=Object.assign(Gj,{Manager:rO});function X2(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Afe(e,t){e.classList?e.classList.add(t):X2(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Z5(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function kfe(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Z5(e.className,t):e.setAttribute("class",Z5(e.className&&e.className.baseVal||"",t))}const jv={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Wj extends rO{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,jf(n,{[t]:`${parseFloat(jf(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],jf(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Afe(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Mm(n,jv.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,t.scrollBarWidth)),Mm(n,jv.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-t.scrollBarWidth)),Mm(n,jv.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();kfe(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Mm(n,jv.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Mm(n,jv.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Mm(n,jv.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let PP;function jj(e){return PP||(PP=new Wj(e)),PP}const Kj=I.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Mn(t,"modal-body"),B.jsx(n,{ref:i,className:bn(e,t),...r})));Kj.displayName="ModalBody";const iO=I.createContext({onHide(){}}),sO=I.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:s,children:o,scrollable:a,...l},c)=>{e=Mn(e,"modal");const u=`${e}-dialog`,h=typeof s=="string"?`${e}-fullscreen-${s}`:`${e}-fullscreen`;return B.jsx("div",{...l,ref:c,className:bn(u,t,i&&`${e}-${i}`,r&&`${u}-centered`,a&&`${u}-scrollable`,s&&h),children:B.jsx("div",{className:bn(`${e}-content`,n),children:o})})});sO.displayName="ModalDialog";const Yj=I.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Mn(t,"modal-footer"),B.jsx(n,{ref:i,className:bn(e,t),...r})));Yj.displayName="ModalFooter";const oO=I.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const a=I.useContext(iO),l=tp(()=>{a?.onHide(),r?.()});return B.jsxs("div",{ref:o,...s,children:[i,n&&B.jsx(KR,{"aria-label":e,variant:t,onClick:l})]})});oO.displayName="AbstractModalHeader";const Xj=I.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=Mn(e,"modal-header"),B.jsx(oO,{ref:s,...i,className:bn(t,e),closeLabel:n,closeButton:r})));Xj.displayName="ModalHeader";const Pfe=GS("h4"),Zj=I.forwardRef(({className:e,bsPrefix:t,as:n=Pfe,...r},i)=>(t=Mn(t,"modal-title"),B.jsx(n,{ref:i,className:bn(e,t),...r})));Zj.displayName="ModalTitle";function Dfe(e){return B.jsx(_g,{...e,timeout:null})}function Ffe(e){return B.jsx(_g,{...e,timeout:null})}const qj=I.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:s,dialogAs:o=sO,"data-bs-theme":a,"aria-labelledby":l,"aria-describedby":c,"aria-label":u,show:h=!1,animation:p=!0,backdrop:m=!0,keyboard:y=!0,onEscapeKeyDown:w,onShow:b,onHide:S,container:E,autoFocus:_=!0,enforceFocus:N=!0,restoreFocus:V=!0,restoreFocusOptions:M,onEntered:O,onExit:z,onExiting:H,onEnter:X,onEntering:Q,onExited:U,backdropClassName:Z,manager:q,...me},se)=>{const[ue,Pe]=I.useState({}),[ye,W]=I.useState(!1),re=I.useRef(!1),te=I.useRef(!1),J=I.useRef(null),[ce,fe]=dfe(),De=WR(se,fe),at=tp(S),je=zM();e=Mn(e,"modal");const qe=I.useMemo(()=>({onHide:at}),[at]);function et(){return q||jj({isRTL:je})}function Et(Ie){if(!kw)return;const it=et().getScrollbarWidth()>0,yt=Ie.scrollHeight>Aw(Ie).documentElement.clientHeight;Pe({paddingRight:it&&!yt?Y5():void 0,paddingLeft:!it&&yt?Y5():void 0})}const Se=tp(()=>{ce&&Et(ce.dialog)});fj(()=>{z2(window,"resize",Se),J.current==null||J.current()});const $t=()=>{re.current=!0},ne=Ie=>{re.current&&ce&&Ie.target===ce.dialog&&(te.current=!0),re.current=!1},Ge=()=>{W(!0),J.current=Y7(ce.dialog,()=>{W(!1)})},Me=Ie=>{Ie.target===Ie.currentTarget&&Ge()},ve=Ie=>{if(m==="static"){Me(Ie);return}if(te.current||Ie.target!==Ie.currentTarget){te.current=!1;return}S?.()},xe=Ie=>{y?w?.(Ie):(Ie.preventDefault(),m==="static"&&Ge())},Le=(Ie,it)=>{Ie&&Et(Ie),X?.(Ie,it)},Je=Ie=>{J.current==null||J.current(),z?.(Ie)},nt=(Ie,it)=>{Q?.(Ie,it),K7(window,"resize",Se)},Be=Ie=>{Ie&&(Ie.style.display=""),U?.(Ie),z2(window,"resize",Se)},gt=I.useCallback(Ie=>B.jsx("div",{...Ie,className:bn(`${e}-backdrop`,Z,!p&&"show")}),[p,Z,e]),Mt={...n,...ue};Mt.display="block";const At=Ie=>B.jsx("div",{role:"dialog",...Ie,style:Mt,className:bn(t,e,ye&&`${e}-static`,!p&&"show"),onClick:m?ve:void 0,onMouseUp:ne,"data-bs-theme":a,"aria-label":u,"aria-labelledby":l,"aria-describedby":c,children:B.jsx(o,{...me,onMouseDown:$t,className:r,contentClassName:i,children:s})});return B.jsx(iO.Provider,{value:qe,children:B.jsx(Uj,{show:h,ref:De,backdrop:m,container:E,keyboard:!0,autoFocus:_,enforceFocus:N,restoreFocus:V,restoreFocusOptions:M,onEscapeKeyDown:xe,onShow:b,onHide:S,onEnter:Le,onEntering:nt,onEntered:O,onExit:Je,onExiting:H,onExited:Be,manager:et(),transition:p?Dfe:void 0,backdropTransition:p?Ffe:void 0,renderBackdrop:gt,renderDialog:At})})});qj.displayName="Modal";const Yi=Object.assign(qj,{Body:Kj,Header:Xj,Title:Zj,Footer:Yj,Dialog:sO,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Qj=I.forwardRef(({bsPrefix:e,className:t,as:n,...r},i)=>{e=Mn(e,"navbar-brand");const s=n||(r.href?"a":"span");return B.jsx(s,{...r,ref:i,className:bn(t,e)})});Qj.displayName="NavbarBrand";const Jj=I.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=Mn(t,"navbar-collapse");const i=I.useContext(jS);return B.jsx(Z7,{in:!!(i&&i.expanded),...n,children:B.jsx("div",{ref:r,className:t,children:e})})});Jj.displayName="NavbarCollapse";const $j=I.forwardRef(({bsPrefix:e,className:t,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},a)=>{e=Mn(e,"navbar-toggler");const{onToggle:l,expanded:c}=I.useContext(jS)||{},u=tp(h=>{s&&s(h),l&&l()});return i==="button"&&(o.type="button"),B.jsx(i,{...o,ref:a,onClick:u,"aria-label":r,className:bn(t,e,!c&&"collapsed"),children:n||B.jsx("span",{className:`${e}-icon`})})});$j.displayName="NavbarToggle";const Z2=new WeakMap,q5=(e,t)=>{if(!e||!t)return;const n=Z2.get(t)||new Map;Z2.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function Ife(e,t=typeof window>"u"?void 0:window){const n=q5(e,t),[r,i]=I.useState(()=>n?n.matches:!1);return Ej(()=>{let s=q5(e,t);if(!s)return i(!1);let o=Z2.get(t);const a=()=>{i(s.matches)};return s.refCount++,s.addListener(a),a(),()=>{s.removeListener(a),s.refCount--,s.refCount<=0&&o?.delete(s.media),s=void 0}},[e]),r}function Mfe(e){const t=Object.keys(e);function n(a,l){return a===l?l:a?`${a} and ${l}`:l}function r(a){return t[Math.min(t.indexOf(a)+1,t.length-1)]}function i(a){const l=r(a);let c=e[l];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(a){let l=e[a];return typeof l=="number"&&(l=`${l}px`),`(min-width: ${l})`}function o(a,l,c){let u;typeof a=="object"?(u=a,c=l,l=!0):(l=l||!0,u={[a]:l});let h=I.useMemo(()=>Object.entries(u).reduce((p,[m,y])=>((y==="up"||y===!0)&&(p=n(p,s(m))),(y==="down"||y===!0)&&(p=n(p,i(m))),p),""),[JSON.stringify(u)]);return Ife(h,c)}return o}const Ofe=Mfe({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),eK=I.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Mn(t,"offcanvas-body"),B.jsx(n,{ref:i,className:bn(e,t),...r})));eK.displayName="OffcanvasBody";const Lfe={[Zd]:"show",[Vf]:"show"},tK=I.forwardRef(({bsPrefix:e,className:t,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...a},l)=>(e=Mn(e,"offcanvas"),B.jsx(jR,{ref:l,addEndListener:GM,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...a,childRef:K0(n),children:(c,u)=>I.cloneElement(n,{...u,className:bn(t,n.props.className,(c===Zd||c===xx)&&`${e}-toggling`,Lfe[c])})})));tK.displayName="OffcanvasToggling";const nK=I.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(e=Mn(e,"offcanvas-header"),B.jsx(oO,{ref:s,...i,className:bn(t,e),closeLabel:n,closeButton:r})));nK.displayName="OffcanvasHeader";const Nfe=GS("h5"),rK=I.forwardRef(({className:e,bsPrefix:t,as:n=Nfe,...r},i)=>(t=Mn(t,"offcanvas-title"),B.jsx(n,{ref:i,className:bn(e,t),...r})));rK.displayName="OffcanvasTitle";function Bfe(e){return B.jsx(tK,{...e})}function Vfe(e){return B.jsx(_g,{...e})}const iK=I.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:a=!0,keyboard:l=!0,scroll:c=!1,onEscapeKeyDown:u,onShow:h,onHide:p,container:m,autoFocus:y=!0,enforceFocus:w=!0,restoreFocus:b=!0,restoreFocusOptions:S,onEntered:E,onExit:_,onExiting:N,onEnter:V,onEntering:M,onExited:O,backdropClassName:z,manager:H,renderStaticNode:X=!1,...Q},U)=>{const Z=I.useRef();e=Mn(e,"offcanvas");const[q,me]=I.useState(!1),se=tp(p),ue=Ofe(s||"xs","up");I.useEffect(()=>{me(s?o&&!ue:o)},[o,s,ue]);const Pe=I.useMemo(()=>({onHide:se}),[se]);function ye(){return H||(c?(Z.current||(Z.current=new Wj({handleContainerOverflow:!1})),Z.current):jj())}const W=(ce,...fe)=>{ce&&(ce.style.visibility="visible"),V?.(ce,...fe)},re=(ce,...fe)=>{ce&&(ce.style.visibility=""),O?.(...fe)},te=I.useCallback(ce=>B.jsx("div",{...ce,className:bn(`${e}-backdrop`,z)}),[z,e]),J=ce=>B.jsx("div",{...ce,...Q,className:bn(t,s?`${e}-${s}`:e,`${e}-${i}`),"aria-labelledby":r,children:n});return B.jsxs(B.Fragment,{children:[!q&&(s||X)&&J({}),B.jsx(iO.Provider,{value:Pe,children:B.jsx(Uj,{show:q,ref:U,backdrop:a,container:m,keyboard:l,autoFocus:y,enforceFocus:w&&!c,restoreFocus:b,restoreFocusOptions:S,onEscapeKeyDown:u,onShow:h,onHide:se,onEnter:W,onEntering:M,onEntered:E,onExit:_,onExiting:N,onExited:re,manager:ye(),transition:Bfe,backdropTransition:Vfe,renderBackdrop:te,renderDialog:J})})]})});iK.displayName="Offcanvas";const fb=Object.assign(iK,{Body:eK,Header:nK,Title:rK}),sK=I.forwardRef(({onHide:e,...t},n)=>{const r=I.useContext(jS),i=tp(()=>{r==null||r.onToggle==null||r.onToggle(),e?.()});return B.jsx(fb,{ref:n,show:!!(r!=null&&r.expanded),...t,renderStaticNode:!0,onHide:i})});sK.displayName="NavbarOffcanvas";const oK=I.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},i)=>(t=Mn(t,"navbar-text"),B.jsx(n,{ref:i,className:bn(e,t),...r})));oK.displayName="NavbarText";const aK=I.forwardRef((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:a,className:l,as:c="nav",expanded:u,onToggle:h,onSelect:p,collapseOnSelect:m=!1,...y}=HM(e,{expanded:"onToggle"}),w=Mn(n,"navbar"),b=I.useCallback((..._)=>{p?.(..._),m&&u&&h?.(!1)},[p,m,u,h]);y.role===void 0&&c!=="nav"&&(y.role="navigation");let S=`${w}-expand`;typeof r=="string"&&(S=`${S}-${r}`);const E=I.useMemo(()=>({onToggle:()=>h?.(!u),bsPrefix:w,expanded:!!u,expand:r}),[w,u,r,h]);return B.jsx(jS.Provider,{value:E,children:B.jsx(aT.Provider,{value:b,children:B.jsx(c,{ref:t,...y,className:bn(l,w,r&&S,i&&`${w}-${i}`,s&&`bg-${s}`,a&&`sticky-${a}`,o&&`fixed-${o}`)})})})});aK.displayName="Navbar";const Hfe=Object.assign(aK,{Brand:Qj,Collapse:Jj,Offcanvas:sK,Text:oK,Toggle:$j}),zfe=()=>{};function Gfe(e,t,{disabled:n,clickTrigger:r}={}){const i=t||zfe;Whe(e,i,{disabled:n,clickTrigger:r});const s=cd(o=>{j7(o)&&i(o)});I.useEffect(()=>{if(n||e==null)return;const o=Aw(xE(e));let a=(o.defaultView||window).event;const l=zf(o,"keyup",c=>{if(c===a){a=void 0;return}s(c)});return()=>{l()}},[e,n,s])}const lK=I.forwardRef((e,t)=>{const{flip:n,offset:r,placement:i,containerPadding:s,popperConfig:o={},transition:a,runTransition:l}=e,[c,u]=A5(),[h,p]=A5(),m=YS(u,t),y=K2(e.container),w=K2(e.target),[b,S]=I.useState(!e.show),E=Bhe(w,c,Yhe({placement:i,enableEvents:!!e.show,containerPadding:s||5,flip:n,offset:r,arrowElement:h,popperConfig:o}));e.show&&b&&S(!1);const _=(...Q)=>{S(!0),e.onExited&&e.onExited(...Q)},N=e.show||!b;if(Gfe(c,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!N)return null;const{onExit:V,onExiting:M,onEnter:O,onEntering:z,onEntered:H}=e;let X=e.children(Object.assign({},E.attributes.popper,{style:E.styles.popper,ref:m}),{popper:E,placement:i,show:!!e.show,arrowProps:Object.assign({},E.attributes.arrow,{style:E.styles.arrow,ref:p})});return X=Y2(a,l,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X,onExit:V,onExiting:M,onExited:_,onEnter:O,onEntering:z,onEntered:H}),y?Hf.createPortal(X,y):null});lK.displayName="Overlay";const cK=I.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Mn(t,"popover-header"),B.jsx(n,{ref:i,className:bn(e,t),...r})));cK.displayName="PopoverHeader";const aO=I.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Mn(t,"popover-body"),B.jsx(n,{ref:i,className:bn(e,t),...r})));aO.displayName="PopoverBody";function uK(e,t){let n=e;return e==="left"?n=t?"end":"start":e==="right"&&(n=t?"start":"end"),n}function dK(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const hK=I.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:r,children:i,body:s,arrowProps:o,hasDoneInitialMeasure:a,popper:l,show:c,...u},h)=>{const p=Mn(e,"popover"),m=zM(),[y]=t?.split("-")||[],w=uK(y,m);let b=r;return c&&!a&&(b={...r,...dK(l?.strategy)}),B.jsxs("div",{ref:h,role:"tooltip",style:b,"x-placement":y,className:bn(n,p,y&&`bs-popover-${w}`),...u,children:[B.jsx("div",{className:"popover-arrow",...o}),s?B.jsx(aO,{children:i}):i]})});hK.displayName="Popover";const Ufe=Object.assign(hK,{Header:cK,Body:aO,POPPER_OFFSET:[0,8]}),fK=I.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:r,children:i,arrowProps:s,hasDoneInitialMeasure:o,popper:a,show:l,...c},u)=>{e=Mn(e,"tooltip");const h=zM(),[p]=t?.split("-")||[],m=uK(p,h);let y=r;return l&&!o&&(y={...r,...dK(a?.strategy)}),B.jsxs("div",{ref:u,style:y,role:"tooltip","x-placement":p,className:bn(n,e,`bs-tooltip-${m}`),...c,children:[B.jsx("div",{className:"tooltip-arrow",...s}),B.jsx("div",{className:`${e}-inner`,children:i})]})});fK.displayName="Tooltip";const pK=Object.assign(fK,{TOOLTIP_OFFSET:[0,6]});function Wfe(e){const t=I.useRef(null),n=Mn(void 0,"popover"),r=Mn(void 0,"tooltip"),i=I.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(X2(t.current,n))return Ufe.POPPER_OFFSET;if(X2(t.current,r))return pK.TOOLTIP_OFFSET}return[0,0]}}}),[e,n,r]);return[t,[i]]}function jfe(e,t){const{ref:n}=e,{ref:r}=t;e.ref=n.__wrapped||(n.__wrapped=i=>n(sT(i))),t.ref=r.__wrapped||(r.__wrapped=i=>r(sT(i)))}const gK=I.forwardRef(({children:e,transition:t=_g,popperConfig:n={},rootClose:r=!1,placement:i="top",show:s=!1,...o},a)=>{const l=I.useRef({}),[c,u]=I.useState(null),[h,p]=Wfe(o.offset),m=WR(a,h),y=t===!0?_g:t||void 0,w=tp(b=>{u(b),n==null||n.onFirstUpdate==null||n.onFirstUpdate(b)});return Ej(()=>{c&&o.target&&(l.current.scheduleUpdate==null||l.current.scheduleUpdate())},[c,o.target]),I.useEffect(()=>{s||u(null)},[s]),B.jsx(lK,{...o,ref:m,popperConfig:{...n,modifiers:p.concat(n.modifiers||[]),onFirstUpdate:w},transition:y,rootClose:r,placement:i,show:s,children:(b,{arrowProps:S,popper:E,show:_})=>{var N;jfe(b,S);const V=E?.placement,M=Object.assign(l.current,{state:E?.state,scheduleUpdate:E?.update,placement:V,outOfBoundaries:(E==null||(N=E.state)==null||(N=N.modifiersData.hide)==null?void 0:N.isReferenceHidden)||!1,strategy:n.strategy}),O=!!c;return typeof e=="function"?e({...b,placement:V,show:_,...!t&&_&&{className:"show"},popper:M,arrowProps:S,hasDoneInitialMeasure:O}):I.cloneElement(e,{...b,placement:V,arrowProps:S,popper:M,hasDoneInitialMeasure:O,className:bn(e.props.className,!t&&_&&"show"),style:{...e.props.style,...b.style}})}})});gK.displayName="Overlay";function Kfe(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function Q5(e,t,n){const[r]=t,i=r.currentTarget,s=r.relatedTarget||r.nativeEvent[n];(!s||s!==i)&&!Ex(i,s)&&e(...t)}qh.oneOf(["click","hover","focus"]);const Yfe=({trigger:e=["hover","focus"],overlay:t,children:n,popperConfig:r={},show:i,defaultShow:s=!1,onToggle:o,delay:a,placement:l,flip:c=l&&l.indexOf("auto")!==-1,...u})=>{const h=I.useRef(null),p=WR(h,K0(n)),m=Ede(),y=I.useRef(""),[w,b]=z7(i,s,o),S=Kfe(a),{onFocus:E,onBlur:_,onClick:N}=typeof n!="function"?I.Children.only(n).props:{},V=me=>{p(sT(me))},M=I.useCallback(()=>{if(m.clear(),y.current="show",!S.show){b(!0);return}m.set(()=>{y.current==="show"&&b(!0)},S.show)},[S.show,b,m]),O=I.useCallback(()=>{if(m.clear(),y.current="hide",!S.hide){b(!1);return}m.set(()=>{y.current==="hide"&&b(!1)},S.hide)},[S.hide,b,m]),z=I.useCallback((...me)=>{M(),E?.(...me)},[M,E]),H=I.useCallback((...me)=>{O(),_?.(...me)},[O,_]),X=I.useCallback((...me)=>{b(!w),N?.(...me)},[N,b,w]),Q=I.useCallback((...me)=>{Q5(M,me,"fromElement")},[M]),U=I.useCallback((...me)=>{Q5(O,me,"toElement")},[O]),Z=e==null?[]:[].concat(e),q={ref:V};return Z.indexOf("click")!==-1&&(q.onClick=X),Z.indexOf("focus")!==-1&&(q.onFocus=z,q.onBlur=H),Z.indexOf("hover")!==-1&&(q.onMouseOver=Q,q.onMouseOut=U),B.jsxs(B.Fragment,{children:[typeof n=="function"?n(q):I.cloneElement(n,q),B.jsx(gK,{...u,show:w,onHide:O,flip:c,placement:l,popperConfig:r,target:h.current,children:t})]})},ew=I.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},i)=>{const s=Mn(e,"row"),o=G7(),a=U7(),l=`${s}-cols`,c=[];return o.forEach(u=>{const h=r[u];delete r[u];let p;h!=null&&typeof h=="object"?{cols:p}=h:p=h;const m=u!==a?`-${u}`:"";p!=null&&c.push(`${l}${m}-${p}`)}),B.jsx(n,{ref:i,...r,className:bn(t,s,...c)})});ew.displayName="Row";const Ll=I.forwardRef(({bsPrefix:e,variant:t,animation:n="border",size:r,as:i="div",className:s,...o},a)=>{e=Mn(e,"spinner");const l=`${e}-${n}`;return B.jsx(i,{ref:a,...o,className:bn(s,l,r&&`${l}-${r}`,t&&`text-${t}`)})});Ll.displayName="Spinner";const mK=I.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:r,borderless:i,hover:s,size:o,variant:a,responsive:l,...c},u)=>{const h=Mn(e,"table"),p=bn(t,h,a&&`${h}-${a}`,o&&`${h}-${o}`,n&&`${h}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${h}-bordered`,i&&`${h}-borderless`,s&&`${h}-hover`),m=B.jsx("table",{...c,className:p,ref:u});if(l){let y=`${h}-responsive`;return typeof l=="string"&&(y=`${y}-${l}`),B.jsx("div",{className:y,children:m})}return m});mK.displayName="Table";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zfe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),J5=e=>{const t=Zfe(e);return t.charAt(0).toUpperCase()+t.slice(1)},vK=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),qfe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=I.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>I.createElement("svg",{ref:l,...Qfe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vK("lucide",i),...!s&&!qfe(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>I.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=(e,t)=>{const n=I.forwardRef(({className:r,...i},s)=>I.createElement(Jfe,{ref:s,iconNode:t,className:vK(`lucide-${Xfe(J5(e))}`,`lucide-${e}`,r),...i}));return n.displayName=J5(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],epe=Rr("arrow-left",$fe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$5=Rr("arrow-right",tpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],e6=Rr("book-open",npe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],lO=Rr("bot",rpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],C_=Rr("box",ipe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],ope=Rr("chart-line",spe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lpe=Rr("check",ape);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],upe=Rr("chevron-left",cpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],DP=Rr("chevron-right",dpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fpe=Rr("circle-alert",hpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],q2=Rr("circle-check-big",ppe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],mpe=Rr("circle-plus",gpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yK=Rr("circle-x",vpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wpe=Rr("copy",ype);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bpe=Rr("download",Cpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Spe=Rr("eye-off",xpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cO=Rr("eye",_pe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Tpe=Rr("file-down",Epe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rpe=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],wK=Rr("heart",Rpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ape=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kpe=Rr("image",Ape);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ppe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Dpe=Rr("info",Ppe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fpe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ipe=Rr("layers",Fpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Ope=Rr("loader",Mpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Npe=Rr("log-out",Lpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CK=Rr("mail",Bpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],FP=Rr("map",Vpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],zpe=Rr("menu",Hpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gpe=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bK=Rr("message-square",Gpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Upe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Wpe=Rr("pencil",Upe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],XS=Rr("plus",jpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kpe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ype=Rr("refresh-cw",Kpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xpe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zpe=Rr("save",Xpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qpe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uO=Rr("search",qpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qpe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Jpe=Rr("send",Qpe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ege=Rr("shield",$pe);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tge=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],QR=Rr("trash-2",tge);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nge=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],rge=Rr("upload",nge);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ige=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dO=Rr("user-plus",ige);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sge=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],JR=Rr("user",sge);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oge=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Kf=Rr("users",oge),age=({onMobileMenuToggle:e})=>{const{collapseSidebar:t,collapsed:n}=Mue();return B.jsx(Hfe,{bg:"light",expand:"lg",className:"border-bottom px-3",children:B.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[B.jsx("div",{className:"fw-bold fs-4",children:"English Tutor"}),B.jsx("div",{className:"d-lg-none",children:B.jsx(hi,{variant:"outline-primary",onClick:e,children:B.jsx(zpe,{size:20})})}),B.jsx("div",{className:"d-none d-lg-block",children:B.jsx(hi,{variant:"outline-secondary",onClick:()=>t(),size:"sm",children:n?"":""})})]})})},lge=()=>{};var t6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},cge=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},SK={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[u],n[h],n[p],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xK(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):cge(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new uge;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dge=function(e){const t=xK(e);return SK.encodeByteArray(t,!0)},dT=function(e){return dge(e).replace(/\./g,"")},_K=function(e){try{return SK.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fge=()=>hge().__FIREBASE_DEFAULTS__,pge=()=>{if(typeof process>"u"||typeof t6>"u")return;const e=t6.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gge=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_K(e[1]);return t&&JSON.parse(t)},$R=()=>{try{return lge()||fge()||pge()||gge()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},EK=e=>$R()?.emulatorHosts?.[e],TK=e=>{const t=EK(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},RK=()=>$R()?.config,AK=e=>$R()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hO(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[dT(JSON.stringify(n)),dT(JSON.stringify(o)),""].join(".")}const Ib={};function vge(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ib))Ib[t]?e.emulator.push(t):e.prod.push(t);return e}function yge(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let n6=!1;function fO(e,t){if(typeof window>"u"||typeof document>"u"||!Yg(window.location.host)||Ib[e]===t||Ib[e]||n6)return;Ib[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=vge().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{n6=!0,o()},p}function u(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function h(){const p=yge(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),b=document.getElementById(w)||document.createElement("a"),S=n("preprendIcon"),E=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const _=p.element;a(_),u(b,w);const N=c();l(E,S),_.append(E,y,b,N),document.body.appendChild(_)}s?(y.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wge(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nl())}function Cge(){const e=$R()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bge(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xge(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Sge(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _ge(){const e=Nl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ege(){return!Cge()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tge(){try{return typeof indexedDB=="object"}catch{return!1}}function Rge(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Age="FirebaseError";class uh extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=Age,Object.setPrototypeOf(this,uh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ZS.prototype.create)}}class ZS{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?kge(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new uh(i,a,r)}}function kge(e,t){return e.replace(Pge,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const Pge=/\{\$([^}]+)}/g;function Dge(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ip(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(r6(s)&&r6(o)){if(!ip(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r6(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pb(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function gb(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Fge(e,t){const n=new Ige(e,t);return n.subscribe.bind(n)}class Ige{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Mge(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=IP),i.error===void 0&&(i.error=IP),i.complete===void 0&&(i.complete=IP);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mge(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function IP(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(e){return e&&e._delegate?e._delegate:e}let Tg=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oge=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new mge;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Nge(t))try{this.getOrInitializeService({instanceIdentifier:Om})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Om){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Om){return this.instances.has(t)}getOptions(t=Om){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lge(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Om){return this.component?this.component.multipleInstances?t:Om:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Lge(e){return e===Om?void 0:e}function Nge(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bge{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Oge(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ur||(Ur={}));const Vge={debug:Ur.DEBUG,verbose:Ur.VERBOSE,info:Ur.INFO,warn:Ur.WARN,error:Ur.ERROR,silent:Ur.SILENT},Hge=Ur.INFO,zge={[Ur.DEBUG]:"log",[Ur.VERBOSE]:"log",[Ur.INFO]:"info",[Ur.WARN]:"warn",[Ur.ERROR]:"error"},Gge=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=zge[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pO{constructor(t){this.name=t,this._logLevel=Hge,this._logHandler=Gge,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ur))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Vge[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ur.DEBUG,...t),this._logHandler(this,Ur.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ur.VERBOSE,...t),this._logHandler(this,Ur.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ur.INFO,...t),this._logHandler(this,Ur.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ur.WARN,...t),this._logHandler(this,Ur.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ur.ERROR,...t),this._logHandler(this,Ur.ERROR,...t)}}const Uge=(e,t)=>t.some(n=>e instanceof n);let i6,s6;function Wge(){return i6||(i6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jge(){return s6||(s6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PK=new WeakMap,Q2=new WeakMap,DK=new WeakMap,MP=new WeakMap,gO=new WeakMap;function Kge(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(pg(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&PK.set(n,e)}).catch(()=>{}),gO.set(t,e),t}function Yge(e){if(Q2.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Q2.set(e,t)}let J2={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Q2.get(e);if(t==="objectStoreNames")return e.objectStoreNames||DK.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pg(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Xge(e){J2=e(J2)}function Zge(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(OP(this),t,...n);return DK.set(r,t.sort?t.sort():[t]),pg(r)}:jge().includes(e)?function(...t){return e.apply(OP(this),t),pg(PK.get(this))}:function(...t){return pg(e.apply(OP(this),t))}}function qge(e){return typeof e=="function"?Zge(e):(e instanceof IDBTransaction&&Yge(e),Uge(e,Wge())?new Proxy(e,J2):e)}function pg(e){if(e instanceof IDBRequest)return Kge(e);if(MP.has(e))return MP.get(e);const t=qge(e);return t!==e&&(MP.set(e,t),gO.set(t,e)),t}const OP=e=>gO.get(e);function Qge(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=pg(o);return r&&o.addEventListener("upgradeneeded",l=>{r(pg(o.result),l.oldVersion,l.newVersion,pg(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Jge=["get","getKey","getAll","getAllKeys","count"],$ge=["put","add","delete","clear"],LP=new Map;function o6(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(LP.get(t))return LP.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=$ge.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Jge.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return LP.set(t,s),s}Xge(e=>({...e,get:(t,n,r)=>o6(t,n)||e.get(t,n,r),has:(t,n)=>!!o6(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tme(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tme(e){return e.getComponent()?.type==="VERSION"}const $2="@firebase/app",a6="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new pO("@firebase/app"),nme="@firebase/app-compat",rme="@firebase/analytics-compat",ime="@firebase/analytics",sme="@firebase/app-check-compat",ome="@firebase/app-check",ame="@firebase/auth",lme="@firebase/auth-compat",cme="@firebase/database",ume="@firebase/data-connect",dme="@firebase/database-compat",hme="@firebase/functions",fme="@firebase/functions-compat",pme="@firebase/installations",gme="@firebase/installations-compat",mme="@firebase/messaging",vme="@firebase/messaging-compat",yme="@firebase/performance",wme="@firebase/performance-compat",Cme="@firebase/remote-config",bme="@firebase/remote-config-compat",xme="@firebase/storage",Sme="@firebase/storage-compat",_me="@firebase/firestore",Eme="@firebase/ai",Tme="@firebase/firestore-compat",Rme="firebase",Ame="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF="[DEFAULT]",kme={[$2]:"fire-core",[nme]:"fire-core-compat",[ime]:"fire-analytics",[rme]:"fire-analytics-compat",[ome]:"fire-app-check",[sme]:"fire-app-check-compat",[ame]:"fire-auth",[lme]:"fire-auth-compat",[cme]:"fire-rtdb",[ume]:"fire-data-connect",[dme]:"fire-rtdb-compat",[hme]:"fire-fn",[fme]:"fire-fn-compat",[pme]:"fire-iid",[gme]:"fire-iid-compat",[mme]:"fire-fcm",[vme]:"fire-fcm-compat",[yme]:"fire-perf",[wme]:"fire-perf-compat",[Cme]:"fire-rc",[bme]:"fire-rc-compat",[xme]:"fire-gcs",[Sme]:"fire-gcs-compat",[_me]:"fire-fst",[Tme]:"fire-fst-compat",[Eme]:"fire-vertex","fire-js":"fire-js",[Rme]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map,Pme=new Map,tF=new Map;function l6(e,t){try{e.container.addComponent(t)}catch(n){sp.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function C0(e){const t=e.name;if(tF.has(t))return sp.debug(`There were multiple attempts to register component ${t}.`),!1;tF.set(t,e);for(const n of hT.values())l6(n,e);for(const n of Pme.values())l6(n,e);return!0}function eA(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hu(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dme={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gg=new ZS("app","Firebase",Dme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fme{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tg("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gg.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=Ame;function FK(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:eF,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw gg.create("bad-app-name",{appName:String(i)});if(n||(n=RK()),!n)throw gg.create("no-options");const s=hT.get(i);if(s){if(ip(n,s.options)&&ip(r,s.config))return s;throw gg.create("duplicate-app",{appName:i})}const o=new Bge(i);for(const l of tF.values())o.addComponent(l);const a=new Fme(n,r,o);return hT.set(i,a),a}function mO(e=eF){const t=hT.get(e);if(!t&&e===eF&&RK())return FK();if(!t)throw gg.create("no-app",{appName:e});return t}function ef(e,t,n){let r=kme[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sp.warn(o.join(" "));return}C0(new Tg(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ime="firebase-heartbeat-database",Mme=1,Tx="firebase-heartbeat-store";let NP=null;function IK(){return NP||(NP=Qge(Ime,Mme,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Tx)}catch(n){console.warn(n)}}}}).catch(e=>{throw gg.create("idb-open",{originalErrorMessage:e.message})})),NP}async function Ome(e){try{const n=(await IK()).transaction(Tx),r=await n.objectStore(Tx).get(MK(e));return await n.done,r}catch(t){if(t instanceof uh)sp.warn(t.message);else{const n=gg.create("idb-get",{originalErrorMessage:t?.message});sp.warn(n.message)}}}async function c6(e,t){try{const r=(await IK()).transaction(Tx,"readwrite");await r.objectStore(Tx).put(t,MK(e)),await r.done}catch(n){if(n instanceof uh)sp.warn(n.message);else{const r=gg.create("idb-set",{originalErrorMessage:n?.message});sp.warn(r.message)}}}function MK(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lme=1024,Nme=30;class Bme{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hme(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u6();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Nme){const i=zme(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){sp.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u6(),{heartbeatsToSend:n,unsentEntries:r}=Vme(this._heartbeatsCache.heartbeats),i=dT(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return sp.warn(t),""}}}function u6(){return new Date().toISOString().substring(0,10)}function Vme(e,t=Lme){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),d6(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d6(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hme{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tge()?Rge().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ome(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return c6(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return c6(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function d6(e){return dT(JSON.stringify({version:2,heartbeats:e})).length}function zme(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gme(e){C0(new Tg("platform-logger",t=>new eme(t),"PRIVATE")),C0(new Tg("heartbeat",t=>new Bme(t),"PRIVATE")),ef($2,a6,e),ef($2,a6,"esm2020"),ef("fire-js","")}Gme("");var Ume="firebase",Wme="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ef(Ume,Wme,"app");const jme="AIzaSyCw5stPCkMrXawbxzgT-aFT8Q3_swl5Ms4",Kme="tutordecolonial.firebaseapp.com",Yme="tutordecolonial",Xme="tutordecolonial.firebasestorage.app",Zme="1086836762849",qme="1:1086836762849:web:ed4d9b2715c421e4eeafa0",Qme={apiKey:jme,authDomain:Kme,projectId:Yme,storageBucket:Xme,messagingSenderId:Zme,appId:qme};function OK(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jme=OK,LK=new ZS("auth","Firebase",OK());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new pO("@firebase/auth");function $me(e,...t){fT.logLevel<=Ur.WARN&&fT.warn(`Auth (${Y0}): ${e}`,...t)}function SE(e,...t){fT.logLevel<=Ur.ERROR&&fT.error(`Auth (${Y0}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(e,...t){throw vO(e,...t)}function tf(e,...t){return vO(e,...t)}function NK(e,t,n){const r={...Jme(),[t]:n};return new ZS("auth","Firebase",r).create(t,{appName:e.name})}function Yf(e){return NK(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vO(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return LK.create(e,...t)}function $n(e,t,...n){if(!e)throw vO(t,...n)}function Gf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw SE(t),new Error(t)}function op(e,t){e||Gf(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(){return typeof self<"u"&&self.location?.href||""}function e0e(){return h6()==="http:"||h6()==="https:"}function h6(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e0e()||xge()||"connection"in navigator)?navigator.onLine:!0}function n0e(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,n){this.shortDelay=t,this.longDelay=n,op(n>t,"Short delay should be less than long delay!"),this.isMobile=wge()||Sge()}get(){return t0e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(e,t){op(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s0e=new QS(3e4,6e4);function Xg(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Zg(e,t,n,r,i={}){return VK(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=qS({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...s};return bge()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Yg(e.emulatorConfig.host)&&(c.credentials="include"),BK.fetch()(await HK(e,e.config.apiHost,n,a),c)})}async function VK(e,t,n){e._canInitEmulator=!1;const r={...r0e,...t};try{const i=new a0e(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw b_(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw b_(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw b_(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw b_(e,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NK(e,u,c);oh(e,u)}}catch(i){if(i instanceof uh)throw i;oh(e,"network-request-failed",{message:String(i)})}}async function JS(e,t,n,r,i={}){const s=await Zg(e,t,n,r,i);return"mfaPendingCredential"in s&&oh(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function HK(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?yO(e.config,i):`${e.config.apiScheme}://${i}`;return i0e.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function o0e(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class a0e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(tf(this.auth,"network-request-failed")),s0e.get())})}}function b_(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=tf(e,t,r);return i.customData._tokenResponse=n,i}function f6(e){return e!==void 0&&e.enterprise!==void 0}class l0e{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return o0e(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function c0e(e,t){return Zg(e,"GET","/v2/recaptchaConfig",Xg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0e(e,t){return Zg(e,"POST","/v1/accounts:delete",t)}async function pT(e,t){return Zg(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function d0e(e,t=!1){const n=Rs(e),r=await n.getIdToken(t),i=wO(r);$n(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Mb(BP(i.auth_time)),issuedAtTime:Mb(BP(i.iat)),expirationTime:Mb(BP(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function BP(e){return Number(e)*1e3}function wO(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return SE("JWT malformed, contained fewer than 3 sections"),null;try{const i=_K(n);return i?JSON.parse(i):(SE("Failed to decode base64 JWT payload"),null)}catch(i){return SE("Caught error parsing JWT payload as JSON",i?.toString()),null}}function p6(e){const t=wO(e);return $n(t,"internal-error"),$n(typeof t.exp<"u","internal-error"),$n(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof uh&&h0e(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function h0e({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0e{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mb(this.lastLoginAt),this.creationTime=Mb(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(e){const t=e.auth,n=await e.getIdToken(),r=await Rx(e,pT(t,{idToken:n}));$n(r?.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=i.providerUserInfo?.length?zK(i.providerUserInfo):[],o=g0e(e.providerData,s),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!o?.length,c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new rF(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function p0e(e){const t=Rs(e);await gT(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function g0e(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function zK(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0e(e,t){const n=await VK(e,{},async()=>{const r=qS({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await HK(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return e.emulatorConfig&&Yg(e.emulatorConfig.host)&&(l.credentials="include"),BK.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function v0e(e,t){return Zg(e,"POST","/v2/accounts:revokeToken",Xg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$n(t.idToken,"internal-error"),$n(typeof t.idToken<"u","internal-error"),$n(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):p6(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){$n(t.length!==0,"internal-error");const n=p6(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($n(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await m0e(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cy;return r&&($n(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&($n(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&($n(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Cy,this.toJSON())}_performRefresh(){return Gf("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(e,t){$n(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Jd{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new f0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rF(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Rx(this,this.stsTokenManager.getToken(this.auth,t));return $n(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return d0e(this,t)}reload(){return p0e(this)}_assign(t){this!==t&&($n(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Jd({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){$n(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await gT(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hu(this.auth.app))return Promise.reject(Yf(this.auth));const t=await this.getIdToken();return await Rx(this,u0e(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:h,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:w}=n;$n(h&&w,t,"internal-error");const b=Cy.fromJSON(this.name,w);$n(typeof h=="string",t,"internal-error"),Yp(r,t.name),Yp(i,t.name),$n(typeof p=="boolean",t,"internal-error"),$n(typeof m=="boolean",t,"internal-error"),Yp(s,t.name),Yp(o,t.name),Yp(a,t.name),Yp(l,t.name),Yp(c,t.name),Yp(u,t.name);const S=new Jd({uid:h,auth:t,email:i,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:b,createdAt:c,lastLoginAt:u});return y&&Array.isArray(y)&&(S.providerData=y.map(E=>({...E}))),l&&(S._redirectEventId=l),S}static async _fromIdTokenResponse(t,n,r=!1){const i=new Cy;i.updateFromServerResponse(n);const s=new Jd({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await gT(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];$n(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?zK(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Cy;a.updateFromIdToken(r);const l=new Jd({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rF(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Map;function Uf(e){op(e instanceof Function,"Expected a class definition");let t=g6.get(e);return t?(op(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,g6.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}GK.type="NONE";const m6=GK;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(e,t,n){return`firebase:${e}:${t}:${n}`}class by{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=_E(this.userKey,i.apiKey,s),this.fullPersistenceKey=_E("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await pT(this.auth,{idToken:t}).catch(()=>{});return n?Jd._fromGetAccountInfoResponse(this.auth,n,t):null}return Jd._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new by(Uf(m6),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Uf(m6);const o=_E(r,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let h;if(typeof u=="string"){const p=await pT(t,{idToken:u}).catch(()=>{});if(!p)break;h=await Jd._fromGetAccountInfoResponse(t,p,u)}else h=Jd._fromJSON(t,u);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new by(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new by(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(KK(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(UK(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XK(t))return"Blackberry";if(ZK(t))return"Webos";if(WK(t))return"Safari";if((t.includes("chrome/")||jK(t))&&!t.includes("edge/"))return"Chrome";if(YK(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function UK(e=Nl()){return/firefox\//i.test(e)}function WK(e=Nl()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jK(e=Nl()){return/crios\//i.test(e)}function KK(e=Nl()){return/iemobile/i.test(e)}function YK(e=Nl()){return/android/i.test(e)}function XK(e=Nl()){return/blackberry/i.test(e)}function ZK(e=Nl()){return/webos/i.test(e)}function CO(e=Nl()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function y0e(e=Nl()){return CO(e)&&!!window.navigator?.standalone}function w0e(){return _ge()&&document.documentMode===10}function qK(e=Nl()){return CO(e)||YK(e)||ZK(e)||XK(e)||/windows phone/i.test(e)||KK(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QK(e,t=[]){let n;switch(e){case"Browser":n=v6(Nl());break;case"Worker":n=`${v6(Nl())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Y0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0e(e,t={}){return Zg(e,"GET","/v2/passwordPolicy",Xg(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0e=6;class S0e{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??x0e,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0e{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y6(this),this.idTokenSubscription=new y6(this),this.beforeStateQueue=new C0e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LK,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Uf(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await by.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await pT(this,{idToken:t}),r=await Jd._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hu(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=r?._redirectEventId,a=await this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $n(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await gT(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=n0e()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hu(this.app))return Promise.reject(Yf(this));const n=t?Rs(t):null;return n&&$n(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&$n(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hu(this.app)?Promise.reject(Yf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hu(this.app)?Promise.reject(Yf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Uf(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await b0e(this),n=new S0e(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ZS("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await v0e(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Uf(t)||this._popupRedirectResolver;$n(n,this,"argument-error"),this.redirectPersistenceManager=await by.create(this,[Uf(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if($n(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $n(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QK(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(hu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&$me(`Error while retrieving App Check token: ${t.error}`),t?.token}}function X0(e){return Rs(e)}class y6{constructor(t){this.auth=t,this.observer=null,this.addObserver=Fge(n=>this.observer=n)}get next(){return $n(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E0e(e){tA=e}function JK(e){return tA.loadJS(e)}function T0e(){return tA.recaptchaEnterpriseScript}function R0e(){return tA.gapiScript}function A0e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class k0e{constructor(){this.enterprise=new P0e}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class P0e{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const D0e="recaptcha-enterprise",$K="NO_RECAPTCHA";class F0e{constructor(t){this.type=D0e,this.auth=X0(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{c0e(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new l0e(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;f6(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o($K)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k0e().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&f6(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=T0e();l.length!==0&&(l+=a),JK(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function w6(e,t,n,r=!1,i=!1){const s=new F0e(e);let o;if(i)o=$K;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function iF(e,t,n,r,i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await w6(e,t,n,n==="getOobCode");return r(e,s)}else return r(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await w6(e,t,n,n==="getOobCode");return r(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0e(e,t){const n=eA(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ip(s,t??{}))return i;oh(i,"already-initialized")}return n.initialize({options:t})}function M0e(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Uf);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function O0e(e,t,n){const r=X0(e);$n(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=eY(t),{host:o,port:a}=L0e(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$n(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$n(ip(c,r.config.emulator)&&ip(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Yg(o)?(hO(`${s}//${o}${l}`),fO("Auth",!0)):N0e()}function eY(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function L0e(e){const t=eY(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:C6(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:C6(o)}}}function C6(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function N0e(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gf("not implemented")}_getIdTokenResponse(t){return Gf("not implemented")}_linkToIdToken(t,n){return Gf("not implemented")}_getReauthenticationResolver(t){return Gf("not implemented")}}async function B0e(e,t){return Zg(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0e(e,t){return JS(e,"POST","/v1/accounts:signInWithPassword",Xg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0e(e,t){return JS(e,"POST","/v1/accounts:signInWithEmailLink",Xg(e,t))}async function z0e(e,t){return JS(e,"POST","/v1/accounts:signInWithEmailLink",Xg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax extends bO{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Ax(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Ax(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iF(t,n,"signInWithPassword",V0e);case"emailLink":return H0e(t,{email:this._email,oobCode:this._password});default:oh(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return iF(t,r,"signUpPassword",B0e);case"emailLink":return z0e(t,{idToken:n,email:this._email,oobCode:this._password});default:oh(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xy(e,t){return JS(e,"POST","/v1/accounts:signInWithIdp",Xg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0e="http://localhost";class b0 extends bO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new b0(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):oh("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new b0(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return xy(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,xy(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,xy(t,n)}buildRequest(){const t={requestUri:G0e,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=qS(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0e(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W0e(e){const t=pb(gb(e)).link,n=t?pb(gb(t)).deep_link_id:null,r=pb(gb(e)).deep_link_id;return(r?pb(gb(r)).link:null)||r||n||t||e}class xO{constructor(t){const n=pb(gb(t)),r=n.apiKey??null,i=n.oobCode??null,s=U0e(n.mode??null);$n(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=W0e(t);try{return new xO(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.providerId=Pw.PROVIDER_ID}static credential(t,n){return Ax._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=xO.parseLink(n);return $n(r,"argument-error"),Ax._fromEmailAndCode(t,r.code,r.tenantId)}}Pw.PROVIDER_ID="password";Pw.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tY{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S extends tY{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends $S{constructor(){super("facebook.com")}static credential(t){return b0._fromParams({providerId:ig.PROVIDER_ID,signInMethod:ig.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ig.credentialFromTaggedObject(t)}static credentialFromError(t){return ig.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ig.credential(t.oauthAccessToken)}catch{return null}}}ig.FACEBOOK_SIGN_IN_METHOD="facebook.com";ig.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends $S{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return b0._fromParams({providerId:sg.PROVIDER_ID,signInMethod:sg.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return sg.credentialFromTaggedObject(t)}static credentialFromError(t){return sg.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return sg.credential(n,r)}catch{return null}}}sg.GOOGLE_SIGN_IN_METHOD="google.com";sg.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends $S{constructor(){super("github.com")}static credential(t){return b0._fromParams({providerId:og.PROVIDER_ID,signInMethod:og.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return og.credentialFromTaggedObject(t)}static credentialFromError(t){return og.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return og.credential(t.oauthAccessToken)}catch{return null}}}og.GITHUB_SIGN_IN_METHOD="github.com";og.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends $S{constructor(){super("twitter.com")}static credential(t,n){return b0._fromParams({providerId:ag.PROVIDER_ID,signInMethod:ag.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ag.credentialFromTaggedObject(t)}static credentialFromError(t){return ag.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ag.credential(n,r)}catch{return null}}}ag.TWITTER_SIGN_IN_METHOD="twitter.com";ag.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0e(e,t){return JS(e,"POST","/v1/accounts:signUp",Xg(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Jd._fromIdTokenResponse(t,r,i),o=b6(r);return new x0({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=b6(r);return new x0({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function b6(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends uh{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mT.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new mT(t,n,r,i)}}function nY(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mT._fromErrorAndOperation(e,s,t,r):s})}async function K0e(e,t,n=!1){const r=await Rx(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return x0._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0e(e,t,n=!1){const{auth:r}=e;if(hu(r.app))return Promise.reject(Yf(r));const i="reauthenticate";try{const s=await Rx(e,nY(r,i,t,e),n);$n(s.idToken,r,"internal-error");const o=wO(s.idToken);$n(o,r,"internal-error");const{sub:a}=o;return $n(e.uid===a,r,"user-mismatch"),x0._forOperation(e,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&oh(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rY(e,t,n=!1){if(hu(e.app))return Promise.reject(Yf(e));const r="signIn",i=await nY(e,r,t),s=await x0._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function X0e(e,t){return rY(X0(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iY(e){const t=X0(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Z0e(e,t,n){if(hu(e.app))return Promise.reject(Yf(e));const r=X0(e),o=await iF(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j0e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&iY(e),l}),a=await x0._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function q0e(e,t,n){return hu(e.app)?Promise.reject(Yf(e)):X0e(Rs(e),Pw.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iY(e),r})}function Q0e(e,t,n,r){return Rs(e).onIdTokenChanged(t,n,r)}function J0e(e,t,n){return Rs(e).beforeAuthStateChanged(t,n)}function $0e(e){return Rs(e).signOut()}const vT="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vT,"1"),this.storage.removeItem(vT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eve=1e3,tve=10;class oY extends sY{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qK(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);w0e()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,tve):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},eve)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}oY.type="LOCAL";const nve=oY;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY extends sY{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}aY.type="SESSION";const lY=aY;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rve(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new nA(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await rve(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ive{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=SO("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(){return window}function sve(e){nf().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(){return typeof nf().WorkerGlobalScope<"u"&&typeof nf().importScripts=="function"}async function ove(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ave(){return navigator?.serviceWorker?.controller||null}function lve(){return cY()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY="firebaseLocalStorageDb",cve=1,yT="firebaseLocalStorage",dY="fbase_key";class e1{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rA(e,t){return e.transaction([yT],t?"readwrite":"readonly").objectStore(yT)}function uve(){const e=indexedDB.deleteDatabase(uY);return new e1(e).toPromise()}function sF(){const e=indexedDB.open(uY,cve);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(yT,{keyPath:dY})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(yT)?t(r):(r.close(),await uve(),t(await sF()))})})}async function x6(e,t,n){const r=rA(e,!0).put({[dY]:t,value:n});return new e1(r).toPromise()}async function dve(e,t){const n=rA(e,!1).get(t),r=await new e1(n).toPromise();return r===void 0?null:r.value}function S6(e,t){const n=rA(e,!0).delete(t);return new e1(n).toPromise()}const hve=800,fve=3;class hY{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sF(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>fve)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cY()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nA._getInstance(lve()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ove(),!this.activeServiceWorker)return;this.sender=new ive(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ave()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sF();return await x6(t,vT,"1"),await S6(t,vT),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x6(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>dve(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>S6(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=rA(i,!1).getAll();return new e1(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hve)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hY.type="LOCAL";const pve=hY;new QS(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gve(e,t){return t?Uf(t):($n(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O extends bO{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return xy(t,this._buildIdpRequest())}_linkToIdToken(t,n){return xy(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return xy(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function mve(e){return rY(e.auth,new _O(e),e.bypassAuthState)}function vve(e){const{auth:t,user:n}=e;return $n(n,t,"internal-error"),Y0e(n,new _O(e),e.bypassAuthState)}async function yve(e){const{auth:t,user:n}=e;return $n(n,t,"internal-error"),K0e(n,new _O(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mve;case"linkViaPopup":case"linkViaRedirect":return yve;case"reauthViaPopup":case"reauthViaRedirect":return vve;default:oh(this.auth,"internal-error")}}resolve(t){op(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){op(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wve=new QS(2e3,1e4);class ly extends fY{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ly.currentPopupAction&&ly.currentPopupAction.cancel(),ly.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $n(t,this.auth,"internal-error"),t}async onExecution(){op(this.filter.length===1,"Popup operations only handle one event");const t=SO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(tf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ly.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tf(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,wve.get())};t()}}ly.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cve="pendingRedirect",EE=new Map;class bve extends fY{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=EE.get(this.auth._key());if(!t){try{const r=await xve(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}EE.set(this.auth._key(),t)}return this.bypassAuthState||EE.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xve(e,t){const n=Eve(t),r=_ve(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Sve(e,t){EE.set(e._key(),t)}function _ve(e){return Uf(e._redirectPersistence)}function Eve(e){return _E(Cve,e.config.apiKey,e.name)}async function Tve(e,t,n=!1){if(hu(e.app))return Promise.reject(Yf(e));const r=X0(e),i=gve(r,t),o=await new bve(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rve=600*1e3;class Ave{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!kve(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!pY(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(tf(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Rve&&this.cachedEventUids.clear(),this.cachedEventUids.has(_6(t))}saveEventToCache(t){this.cachedEventUids.add(_6(t)),this.lastProcessedEventTime=Date.now()}}function _6(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function pY({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function kve(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pY(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pve(e,t={}){return Zg(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dve=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fve=/^https?/;async function Ive(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Pve(e);for(const n of t)try{if(Mve(n))return}catch{}oh(e,"unauthorized-domain")}function Mve(e){const t=nF(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Fve.test(n))return!1;if(Dve.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ove=new QS(3e4,6e4);function E6(){const e=nf().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function Lve(e){return new Promise((t,n)=>{function r(){E6(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E6(),n(tf(e,"network-request-failed"))},timeout:Ove.get()})}if(nf().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(nf().gapi?.load)r();else{const i=A0e("iframefcb");return nf()[i]=()=>{gapi.load?r():n(tf(e,"network-request-failed"))},JK(`${R0e()}?onload=${i}`).catch(s=>n(s))}}).catch(t=>{throw TE=null,t})}let TE=null;function Nve(e){return TE=TE||Lve(e),TE}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bve=new QS(5e3,15e3),Vve="__/auth/iframe",Hve="emulator/auth/iframe",zve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gve=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uve(e){const t=e.config;$n(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?yO(t,Hve):`https://${e.config.authDomain}/${Vve}`,r={apiKey:t.apiKey,appName:e.name,v:Y0},i=Gve.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qS(r).slice(1)}`}async function Wve(e){const t=await Nve(e),n=nf().gapi;return $n(n,e,"internal-error"),t.open({where:document.body,url:Uve(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zve,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=tf(e,"network-request-failed"),a=nf().setTimeout(()=>{s(o)},Bve.get());function l(){nf().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jve={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kve=500,Yve=600,Xve="_blank",Zve="http://localhost";class T6{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qve(e,t,n,r=Kve,i=Yve){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...jve,width:r.toString(),height:i.toString(),top:s,left:o},c=Nl().toLowerCase();n&&(a=jK(c)?Xve:n),UK(c)&&(t=t||Zve,l.scrollbars="yes");const u=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(y0e(c)&&a!=="_self")return Qve(t||"",a),new T6(null);const h=window.open(t||"",a,u);$n(h,e,"popup-blocked");try{h.focus()}catch{}return new T6(h)}function Qve(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jve="__/auth/handler",$ve="emulator/auth/handler",eye=encodeURIComponent("fac");async function R6(e,t,n,r,i,s){$n(e.config.authDomain,e,"auth-domain-config-required"),$n(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Y0,eventId:i};if(t instanceof tY){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Dge(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(t instanceof $S){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${eye}=${encodeURIComponent(l)}`:"";return`${tye(e)}?${qS(a).slice(1)}${c}`}function tye({config:e}){return e.emulator?yO(e,$ve):`https://${e.authDomain}/${Jve}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="webStorageSupport";class nye{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lY,this._completeRedirectFn=Tve,this._overrideRedirectResult=Sve}async _openPopup(t,n,r,i){op(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const s=await R6(t,n,r,nF(),i);return qve(t,s,SO())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await R6(t,n,r,nF(),i);return sve(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(op(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Wve(t),r=new Ave(t);return n.register("authEvent",i=>($n(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(VP,{type:VP},i=>{const s=i?.[0]?.[VP];s!==void 0&&n(!!s),oh(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ive(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return qK()||WK()||CO()}}const rye=nye;var A6="@firebase/auth",k6="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iye{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$n(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sye(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oye(e){C0(new Tg("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;$n(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QK(e)},c=new _0e(r,i,s,l);return M0e(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),C0(new Tg("auth-internal",t=>{const n=X0(t.getProvider("auth").getImmediate());return(r=>new iye(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ef(A6,k6,sye(e)),ef(A6,k6,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aye=300,lye=AK("authIdTokenMaxAge")||aye;let P6=null;const cye=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lye)return;const i=n?.token;P6!==i&&(P6=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uye(e=mO()){const t=eA(e,"auth");if(t.isInitialized())return t.getImmediate();const n=I0e(e,{popupRedirectResolver:rye,persistence:[pve,nve,lY]}),r=AK("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=cye(s.toString());J0e(n,o,()=>o(n.currentUser)),Q0e(n,a=>o(a))}}const i=EK("auth");return i&&O0e(n,`http://${i}`),n}function dye(){return document.getElementsByTagName("head")?.[0]??document}E0e({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=tf("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dye().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oye("Browser");var D6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mg,gY;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,z){function H(){}H.prototype=z.prototype,O.D=z.prototype,O.prototype=new H,O.prototype.constructor=O,O.C=function(X,Q,U){for(var Z=Array(arguments.length-2),q=2;q<arguments.length;q++)Z[q-2]=arguments[q];return z.prototype[Q].apply(X,Z)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,z,H){H||(H=0);var X=Array(16);if(typeof z=="string")for(var Q=0;16>Q;++Q)X[Q]=z.charCodeAt(H++)|z.charCodeAt(H++)<<8|z.charCodeAt(H++)<<16|z.charCodeAt(H++)<<24;else for(Q=0;16>Q;++Q)X[Q]=z[H++]|z[H++]<<8|z[H++]<<16|z[H++]<<24;z=O.g[0],H=O.g[1],Q=O.g[2];var U=O.g[3],Z=z+(U^H&(Q^U))+X[0]+3614090360&4294967295;z=H+(Z<<7&4294967295|Z>>>25),Z=U+(Q^z&(H^Q))+X[1]+3905402710&4294967295,U=z+(Z<<12&4294967295|Z>>>20),Z=Q+(H^U&(z^H))+X[2]+606105819&4294967295,Q=U+(Z<<17&4294967295|Z>>>15),Z=H+(z^Q&(U^z))+X[3]+3250441966&4294967295,H=Q+(Z<<22&4294967295|Z>>>10),Z=z+(U^H&(Q^U))+X[4]+4118548399&4294967295,z=H+(Z<<7&4294967295|Z>>>25),Z=U+(Q^z&(H^Q))+X[5]+1200080426&4294967295,U=z+(Z<<12&4294967295|Z>>>20),Z=Q+(H^U&(z^H))+X[6]+2821735955&4294967295,Q=U+(Z<<17&4294967295|Z>>>15),Z=H+(z^Q&(U^z))+X[7]+4249261313&4294967295,H=Q+(Z<<22&4294967295|Z>>>10),Z=z+(U^H&(Q^U))+X[8]+1770035416&4294967295,z=H+(Z<<7&4294967295|Z>>>25),Z=U+(Q^z&(H^Q))+X[9]+2336552879&4294967295,U=z+(Z<<12&4294967295|Z>>>20),Z=Q+(H^U&(z^H))+X[10]+4294925233&4294967295,Q=U+(Z<<17&4294967295|Z>>>15),Z=H+(z^Q&(U^z))+X[11]+2304563134&4294967295,H=Q+(Z<<22&4294967295|Z>>>10),Z=z+(U^H&(Q^U))+X[12]+1804603682&4294967295,z=H+(Z<<7&4294967295|Z>>>25),Z=U+(Q^z&(H^Q))+X[13]+4254626195&4294967295,U=z+(Z<<12&4294967295|Z>>>20),Z=Q+(H^U&(z^H))+X[14]+2792965006&4294967295,Q=U+(Z<<17&4294967295|Z>>>15),Z=H+(z^Q&(U^z))+X[15]+1236535329&4294967295,H=Q+(Z<<22&4294967295|Z>>>10),Z=z+(Q^U&(H^Q))+X[1]+4129170786&4294967295,z=H+(Z<<5&4294967295|Z>>>27),Z=U+(H^Q&(z^H))+X[6]+3225465664&4294967295,U=z+(Z<<9&4294967295|Z>>>23),Z=Q+(z^H&(U^z))+X[11]+643717713&4294967295,Q=U+(Z<<14&4294967295|Z>>>18),Z=H+(U^z&(Q^U))+X[0]+3921069994&4294967295,H=Q+(Z<<20&4294967295|Z>>>12),Z=z+(Q^U&(H^Q))+X[5]+3593408605&4294967295,z=H+(Z<<5&4294967295|Z>>>27),Z=U+(H^Q&(z^H))+X[10]+38016083&4294967295,U=z+(Z<<9&4294967295|Z>>>23),Z=Q+(z^H&(U^z))+X[15]+3634488961&4294967295,Q=U+(Z<<14&4294967295|Z>>>18),Z=H+(U^z&(Q^U))+X[4]+3889429448&4294967295,H=Q+(Z<<20&4294967295|Z>>>12),Z=z+(Q^U&(H^Q))+X[9]+568446438&4294967295,z=H+(Z<<5&4294967295|Z>>>27),Z=U+(H^Q&(z^H))+X[14]+3275163606&4294967295,U=z+(Z<<9&4294967295|Z>>>23),Z=Q+(z^H&(U^z))+X[3]+4107603335&4294967295,Q=U+(Z<<14&4294967295|Z>>>18),Z=H+(U^z&(Q^U))+X[8]+1163531501&4294967295,H=Q+(Z<<20&4294967295|Z>>>12),Z=z+(Q^U&(H^Q))+X[13]+2850285829&4294967295,z=H+(Z<<5&4294967295|Z>>>27),Z=U+(H^Q&(z^H))+X[2]+4243563512&4294967295,U=z+(Z<<9&4294967295|Z>>>23),Z=Q+(z^H&(U^z))+X[7]+1735328473&4294967295,Q=U+(Z<<14&4294967295|Z>>>18),Z=H+(U^z&(Q^U))+X[12]+2368359562&4294967295,H=Q+(Z<<20&4294967295|Z>>>12),Z=z+(H^Q^U)+X[5]+4294588738&4294967295,z=H+(Z<<4&4294967295|Z>>>28),Z=U+(z^H^Q)+X[8]+2272392833&4294967295,U=z+(Z<<11&4294967295|Z>>>21),Z=Q+(U^z^H)+X[11]+1839030562&4294967295,Q=U+(Z<<16&4294967295|Z>>>16),Z=H+(Q^U^z)+X[14]+4259657740&4294967295,H=Q+(Z<<23&4294967295|Z>>>9),Z=z+(H^Q^U)+X[1]+2763975236&4294967295,z=H+(Z<<4&4294967295|Z>>>28),Z=U+(z^H^Q)+X[4]+1272893353&4294967295,U=z+(Z<<11&4294967295|Z>>>21),Z=Q+(U^z^H)+X[7]+4139469664&4294967295,Q=U+(Z<<16&4294967295|Z>>>16),Z=H+(Q^U^z)+X[10]+3200236656&4294967295,H=Q+(Z<<23&4294967295|Z>>>9),Z=z+(H^Q^U)+X[13]+681279174&4294967295,z=H+(Z<<4&4294967295|Z>>>28),Z=U+(z^H^Q)+X[0]+3936430074&4294967295,U=z+(Z<<11&4294967295|Z>>>21),Z=Q+(U^z^H)+X[3]+3572445317&4294967295,Q=U+(Z<<16&4294967295|Z>>>16),Z=H+(Q^U^z)+X[6]+76029189&4294967295,H=Q+(Z<<23&4294967295|Z>>>9),Z=z+(H^Q^U)+X[9]+3654602809&4294967295,z=H+(Z<<4&4294967295|Z>>>28),Z=U+(z^H^Q)+X[12]+3873151461&4294967295,U=z+(Z<<11&4294967295|Z>>>21),Z=Q+(U^z^H)+X[15]+530742520&4294967295,Q=U+(Z<<16&4294967295|Z>>>16),Z=H+(Q^U^z)+X[2]+3299628645&4294967295,H=Q+(Z<<23&4294967295|Z>>>9),Z=z+(Q^(H|~U))+X[0]+4096336452&4294967295,z=H+(Z<<6&4294967295|Z>>>26),Z=U+(H^(z|~Q))+X[7]+1126891415&4294967295,U=z+(Z<<10&4294967295|Z>>>22),Z=Q+(z^(U|~H))+X[14]+2878612391&4294967295,Q=U+(Z<<15&4294967295|Z>>>17),Z=H+(U^(Q|~z))+X[5]+4237533241&4294967295,H=Q+(Z<<21&4294967295|Z>>>11),Z=z+(Q^(H|~U))+X[12]+1700485571&4294967295,z=H+(Z<<6&4294967295|Z>>>26),Z=U+(H^(z|~Q))+X[3]+2399980690&4294967295,U=z+(Z<<10&4294967295|Z>>>22),Z=Q+(z^(U|~H))+X[10]+4293915773&4294967295,Q=U+(Z<<15&4294967295|Z>>>17),Z=H+(U^(Q|~z))+X[1]+2240044497&4294967295,H=Q+(Z<<21&4294967295|Z>>>11),Z=z+(Q^(H|~U))+X[8]+1873313359&4294967295,z=H+(Z<<6&4294967295|Z>>>26),Z=U+(H^(z|~Q))+X[15]+4264355552&4294967295,U=z+(Z<<10&4294967295|Z>>>22),Z=Q+(z^(U|~H))+X[6]+2734768916&4294967295,Q=U+(Z<<15&4294967295|Z>>>17),Z=H+(U^(Q|~z))+X[13]+1309151649&4294967295,H=Q+(Z<<21&4294967295|Z>>>11),Z=z+(Q^(H|~U))+X[4]+4149444226&4294967295,z=H+(Z<<6&4294967295|Z>>>26),Z=U+(H^(z|~Q))+X[11]+3174756917&4294967295,U=z+(Z<<10&4294967295|Z>>>22),Z=Q+(z^(U|~H))+X[2]+718787259&4294967295,Q=U+(Z<<15&4294967295|Z>>>17),Z=H+(U^(Q|~z))+X[9]+3951481745&4294967295,O.g[0]=O.g[0]+z&4294967295,O.g[1]=O.g[1]+(Q+(Z<<21&4294967295|Z>>>11))&4294967295,O.g[2]=O.g[2]+Q&4294967295,O.g[3]=O.g[3]+U&4294967295}r.prototype.u=function(O,z){z===void 0&&(z=O.length);for(var H=z-this.blockSize,X=this.B,Q=this.h,U=0;U<z;){if(Q==0)for(;U<=H;)i(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<z;)if(X[Q++]=O.charCodeAt(U++),Q==this.blockSize){i(this,X),Q=0;break}}else for(;U<z;)if(X[Q++]=O[U++],Q==this.blockSize){i(this,X),Q=0;break}}this.h=Q,this.o+=z},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var z=1;z<O.length-8;++z)O[z]=0;var H=8*this.o;for(z=O.length-8;z<O.length;++z)O[z]=H&255,H/=256;for(this.u(O),O=Array(16),z=H=0;4>z;++z)for(var X=0;32>X;X+=8)O[H++]=this.g[z]>>>X&255;return O};function s(O,z){var H=a;return Object.prototype.hasOwnProperty.call(H,O)?H[O]:H[O]=z(O)}function o(O,z){this.h=z;for(var H=[],X=!0,Q=O.length-1;0<=Q;Q--){var U=O[Q]|0;X&&U==z||(H[Q]=U,X=!1)}this.g=H}var a={};function l(O){return-128<=O&&128>O?s(O,function(z){return new o([z|0],0>z?-1:0)}):new o([O|0],0>O?-1:0)}function c(O){if(isNaN(O)||!isFinite(O))return h;if(0>O)return b(c(-O));for(var z=[],H=1,X=0;O>=H;X++)z[X]=O/H|0,H*=4294967296;return new o(z,0)}function u(O,z){if(O.length==0)throw Error("number format error: empty string");if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(O.charAt(0)=="-")return b(u(O.substring(1),z));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var H=c(Math.pow(z,8)),X=h,Q=0;Q<O.length;Q+=8){var U=Math.min(8,O.length-Q),Z=parseInt(O.substring(Q,Q+U),z);8>U?(U=c(Math.pow(z,U)),X=X.j(U).add(c(Z))):(X=X.j(H),X=X.add(c(Z)))}return X}var h=l(0),p=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(w(this))return-b(this).m();for(var O=0,z=1,H=0;H<this.g.length;H++){var X=this.i(H);O+=(0<=X?X:4294967296+X)*z,z*=4294967296}return O},e.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(y(this))return"0";if(w(this))return"-"+b(this).toString(O);for(var z=c(Math.pow(O,6)),H=this,X="";;){var Q=N(H,z).g;H=S(H,Q.j(z));var U=((0<H.g.length?H.g[0]:H.h)>>>0).toString(O);if(H=Q,y(H))return U+X;for(;6>U.length;)U="0"+U;X=U+X}},e.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function y(O){if(O.h!=0)return!1;for(var z=0;z<O.g.length;z++)if(O.g[z]!=0)return!1;return!0}function w(O){return O.h==-1}e.l=function(O){return O=S(this,O),w(O)?-1:y(O)?0:1};function b(O){for(var z=O.g.length,H=[],X=0;X<z;X++)H[X]=~O.g[X];return new o(H,~O.h).add(p)}e.abs=function(){return w(this)?b(this):this},e.add=function(O){for(var z=Math.max(this.g.length,O.g.length),H=[],X=0,Q=0;Q<=z;Q++){var U=X+(this.i(Q)&65535)+(O.i(Q)&65535),Z=(U>>>16)+(this.i(Q)>>>16)+(O.i(Q)>>>16);X=Z>>>16,U&=65535,Z&=65535,H[Q]=Z<<16|U}return new o(H,H[H.length-1]&-2147483648?-1:0)};function S(O,z){return O.add(b(z))}e.j=function(O){if(y(this)||y(O))return h;if(w(this))return w(O)?b(this).j(b(O)):b(b(this).j(O));if(w(O))return b(this.j(b(O)));if(0>this.l(m)&&0>O.l(m))return c(this.m()*O.m());for(var z=this.g.length+O.g.length,H=[],X=0;X<2*z;X++)H[X]=0;for(X=0;X<this.g.length;X++)for(var Q=0;Q<O.g.length;Q++){var U=this.i(X)>>>16,Z=this.i(X)&65535,q=O.i(Q)>>>16,me=O.i(Q)&65535;H[2*X+2*Q]+=Z*me,E(H,2*X+2*Q),H[2*X+2*Q+1]+=U*me,E(H,2*X+2*Q+1),H[2*X+2*Q+1]+=Z*q,E(H,2*X+2*Q+1),H[2*X+2*Q+2]+=U*q,E(H,2*X+2*Q+2)}for(X=0;X<z;X++)H[X]=H[2*X+1]<<16|H[2*X];for(X=z;X<2*z;X++)H[X]=0;return new o(H,0)};function E(O,z){for(;(O[z]&65535)!=O[z];)O[z+1]+=O[z]>>>16,O[z]&=65535,z++}function _(O,z){this.g=O,this.h=z}function N(O,z){if(y(z))throw Error("division by zero");if(y(O))return new _(h,h);if(w(O))return z=N(b(O),z),new _(b(z.g),b(z.h));if(w(z))return z=N(O,b(z)),new _(b(z.g),z.h);if(30<O.g.length){if(w(O)||w(z))throw Error("slowDivide_ only works with positive integers.");for(var H=p,X=z;0>=X.l(O);)H=V(H),X=V(X);var Q=M(H,1),U=M(X,1);for(X=M(X,2),H=M(H,2);!y(X);){var Z=U.add(X);0>=Z.l(O)&&(Q=Q.add(H),U=Z),X=M(X,1),H=M(H,1)}return z=S(O,Q.j(z)),new _(Q,z)}for(Q=h;0<=O.l(z);){for(H=Math.max(1,Math.floor(O.m()/z.m())),X=Math.ceil(Math.log(H)/Math.LN2),X=48>=X?1:Math.pow(2,X-48),U=c(H),Z=U.j(z);w(Z)||0<Z.l(O);)H-=X,U=c(H),Z=U.j(z);y(U)&&(U=p),Q=Q.add(U),O=S(O,Z)}return new _(Q,O)}e.A=function(O){return N(this,O).h},e.and=function(O){for(var z=Math.max(this.g.length,O.g.length),H=[],X=0;X<z;X++)H[X]=this.i(X)&O.i(X);return new o(H,this.h&O.h)},e.or=function(O){for(var z=Math.max(this.g.length,O.g.length),H=[],X=0;X<z;X++)H[X]=this.i(X)|O.i(X);return new o(H,this.h|O.h)},e.xor=function(O){for(var z=Math.max(this.g.length,O.g.length),H=[],X=0;X<z;X++)H[X]=this.i(X)^O.i(X);return new o(H,this.h^O.h)};function V(O){for(var z=O.g.length+1,H=[],X=0;X<z;X++)H[X]=O.i(X)<<1|O.i(X-1)>>>31;return new o(H,O.h)}function M(O,z){var H=z>>5;z%=32;for(var X=O.g.length-H,Q=[],U=0;U<X;U++)Q[U]=0<z?O.i(U+H)>>>z|O.i(U+H+1)<<32-z:O.i(U+H);return new o(Q,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gY=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,mg=o}).apply(typeof D6<"u"?D6:typeof self<"u"?self:typeof window<"u"?window:{});var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mY,mb,vY,RE,oF,yY,wY,CY;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,ee,ae){return T==Array.prototype||T==Object.prototype||(T[ee]=ae.value),T};function n(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof x_=="object"&&x_];for(var ee=0;ee<T.length;++ee){var ae=T[ee];if(ae&&ae.Math==Math)return ae}throw Error("Cannot find global object")}var r=n(this);function i(T,ee){if(ee)e:{var ae=r;T=T.split(".");for(var Re=0;Re<T.length-1;Re++){var st=T[Re];if(!(st in ae))break e;ae=ae[st]}T=T[T.length-1],Re=ae[T],ee=ee(Re),ee!=Re&&ee!=null&&t(ae,T,{configurable:!0,writable:!0,value:ee})}}function s(T,ee){T instanceof String&&(T+="");var ae=0,Re=!1,st={next:function(){if(!Re&&ae<T.length){var Ct=ae++;return{value:ee(Ct,T[Ct]),done:!1}}return Re=!0,{done:!0,value:void 0}}};return st[Symbol.iterator]=function(){return st},st}i("Array.prototype.values",function(T){return T||function(){return s(this,function(ee,ae){return ae})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(T){var ee=typeof T;return ee=ee!="object"?ee:T?Array.isArray(T)?"array":ee:"null",ee=="array"||ee=="object"&&typeof T.length=="number"}function c(T){var ee=typeof T;return ee=="object"&&T!=null||ee=="function"}function u(T,ee,ae){return T.call.apply(T.bind,arguments)}function h(T,ee,ae){if(!T)throw Error();if(2<arguments.length){var Re=Array.prototype.slice.call(arguments,2);return function(){var st=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(st,Re),T.apply(ee,st)}}return function(){return T.apply(ee,arguments)}}function p(T,ee,ae){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,p.apply(null,arguments)}function m(T,ee){var ae=Array.prototype.slice.call(arguments,1);return function(){var Re=ae.slice();return Re.push.apply(Re,arguments),T.apply(this,Re)}}function y(T,ee){function ae(){}ae.prototype=ee.prototype,T.aa=ee.prototype,T.prototype=new ae,T.prototype.constructor=T,T.Qb=function(Re,st,Ct){for(var Zt=Array(arguments.length-2),fr=2;fr<arguments.length;fr++)Zt[fr-2]=arguments[fr];return ee.prototype[st].apply(Re,Zt)}}function w(T){const ee=T.length;if(0<ee){const ae=Array(ee);for(let Re=0;Re<ee;Re++)ae[Re]=T[Re];return ae}return[]}function b(T,ee){for(let ae=1;ae<arguments.length;ae++){const Re=arguments[ae];if(l(Re)){const st=T.length||0,Ct=Re.length||0;T.length=st+Ct;for(let Zt=0;Zt<Ct;Zt++)T[st+Zt]=Re[Zt]}else T.push(Re)}}class S{constructor(ee,ae){this.i=ee,this.j=ae,this.h=0,this.g=null}get(){let ee;return 0<this.h?(this.h--,ee=this.g,this.g=ee.next,ee.next=null):ee=this.i(),ee}}function E(T){return/^[\s\xa0]*$/.test(T)}function _(){var T=a.navigator;return T&&(T=T.userAgent)?T:""}function N(T){return N[" "](T),T}N[" "]=function(){};var V=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function M(T,ee,ae){for(const Re in T)ee.call(ae,T[Re],Re,T)}function O(T,ee){for(const ae in T)ee.call(void 0,T[ae],ae,T)}function z(T){const ee={};for(const ae in T)ee[ae]=T[ae];return ee}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(T,ee){let ae,Re;for(let st=1;st<arguments.length;st++){Re=arguments[st];for(ae in Re)T[ae]=Re[ae];for(let Ct=0;Ct<H.length;Ct++)ae=H[Ct],Object.prototype.hasOwnProperty.call(Re,ae)&&(T[ae]=Re[ae])}}function Q(T){var ee=1;T=T.split(":");const ae=[];for(;0<ee&&T.length;)ae.push(T.shift()),ee--;return T.length&&ae.push(T.join(":")),ae}function U(T){a.setTimeout(()=>{throw T},0)}function Z(){var T=ye;let ee=null;return T.g&&(ee=T.g,T.g=T.g.next,T.g||(T.h=null),ee.next=null),ee}class q{constructor(){this.h=this.g=null}add(ee,ae){const Re=me.get();Re.set(ee,ae),this.h?this.h.next=Re:this.g=Re,this.h=Re}}var me=new S(()=>new se,T=>T.reset());class se{constructor(){this.next=this.g=this.h=null}set(ee,ae){this.h=ee,this.g=ae,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Pe=!1,ye=new q,W=()=>{const T=a.Promise.resolve(void 0);ue=()=>{T.then(re)}};var re=()=>{for(var T;T=Z();){try{T.h.call(T.g)}catch(ae){U(ae)}var ee=me;ee.j(T),100>ee.h&&(ee.h++,T.next=ee.g,ee.g=T)}Pe=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(T,ee){this.type=T,this.g=this.target=ee,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var T=!1,ee=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const ae=()=>{};a.addEventListener("test",ae,ee),a.removeEventListener("test",ae,ee)}catch{}return T}();function fe(T,ee){if(J.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var ae=this.type=T.type,Re=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=ee,ee=T.relatedTarget){if(V){e:{try{N(ee.nodeName);var st=!0;break e}catch{}st=!1}st||(ee=null)}}else ae=="mouseover"?ee=T.fromElement:ae=="mouseout"&&(ee=T.toElement);this.relatedTarget=ee,Re?(this.clientX=Re.clientX!==void 0?Re.clientX:Re.pageX,this.clientY=Re.clientY!==void 0?Re.clientY:Re.pageY,this.screenX=Re.screenX||0,this.screenY=Re.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=typeof T.pointerType=="string"?T.pointerType:De[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&fe.aa.h.call(this)}}y(fe,J);var De={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),je=0;function qe(T,ee,ae,Re,st){this.listener=T,this.proxy=null,this.src=ee,this.type=ae,this.capture=!!Re,this.ha=st,this.key=++je,this.da=this.fa=!1}function et(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function Et(T){this.src=T,this.g={},this.h=0}Et.prototype.add=function(T,ee,ae,Re,st){var Ct=T.toString();T=this.g[Ct],T||(T=this.g[Ct]=[],this.h++);var Zt=$t(T,ee,Re,st);return-1<Zt?(ee=T[Zt],ae||(ee.fa=!1)):(ee=new qe(ee,this.src,Ct,!!Re,st),ee.fa=ae,T.push(ee)),ee};function Se(T,ee){var ae=ee.type;if(ae in T.g){var Re=T.g[ae],st=Array.prototype.indexOf.call(Re,ee,void 0),Ct;(Ct=0<=st)&&Array.prototype.splice.call(Re,st,1),Ct&&(et(ee),T.g[ae].length==0&&(delete T.g[ae],T.h--))}}function $t(T,ee,ae,Re){for(var st=0;st<T.length;++st){var Ct=T[st];if(!Ct.da&&Ct.listener==ee&&Ct.capture==!!ae&&Ct.ha==Re)return st}return-1}var ne="closure_lm_"+(1e6*Math.random()|0),Ge={};function Me(T,ee,ae,Re,st){if(Array.isArray(ee)){for(var Ct=0;Ct<ee.length;Ct++)Me(T,ee[Ct],ae,Re,st);return null}return ae=At(ae),T&&T[at]?T.K(ee,ae,c(Re)?!!Re.capture:!1,st):ve(T,ee,ae,!1,Re,st)}function ve(T,ee,ae,Re,st,Ct){if(!ee)throw Error("Invalid event type");var Zt=c(st)?!!st.capture:!!st,fr=gt(T);if(fr||(T[ne]=fr=new Et(T)),ae=fr.add(ee,ae,Re,Zt,Ct),ae.proxy)return ae;if(Re=xe(),ae.proxy=Re,Re.src=T,Re.listener=ae,T.addEventListener)ce||(st=Zt),st===void 0&&(st=!1),T.addEventListener(ee.toString(),Re,st);else if(T.attachEvent)T.attachEvent(nt(ee.toString()),Re);else if(T.addListener&&T.removeListener)T.addListener(Re);else throw Error("addEventListener and attachEvent are unavailable.");return ae}function xe(){function T(ae){return ee.call(T.src,T.listener,ae)}const ee=Be;return T}function Le(T,ee,ae,Re,st){if(Array.isArray(ee))for(var Ct=0;Ct<ee.length;Ct++)Le(T,ee[Ct],ae,Re,st);else Re=c(Re)?!!Re.capture:!!Re,ae=At(ae),T&&T[at]?(T=T.i,ee=String(ee).toString(),ee in T.g&&(Ct=T.g[ee],ae=$t(Ct,ae,Re,st),-1<ae&&(et(Ct[ae]),Array.prototype.splice.call(Ct,ae,1),Ct.length==0&&(delete T.g[ee],T.h--)))):T&&(T=gt(T))&&(ee=T.g[ee.toString()],T=-1,ee&&(T=$t(ee,ae,Re,st)),(ae=-1<T?ee[T]:null)&&Je(ae))}function Je(T){if(typeof T!="number"&&T&&!T.da){var ee=T.src;if(ee&&ee[at])Se(ee.i,T);else{var ae=T.type,Re=T.proxy;ee.removeEventListener?ee.removeEventListener(ae,Re,T.capture):ee.detachEvent?ee.detachEvent(nt(ae),Re):ee.addListener&&ee.removeListener&&ee.removeListener(Re),(ae=gt(ee))?(Se(ae,T),ae.h==0&&(ae.src=null,ee[ne]=null)):et(T)}}}function nt(T){return T in Ge?Ge[T]:Ge[T]="on"+T}function Be(T,ee){if(T.da)T=!0;else{ee=new fe(ee,this);var ae=T.listener,Re=T.ha||T.src;T.fa&&Je(T),T=ae.call(Re,ee)}return T}function gt(T){return T=T[ne],T instanceof Et?T:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(T){return typeof T=="function"?T:(T[Mt]||(T[Mt]=function(ee){return T.handleEvent(ee)}),T[Mt])}function Ie(){te.call(this),this.i=new Et(this),this.M=this,this.F=null}y(Ie,te),Ie.prototype[at]=!0,Ie.prototype.removeEventListener=function(T,ee,ae,Re){Le(this,T,ee,ae,Re)};function it(T,ee){var ae,Re=T.F;if(Re)for(ae=[];Re;Re=Re.F)ae.push(Re);if(T=T.M,Re=ee.type||ee,typeof ee=="string")ee=new J(ee,T);else if(ee instanceof J)ee.target=ee.target||T;else{var st=ee;ee=new J(Re,T),X(ee,st)}if(st=!0,ae)for(var Ct=ae.length-1;0<=Ct;Ct--){var Zt=ee.g=ae[Ct];st=yt(Zt,Re,!0,ee)&&st}if(Zt=ee.g=T,st=yt(Zt,Re,!0,ee)&&st,st=yt(Zt,Re,!1,ee)&&st,ae)for(Ct=0;Ct<ae.length;Ct++)Zt=ee.g=ae[Ct],st=yt(Zt,Re,!1,ee)&&st}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var T=this.i,ee;for(ee in T.g){for(var ae=T.g[ee],Re=0;Re<ae.length;Re++)et(ae[Re]);delete T.g[ee],T.h--}}this.F=null},Ie.prototype.K=function(T,ee,ae,Re){return this.i.add(String(T),ee,!1,ae,Re)},Ie.prototype.L=function(T,ee,ae,Re){return this.i.add(String(T),ee,!0,ae,Re)};function yt(T,ee,ae,Re){if(ee=T.i.g[String(ee)],!ee)return!0;ee=ee.concat();for(var st=!0,Ct=0;Ct<ee.length;++Ct){var Zt=ee[Ct];if(Zt&&!Zt.da&&Zt.capture==ae){var fr=Zt.listener,Fr=Zt.ha||Zt.src;Zt.fa&&Se(T.i,Zt),st=fr.call(Fr,Re)!==!1&&st}}return st&&!Re.defaultPrevented}function Gt(T,ee,ae){if(typeof T=="function")ae&&(T=p(T,ae));else if(T&&typeof T.handleEvent=="function")T=p(T.handleEvent,T);else throw Error("Invalid listener argument");return 2147483647<Number(ee)?-1:a.setTimeout(T,ee||0)}function qt(T){T.g=Gt(()=>{T.g=null,T.i&&(T.i=!1,qt(T))},T.l);const ee=T.h;T.h=null,T.m.apply(null,ee)}class mn extends te{constructor(ee,ae){super(),this.m=ee,this.l=ae,this.h=null,this.i=!1,this.g=null}j(ee){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(T){te.call(this),this.h=T,this.g={}}y(cr,te);var fn=[];function Pr(T){M(T.g,function(ee,ae){this.g.hasOwnProperty(ae)&&Je(ee)},T),T.g={}}cr.prototype.N=function(){cr.aa.N.call(this),Pr(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kr=a.JSON.stringify,xn=a.JSON.parse,rr=class{stringify(T){return a.JSON.stringify(T,void 0)}parse(T){return a.JSON.parse(T,void 0)}};function fi(){}fi.prototype.h=null;function Qi(T){return T.h||(T.h=T.i())}function Ni(){}var is={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){J.call(this,"d")}y(Bi,J);function gs(){J.call(this,"c")}y(gs,J);var As={},da=null;function qo(){return da=da||new Ie}As.La="serverreachability";function Ci(T){J.call(this,As.La,T)}y(Ci,J);function Ne(T){const ee=qo();it(ee,new Ci(ee))}As.STAT_EVENT="statevent";function Qe(T,ee){J.call(this,As.STAT_EVENT,T),this.stat=ee}y(Qe,J);function lt(T){const ee=qo();it(ee,new Qe(ee,T))}As.Ma="timingevent";function Pt(T,ee){J.call(this,As.Ma,T),this.size=ee}y(Pt,J);function Dt(T,ee){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){T()},ee)}function ln(){this.g=!0}ln.prototype.xa=function(){this.g=!1};function an(T,ee,ae,Re,st,Ct){T.info(function(){if(T.g)if(Ct)for(var Zt="",fr=Ct.split("&"),Fr=0;Fr<fr.length;Fr++){var Er=fr[Fr].split("=");if(1<Er.length){var Ir=Er[0];Er=Er[1];var ai=Ir.split("_");Zt=2<=ai.length&&ai[1]=="type"?Zt+(Ir+"="+Er+"&"):Zt+(Ir+"=redacted&")}}else Zt=null;else Zt=Ct;return"XMLHTTP REQ ("+Re+") [attempt "+st+"]: "+ee+`
`+ae+`
`+Zt})}function Tt(T,ee,ae,Re,st,Ct,Zt){T.info(function(){return"XMLHTTP RESP ("+Re+") [ attempt "+st+"]: "+ee+`
`+ae+`
`+Ct+" "+Zt})}function he(T,ee,ae,Re){T.info(function(){return"XMLHTTP TEXT ("+ee+"): "+be(T,ae)+(Re?" "+Re:"")})}function Te(T,ee){T.info(function(){return"TIMEOUT: "+ee})}ln.prototype.info=function(){};function be(T,ee){if(!T.g)return ee;if(!ee)return null;try{var ae=JSON.parse(ee);if(ae){for(T=0;T<ae.length;T++)if(Array.isArray(ae[T])){var Re=ae[T];if(!(2>Re.length)){var st=Re[1];if(Array.isArray(st)&&!(1>st.length)){var Ct=st[0];if(Ct!="noop"&&Ct!="stop"&&Ct!="close")for(var Zt=1;Zt<st.length;Zt++)st[Zt]=""}}}}return Kr(ae)}catch{return ee}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ee={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fe;function Xe(){}y(Xe,fi),Xe.prototype.g=function(){return new XMLHttpRequest},Xe.prototype.i=function(){return{}},Fe=new Xe;function ht(T,ee,ae,Re){this.j=T,this.i=ee,this.l=ae,this.R=Re||1,this.U=new cr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ke}function Ke(){this.i=null,this.g="",this.h=!1}var $e={},ut={};function Ot(T,ee,ae){T.L=1,T.v=Ks(pi(ee)),T.m=ae,T.P=!0,Wt(T,null)}function Wt(T,ee){T.F=Date.now(),Xt(T),T.A=pi(T.v);var ae=T.A,Re=T.R;Array.isArray(Re)||(Re=[String(Re)]),Bc(ae.i,"t",Re),T.C=0,ae=T.j.J,T.h=new Ke,T.g=hl(T.j,ae?ee:null,!T.m),0<T.O&&(T.M=new mn(p(T.Y,T,T.g),T.O)),ee=T.U,ae=T.g,Re=T.ca;var st="readystatechange";Array.isArray(st)||(st&&(fn[0]=st.toString()),st=fn);for(var Ct=0;Ct<st.length;Ct++){var Zt=Me(ae,st[Ct],Re||ee.handleEvent,!1,ee.h||ee);if(!Zt)break;ee.g[Zt.key]=Zt}ee=T.H?z(T.H):{},T.m?(T.u||(T.u="POST"),ee["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,ee)):(T.u="GET",T.g.ea(T.A,T.u,null,ee)),Ne(),an(T.i,T.u,T.A,T.l,T.R,T.m)}ht.prototype.ca=function(T){T=T.target;const ee=this.M;ee&&Qs(T)==3?ee.j():this.Y(T)},ht.prototype.Y=function(T){try{if(T==this.g)e:{const ai=Qs(this.g);var ee=this.g.Ba();const Na=this.g.Z();if(!(3>ai)&&(ai!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||ai!=4||ee==7||(ee==8||0>=Na?Ne(3):Ne(2)),sr(this);var ae=this.g.Z();this.X=ae;t:if(jt(this)){var Re=Iu(this.g);T="";var st=Re.length,Ct=Qs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),Kn(this);var Zt="";break t}this.h.i=new a.TextDecoder}for(ee=0;ee<st;ee++)this.h.h=!0,T+=this.h.i.decode(Re[ee],{stream:!(Ct&&ee==st-1)});Re.length=0,this.h.g+=T,this.C=0,Zt=this.h.g}else Zt=this.g.oa();if(this.o=ae==200,Tt(this.i,this.u,this.A,this.l,this.R,ai,ae),this.o){if(this.T&&!this.K){t:{if(this.g){var fr,Fr=this.g;if((fr=Fr.g?Fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(fr)){var Er=fr;break t}}Er=null}if(ae=Er)he(this.i,this.l,ae,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hr(this,ae);else{this.o=!1,this.s=3,lt(12),dn(this),Kn(this);break e}}if(this.P){ae=!0;let ri;for(;!this.J&&this.C<Zt.length;)if(ri=Ut(this,Zt),ri==ut){ai==4&&(this.s=4,lt(14),ae=!1),he(this.i,this.l,null,"[Incomplete Response]");break}else if(ri==$e){this.s=4,lt(15),he(this.i,this.l,Zt,"[Invalid Chunk]"),ae=!1;break}else he(this.i,this.l,ri,null),hr(this,ri);if(jt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ai!=4||Zt.length!=0||this.h.h||(this.s=1,lt(16),ae=!1),this.o=this.o&&ae,!ae)he(this.i,this.l,Zt,"[Invalid Chunked Response]"),dn(this),Kn(this);else if(0<Zt.length&&!this.W){this.W=!0;var Ir=this.j;Ir.g==this&&Ir.ba&&!Ir.M&&(Ir.j.info("Great, no buffering proxy detected. Bytes received: "+Zt.length),ea(Ir),Ir.M=!0,lt(11))}}else he(this.i,this.l,Zt,null),hr(this,Zt);ai==4&&dn(this),this.o&&!this.J&&(ai==4?Ji(this.j,this):(this.o=!1,Xt(this)))}else ph(this.g),ae==400&&0<Zt.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),dn(this),Kn(this)}}}catch{}finally{}};function jt(T){return T.g?T.u=="GET"&&T.L!=2&&T.j.Ca:!1}function Ut(T,ee){var ae=T.C,Re=ee.indexOf(`
`,ae);return Re==-1?ut:(ae=Number(ee.substring(ae,Re)),isNaN(ae)?$e:(Re+=1,Re+ae>ee.length?ut:(ee=ee.slice(Re,Re+ae),T.C=Re+ae,ee)))}ht.prototype.cancel=function(){this.J=!0,dn(this)};function Xt(T){T.S=Date.now()+T.I,pn(T,T.I)}function pn(T,ee){if(T.B!=null)throw Error("WatchDog timer not null");T.B=Dt(p(T.ba,T),ee)}function sr(T){T.B&&(a.clearTimeout(T.B),T.B=null)}ht.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(Te(this.i,this.A),this.L!=2&&(Ne(),lt(17)),dn(this),this.s=2,Kn(this)):pn(this,this.S-T)};function Kn(T){T.j.G==0||T.J||Ji(T.j,T)}function dn(T){sr(T);var ee=T.M;ee&&typeof ee.ma=="function"&&ee.ma(),T.M=null,Pr(T.U),T.g&&(ee=T.g,T.g=null,ee.abort(),ee.ma())}function hr(T,ee){try{var ae=T.j;if(ae.G!=0&&(ae.g==T||Pn(ae.h,T))){if(!T.K&&Pn(ae.h,T)&&ae.G==3){try{var Re=ae.Da.g.parse(ee)}catch{Re=null}if(Array.isArray(Re)&&Re.length==3){var st=Re;if(st[0]==0){e:if(!ae.u){if(ae.g)if(ae.g.F+3e3<T.F)Ou(ae),Kl(ae);else break e;ul(ae),lt(18)}}else ae.za=st[1],0<ae.za-ae.T&&37500>st[2]&&ae.F&&ae.v==0&&!ae.C&&(ae.C=Dt(p(ae.Za,ae),6e3));if(1>=ur(ae.h)&&ae.ca){try{ae.ca()}catch{}ae.ca=void 0}}else mo(ae,11)}else if((T.K||ae.g==T)&&Ou(ae),!E(ee))for(st=ae.Da.g.parse(ee),ee=0;ee<st.length;ee++){let Er=st[ee];if(ae.T=Er[0],Er=Er[1],ae.G==2)if(Er[0]=="c"){ae.K=Er[1],ae.ia=Er[2];const Ir=Er[3];Ir!=null&&(ae.la=Ir,ae.j.info("VER="+ae.la));const ai=Er[4];ai!=null&&(ae.Aa=ai,ae.j.info("SVER="+ae.Aa));const Na=Er[5];Na!=null&&typeof Na=="number"&&0<Na&&(Re=1.5*Na,ae.L=Re,ae.j.info("backChannelRequestTimeoutMs_="+Re)),Re=ae;const ri=T.g;if(ri){const ta=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var Ct=Re.h;Ct.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(Ct.j=Ct.l,Ct.g=new Set,Ct.h&&(Hr(Ct,Ct.h),Ct.h=null))}if(Re.D){const Mo=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(Re.ya=Mo,Bn(Re.I,Re.D,Mo))}}ae.G=3,ae.l&&ae.l.ua(),ae.ba&&(ae.R=Date.now()-T.F,ae.j.info("Handshake RTT: "+ae.R+"ms")),Re=ae;var Zt=T;if(Re.qa=Hc(Re,Re.J?Re.ia:null,Re.W),Zt.K){ms(Re.h,Zt);var fr=Zt,Fr=Re.L;Fr&&(fr.I=Fr),fr.B&&(sr(fr),Xt(fr)),Re.g=Zt}else pa(Re);0<ae.i.length&&cl(ae)}else Er[0]!="stop"&&Er[0]!="close"||mo(ae,7);else ae.G==3&&(Er[0]=="stop"||Er[0]=="close"?Er[0]=="stop"?mo(ae,7):Vc(ae):Er[0]!="noop"&&ae.l&&ae.l.ta(Er),ae.v=0)}}Ne(4)}catch{}}var Vi=class{constructor(T,ee){this.g=T,this.map=ee}};function Ai(T){this.l=T||10,a.PerformanceNavigationTiming?(T=a.performance.getEntriesByType("navigation"),T=0<T.length&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vr(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function ur(T){return T.h?1:T.g?T.g.size:0}function Pn(T,ee){return T.h?T.h==ee:T.g?T.g.has(ee):!1}function Hr(T,ee){T.g?T.g.add(ee):T.h=ee}function ms(T,ee){T.h&&T.h==ee?T.h=null:T.g&&T.g.has(ee)&&T.g.delete(ee)}Ai.prototype.cancel=function(){if(this.i=vs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function vs(T){if(T.h!=null)return T.i.concat(T.h.D);if(T.g!=null&&T.g.size!==0){let ee=T.i;for(const ae of T.g.values())ee=ee.concat(ae.D);return ee}return w(T.i)}function ol(T){if(T.V&&typeof T.V=="function")return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if(typeof T=="string")return T.split("");if(l(T)){for(var ee=[],ae=T.length,Re=0;Re<ae;Re++)ee.push(T[Re]);return ee}ee=[],ae=0;for(Re in T)ee[ae++]=T[Re];return ee}function uo(T){if(T.na&&typeof T.na=="function")return T.na();if(!T.V||typeof T.V!="function"){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(l(T)||typeof T=="string"){var ee=[];T=T.length;for(var ae=0;ae<T;ae++)ee.push(ae);return ee}ee=[],ae=0;for(const Re in T)ee[ae++]=Re;return ee}}}function zn(T,ee){if(T.forEach&&typeof T.forEach=="function")T.forEach(ee,void 0);else if(l(T)||typeof T=="string")Array.prototype.forEach.call(T,ee,void 0);else for(var ae=uo(T),Re=ol(T),st=Re.length,Ct=0;Ct<st;Ct++)ee.call(void 0,Re[Ct],ae&&ae[Ct],T)}var Zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Du(T,ee){if(T){T=T.split("&");for(var ae=0;ae<T.length;ae++){var Re=T[ae].indexOf("="),st=null;if(0<=Re){var Ct=T[ae].substring(0,Re);st=T[ae].substring(Re+1)}else Ct=T[ae];ee(Ct,st?decodeURIComponent(st.replace(/\+/g," ")):"")}}}function bi(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof bi){this.h=T.h,ko(this,T.j),this.o=T.o,this.g=T.g,ho(this,T.s),this.l=T.l;var ee=T.i,ae=new La;ae.i=ee.i,ee.g&&(ae.g=new Map(ee.g),ae.h=ee.h),fo(this,ae),this.m=T.m}else T&&(ee=String(T).match(Zr))?(this.h=!1,ko(this,ee[1]||"",!0),this.o=Ys(ee[2]||""),this.g=Ys(ee[3]||"",!0),ho(this,ee[4]),this.l=Ys(ee[5]||"",!0),fo(this,ee[6]||"",!0),this.m=Ys(ee[7]||"")):(this.h=!1,this.i=new La(null,this.h))}bi.prototype.toString=function(){var T=[],ee=this.j;ee&&T.push(ha(ee,po,!0),":");var ae=this.g;return(ae||ee=="file")&&(T.push("//"),(ee=this.o)&&T.push(ha(ee,po,!0),"@"),T.push(encodeURIComponent(String(ae)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ae=this.s,ae!=null&&T.push(":",String(ae))),(ae=this.l)&&(this.g&&ae.charAt(0)!="/"&&T.push("/"),T.push(ha(ae,ae.charAt(0)=="/"?kd:Ma,!0))),(ae=this.i.toString())&&T.push("?",ae),(ae=this.m)&&T.push("#",ha(ae,Oa)),T.join("")};function pi(T){return new bi(T)}function ko(T,ee,ae){T.j=ae?Ys(ee,!0):ee,T.j&&(T.j=T.j.replace(/:$/,""))}function ho(T,ee){if(ee){if(ee=Number(ee),isNaN(ee)||0>ee)throw Error("Bad port number "+ee);T.s=ee}else T.s=null}function fo(T,ee,ae){ee instanceof La?(T.i=ee,Xs(T.i,T.h)):(ae||(ee=ha(ee,Wl)),T.i=new La(ee,T.h))}function Bn(T,ee,ae){T.i.set(ee,ae)}function Ks(T){return Bn(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function Ys(T,ee){return T?ee?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function ha(T,ee,ae){return typeof T=="string"?(T=encodeURI(T).replace(ee,Fu),ae&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function Fu(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var po=/[#\/\?@]/g,Ma=/[#\?:]/g,kd=/[#\?]/g,Wl=/[#\?@]/g,Oa=/#/g;function La(T,ee){this.h=this.g=null,this.i=T||null,this.j=!!ee}function go(T){T.g||(T.g=new Map,T.h=0,T.i&&Du(T.i,function(ee,ae){T.add(decodeURIComponent(ee.replace(/\+/g," ")),ae)}))}e=La.prototype,e.add=function(T,ee){go(this),this.i=null,T=Rn(this,T);var ae=this.g.get(T);return ae||this.g.set(T,ae=[]),ae.push(ee),this.h+=1,this};function ks(T,ee){go(T),ee=Rn(T,ee),T.g.has(ee)&&(T.i=null,T.h-=T.g.get(ee).length,T.g.delete(ee))}function Qo(T,ee){return go(T),ee=Rn(T,ee),T.g.has(ee)}e.forEach=function(T,ee){go(this),this.g.forEach(function(ae,Re){ae.forEach(function(st){T.call(ee,st,Re,this)},this)},this)},e.na=function(){go(this);const T=Array.from(this.g.values()),ee=Array.from(this.g.keys()),ae=[];for(let Re=0;Re<ee.length;Re++){const st=T[Re];for(let Ct=0;Ct<st.length;Ct++)ae.push(ee[Re])}return ae},e.V=function(T){go(this);let ee=[];if(typeof T=="string")Qo(this,T)&&(ee=ee.concat(this.g.get(Rn(this,T))));else{T=Array.from(this.g.values());for(let ae=0;ae<T.length;ae++)ee=ee.concat(T[ae])}return ee},e.set=function(T,ee){return go(this),this.i=null,T=Rn(this,T),Qo(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[ee]),this.h+=1,this},e.get=function(T,ee){return T?(T=this.V(T),0<T.length?String(T[0]):ee):ee};function Bc(T,ee,ae){ks(T,ee),0<ae.length&&(T.i=null,T.g.set(Rn(T,ee),w(ae)),T.h+=ae.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],ee=Array.from(this.g.keys());for(var ae=0;ae<ee.length;ae++){var Re=ee[ae];const Ct=encodeURIComponent(String(Re)),Zt=this.V(Re);for(Re=0;Re<Zt.length;Re++){var st=Ct;Zt[Re]!==""&&(st+="="+encodeURIComponent(String(Zt[Re]))),T.push(st)}}return this.i=T.join("&")};function Rn(T,ee){return ee=String(ee),T.j&&(ee=ee.toLowerCase()),ee}function Xs(T,ee){ee&&!T.j&&(go(T),T.i=null,T.g.forEach(function(ae,Re){var st=Re.toLowerCase();Re!=st&&(ks(this,Re),Bc(this,st,ae))},T)),T.j=ee}function Sn(T,ee){const ae=new ln;if(a.Image){const Re=new Image;Re.onload=m(Ls,ae,"TestLoadImage: loaded",!0,ee,Re),Re.onerror=m(Ls,ae,"TestLoadImage: error",!1,ee,Re),Re.onabort=m(Ls,ae,"TestLoadImage: abort",!1,ee,Re),Re.ontimeout=m(Ls,ae,"TestLoadImage: timeout",!1,ee,Re),a.setTimeout(function(){Re.ontimeout&&Re.ontimeout()},1e4),Re.src=T}else ee(!1)}function Zs(T,ee){const ae=new ln,Re=new AbortController,st=setTimeout(()=>{Re.abort(),Ls(ae,"TestPingServer: timeout",!1,ee)},1e4);fetch(T,{signal:Re.signal}).then(Ct=>{clearTimeout(st),Ct.ok?Ls(ae,"TestPingServer: ok",!0,ee):Ls(ae,"TestPingServer: server error",!1,ee)}).catch(()=>{clearTimeout(st),Ls(ae,"TestPingServer: error",!1,ee)})}function Ls(T,ee,ae,Re,st){try{st&&(st.onload=null,st.onerror=null,st.onabort=null,st.ontimeout=null),Re(ae)}catch{}}function Jo(){this.g=new rr}function qs(T,ee,ae){const Re=ae||"";try{zn(T,function(st,Ct){let Zt=st;c(st)&&(Zt=Kr(st)),ee.push(Re+Ct+"="+encodeURIComponent(Zt))})}catch(st){throw ee.push(Re+"type="+encodeURIComponent("_badmap")),st}}function Ps(T){this.l=T.Ub||null,this.j=T.eb||!1}y(Ps,fi),Ps.prototype.g=function(){return new Po(this.l,this.j)},Ps.prototype.i=function(T){return function(){return T}}({});function Po(T,ee){Ie.call(this),this.D=T,this.o=ee,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Po,Ie),e=Po.prototype,e.open=function(T,ee){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=ee,this.readyState=1,ys(this)},e.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ee={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&(ee.body=T),(this.D||a).fetch(new Request(this.A,ee)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},e.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Do(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))};function Do(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}e.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var ee=T.value?T.value:new Uint8Array(0);(ee=this.v.decode(ee,{stream:!T.done}))&&(this.response=this.responseText+=ee)}T.done?Ar(this):ys(this),this.readyState==3&&Do(this)}},e.Ra=function(T){this.g&&(this.response=this.responseText=T,Ar(this))},e.Qa=function(T){this.g&&(this.response=T,Ar(this))},e.ga=function(){this.g&&Ar(this)};function Ar(T){T.readyState=4,T.l=null,T.j=null,T.v=null,ys(T)}e.setRequestHeader=function(T,ee){this.u.append(T,ee)},e.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],ee=this.h.entries();for(var ae=ee.next();!ae.done;)ae=ae.value,T.push(ae[0]+": "+ae[1]),ae=ee.next();return T.join(`\r
`)};function ys(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function Fo(T){let ee="";return M(T,function(ae,Re){ee+=Re,ee+=":",ee+=ae,ee+=`\r
`}),ee}function ss(T,ee,ae){e:{for(Re in ae){var Re=!1;break e}Re=!0}Re||(ae=Fo(ae),typeof T=="string"?ae!=null&&encodeURIComponent(String(ae)):Bn(T,ee,ae))}function Dr(T){Ie.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Dr,Ie);var fa=/^https?$/i,$o=["POST","PUT"];e=Dr.prototype,e.Ha=function(T){this.J=T},e.ea=function(T,ee,ae,Re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);ee=ee?ee.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fe.g(),this.v=this.o?Qi(this.o):Qi(Fe),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(ee,String(T),!0),this.B=!1}catch(Ct){Pd(this,Ct);return}if(T=ae||"",ae=new Map(this.headers),Re)if(Object.getPrototypeOf(Re)===Object.prototype)for(var st in Re)ae.set(st,Re[st]);else if(typeof Re.keys=="function"&&typeof Re.get=="function")for(const Ct of Re.keys())ae.set(Ct,Re.get(Ct));else throw Error("Unknown input type for opt_headers: "+String(Re));Re=Array.from(ae.keys()).find(Ct=>Ct.toLowerCase()=="content-type"),st=a.FormData&&T instanceof a.FormData,!(0<=Array.prototype.indexOf.call($o,ee,void 0))||Re||st||ae.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ct,Zt]of ae)this.g.setRequestHeader(Ct,Zt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ns(this),this.u=!0,this.g.send(T),this.u=!1}catch(Ct){Pd(this,Ct)}};function Pd(T,ee){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=ee,T.m=5,uc(T),al(T)}function uc(T){T.A||(T.A=!0,it(T,"complete"),it(T,"error"))}e.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,it(this,"complete"),it(this,"abort"),al(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),al(this,!0)),Dr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?or(this):this.bb())},e.bb=function(){or(this)};function or(T){if(T.h&&typeof o<"u"&&(!T.v[1]||Qs(T)!=4||T.Z()!=2)){if(T.u&&Qs(T)==4)Gt(T.Ea,0,T);else if(it(T,"readystatechange"),Qs(T)==4){T.h=!1;try{const Zt=T.Z();e:switch(Zt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ee=!0;break e;default:ee=!1}var ae;if(!(ae=ee)){var Re;if(Re=Zt===0){var st=String(T.D).match(Zr)[1]||null;!st&&a.self&&a.self.location&&(st=a.self.location.protocol.slice(0,-1)),Re=!fa.test(st?st.toLowerCase():"")}ae=Re}if(ae)it(T,"complete"),it(T,"success");else{T.m=6;try{var Ct=2<Qs(T)?T.g.statusText:""}catch{Ct=""}T.l=Ct+" ["+T.Z()+"]",uc(T)}}finally{al(T)}}}}function al(T,ee){if(T.g){Ns(T);const ae=T.g,Re=T.v[0]?()=>{}:null;T.g=null,T.v=null,ee||it(T,"ready");try{ae.onreadystatechange=Re}catch{}}}function Ns(T){T.I&&(a.clearTimeout(T.I),T.I=null)}e.isActive=function(){return!!this.g};function Qs(T){return T.g?T.g.readyState:0}e.Z=function(){try{return 2<Qs(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(T){if(this.g){var ee=this.g.responseText;return T&&ee.indexOf(T)==0&&(ee=ee.substring(T.length)),xn(ee)}};function Iu(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function ph(T){const ee={};T=(T.g&&2<=Qs(T)&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let Re=0;Re<T.length;Re++){if(E(T[Re]))continue;var ae=Q(T[Re]);const st=ae[0];if(ae=ae[1],typeof ae!="string")continue;ae=ae.trim();const Ct=ee[st]||[];ee[st]=Ct,Ct.push(ae)}O(ee,function(Re){return Re.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jl(T,ee,ae){return ae&&ae.internalChannelParams&&ae.internalChannelParams[T]||ee}function ll(T){this.Aa=0,this.i=[],this.j=new ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jl("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jl("baseRetryDelayMs",5e3,T),this.cb=jl("retryDelaySeedMs",1e4,T),this.Wa=jl("forwardChannelMaxRetries",2,T),this.wa=jl("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(T&&T.concurrentRequestLimit),this.Da=new Jo,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ll.prototype,e.la=8,e.G=1,e.connect=function(T,ee,ae,Re){lt(0),this.W=T,this.H=ee||{},ae&&Re!==void 0&&(this.H.OSID=ae,this.H.OAID=Re),this.F=this.X,this.I=Hc(this,null,this.W),cl(this)};function Vc(T){if(gh(T),T.G==3){var ee=T.U++,ae=pi(T.I);if(Bn(ae,"SID",T.K),Bn(ae,"RID",ee),Bn(ae,"TYPE","terminate"),Yl(T,ae),ee=new ht(T,T.j,ee),ee.L=2,ee.v=Ks(pi(ae)),ae=!1,a.navigator&&a.navigator.sendBeacon)try{ae=a.navigator.sendBeacon(ee.v.toString(),"")}catch{}!ae&&a.Image&&(new Image().src=ee.v,ae=!0),ae||(ee.g=hl(ee.j,null),ee.g.ea(ee.v)),ee.F=Date.now(),Xt(ee)}hc(T)}function Kl(T){T.g&&(ea(T),T.g.cancel(),T.g=null)}function gh(T){Kl(T),T.u&&(a.clearTimeout(T.u),T.u=null),Ou(T),T.h.cancel(),T.s&&(typeof T.s=="number"&&a.clearTimeout(T.s),T.s=null)}function cl(T){if(!vr(T.h)&&!T.s){T.s=!0;var ee=T.Ga;ue||W(),Pe||(ue(),Pe=!0),ye.add(ee,T),T.B=0}}function mh(T,ee){return ur(T.h)>=T.h.j-(T.s?1:0)?!1:T.s?(T.i=ee.D.concat(T.i),!0):T.G==1||T.G==2||T.B>=(T.Va?0:T.Wa)?!1:(T.s=Dt(p(T.Ga,T,ee),dl(T,T.B)),T.B++,!0)}e.Ga=function(T){if(this.s)if(this.s=null,this.G==1){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const st=new ht(this,this.j,T);let Ct=this.o;if(this.S&&(Ct?(Ct=z(Ct),X(Ct,this.S)):Ct=this.S),this.m!==null||this.O||(st.H=Ct,Ct=null),this.P)e:{for(var ee=0,ae=0;ae<this.i.length;ae++){t:{var Re=this.i[ae];if("__data__"in Re.map&&(Re=Re.map.__data__,typeof Re=="string")){Re=Re.length;break t}Re=void 0}if(Re===void 0)break;if(ee+=Re,4096<ee){ee=ae;break e}if(ee===4096||ae===this.i.length-1){ee=ae+1;break e}}ee=1e3}else ee=1e3;ee=dc(this,st,ee),ae=pi(this.I),Bn(ae,"RID",T),Bn(ae,"CVER",22),this.D&&Bn(ae,"X-HTTP-Session-Id",this.D),Yl(this,ae),Ct&&(this.O?ee="headers="+encodeURIComponent(String(Fo(Ct)))+"&"+ee:this.m&&ss(ae,this.m,Ct)),Hr(this.h,st),this.Ua&&Bn(ae,"TYPE","init"),this.P?(Bn(ae,"$req",ee),Bn(ae,"SID","null"),st.T=!0,Ot(st,ae,null)):Ot(st,ae,ee),this.G=2}}else this.G==3&&(T?ws(this,T):this.i.length==0||vr(this.h)||ws(this))};function ws(T,ee){var ae;ee?ae=ee.l:ae=T.U++;const Re=pi(T.I);Bn(Re,"SID",T.K),Bn(Re,"RID",ae),Bn(Re,"AID",T.T),Yl(T,Re),T.m&&T.o&&ss(Re,T.m,T.o),ae=new ht(T,T.j,ae,T.B+1),T.m===null&&(ae.H=T.o),ee&&(T.i=ee.D.concat(T.i)),ee=dc(T,ae,1e3),ae.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),Hr(T.h,ae),Ot(ae,Re,ee)}function Yl(T,ee){T.H&&M(T.H,function(ae,Re){Bn(ee,Re,ae)}),T.l&&zn({},function(ae,Re){Bn(ee,Re,ae)})}function dc(T,ee,ae){ae=Math.min(T.i.length,ae);var Re=T.l?p(T.l.Na,T.l,T):null;e:{var st=T.i;let Ct=-1;for(;;){const Zt=["count="+ae];Ct==-1?0<ae?(Ct=st[0].g,Zt.push("ofs="+Ct)):Ct=0:Zt.push("ofs="+Ct);let fr=!0;for(let Fr=0;Fr<ae;Fr++){let Er=st[Fr].g;const Ir=st[Fr].map;if(Er-=Ct,0>Er)Ct=Math.max(0,st[Fr].g-100),fr=!1;else try{qs(Ir,Zt,"req"+Er+"_")}catch{Re&&Re(Ir)}}if(fr){Re=Zt.join("&");break e}}}return T=T.i.splice(0,ae),ee.D=T,Re}function pa(T){if(!T.g&&!T.u){T.Y=1;var ee=T.Fa;ue||W(),Pe||(ue(),Pe=!0),ye.add(ee,T),T.v=0}}function ul(T){return T.g||T.u||3<=T.v?!1:(T.Y++,T.u=Dt(p(T.Fa,T),dl(T,T.v)),T.v++,!0)}e.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=Dt(p(this.ab,this),T)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Kl(this),Mu(this))};function ea(T){T.A!=null&&(a.clearTimeout(T.A),T.A=null)}function Mu(T){T.g=new ht(T,T.j,"rpc",T.Y),T.m===null&&(T.g.H=T.o),T.g.O=0;var ee=pi(T.qa);Bn(ee,"RID","rpc"),Bn(ee,"SID",T.K),Bn(ee,"AID",T.T),Bn(ee,"CI",T.F?"0":"1"),!T.F&&T.ja&&Bn(ee,"TO",T.ja),Bn(ee,"TYPE","xmlhttp"),Yl(T,ee),T.m&&T.o&&ss(ee,T.m,T.o),T.L&&(T.g.I=T.L);var ae=T.g;T=T.ia,ae.L=1,ae.v=Ks(pi(ee)),ae.m=null,ae.P=!0,Wt(ae,T)}e.Za=function(){this.C!=null&&(this.C=null,Kl(this),ul(this),lt(19))};function Ou(T){T.C!=null&&(a.clearTimeout(T.C),T.C=null)}function Ji(T,ee){var ae=null;if(T.g==ee){Ou(T),ea(T),T.g=null;var Re=2}else if(Pn(T.h,ee))ae=ee.D,ms(T.h,ee),Re=1;else return;if(T.G!=0){if(ee.o)if(Re==1){ae=ee.m?ee.m.length:0,ee=Date.now()-ee.F;var st=T.B;Re=qo(),it(Re,new Pt(Re,ae)),cl(T)}else pa(T);else if(st=ee.s,st==3||st==0&&0<ee.X||!(Re==1&&mh(T,ee)||Re==2&&ul(T)))switch(ae&&0<ae.length&&(ee=T.h,ee.i=ee.i.concat(ae)),st){case 1:mo(T,5);break;case 4:mo(T,10);break;case 3:mo(T,6);break;default:mo(T,2)}}}function dl(T,ee){let ae=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(ae*=2),ae*ee}function mo(T,ee){if(T.j.info("Error code "+ee),ee==2){var ae=p(T.fb,T),Re=T.Xa;const st=!Re;Re=new bi(Re||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ko(Re,"https"),Ks(Re),st?Sn(Re.toString(),ae):Zs(Re.toString(),ae)}else lt(2);T.G=0,T.l&&T.l.sa(ee),hc(T),gh(T)}e.fb=function(T){T?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function hc(T){if(T.G=0,T.ka=[],T.l){const ee=vs(T.h);(ee.length!=0||T.i.length!=0)&&(b(T.ka,ee),b(T.ka,T.i),T.h.i.length=0,w(T.i),T.i.length=0),T.l.ra()}}function Hc(T,ee,ae){var Re=ae instanceof bi?pi(ae):new bi(ae);if(Re.g!="")ee&&(Re.g=ee+"."+Re.g),ho(Re,Re.s);else{var st=a.location;Re=st.protocol,ee=ee?ee+"."+st.hostname:st.hostname,st=+st.port;var Ct=new bi(null);Re&&ko(Ct,Re),ee&&(Ct.g=ee),st&&ho(Ct,st),ae&&(Ct.l=ae),Re=Ct}return ae=T.D,ee=T.ya,ae&&ee&&Bn(Re,ae,ee),Bn(Re,"VER",T.la),Yl(T,Re),Re}function hl(T,ee,ae){if(ee&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return ee=T.Ca&&!T.pa?new Dr(new Ps({eb:ae})):new Dr(T.pa),ee.Ha(T.J),ee}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function os(){}e=os.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function as(){}as.prototype.g=function(T,ee){return new zr(T,ee)};function zr(T,ee){Ie.call(this),this.g=new ll(ee),this.l=T,this.h=ee&&ee.messageUrlParams||null,T=ee&&ee.messageHeaders||null,ee&&ee.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=ee&&ee.initMessageHeaders||null,ee&&ee.messageContentType&&(T?T["X-WebChannel-Content-Type"]=ee.messageContentType:T={"X-WebChannel-Content-Type":ee.messageContentType}),ee&&ee.va&&(T?T["X-WebChannel-Client-Profile"]=ee.va:T={"X-WebChannel-Client-Profile":ee.va}),this.g.S=T,(T=ee&&ee.Sb)&&!E(T)&&(this.g.m=T),this.v=ee&&ee.supportsCrossDomainXhr||!1,this.u=ee&&ee.sendRawJson||!1,(ee=ee&&ee.httpSessionIdParam)&&!E(ee)&&(this.g.D=ee,T=this.h,T!==null&&ee in T&&(T=this.h,ee in T&&delete T[ee])),this.j=new Js(this)}y(zr,Ie),zr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zr.prototype.close=function(){Vc(this.g)},zr.prototype.o=function(T){var ee=this.g;if(typeof T=="string"){var ae={};ae.__data__=T,T=ae}else this.u&&(ae={},ae.__data__=Kr(T),T=ae);ee.i.push(new Vi(ee.Ya++,T)),ee.G==3&&cl(ee)},zr.prototype.N=function(){this.g.l=null,delete this.j,Vc(this.g),delete this.g,zr.aa.N.call(this)};function Io(T){Bi.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var ee=T.__sm__;if(ee){e:{for(const ae in ee){T=ae;break e}T=void 0}(this.i=T)&&(T=this.i,ee=ee!==null&&T in ee?ee[T]:void 0),this.data=ee}else this.data=T}y(Io,Bi);function Dd(){gs.call(this),this.status=1}y(Dd,gs);function Js(T){this.g=T}y(Js,os),Js.prototype.ua=function(){it(this.g,"a")},Js.prototype.ta=function(T){it(this.g,new Io(T))},Js.prototype.sa=function(T){it(this.g,new Dd)},Js.prototype.ra=function(){it(this.g,"b")},as.prototype.createWebChannel=as.prototype.g,zr.prototype.send=zr.prototype.o,zr.prototype.open=zr.prototype.m,zr.prototype.close=zr.prototype.close,CY=function(){return new as},wY=function(){return qo()},yY=As,oF={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,RE=Ce,Ee.COMPLETE="complete",vY=Ee,Ni.EventType=is,is.OPEN="a",is.CLOSE="b",is.ERROR="c",is.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,mb=Ni,Dr.prototype.listenOnce=Dr.prototype.L,Dr.prototype.getLastError=Dr.prototype.Ka,Dr.prototype.getLastErrorCode=Dr.prototype.Ba,Dr.prototype.getStatus=Dr.prototype.Z,Dr.prototype.getResponseJson=Dr.prototype.Oa,Dr.prototype.getResponseText=Dr.prototype.oa,Dr.prototype.send=Dr.prototype.ea,Dr.prototype.setWithCredentials=Dr.prototype.Ha,mY=Dr}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});const F6="@firebase/firestore",I6="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Al.UNAUTHENTICATED=new Al(null),Al.GOOGLE_CREDENTIALS=new Al("google-credentials-uid"),Al.FIRST_PARTY=new Al("first-party-uid"),Al.MOCK_USER=new Al("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dw="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new pO("@firebase/firestore");function ty(){return S0.logLevel}function vn(e,...t){if(S0.logLevel<=Ur.DEBUG){const n=t.map(EO);S0.debug(`Firestore (${Dw}): ${e}`,...n)}}function ap(e,...t){if(S0.logLevel<=Ur.ERROR){const n=t.map(EO);S0.error(`Firestore (${Dw}): ${e}`,...n)}}function tw(e,...t){if(S0.logLevel<=Ur.WARN){const n=t.map(EO);S0.warn(`Firestore (${Dw}): ${e}`,...n)}}function EO(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,bY(e,r,n)}function bY(e,t,n){let r=`FIRESTORE (${Dw}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ap(r),new Error(r)}function ni(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||bY(t,i,r)}function lr(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cn extends uh{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Al.UNAUTHENTICATED))}shutdown(){}}class fye{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pye{constructor(t){this.t=t,this.currentUser=Al.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ni(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new rf;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rf,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{vn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(vn("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rf)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(vn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ni(typeof r.accessToken=="string",31837,{l:r}),new xY(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ni(t===null||typeof t=="string",2055,{h:t}),new Al(t)}}class gye{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Al.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mye{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new gye(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Al.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M6{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vye{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hu(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ni(this.o===void 0,3512);const r=s=>{s.error!=null&&vn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,vn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{vn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):vn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M6(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ni(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yye(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yye(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function Wr(e,t){return e<t?-1:e>t?1:0}function aF(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),s=t.charAt(r);if(i!==s)return HP(i)===HP(s)?Wr(i,s):HP(i)?1:-1}return Wr(e.length,t.length)}const wye=55296,Cye=57343;function HP(e){const t=e.charCodeAt(0);return t>=wye&&t<=Cye}function nw(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="__name__";class Nh{constructor(t,n,r){n===void 0?n=0:n>t.length&&Gn(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Gn(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Nh.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Nh?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=Nh.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return Wr(t.length,n.length)}static compareSegments(t,n){const r=Nh.isNumericId(t),i=Nh.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Nh.extractNumericId(t).compare(Nh.extractNumericId(n)):aF(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return mg.fromString(t.substring(4,t.length-2))}}class Xi extends Nh{construct(t,n,r){return new Xi(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new cn(It.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xi(n)}static emptyPath(){return new Xi([])}}const bye=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $a extends Nh{construct(t,n,r){return new $a(t,n,r)}static isValidIdentifier(t){return bye.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$a.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O6}static keyField(){return new $a([O6])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new cn(It.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new cn(It.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new cn(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new cn(It.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $a(n)}static emptyPath(){return new $a([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.path=t}static fromPath(t){return new Nn(Xi.fromString(t))}static fromName(t){return new Nn(Xi.fromString(t).popFirst(5))}static empty(){return new Nn(Xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Xi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Xi.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nn(new Xi(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SY(e,t,n){if(!n)throw new cn(It.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function xye(e,t,n,r){if(t===!0&&r===!0)throw new cn(It.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function L6(e){if(!Nn.isDocumentKey(e))throw new cn(It.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function N6(e){if(Nn.isDocumentKey(e))throw new cn(It.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _Y(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function iA(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Gn(12329,{type:typeof e})}function ac(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new cn(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iA(e);throw new cn(It.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(e,t){const n={typeString:e};return t&&(n.value=t),n}function t1(e,t){if(!_Y(e))throw new cn(It.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new cn(It.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=-62135596800,V6=1e6;class Ss{static now(){return Ss.fromMillis(Date.now())}static fromDate(t){return Ss.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*V6);return new Ss(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new cn(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new cn(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<B6)throw new cn(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new cn(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V6}_compareTo(t){return this.seconds===t.seconds?Wr(this.nanoseconds,t.nanoseconds):Wr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ss._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(t1(t,Ss._jsonSchema))return new Ss(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-B6;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ss._jsonSchemaVersion="firestore/timestamp/1.0",Ss._jsonSchema={type:Zo("string",Ss._jsonSchemaVersion),seconds:Zo("number"),nanoseconds:Zo("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{static fromTimestamp(t){return new Qn(t)}static min(){return new Qn(new Ss(0,0))}static max(){return new Qn(new Ss(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=-1;function Sye(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Qn.fromTimestamp(r===1e9?new Ss(n+1,0):new Ss(n,r));return new Rg(i,Nn.empty(),t)}function _ye(e){return new Rg(e.readTime,e.key,kx)}class Rg{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Rg(Qn.min(),Nn.empty(),kx)}static max(){return new Rg(Qn.max(),Nn.empty(),kx)}}function Eye(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Nn.comparator(e.documentKey,t.documentKey),n!==0?n:Wr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tye="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rye{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(e){if(e.code!==It.FAILED_PRECONDITION||e.message!==Tye)throw e;vn("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Gn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Vt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Vt?n:Vt.resolve(n)}catch(n){return Vt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Vt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Vt.reject(n)}static resolve(t){return new Vt((n,r)=>{n(t)})}static reject(t){return new Vt((n,r)=>{r(t)})}static waitFor(t){return new Vt((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=Vt.resolve(!1);for(const r of t)n=n.next(i=>i?Vt.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new Vt((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(t,n){return new Vt((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Aye(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Iw(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sA.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=-1;function n1(e){return e==null}function wT(e){return e===0&&1/e==-1/0}function kye(e){return typeof e=="number"&&Number.isInteger(e)&&!wT(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY="";function Pye(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=H6(t)),t=Dye(e.get(n),t);return H6(t)}function Dye(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case EY:n+="";break;default:n+=s}}return n}function H6(e){return e+EY+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function TY(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,n){this.comparator=t,this.root=n||qa.EMPTY}insert(t,n){return new Ws(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qa.BLACK,null,null))}remove(t){return new Ws(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qa.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new S_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new S_(this.root,t,this.comparator,!1)}getReverseIterator(){return new S_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new S_(this.root,t,this.comparator,!0)}}class S_{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qa{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??qa.RED,this.left=i??qa.EMPTY,this.right=s??qa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new qa(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return qa.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Gn(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Gn(27949);return t+(this.isRed()?0:1)}}qa.EMPTY=null,qa.RED=!0,qa.BLACK=!1;qa.EMPTY=new class{constructor(){this.size=0}get key(){throw Gn(57766)}get value(){throw Gn(16141)}get color(){throw Gn(16727)}get left(){throw Gn(29726)}get right(){throw Gn(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new qa(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(t){this.comparator=t,this.data=new Ws(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new G6(this.data.getIterator())}getIteratorFrom(t){return new G6(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof ca)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new ca(this.comparator);return n.data=t,n}}class G6{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(t){this.fields=t,t.sort($a.comparator)}static empty(){return new mu([])}unionWith(t){let n=new ca($a.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new mu(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return nw(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RY("Invalid base64 string: "+s):s}}(t);return new sl(n)}static fromUint8Array(t){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(t);return new sl(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}sl.EMPTY_BYTE_STRING=new sl("");const Fye=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ag(e){if(ni(!!e,39018),typeof e=="string"){let t=0;const n=Fye.exec(e);if(ni(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_o(e.seconds),nanos:_o(e.nanos)}}function _o(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function kg(e){return typeof e=="string"?sl.fromBase64String(e):sl.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY="server_timestamp",kY="__type__",PY="__previous_value__",DY="__local_write_time__";function AO(e){return(e?.mapValue?.fields||{})[kY]?.stringValue===AY}function oA(e){const t=e.mapValue.fields[PY];return AO(t)?oA(t):t}function Px(e){const t=Ag(e.mapValue.fields[DY].timestampValue);return new Ss(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iye{constructor(t,n,r,i,s,o,a,l,c,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const CT="(default)";class Dx{constructor(t,n){this.projectId=t,this.database=n||CT}static empty(){return new Dx("","")}get isDefaultDatabase(){return this.database===CT}isEqual(t){return t instanceof Dx&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FY="__type__",Mye="__max__",__={mapValue:{}},IY="__vector__",bT="value";function Pg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?AO(e)?4:Lye(e)?9007199254740991:Oye(e)?10:11:Gn(28295,{value:e})}function pf(e,t){if(e===t)return!0;const n=Pg(e);if(n!==Pg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Px(e).isEqual(Px(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ag(i.timestampValue),a=Ag(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return kg(i.bytesValue).isEqual(kg(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return _o(i.geoPointValue.latitude)===_o(s.geoPointValue.latitude)&&_o(i.geoPointValue.longitude)===_o(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return _o(i.integerValue)===_o(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=_o(i.doubleValue),a=_o(s.doubleValue);return o===a?wT(o)===wT(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return nw(e.arrayValue.values||[],t.arrayValue.values||[],pf);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(z6(o)!==z6(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!pf(o[l],a[l])))return!1;return!0}(e,t);default:return Gn(52216,{left:e})}}function Fx(e,t){return(e.values||[]).find(n=>pf(n,t))!==void 0}function rw(e,t){if(e===t)return 0;const n=Pg(e),r=Pg(t);if(n!==r)return Wr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Wr(e.booleanValue,t.booleanValue);case 2:return function(s,o){const a=_o(s.integerValue||s.doubleValue),l=_o(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return U6(e.timestampValue,t.timestampValue);case 4:return U6(Px(e),Px(t));case 5:return aF(e.stringValue,t.stringValue);case 6:return function(s,o){const a=kg(s),l=kg(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Wr(a[c],l[c]);if(u!==0)return u}return Wr(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Wr(_o(s.latitude),_o(o.latitude));return a!==0?a:Wr(_o(s.longitude),_o(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return W6(e.arrayValue,t.arrayValue);case 10:return function(s,o){const a=s.fields||{},l=o.fields||{},c=a[bT]?.arrayValue,u=l[bT]?.arrayValue,h=Wr(c?.values?.length||0,u?.values?.length||0);return h!==0?h:W6(c,u)}(e.mapValue,t.mapValue);case 11:return function(s,o){if(s===__.mapValue&&o===__.mapValue)return 0;if(s===__.mapValue)return 1;if(o===__.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const p=aF(l[h],u[h]);if(p!==0)return p;const m=rw(a[l[h]],c[u[h]]);if(m!==0)return m}return Wr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Gn(23264,{he:n})}}function U6(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Wr(e,t);const n=Ag(e),r=Ag(t),i=Wr(n.seconds,r.seconds);return i!==0?i:Wr(n.nanos,r.nanos)}function W6(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=rw(n[i],r[i]);if(s)return s}return Wr(n.length,r.length)}function iw(e){return lF(e)}function lF(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Ag(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return kg(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Nn.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=lF(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${lF(n.fields[o])}`;return i+"}"}(e.mapValue):Gn(61005,{value:e})}function AE(e){switch(Pg(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oA(e);return t?16+AE(t):16;case 5:return 2*e.stringValue.length;case 6:return kg(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+AE(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return qg(r.fields,(s,o)=>{i+=s.length+AE(o)}),i}(e.mapValue);default:throw Gn(13486,{value:e})}}function j6(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function cF(e){return!!e&&"integerValue"in e}function kO(e){return!!e&&"arrayValue"in e}function K6(e){return!!e&&"nullValue"in e}function Y6(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kE(e){return!!e&&"mapValue"in e}function Oye(e){return(e?.mapValue?.fields||{})[FY]?.stringValue===IY}function Ob(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return qg(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ob(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ob(e.arrayValue.values[n]);return t}return{...e}}function Lye(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Mye}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t){this.value=t}static empty(){return new ic({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!kE(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ob(n)}setAll(t){let n=$a.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ob(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());kE(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return pf(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];kE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){qg(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new ic(Ob(this.value))}}function MY(e){const t=[];return qg(e.fields,(n,r)=>{const i=new $a([n]);if(kE(r)){const s=MY(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new mu(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ra(t,0,Qn.min(),Qn.min(),Qn.min(),ic.empty(),0)}static newFoundDocument(t,n,r,i){return new Ra(t,1,n,Qn.min(),r,i,0)}static newNoDocument(t,n){return new Ra(t,2,n,Qn.min(),Qn.min(),ic.empty(),0)}static newUnknownDocument(t,n){return new Ra(t,3,n,Qn.min(),Qn.min(),ic.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Qn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ic.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ic.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ra&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ra(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,n){this.position=t,this.inclusive=n}}function X6(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Nn.comparator(Nn.fromName(o.referenceValue),n.key):r=rw(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Z6(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!pf(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t,n="asc"){this.field=t,this.dir=n}}function Nye(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{}class Xo extends OY{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Vye(t,n,r):n==="array-contains"?new Gye(t,r):n==="in"?new Uye(t,r):n==="not-in"?new Wye(t,r):n==="array-contains-any"?new jye(t,r):new Xo(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Hye(t,r):new zye(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rw(n,this.value)):n!==null&&Pg(this.value)===Pg(n)&&this.matchesComparison(rw(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Gn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ah extends OY{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ah(t,n)}matches(t){return LY(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LY(e){return e.op==="and"}function NY(e){return Bye(e)&&LY(e)}function Bye(e){for(const t of e.filters)if(t instanceof ah)return!1;return!0}function uF(e){if(e instanceof Xo)return e.field.canonicalString()+e.op.toString()+iw(e.value);if(NY(e))return e.filters.map(t=>uF(t)).join(",");{const t=e.filters.map(n=>uF(n)).join(",");return`${e.op}(${t})`}}function BY(e,t){return e instanceof Xo?function(r,i){return i instanceof Xo&&r.op===i.op&&r.field.isEqual(i.field)&&pf(r.value,i.value)}(e,t):e instanceof ah?function(r,i){return i instanceof ah&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&BY(o,i.filters[a]),!0):!1}(e,t):void Gn(19439)}function VY(e){return e instanceof Xo?function(n){return`${n.field.canonicalString()} ${n.op} ${iw(n.value)}`}(e):e instanceof ah?function(n){return n.op.toString()+" {"+n.getFilters().map(VY).join(" ,")+"}"}(e):"Filter"}class Vye extends Xo{constructor(t,n,r){super(t,n,r),this.key=Nn.fromName(r.referenceValue)}matches(t){const n=Nn.comparator(t.key,this.key);return this.matchesComparison(n)}}class Hye extends Xo{constructor(t,n){super(t,"in",n),this.keys=HY("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class zye extends Xo{constructor(t,n){super(t,"not-in",n),this.keys=HY("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function HY(e,t){return(t.arrayValue?.values||[]).map(n=>Nn.fromName(n.referenceValue))}class Gye extends Xo{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return kO(n)&&Fx(n.arrayValue,this.value)}}class Uye extends Xo{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Fx(this.value.arrayValue,n)}}class Wye extends Xo{constructor(t,n){super(t,"not-in",n)}matches(t){if(Fx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fx(this.value.arrayValue,n)}}class jye extends Xo{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!kO(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fx(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kye{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function q6(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Kye(e,t,n,r,i,s,o)}function PO(e){const t=lr(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>uF(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),n1(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>iw(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>iw(r)).join(",")),t.Te=n}return t.Te}function DO(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Nye(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!BY(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Z6(e.startAt,t.startAt)&&Z6(e.endAt,t.endAt)}function dF(e){return Nn.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Yye(e,t,n,r,i,s,o,a){return new Mw(e,t,n,r,i,s,o,a)}function aA(e){return new Mw(e)}function Q6(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function zY(e){return e.collectionGroup!==null}function Lb(e){const t=lr(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ca($a.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Ix(s,r))}),n.has($a.keyField().canonicalString())||t.Ie.push(new Ix($a.keyField(),r))}return t.Ie}function sf(e){const t=lr(e);return t.Ee||(t.Ee=Xye(t,Lb(e))),t.Ee}function Xye(e,t){if(e.limitType==="F")return q6(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ix(i.field,s)});const n=e.endAt?new xT(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new xT(e.startAt.position,e.startAt.inclusive):null;return q6(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function hF(e,t){const n=e.filters.concat([t]);return new Mw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function fF(e,t,n){return new Mw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lA(e,t){return DO(sf(e),sf(t))&&e.limitType===t.limitType}function GY(e){return`${PO(sf(e))}|lt:${e.limitType}`}function ny(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VY(i)).join(", ")}]`),n1(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>iw(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>iw(i)).join(",")),`Target(${r})`}(sf(e))}; limitType=${e.limitType})`}function cA(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Nn.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Lb(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=X6(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Lb(r),i)||r.endAt&&!function(o,a,l){const c=X6(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Lb(r),i))}(e,t)}function Zye(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function UY(e){return(t,n)=>{let r=!1;for(const i of Lb(e)){const s=qye(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qye(e,t,n){const r=e.field.isKeyField()?Nn.comparator(t.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?rw(l,c):Gn(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Gn(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){qg(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return TY(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qye=new Ws(Nn.comparator);function lp(){return Qye}const WY=new Ws(Nn.comparator);function vb(...e){let t=WY;for(const n of e)t=t.insert(n.key,n);return t}function jY(e){let t=WY;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Wm(){return Nb()}function KY(){return Nb()}function Nb(){return new Z0(e=>e.toString(),(e,t)=>e.isEqual(t))}const Jye=new Ws(Nn.comparator),$ye=new ca(Nn.comparator);function jr(...e){let t=$ye;for(const n of e)t=t.add(n);return t}const ewe=new ca(Wr);function twe(){return ewe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wT(t)?"-0":t}}function YY(e){return{integerValue:""+e}}function XY(e,t){return kye(t)?YY(t):FO(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this._=void 0}}function nwe(e,t,n){return e instanceof ST?function(i,s){const o={fields:{[kY]:{stringValue:AY},[DY]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&AO(s)&&(s=oA(s)),s&&(o.fields[PY]=s),{mapValue:o}}(n,t):e instanceof sw?qY(e,t):e instanceof ow?QY(e,t):function(i,s){const o=ZY(i,s),a=J6(o)+J6(i.Ae);return cF(o)&&cF(i.Ae)?YY(a):FO(i.serializer,a)}(e,t)}function rwe(e,t,n){return e instanceof sw?qY(e,t):e instanceof ow?QY(e,t):n}function ZY(e,t){return e instanceof Mx?function(r){return cF(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class ST extends uA{}class sw extends uA{constructor(t){super(),this.elements=t}}function qY(e,t){const n=JY(t);for(const r of e.elements)n.some(i=>pf(i,r))||n.push(r);return{arrayValue:{values:n}}}class ow extends uA{constructor(t){super(),this.elements=t}}function QY(e,t){let n=JY(t);for(const r of e.elements)n=n.filter(i=>!pf(i,r));return{arrayValue:{values:n}}}class Mx extends uA{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function J6(e){return _o(e.integerValue||e.doubleValue)}function JY(e){return kO(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,n){this.field=t,this.transform=n}}function iwe(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof sw&&i instanceof sw||r instanceof ow&&i instanceof ow?nw(r.elements,i.elements,pf):r instanceof Mx&&i instanceof Mx?pf(r.Ae,i.Ae):r instanceof ST&&i instanceof ST}(e.transform,t.transform)}class swe{constructor(t,n){this.version=t,this.transformResults=n}}class el{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new el}static exists(t){return new el(void 0,t)}static updateTime(t){return new el(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function PE(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class dA{}function $Y(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new hA(e.key,el.none()):new r1(e.key,e.data,el.none());{const n=e.data,r=ic.empty();let i=new ca($a.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Qg(e.key,r,new mu(i.toArray()),el.none())}}function owe(e,t,n){e instanceof r1?function(i,s,o){const a=i.value.clone(),l=eH(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Qg?function(i,s,o){if(!PE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=eH(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(eX(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Bb(e,t,n,r){return e instanceof r1?function(s,o,a,l){if(!PE(s.precondition,o))return a;const c=s.value.clone(),u=tH(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qg?function(s,o,a,l){if(!PE(s.precondition,o))return a;const c=tH(s.fieldTransforms,l,o),u=o.data;return u.setAll(eX(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(s,o,a){return PE(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function awe(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=ZY(r.transform,i||null);s!=null&&(n===null&&(n=ic.empty()),n.set(r.field,s))}return n||null}function $6(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nw(r,i,(s,o)=>iwe(s,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class r1 extends dA{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qg extends dA{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eX(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function eH(e,t,n){const r=new Map;ni(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,rwe(o,a,n[i]))}return r}function tH(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,nwe(s,o,t))}return r}class hA extends dA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tX extends dA{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lwe{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&owe(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Bb(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Bb(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=KY();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=$Y(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Qn.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),jr())}isEqual(t){return this.batchId===t.batchId&&nw(this.mutations,t.mutations,(n,r)=>$6(n,r))&&nw(this.baseMutations,t.baseMutations,(n,r)=>$6(n,r))}}class MO{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){ni(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Jye}();const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new MO(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cwe{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uwe{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo,$r;function nX(e){switch(e){case It.OK:return Gn(64938);case It.CANCELLED:case It.UNKNOWN:case It.DEADLINE_EXCEEDED:case It.RESOURCE_EXHAUSTED:case It.INTERNAL:case It.UNAVAILABLE:case It.UNAUTHENTICATED:return!1;case It.INVALID_ARGUMENT:case It.NOT_FOUND:case It.ALREADY_EXISTS:case It.PERMISSION_DENIED:case It.FAILED_PRECONDITION:case It.ABORTED:case It.OUT_OF_RANGE:case It.UNIMPLEMENTED:case It.DATA_LOSS:return!0;default:return Gn(15467,{code:e})}}function rX(e){if(e===void 0)return ap("GRPC error has no .code"),It.UNKNOWN;switch(e){case zo.OK:return It.OK;case zo.CANCELLED:return It.CANCELLED;case zo.UNKNOWN:return It.UNKNOWN;case zo.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case zo.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case zo.INTERNAL:return It.INTERNAL;case zo.UNAVAILABLE:return It.UNAVAILABLE;case zo.UNAUTHENTICATED:return It.UNAUTHENTICATED;case zo.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case zo.NOT_FOUND:return It.NOT_FOUND;case zo.ALREADY_EXISTS:return It.ALREADY_EXISTS;case zo.PERMISSION_DENIED:return It.PERMISSION_DENIED;case zo.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case zo.ABORTED:return It.ABORTED;case zo.OUT_OF_RANGE:return It.OUT_OF_RANGE;case zo.UNIMPLEMENTED:return It.UNIMPLEMENTED;case zo.DATA_LOSS:return It.DATA_LOSS;default:return Gn(39323,{code:e})}}($r=zo||(zo={}))[$r.OK=0]="OK",$r[$r.CANCELLED=1]="CANCELLED",$r[$r.UNKNOWN=2]="UNKNOWN",$r[$r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$r[$r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$r[$r.NOT_FOUND=5]="NOT_FOUND",$r[$r.ALREADY_EXISTS=6]="ALREADY_EXISTS",$r[$r.PERMISSION_DENIED=7]="PERMISSION_DENIED",$r[$r.UNAUTHENTICATED=16]="UNAUTHENTICATED",$r[$r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$r[$r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$r[$r.ABORTED=10]="ABORTED",$r[$r.OUT_OF_RANGE=11]="OUT_OF_RANGE",$r[$r.UNIMPLEMENTED=12]="UNIMPLEMENTED",$r[$r.INTERNAL=13]="INTERNAL",$r[$r.UNAVAILABLE=14]="UNAVAILABLE",$r[$r.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dwe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hwe=new mg([4294967295,4294967295],0);function nH(e){const t=dwe().encode(e),n=new gY;return n.update(t),new Uint8Array(n.digest())}function rH(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new mg([n,r],0),new mg([i,s],0)]}class OO{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yb(`Invalid padding: ${n}`);if(r<0)throw new yb(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new yb(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new yb(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=mg.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(mg.fromNumber(r)));return i.compare(hwe)===1&&(i=new mg([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=nH(t),[r,i]=rH(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new OO(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.ge===0)return;const n=nH(t),[r,i]=rH(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class yb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,i1.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new fA(Qn.min(),i,new Ws(Wr),lp(),jr())}}class i1{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new i1(r,n,jr(),jr(),jr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class iX{constructor(t,n){this.targetId=t,this.Ce=n}}class sX{constructor(t,n,r=sl.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iH{constructor(){this.ve=0,this.Fe=sH(),this.Me=sl.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jr(),n=jr(),r=jr();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Gn(38017,{changeType:s})}}),new i1(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=sH()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ni(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fwe{constructor(t){this.Ge=t,this.ze=new Map,this.je=lp(),this.Je=E_(),this.He=E_(),this.Ye=new Ws(Wr)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Gn(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const s=i.target;if(dF(s))if(r===0){const o=new Nn(s.path);this.et(n,o,Ra.newNoDocument(o,Qn.min()))}else ni(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=kg(r).toUint8Array()}catch(l){if(l instanceof RY)return tw("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new OO(o,i,s)}catch(l){return tw(l instanceof yb?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&dF(a.target)){const l=new Nn(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ra.newNoDocument(l,t))}s.Be&&(n.set(o,s.ke()),s.qe())}});let r=jr();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(t));const i=new fA(t,n,this.Ye,this.je,r);return this.je=lp(),this.Je=E_(),this.He=E_(),this.Ye=new Ws(Wr),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new iH,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ca(Wr),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ca(Wr),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||vn("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new iH),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function E_(){return new Ws(Nn.comparator)}function sH(){return new Ws(Nn.comparator)}const pwe={asc:"ASCENDING",desc:"DESCENDING"},gwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mwe={and:"AND",or:"OR"};class vwe{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function pF(e,t){return e.useProto3Json||n1(t)?t:{value:t}}function _T(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oX(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ywe(e,t){return _T(e,t.toTimestamp())}function Su(e){return ni(!!e,49232),Qn.fromTimestamp(function(n){const r=Ag(n);return new Ss(r.seconds,r.nanos)}(e))}function LO(e,t){return gF(e,t).canonicalString()}function gF(e,t){const n=function(i){return new Xi(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function aX(e){const t=Xi.fromString(e);return ni(fX(t),10190,{key:t.toString()}),t}function ET(e,t){return LO(e.databaseId,t.path)}function Vb(e,t){const n=aX(t);if(n.get(1)!==e.databaseId.projectId)throw new cn(It.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new cn(It.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Nn(cX(n))}function lX(e,t){return LO(e.databaseId,t)}function wwe(e){const t=aX(e);return t.length===4?Xi.emptyPath():cX(t)}function mF(e){return new Xi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cX(e){return ni(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function oH(e,t,n){return{name:ET(e,t),fields:n.value.mapValue.fields}}function Cwe(e,t){return"found"in t?function(r,i){ni(!!i.found,43571),i.found.name,i.found.updateTime;const s=Vb(r,i.found.name),o=Su(i.found.updateTime),a=i.found.createTime?Su(i.found.createTime):Qn.min(),l=new ic({mapValue:{fields:i.found.fields}});return Ra.newFoundDocument(s,o,a,l)}(e,t):"missing"in t?function(r,i){ni(!!i.missing,3894),ni(!!i.readTime,22933);const s=Vb(r,i.missing),o=Su(i.readTime);return Ra.newNoDocument(s,o)}(e,t):Gn(7234,{result:t})}function bwe(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Gn(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(ni(u===void 0||typeof u=="string",58123),sl.fromBase64String(u||"")):(ni(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),sl.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?It.UNKNOWN:rX(c.code);return new cn(u,c.message||"")}(o);n=new sX(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vb(e,r.document.name),s=Su(r.document.updateTime),o=r.document.createTime?Su(r.document.createTime):Qn.min(),a=new ic({mapValue:{fields:r.document.fields}}),l=Ra.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new DE(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Vb(e,r.document),s=r.readTime?Su(r.readTime):Qn.min(),o=Ra.newNoDocument(i,s),a=r.removedTargetIds||[];n=new DE([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Vb(e,r.document),s=r.removedTargetIds||[];n=new DE([],s,i,null)}else{if(!("filter"in t))return Gn(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new uwe(i,s),a=r.targetId;n=new iX(a,o)}}return n}function uX(e,t){let n;if(t instanceof r1)n={update:oH(e,t.key,t.value)};else if(t instanceof hA)n={delete:ET(e,t.key)};else if(t instanceof Qg)n={update:oH(e,t.key,t.data),updateMask:Pwe(t.fieldMask)};else{if(!(t instanceof tX))return Gn(16599,{Vt:t.type});n={verify:ET(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ST)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sw)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ow)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mx)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Gn(20930,{transform:o.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ywe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Gn(27497)}(e,t.precondition)),n}function xwe(e,t){return e&&e.length>0?(ni(t!==void 0,14353),e.map(n=>function(i,s){let o=i.updateTime?Su(i.updateTime):Su(s);return o.isEqual(Qn.min())&&(o=Su(s)),new swe(o,i.transformResults||[])}(n,t))):[]}function Swe(e,t){return{documents:[lX(e,t.path)]}}function _we(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lX(e,i);const s=function(c){if(c.length!==0)return hX(ah.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(u=>function(p){return{field:ry(p.field),direction:Rwe(p.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=pF(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:i}}function Ewe(e){let t=wwe(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ni(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let s=[];n.where&&(s=function(h){const p=dX(h);return p instanceof ah&&NY(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(y){return new Ix(iy(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,n1(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new xT(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new xT(m,p)}(n.endAt)),Yye(t,i,o,s,a,"F",l,c)}function Twe(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gn(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function dX(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=iy(n.unaryFilter.field);return Xo.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=iy(n.unaryFilter.field);return Xo.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=iy(n.unaryFilter.field);return Xo.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=iy(n.unaryFilter.field);return Xo.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Gn(61313);default:return Gn(60726)}}(e):e.fieldFilter!==void 0?function(n){return Xo.create(iy(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Gn(58110);default:return Gn(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ah.create(n.compositeFilter.filters.map(r=>dX(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Gn(1026)}}(n.compositeFilter.op))}(e):Gn(30097,{filter:e})}function Rwe(e){return pwe[e]}function Awe(e){return gwe[e]}function kwe(e){return mwe[e]}function ry(e){return{fieldPath:e.canonicalString()}}function iy(e){return $a.fromServerFormat(e.fieldPath)}function hX(e){return e instanceof Xo?function(n){if(n.op==="=="){if(Y6(n.value))return{unaryFilter:{field:ry(n.field),op:"IS_NAN"}};if(K6(n.value))return{unaryFilter:{field:ry(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Y6(n.value))return{unaryFilter:{field:ry(n.field),op:"IS_NOT_NAN"}};if(K6(n.value))return{unaryFilter:{field:ry(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ry(n.field),op:Awe(n.op),value:n.value}}}(e):e instanceof ah?function(n){const r=n.getFilters().map(i=>hX(i));return r.length===1?r[0]:{compositeFilter:{op:kwe(n.op),filters:r}}}(e):Gn(54877,{filter:e})}function Pwe(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function fX(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,n,r,i,s=Qn.min(),o=Qn.min(),a=sl.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new dg(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new dg(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new dg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new dg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dwe{constructor(t){this.yt=t}}function Fwe(e){const t=Ewe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?fF(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iwe{constructor(){this.Cn=new Mwe}addToCollectionParentIndex(t,n){return this.Cn.add(n),Vt.resolve()}getCollectionParents(t,n){return Vt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Vt.resolve()}deleteFieldIndex(t,n){return Vt.resolve()}deleteAllFieldIndexes(t){return Vt.resolve()}createTargetIndexes(t,n){return Vt.resolve()}getDocumentsMatchingTarget(t,n){return Vt.resolve(null)}getIndexType(t,n){return Vt.resolve(0)}getFieldIndexes(t,n){return Vt.resolve([])}getNextCollectionGroupToUpdate(t){return Vt.resolve(null)}getMinOffset(t,n){return Vt.resolve(Rg.min())}getMinOffsetFromCollectionGroup(t,n){return Vt.resolve(Rg.min())}updateCollectionGroup(t,n,r){return Vt.resolve()}updateIndexEntries(t,n){return Vt.resolve()}}class Mwe{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new ca(Xi.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new ca(Xi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pX=41943040;class _c{static withCacheSize(t){return new _c(t,_c.DEFAULT_COLLECTION_PERCENTILE,_c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_c.DEFAULT_COLLECTION_PERCENTILE=10,_c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_c.DEFAULT=new _c(pX,_c.DEFAULT_COLLECTION_PERCENTILE,_c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_c.DISABLED=new _c(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new aw(0)}static cr(){return new aw(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH="LruGarbageCollector",Owe=1048576;function cH([e,t],[n,r]){const i=Wr(e,n);return i===0?Wr(t,r):i}class Lwe{constructor(t){this.Ir=t,this.buffer=new ca(cH),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();cH(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Nwe{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){vn(lH,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Iw(n)?vn(lH,"Ignoring IndexedDB error during garbage collection: ",n):await Fw(n)}await this.Vr(3e5)})}}class Bwe{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return Vt.resolve(sA.ce);const r=new Lwe(n);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(vn("LruGarbageCollector","Garbage collection skipped; disabled"),Vt.resolve(aH)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(vn("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aH):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(vn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(t,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(t,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(t,r))).next(h=>(c=Date.now(),ty()<=Ur.DEBUG&&vn("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Vt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function Vwe(e,t){return new Bwe(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hwe{constructor(){this.changes=new Z0(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ra.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Vt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zwe{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gwe{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Bb(r.mutation,i,mu.empty(),Ss.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,jr()).next(()=>r))}getLocalViewOfDocuments(t,n,r=jr()){const i=Wm();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=vb();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Wm();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,jr()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=lp();const o=Nb(),a=function(){return Nb()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Qg)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Bb(u.mutation,c,u.mutation.getFieldMask(),Ss.now())):o.set(c.key,mu.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>a.set(c,new zwe(u,o.get(c)??null))),a))}recalculateAndSaveOverlays(t,n){const r=Nb();let i=new Ws((o,a)=>o-a),s=jr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||mu.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||jr()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=KY();u.forEach(p=>{if(!s.has(p)){const m=$Y(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return Vt.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(o){return Nn.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zY(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Vt.resolve(Wm());let a=kx,l=s;return o.next(c=>Vt.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(u)?Vt.resolve():this.remoteDocumentCache.getEntry(t,u).next(p=>{l=l.insert(u,p)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,jr())).next(u=>({batchId:a,changes:jY(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Nn(n)).next(r=>{let i=vb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let o=vb();return this.indexManager.getCollectionParents(t,s).next(a=>Vt.forEach(a,l=>{const c=function(h,p){return new Mw(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(u=>{u.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ra.newInvalidDocument(u)))});let a=vb();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&Bb(u.mutation,c,mu.empty(),Ss.now()),cA(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uwe{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Vt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Su(i.createTime)}}(n)),Vt.resolve()}getNamedQuery(t,n){return Vt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Fwe(i.bundledQuery),readTime:Su(i.readTime)}}(n)),Vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wwe{constructor(){this.overlays=new Ws(Nn.comparator),this.qr=new Map}getOverlay(t,n){return Vt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Wm();return Vt.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),Vt.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),Vt.resolve()}getOverlaysForCollection(t,n,r){const i=Wm(),s=n.length+1,o=new Nn(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Vt.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Ws((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Wm(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Wm(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Vt.resolve(a)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cwe(n,r));let s=this.qr.get(n);s===void 0&&(s=jr(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jwe{constructor(){this.sessionToken=sl.EMPTY_BYTE_STRING}getSessionToken(t){return Vt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.Qr=new ca(Ea.$r),this.Ur=new ca(Ea.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Ea(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new Ea(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new Nn(new Xi([])),r=new Ea(n,t),i=new Ea(n,t+1),s=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Nn(new Xi([])),r=new Ea(n,t),i=new Ea(n,t+1);let s=jr();return this.Ur.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new Ea(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Ea{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Nn.comparator(t.key,n.key)||Wr(t.Yr,n.Yr)}static Kr(t,n){return Wr(t.Yr,n.Yr)||Nn.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kwe{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ca(Ea.$r)}checkEmpty(t){return Vt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lwe(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new Ea(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Vt.resolve(o)}lookupMutationBatch(t,n){return Vt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Vt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Vt.resolve(this.mutationQueue.length===0?RO:this.tr-1)}getAllMutationBatches(t){return Vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Ea(n,0),i=new Ea(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),Vt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new ca(Wr);return n.forEach(i=>{const s=new Ea(i,0),o=new Ea(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{r=r.add(a.Yr)})}),Vt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Nn.isDocumentKey(s)||(s=s.child(""));const o=new Ea(new Nn(s),0);let a=new ca(Wr);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),Vt.resolve(this.ti(a))}ti(t){const n=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){ni(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Vt.forEach(n.mutations,i=>{const s=new Ea(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new Ea(n,0),i=this.Zr.firstAfterOrEqual(r);return Vt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Vt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ywe{constructor(t){this.ri=t,this.docs=function(){return new Ws(Nn.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Vt.resolve(r?r.document.mutableCopy():Ra.newInvalidDocument(n))}getEntries(t,n){let r=lp();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ra.newInvalidDocument(i))}),Vt.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=lp();const o=n.path,a=new Nn(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Eye(_ye(u),r)<=0||(i.has(u.key)||cA(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Vt.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Gn(9500)}ii(t,n){return Vt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Xwe(this)}getSize(t){return Vt.resolve(this.size)}}class Xwe extends Hwe{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),Vt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zwe{constructor(t){this.persistence=t,this.si=new Z0(n=>PO(n),DO),this.lastRemoteSnapshotVersion=Qn.min(),this.highestTargetId=0,this.oi=0,this._i=new NO,this.targetCount=0,this.ai=aw.ur()}forEachTarget(t,n){return this.si.forEach((r,i)=>n(i)),Vt.resolve()}getLastRemoteSnapshotVersion(t){return Vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Vt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Vt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Vt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new aw(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Vt.resolve()}updateTargetData(t,n){return this.Pr(n),Vt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Vt.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Vt.waitFor(s).next(()=>i)}getTargetCount(t){return Vt.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return Vt.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),Vt.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Vt.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Vt.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return Vt.resolve(r)}containsKey(t,n){return Vt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(t,n){this.ui={},this.overlays={},this.ci=new sA(0),this.li=!1,this.li=!0,this.hi=new jwe,this.referenceDelegate=t(this),this.Pi=new Zwe(this),this.indexManager=new Iwe,this.remoteDocumentCache=function(i){return new Ywe(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Dwe(n),this.Ii=new Uwe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Wwe,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new Kwe(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){vn("MemoryPersistence","Starting transaction:",t);const i=new qwe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,n){return Vt.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class qwe extends Rye{constructor(t){super(),this.currentSequenceNumber=t}}class BO{constructor(t){this.persistence=t,this.Ri=new NO,this.Vi=null}static mi(t){return new BO(t)}get fi(){if(this.Vi)return this.Vi;throw Gn(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Vt.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Vt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Vt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Vt.forEach(this.fi,r=>{const i=Nn.fromPath(r);return this.gi(t,i).next(s=>{s||n.removeEntry(i,Qn.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return Vt.or([()=>Vt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class TT{constructor(t,n){this.persistence=t,this.pi=new Z0(r=>Pye(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Vwe(this,n)}static mi(t,n){return new TT(t,n)}Ei(){}di(t){return Vt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return Vt.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?Vt.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,n).next(a=>{a||(r++,s.removeEntry(o,Qn.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Vt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Vt.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Vt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Vt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=AE(t.data.value)),n}br(t,n,r){return Vt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return Vt.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=jr(),i=jr();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new VO(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qwe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jwe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Ege()?8:Aye(Nl())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ys(t,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(t,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Qwe;return this.Ss(t,n,o).next(a=>{if(s.result=a,this.Vs)return this.bs(t,n,o,a.size)})}).next(()=>s.result)}bs(t,n,r,i){return r.documentReadCount<this.fs?(ty()<=Ur.DEBUG&&vn("QueryEngine","SDK will not create cache indexes for query:",ny(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Vt.resolve()):(ty()<=Ur.DEBUG&&vn("QueryEngine","Query:",ny(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ty()<=Ur.DEBUG&&vn("QueryEngine","The SDK decides to create cache indexes for query:",ny(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,sf(n))):Vt.resolve())}ys(t,n){if(Q6(n))return Vt.resolve(null);let r=sf(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fF(n,null,"F"),r=sf(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=jr(...s);return this.ps.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(t,fF(n,null,"F")):this.vs(t,c,n,l)}))})))}ws(t,n,r,i){return Q6(n)||i.isEqual(Qn.min())?Vt.resolve(null):this.ps.getDocuments(t,r).next(s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Vt.resolve(null):(ty()<=Ur.DEBUG&&vn("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ny(n)),this.vs(t,o,n,Sye(i,kx)).next(a=>a))})}Ds(t,n){let r=new ca(UY(t));return n.forEach((i,s)=>{cA(t,s)&&(r=r.add(s))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,n,r){return ty()<=Ur.DEBUG&&vn("QueryEngine","Using full collection scan to execute query:",ny(n)),this.ps.getDocumentsMatchingQuery(t,n,Rg.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="LocalStore",$we=3e8;class eCe{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new Ws(Wr),this.xs=new Z0(s=>PO(s),DO),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Gwe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function tCe(e,t,n,r){return new eCe(e,t,n,r)}async function mX(e,t){const n=lr(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=jr();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function nCe(e,t){const n=lr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,p=h.keys();let m=Vt.resolve();return p.forEach(y=>{m=m.next(()=>u.getEntry(l,y)).next(w=>{const b=c.docVersions.get(y);ni(b!==null,48541),w.version.compareTo(b)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=jr();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function vX(e){const t=lr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function rCe(e,t){const n=lr(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((u,h)=>{const p=i.get(h);if(!p)return;a.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,u.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(h)!==null?m=m.withResumeToken(sl.EMPTY_BYTE_STRING,Qn.min()).withLastLimboFreeSnapshotVersion(Qn.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),i=i.insert(h,m),function(w,b,S){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=$we?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(p,m,u)&&a.push(n.Pi.updateTargetData(s,m))});let l=lp(),c=jr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(iCe(s,o,t.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(Qn.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Vt.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function iCe(e,t,n){let r=jr(),i=jr();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=lp();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Qn.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):vn(HO,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function sCe(e,t){const n=lr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=RO),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function oCe(e,t){const n=lr(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,t).next(s=>s?(i=s,Vt.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new dg(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function vF(e,t,n){const r=lr(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Iw(o))throw o;vn(HO,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function uH(e,t,n){const r=lr(e);let i=Qn.min(),s=jr();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=lr(l),p=h.xs.get(u);return p!==void 0?Vt.resolve(h.Ms.get(p)):h.Pi.getTargetData(c,u)}(r,o,sf(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,t,n?i:Qn.min(),n?s:jr())).next(a=>(aCe(r,Zye(t),a),{documents:a,Qs:s})))}function aCe(e,t,n){let r=e.Os.get(t)||Qn.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Os.set(t,r)}class dH{constructor(){this.activeTargetIds=twe()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lCe{constructor(){this.Mo=new dH,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new dH,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cCe{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH="ConnectivityMonitor";class fH{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){vn(hH,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){vn(hH,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T_=null;function yF(){return T_===null?T_=function(){return 268435456+Math.round(2147483648*Math.random())}():T_++,"0x"+T_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="RestConnection",uCe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dCe{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===CT?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,s){const o=yF(),a=this.zo(t,n.toUriEncodedString());vn(zP,`Sending RPC '${t}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(a),u=Yg(c);return this.Jo(t,a,l,r,u).then(h=>(vn(zP,`Received RPC '${t}' ${o}: `,h),h),h=>{throw tw(zP,`RPC '${t}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(t,n,r,i,s,o){return this.Go(t,n,r,i,s)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Dw}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,n){const r=uCe[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hCe{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="WebChannelConnection";class fCe extends dCe{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,s){const o=yF();return new Promise((a,l)=>{const c=new mY;c.setWithCredentials(!0),c.listenOnce(vY.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case RE.NO_ERROR:const h=c.getResponseJson();vn(El,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),a(h);break;case RE.TIMEOUT:vn(El,`RPC '${t}' ${o} timed out`),l(new cn(It.DEADLINE_EXCEEDED,"Request time out"));break;case RE.HTTP_ERROR:const p=c.getStatus();if(vn(El,`RPC '${t}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const w=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values(It).indexOf(E)>=0?E:It.UNKNOWN}(y.status);l(new cn(w,y.message))}else l(new cn(It.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new cn(It.UNAVAILABLE,"Connection failed."));break;default:Gn(9055,{l_:t,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{vn(El,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);vn(El,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(t,n,r){const i=yF(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=CY(),a=wY(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");vn(El,`Creating RPC '${t}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);this.I_(h);let p=!1,m=!1;const y=new hCe({Yo:b=>{m?vn(El,`Not sending because RPC '${t}' stream ${i} is closed:`,b):(p||(vn(El,`Opening RPC '${t}' stream ${i} transport.`),h.open(),p=!0),vn(El,`RPC '${t}' stream ${i} sending:`,b),h.send(b))},Zo:()=>h.close()}),w=(b,S,E)=>{b.listen(S,_=>{try{E(_)}catch(N){setTimeout(()=>{throw N},0)}})};return w(h,mb.EventType.OPEN,()=>{m||(vn(El,`RPC '${t}' stream ${i} transport opened.`),y.o_())}),w(h,mb.EventType.CLOSE,()=>{m||(m=!0,vn(El,`RPC '${t}' stream ${i} transport closed`),y.a_(),this.E_(h))}),w(h,mb.EventType.ERROR,b=>{m||(m=!0,tw(El,`RPC '${t}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),y.a_(new cn(It.UNAVAILABLE,"The operation could not be completed")))}),w(h,mb.EventType.MESSAGE,b=>{if(!m){const S=b.data[0];ni(!!S,16349);const E=S,_=E?.error||E[0]?.error;if(_){vn(El,`RPC '${t}' stream ${i} received error:`,_);const N=_.status;let V=function(z){const H=zo[z];if(H!==void 0)return rX(H)}(N),M=_.message;V===void 0&&(V=It.INTERNAL,M="Unknown error status: "+N+" with message "+_.message),m=!0,y.a_(new cn(V,M)),h.close()}else vn(El,`RPC '${t}' stream ${i} received:`,S),y.u_(S)}}),w(a,yY.STAT_EVENT,b=>{b.stat===oF.PROXY?vn(El,`RPC '${t}' stream ${i} detected buffering proxy`):b.stat===oF.NOPROXY&&vn(El,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function GP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(e){return new vwe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&vn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH="PersistentStream";class yX{constructor(t,n,r,i,s,o,a,l){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zO(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===It.RESOURCE_EXHAUSTED?(ap(n.toString()),ap("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===It.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new cn(It.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return vn(pH,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(vn(pH,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pCe extends yX{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=bwe(this.serializer,t),r=function(s){if(!("targetChange"in s))return Qn.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Qn.min():o.readTime?Su(o.readTime):Qn.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=mF(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=dF(l)?{documents:Swe(s,l)}:{query:_we(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oX(s,o.resumeToken);const c=pF(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Qn.min())>0){a.readTime=_T(s,o.snapshotVersion.toTimestamp());const c=pF(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=Twe(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=mF(this.serializer),n.removeTarget=t,this.q_(n)}}class gCe extends yX{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ni(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ni(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ni(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=xwe(t.writeResults,t.commitTime),r=Su(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=mF(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>uX(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mCe{}class vCe extends mCe{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new cn(It.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(t,gF(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new cn(It.UNKNOWN,s.toString())})}Ho(t,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(t,gF(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new cn(It.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class yCe{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ap(n),this.aa=!1):vn("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="RemoteStore";class wCe{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{q0(this)&&(vn(_0,"Restarting streams for network reachability change."),await async function(l){const c=lr(l);c.Ea.add(4),await s1(c),c.Ra.set("Unknown"),c.Ea.delete(4),await gA(c)}(this))})}),this.Ra=new yCe(r,i)}}async function gA(e){if(q0(e))for(const t of e.da)await t(!0)}async function s1(e){for(const t of e.da)await t(!1)}function wX(e,t){const n=lr(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),jO(n)?WO(n):Ow(n).O_()&&UO(n,t))}function GO(e,t){const n=lr(e),r=Ow(n);n.Ia.delete(t),r.O_()&&CX(n,t),n.Ia.size===0&&(r.O_()?r.L_():q0(n)&&n.Ra.set("Unknown"))}function UO(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Qn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ow(e).Y_(t)}function CX(e,t){e.Va.Ue(t),Ow(e).Z_(t)}function WO(e){e.Va=new fwe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ow(e).start(),e.Ra.ua()}function jO(e){return q0(e)&&!Ow(e).x_()&&e.Ia.size>0}function q0(e){return lr(e).Ea.size===0}function bX(e){e.Va=void 0}async function CCe(e){e.Ra.set("Online")}async function bCe(e){e.Ia.forEach((t,n)=>{UO(e,t)})}async function xCe(e,t){bX(e),jO(e)?(e.Ra.ha(t),WO(e)):e.Ra.set("Unknown")}async function SCe(e,t,n){if(e.Ra.set("Online"),t instanceof sX&&t.state===2&&t.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(e,t)}catch(r){vn(_0,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await RT(e,r)}else if(t instanceof DE?e.Va.Ze(t):t instanceof iX?e.Va.st(t):e.Va.tt(t),!n.isEqual(Qn.min()))try{const r=await vX(e.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(sl.EMPTY_BYTE_STRING,u.snapshotVersion)),CX(s,l);const h=new dg(u.target,l,c,u.sequenceNumber);UO(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){vn(_0,"Failed to raise snapshot:",r),await RT(e,r)}}async function RT(e,t,n){if(!Iw(t))throw t;e.Ea.add(1),await s1(e),e.Ra.set("Offline"),n||(n=()=>vX(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{vn(_0,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await gA(e)})}function xX(e,t){return t().catch(n=>RT(e,n,t))}async function mA(e){const t=lr(e),n=Dg(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:RO;for(;_Ce(t);)try{const i=await sCe(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,ECe(t,i)}catch(i){await RT(t,i)}SX(t)&&_X(t)}function _Ce(e){return q0(e)&&e.Ta.length<10}function ECe(e,t){e.Ta.push(t);const n=Dg(e);n.O_()&&n.X_&&n.ea(t.mutations)}function SX(e){return q0(e)&&!Dg(e).x_()&&e.Ta.length>0}function _X(e){Dg(e).start()}async function TCe(e){Dg(e).ra()}async function RCe(e){const t=Dg(e);for(const n of e.Ta)t.ea(n.mutations)}async function ACe(e,t,n){const r=e.Ta.shift(),i=MO.from(r,t,n);await xX(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await mA(e)}async function kCe(e,t){t&&Dg(e).X_&&await async function(r,i){if(function(o){return nX(o)&&o!==It.ABORTED}(i.code)){const s=r.Ta.shift();Dg(r).B_(),await xX(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mA(r)}}(e,t),SX(e)&&_X(e)}async function gH(e,t){const n=lr(e);n.asyncQueue.verifyOperationInProgress(),vn(_0,"RemoteStore received new credentials");const r=q0(n);n.Ea.add(3),await s1(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await gA(n)}async function PCe(e,t){const n=lr(e);t?(n.Ea.delete(2),await gA(n)):t||(n.Ea.add(2),await s1(n),n.Ra.set("Unknown"))}function Ow(e){return e.ma||(e.ma=function(n,r,i){const s=lr(n);return s.sa(),new pCe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:CCe.bind(null,e),t_:bCe.bind(null,e),r_:xCe.bind(null,e),H_:SCe.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),jO(e)?WO(e):e.Ra.set("Unknown")):(await e.ma.stop(),bX(e))})),e.ma}function Dg(e){return e.fa||(e.fa=function(n,r,i){const s=lr(n);return s.sa(),new gCe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:TCe.bind(null,e),r_:kCe.bind(null,e),ta:RCe.bind(null,e),na:ACe.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await mA(e)):(await e.fa.stop(),e.Ta.length>0&&(vn(_0,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new KO(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new cn(It.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function YO(e,t){if(ap("AsyncQueue",`${t}: ${e}`),Iw(e))return new cn(It.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{static emptySet(t){return new Sy(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||Nn.comparator(n.key,r.key):(n,r)=>Nn.comparator(n.key,r.key),this.keyedMap=vb(),this.sortedSet=new Ws(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Sy)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Sy;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(){this.ga=new Ws(Nn.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Gn(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class lw{constructor(t,n,r,i,s,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new lw(t,n,Sy.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lA(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DCe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class FCe{constructor(){this.queries=vH(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=lr(n),s=i.queries;i.queries=vH(),s.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new cn(It.ABORTED,"Firestore shutting down"))}}function vH(){return new Z0(e=>GY(e),lA)}async function XO(e,t){const n=lr(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new DCe,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=YO(o,`Initialization of query '${ny(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&qO(n)}async function ZO(e,t){const n=lr(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(t);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ICe(e,t){const n=lr(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(r=!0);o.wa=i}}r&&qO(n)}function MCe(e,t,n){const r=lr(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function qO(e){e.Ca.forEach(t=>{t.next()})}var wF,yH;(yH=wF||(wF={})).Ma="default",yH.Cache="cache";class QO{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new lw(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=lw.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wF.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(t){this.key=t}}class TX{constructor(t){this.key=t}}class OCe{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jr(),this.mutatedKeys=jr(),this.eu=UY(t),this.tu=new Sy(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new mH,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,h)=>{const p=i.get(u),m=cA(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),b=!0):this.su(p,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),b=!0):p&&!m&&(r.track({type:1,doc:p}),b=!0,(l||c)&&(a=!0)),b&&(m?(o=o.add(m),s=w?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:o,iu:r,Cs:a,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((u,h)=>function(m,y){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gn(20277,{Rt:b})}};return w(m)-w(y)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new lw(this.query,t.tu,s,o,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mH,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jr(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new TX(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new EX(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=jr();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return lw.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const JO="SyncEngine";class LCe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class NCe{constructor(t){this.key=t,this.hu=!1}}class BCe{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Z0(a=>GY(a),lA),this.Iu=new Map,this.Eu=new Set,this.du=new Ws(Nn.comparator),this.Au=new Map,this.Ru=new NO,this.Vu={},this.mu=new Map,this.fu=aw.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VCe(e,t,n=!0){const r=FX(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await RX(r,t,n,!0),i}async function HCe(e,t){const n=FX(e);await RX(n,t,!0,!1)}async function RX(e,t,n,r){const i=await oCe(e.localStore,sf(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await zCe(e,t,s,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&wX(e.remoteStore,i),a}async function zCe(e,t,n,r,i){e.pu=(h,p,m)=>async function(w,b,S,E){let _=b.view.ru(S);_.Cs&&(_=await uH(w.localStore,b.query,!1).then(({documents:O})=>b.view.ru(O,_)));const N=E&&E.targetChanges.get(b.targetId),V=E&&E.targetMismatches.get(b.targetId)!=null,M=b.view.applyChanges(_,w.isPrimaryClient,N,V);return CH(w,b.targetId,M.au),M.snapshot}(e,h,p,m);const s=await uH(e.localStore,t,!0),o=new OCe(t,s.Qs),a=o.ru(s.documents),l=i1.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=o.applyChanges(a,e.isPrimaryClient,l);CH(e,n,c.au);const u=new LCe(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function GCe(e,t,n){const r=lr(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!lA(o,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vF(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&GO(r.remoteStore,i.targetId),CF(r,i.targetId)}).catch(Fw)):(CF(r,i.targetId),await vF(r.localStore,i.targetId,!0))}async function UCe(e,t){const n=lr(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),GO(n.remoteStore,r.targetId))}async function WCe(e,t,n){const r=QCe(e);try{const i=await function(o,a){const l=lr(o),c=Ss.now(),u=a.reduce((m,y)=>m.add(y.key),jr());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=lp(),w=jr();return l.Ns.getEntries(m,u).next(b=>{y=b,y.forEach((S,E)=>{E.isValidDocument()||(w=w.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(b=>{h=b;const S=[];for(const E of a){const _=awe(E,h.get(E.key).overlayedDocument);_!=null&&S.push(new Qg(E.key,_,MY(_.value.mapValue),el.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,a)}).next(b=>{p=b;const S=b.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,b.batchId,S)})}).then(()=>({batchId:p.batchId,changes:jY(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ws(Wr)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,i.batchId,n),await o1(r,i.changes),await mA(r.remoteStore)}catch(i){const s=YO(i,"Failed to persist write");n.reject(s)}}async function AX(e,t){const n=lr(e);try{const r=await rCe(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ni(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ni(o.hu,14607):i.removedDocuments.size>0&&(ni(o.hu,42227),o.hu=!1))}),await o1(n,r,t)}catch(r){await Fw(r)}}function wH(e,t,n){const r=lr(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=lr(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const p of h.Sa)p.va(a)&&(c=!0)}),c&&qO(l)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jCe(e,t,n){const r=lr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let o=new Ws(Nn.comparator);o=o.insert(s,Ra.newNoDocument(s,Qn.min()));const a=jr().add(s),l=new fA(Qn.min(),new Map,new Ws(Wr),o,a);await AX(r,l),r.du=r.du.remove(s),r.Au.delete(t),$O(r)}else await vF(r.localStore,t,!1).then(()=>CF(r,t,n)).catch(Fw)}async function KCe(e,t){const n=lr(e),r=t.batch.batchId;try{const i=await nCe(n.localStore,t);PX(n,r,null),kX(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await o1(n,i)}catch(i){await Fw(i)}}async function YCe(e,t,n){const r=lr(e);try{const i=await function(o,a){const l=lr(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ni(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);PX(r,t,n),kX(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await o1(r,i)}catch(i){await Fw(i)}}function kX(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function PX(e,t,n){const r=lr(e);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function CF(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||DX(e,r)})}function DX(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(GO(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),$O(e))}function CH(e,t,n){for(const r of n)r instanceof EX?(e.Ru.addReference(r.key,t),XCe(e,r)):r instanceof TX?(vn(JO,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||DX(e,r.key)):Gn(19791,{wu:r})}function XCe(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(vn(JO,"New document in limbo: "+n),e.Eu.add(r),$O(e))}function $O(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Nn(Xi.fromString(t)),r=e.fu.next();e.Au.set(r,new NCe(n)),e.du=e.du.insert(n,r),wX(e.remoteStore,new dg(sf(aA(n.path)),r,"TargetPurposeLimboResolution",sA.ce))}}async function o1(e,t,n){const r=lr(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient){const u=c?!c.fromCache:n?.targetChanges.get(l.targetId)?.current;r.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(c){i.push(c);const u=VO.As(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(l,c){const u=lr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Vt.forEach(c,p=>Vt.forEach(p.Es,m=>u.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>Vt.forEach(p.ds,m=>u.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Iw(h))throw h;vn(HO,"Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=u.Ms.get(p),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);u.Ms=u.Ms.insert(p,w)}}}(r.localStore,s))}async function ZCe(e,t){const n=lr(e);if(!n.currentUser.isEqual(t)){vn(JO,"User change. New user:",t.toKey());const r=await mX(n.localStore,t);n.currentUser=t,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new cn(It.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await o1(n,r.Ls)}}function qCe(e,t){const n=lr(e),r=n.Au.get(t);if(r&&r.hu)return jr().add(r.key);{let i=jr();const s=n.Iu.get(t);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function FX(e){const t=lr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=AX.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qCe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jCe.bind(null,t),t.Pu.H_=ICe.bind(null,t.eventManager),t.Pu.yu=MCe.bind(null,t.eventManager),t}function QCe(e){const t=lr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=KCe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=YCe.bind(null,t),t}class AT{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=pA(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return tCe(this.persistence,new Jwe,t.initialUser,this.serializer)}Cu(t){return new gX(BO.mi,this.serializer)}Du(t){return new lCe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}AT.provider={build:()=>new AT};class JCe extends AT{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ni(this.persistence.referenceDelegate instanceof TT,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Nwe(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?_c.withCacheSize(this.cacheSizeBytes):_c.DEFAULT;return new gX(r=>TT.mi(r,n),this.serializer)}}class bF{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wH(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZCe.bind(null,this.syncEngine),await PCe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new FCe}()}createDatastore(t){const n=pA(t.databaseInfo.databaseId),r=function(s){return new fCe(s)}(t.databaseInfo);return function(s,o,a,l){return new vCe(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,o,a){return new wCe(r,i,s,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>wH(this.syncEngine,n,0),function(){return fH.v()?new fH:new cCe}())}createSyncEngine(t,n){return function(i,s,o,a,l,c,u){const h=new BCe(i,s,o,a,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=lr(n);vn(_0,"RemoteStore shutting down."),r.Ea.add(5),await s1(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bF.provider={build:()=>new bF};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ap("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Ce{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new cn(It.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=lr(i),a={documents:s.map(h=>ET(o.serializer,h))},l=await o.Ho("BatchGetDocuments",o.serializer.databaseId,Xi.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{const p=Cwe(o.serializer,h);c.set(p.key.toString(),p)});const u=[];return s.forEach(h=>{const p=c.get(h.toString());ni(!!p,55234,{key:h}),u.push(p)}),u}(this.datastore,t);return n.forEach(r=>this.recordVersion(r)),n}set(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new hA(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(n=>{t.delete(n.key.toString())}),t.forEach((n,r)=>{const i=Nn.fromPath(r);this.mutations.push(new tX(i,this.precondition(i)))}),await async function(r,i){const s=lr(r),o={writes:i.map(a=>uX(s.serializer,a))};await s.Go("Commit",s.serializer.databaseId,Xi.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Gn(50498,{Gu:t.constructor.name});n=Qn.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new cn(It.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)}precondition(t){const n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?n.isEqual(Qn.min())?el.exists(!1):el.updateTime(n):el.none()}preconditionForUpdate(t){const n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Qn.min()))throw new cn(It.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return el.updateTime(n)}return el.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ebe{constructor(t,n,r,i,s){this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new zO(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_(async()=>{const t=new $Ce(this.datastore),n=this.Hu(t);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Yu(i)}))}).catch(r=>{this.Yu(r)})})}Hu(t){try{const n=this.updateFunction(t);return!n1(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ju(),Promise.resolve()))):this.deferred.reject(t)}Zu(t){if(t.name==="FirebaseError"){const n=t.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!nX(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="FirestoreClient";class tbe{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Al.UNAUTHENTICATED,this.clientId=TO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{vn(Fg,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(vn(Fg,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=YO(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function UP(e,t){e.asyncQueue.verifyOperationInProgress(),vn(Fg,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mX(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function bH(e,t){e.asyncQueue.verifyOperationInProgress();const n=await nbe(e);vn(Fg,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>gH(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>gH(t.remoteStore,i)),e._onlineComponents=t}async function nbe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){vn(Fg,"Using user provided OfflineComponentProvider");try{await UP(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===It.FAILED_PRECONDITION||i.code===It.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tw("Error using user provided cache. Falling back to memory cache: "+n),await UP(e,new AT)}}else vn(Fg,"Using default OfflineComponentProvider"),await UP(e,new JCe(void 0));return e._offlineComponents}async function tL(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(vn(Fg,"Using user provided OnlineComponentProvider"),await bH(e,e._uninitializedComponentsProvider._online)):(vn(Fg,"Using default OnlineComponentProvider"),await bH(e,new bF))),e._onlineComponents}function rbe(e){return tL(e).then(t=>t.syncEngine)}function ibe(e){return tL(e).then(t=>t.datastore)}async function kT(e){const t=await tL(e),n=t.eventManager;return n.onListen=VCe.bind(null,t.syncEngine),n.onUnlisten=GCe.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=HCe.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=UCe.bind(null,t.syncEngine),n}function sbe(e,t,n={}){const r=new rf;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new eL({next:p=>{u.Nu(),o.enqueueAndForget(()=>ZO(s,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new cn(It.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new cn(It.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new QO(aA(a.path),u,{includeMetadataChanges:!0,qa:!0});return XO(s,h)}(await kT(e),e.asyncQueue,t,n,r)),r.promise}function obe(e,t,n={}){const r=new rf;return e.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new eL({next:p=>{u.Nu(),o.enqueueAndForget(()=>ZO(s,h)),p.fromCache&&l.source==="server"?c.reject(new cn(It.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new QO(a,u,{includeMetadataChanges:!0,qa:!0});return XO(s,h)}(await kT(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX="firestore.googleapis.com",SH=!0;class _H{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new cn(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MX,this.ssl=SH}else this.host=t.host,this.ssl=t.ssl??SH;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pX;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Owe)throw new cn(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xye("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IX(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new cn(It.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new cn(It.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new cn(It.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vA{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _H({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new cn(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new cn(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _H(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hye;switch(r.type){case"firstParty":return new mye(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new cn(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xH.get(n);r&&(vn("ComponentProvider","Removing Datastore"),xH.delete(n),r.terminate())}(this),Promise.resolve()}}function abe(e,t,n,r={}){e=ac(e,vA);const i=Yg(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(hO(`https://${a}`),fO("Firestore",!0)),s.host!==MX&&s.host!==a&&tw("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!ip(l,o)&&(e._setSettings(l),r.mockUserToken)){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Al.MOCK_USER;else{c=kK(r.mockUserToken,e._app?.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new cn(It.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Al(h)}e._authCredentials=new fye(new xY(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Jg(this.firestore,t,this._query)}}class zs{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vg(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zs(this.firestore,t,this._key)}toJSON(){return{type:zs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(t1(n,zs._jsonSchema))return new zs(t,r||null,new Nn(Xi.fromString(n.referencePath)))}}zs._jsonSchemaVersion="firestore/documentReference/1.0",zs._jsonSchema={type:Zo("string",zs._jsonSchemaVersion),referencePath:Zo("string")};class vg extends Jg{constructor(t,n,r){super(t,n,aA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zs(this.firestore,null,new Nn(t))}withConverter(t){return new vg(this.firestore,t,this._path)}}function Q0(e,t,...n){if(e=Rs(e),SY("collection","path",t),e instanceof vA){const r=Xi.fromString(t,...n);return N6(r),new vg(e,null,r)}{if(!(e instanceof zs||e instanceof vg))throw new cn(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Xi.fromString(t,...n));return N6(r),new vg(e.firestore,null,r)}}function lh(e,t,...n){if(e=Rs(e),arguments.length===1&&(t=TO.newId()),SY("doc","path",t),e instanceof vA){const r=Xi.fromString(t,...n);return L6(r),new zs(e,null,new Nn(r))}{if(!(e instanceof zs||e instanceof vg))throw new cn(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Xi.fromString(t,...n));return L6(r),new zs(e.firestore,e instanceof vg?e.converter:null,new Nn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EH="AsyncQueue";class TH{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zO(this,"async_queue_retry"),this._c=()=>{const r=GP();r&&vn(EH,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=GP();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=GP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rf;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Iw(t))throw t;vn(EH,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,ap("INTERNAL UNHANDLED ERROR: ",RH(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=KO.createAndSchedule(this,t,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Gn(47125,{Pc:RH(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function RH(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class gf extends vA{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new TH,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new TH(t),this._firestoreClient=void 0,await t}}}function lbe(e,t){const n=typeof e=="object"?e:mO(),r=typeof e=="string"?e:CT,i=eA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TK("firestore");s&&abe(i,...s)}return i}function a1(e){if(e._terminated)throw new cn(It.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cbe(e),e._firestoreClient}function cbe(e){const t=e._freezeSettings(),n=function(i,s,o,a){return new Iye(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,IX(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new tbe(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new fu(sl.fromBase64String(t))}catch(n){throw new cn(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new fu(sl.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:fu._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(t1(t,fu._jsonSchema))return fu.fromBase64String(t.bytes)}}fu._jsonSchemaVersion="firestore/bytes/1.0",fu._jsonSchema={type:Zo("string",fu._jsonSchemaVersion),bytes:Zo("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new cn(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $a(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new cn(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new cn(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Wr(this._lat,t._lat)||Wr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:of._jsonSchemaVersion}}static fromJSON(t){if(t1(t,of._jsonSchema))return new of(t.latitude,t.longitude)}}of._jsonSchemaVersion="firestore/geoPoint/1.0",of._jsonSchema={type:Zo("string",of._jsonSchemaVersion),latitude:Zo("number"),longitude:Zo("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:af._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(t1(t,af._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new af(t.vectorValues);throw new cn(It.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}af._jsonSchemaVersion="firestore/vectorValue/1.0",af._jsonSchema={type:Zo("string",af._jsonSchemaVersion),vectorValues:Zo("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ube=/^__.*__$/;class dbe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Qg(t,this.data,this.fieldMask,n,this.fieldTransforms):new r1(t,this.data,n,this.fieldTransforms)}}class OX{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Qg(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function LX(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gn(40011,{Ac:e})}}class yA{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new yA({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return PT(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(LX(this.Ac)&&ube.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class hbe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||pA(t)}Cc(t,n,r,i=!1){return new yA({Ac:t,methodName:n,Dc:r,path:$a.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c1(e){const t=e._freezeSettings(),n=pA(e._databaseId);return new hbe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nL(e,t,n,r,i,s={}){const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);oL("Data must be an object, but it was:",o,r);const a=HX(r,o);let l,c;if(s.merge)l=new mu(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const h of s.mergeFields){const p=xF(t,h,n);if(!o.contains(p))throw new cn(It.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);GX(u,p)||u.push(p)}l=new mu(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new dbe(new ic(a),l,c)}class wA extends Lw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wA}}function NX(e,t,n){return new yA({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class rL extends Lw{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=NX(this,t,!0),r=this.vc.map(s=>J0(s,n)),i=new sw(r);return new IO(t.path,i)}isEqual(t){return t instanceof rL&&ip(this.vc,t.vc)}}class iL extends Lw{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=NX(this,t,!0),r=this.vc.map(s=>J0(s,n)),i=new ow(r);return new IO(t.path,i)}isEqual(t){return t instanceof iL&&ip(this.vc,t.vc)}}class sL extends Lw{constructor(t,n){super(t),this.Fc=n}_toFieldTransform(t){const n=new Mx(t.serializer,XY(t.serializer,this.Fc));return new IO(t.path,n)}isEqual(t){return t instanceof sL&&this.Fc===t.Fc}}function BX(e,t,n,r){const i=e.Cc(1,t,n);oL("Data must be an object, but it was:",i,r);const s=[],o=ic.empty();qg(r,(l,c)=>{const u=aL(t,l,n);c=Rs(c);const h=i.yc(u);if(c instanceof wA)s.push(u);else{const p=J0(c,h);p!=null&&(s.push(u),o.set(u,p))}});const a=new mu(s);return new OX(o,a,i.fieldTransforms)}function VX(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[xF(t,r,n)],l=[i];if(s.length%2!=0)throw new cn(It.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(xF(t,s[p])),l.push(s[p+1]);const c=[],u=ic.empty();for(let p=a.length-1;p>=0;--p)if(!GX(c,a[p])){const m=a[p];let y=l[p];y=Rs(y);const w=o.yc(m);if(y instanceof wA)c.push(m);else{const b=J0(y,w);b!=null&&(c.push(m),u.set(m,b))}}const h=new mu(c);return new OX(u,h,o.fieldTransforms)}function fbe(e,t,n,r=!1){return J0(n,e.Cc(r?4:3,t))}function J0(e,t){if(zX(e=Rs(e)))return oL("Unsupported field value:",t,e),HX(e,t);if(e instanceof Lw)return function(r,i){if(!LX(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=J0(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Rs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ss.fromDate(r);return{timestampValue:_T(i.serializer,s)}}if(r instanceof Ss){const s=new Ss(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_T(i.serializer,s)}}if(r instanceof of)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fu)return{bytesValue:oX(i.serializer,r._byteString)};if(r instanceof zs){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:LO(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof af)return function(o,a){return{mapValue:{fields:{[FY]:{stringValue:IY},[bT]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return FO(a.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${iA(r)}`)}(e,t)}function HX(e,t){const n={};return TY(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qg(e,(r,i)=>{const s=J0(i,t.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zX(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ss||e instanceof of||e instanceof fu||e instanceof zs||e instanceof Lw||e instanceof af)}function oL(e,t,n){if(!zX(n)||!_Y(n)){const r=iA(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function xF(e,t,n){if((t=Rs(t))instanceof l1)return t._internalPath;if(typeof t=="string")return aL(e,t);throw PT("Field path arguments must be of type string or ",e,!1,void 0,n)}const pbe=new RegExp("[~\\*/\\[\\]]");function aL(e,t,n){if(t.search(pbe)>=0)throw PT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new l1(...t.split("."))._internalPath}catch{throw PT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function PT(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new cn(It.INVALID_ARGUMENT,a+e+l)}function GX(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gbe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(CA("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gbe extends DT{data(){return super.data()}}function CA(e,t){return typeof t=="string"?aL(e,t):t instanceof l1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new cn(It.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lL{}class WX extends lL{}function u1(e,t,...n){let r=[];t instanceof lL&&r.push(t),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof uL).length,a=s.filter(l=>l instanceof bA).length;if(o>1||o>0&&a>0)throw new cn(It.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class bA extends WX{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new bA(t,n,r)}_apply(t){const n=this._parse(t);return KX(t._query,n),new Jg(t.firestore,t.converter,hF(t._query,n))}_parse(t){const n=c1(t.firestore);return function(s,o,a,l,c,u,h){let p;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new cn(It.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){PH(h,u);const y=[];for(const w of h)y.push(kH(l,s,w));p={arrayValue:{values:y}}}else p=kH(l,s,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||PH(h,u),p=fbe(a,o,h,u==="in"||u==="not-in");return Xo.create(c,u,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function cL(e,t,n){const r=t,i=CA("where",e);return bA._create(i,r,n)}class uL extends lL{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new uL(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ah.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)KX(o,l),o=hF(o,l)}(t._query,n),new Jg(t.firestore,t.converter,hF(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dL extends WX{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new dL(t,n)}_apply(t){const n=function(i,s,o){if(i.startAt!==null)throw new cn(It.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new cn(It.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ix(s,o)}(t._query,this._field,this._direction);return new Jg(t.firestore,t.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Mw(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function jX(e,t="asc"){const n=t,r=CA("orderBy",e);return dL._create(r,n)}function kH(e,t,n){if(typeof(n=Rs(n))=="string"){if(n==="")throw new cn(It.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zY(t)&&n.indexOf("/")!==-1)throw new cn(It.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Xi.fromString(n));if(!Nn.isDocumentKey(r))throw new cn(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return j6(e,new Nn(r))}if(n instanceof zs)return j6(e,n._key);throw new cn(It.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iA(n)}.`)}function PH(e,t){if(!Array.isArray(e)||e.length===0)throw new cn(It.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function KX(e,t){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new cn(It.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new cn(It.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class YX{convertValue(t,n="none"){switch(Pg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _o(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(kg(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Gn(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return qg(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){const n=t.fields?.[bT].arrayValue?.values?.map(r=>_o(r.doubleValue));return new af(n)}convertGeoPoint(t){return new of(_o(t.latitude),_o(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=oA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Px(t));default:return null}}convertTimestamp(t){const n=Ag(t);return new Ss(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Xi.fromString(t);ni(fX(r),9688,{name:t});const i=new Dx(r.get(1),r.get(3)),s=new Nn(r.popFirst(5));return i.isEqual(n)||ap(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class mbe extends YX{constructor(t){super(),this.firestore=t}convertBytes(t){return new fu(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new zs(this.firestore,null,n)}}class cy{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yg extends DT{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new FE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(CA("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new cn(It.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=yg._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yg._jsonSchemaVersion="firestore/documentSnapshot/1.0",yg._jsonSchema={type:Zo("string",yg._jsonSchemaVersion),bundleSource:Zo("string","DocumentSnapshot"),bundleName:Zo("string"),bundle:Zo("string")};class FE extends yg{data(t={}){return super.data(t)}}class e0{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new cy(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new FE(this._firestore,this._userDataWriter,r.key,r,new cy(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new cn(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new FE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cy(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new FE(i._firestore,i._userDataWriter,a.doc.key,a.doc,new cy(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:vbe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new cn(It.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=e0._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=TO.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function vbe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gn(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ybe(e){e=ac(e,zs);const t=ac(e.firestore,gf);return sbe(a1(t),e._key).then(n=>QX(t,e,n))}e0._jsonSchemaVersion="firestore/querySnapshot/1.0",e0._jsonSchema={type:Zo("string",e0._jsonSchemaVersion),bundleSource:Zo("string","QuerySnapshot"),bundleName:Zo("string"),bundle:Zo("string")};class xA extends YX{constructor(t){super(),this.firestore=t}convertBytes(t){return new fu(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new zs(this.firestore,null,n)}}function fL(e){e=ac(e,Jg);const t=ac(e.firestore,gf),n=a1(t),r=new xA(t);return UX(e._query),obe(n,e._query).then(i=>new e0(t,r,e,i))}function XX(e,t,n){e=ac(e,zs);const r=ac(e.firestore,gf),i=hL(e.converter,t,n);return SA(r,[nL(c1(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,el.none())])}function FT(e,t,n,...r){e=ac(e,zs);const i=ac(e.firestore,gf),s=c1(i);let o;return o=typeof(t=Rs(t))=="string"||t instanceof l1?VX(s,"updateDoc",e._key,t,n,r):BX(s,"updateDoc",e._key,t),SA(i,[o.toMutation(e._key,el.exists(!0))])}function ZX(e){return SA(ac(e.firestore,gf),[new hA(e._key,el.none())])}function wbe(e,t){const n=ac(e.firestore,gf),r=lh(e),i=hL(e.converter,t);return SA(n,[nL(c1(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,el.exists(!1))]).then(()=>r)}function qX(e,...t){e=Rs(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||AH(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AH(t[r])){const l=t[r];t[r]=l.next?.bind(l),t[r+1]=l.error?.bind(l),t[r+2]=l.complete?.bind(l)}let s,o,a;if(e instanceof zs)o=ac(e.firestore,gf),a=aA(e._key.path),s={next:l=>{t[r]&&t[r](QX(o,e,l))},error:t[r+1],complete:t[r+2]};else{const l=ac(e,Jg);o=ac(l.firestore,gf),a=l._query;const c=new xA(o);s={next:u=>{t[r]&&t[r](new e0(o,c,l,u))},error:t[r+1],complete:t[r+2]},UX(e._query)}return function(c,u,h,p){const m=new eL(p),y=new QO(u,m,h);return c.asyncQueue.enqueueAndForget(async()=>XO(await kT(c),y)),()=>{m.Nu(),c.asyncQueue.enqueueAndForget(async()=>ZO(await kT(c),y))}}(a1(o),a,i,s)}function SA(e,t){return function(r,i){const s=new rf;return r.asyncQueue.enqueueAndForget(async()=>WCe(await rbe(r),i,s)),s.promise}(a1(e),t)}function QX(e,t,n){const r=n.docs.get(t._key),i=new xA(e);return new yg(e,i,t._key,r,new cy(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cbe={maxAttempts:5};function wb(e,t){if((e=Rs(e)).firestore!==t)throw new cn(It.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bbe{constructor(t,n){this._firestore=t,this._transaction=n,this._dataReader=c1(t)}get(t){const n=wb(t,this._firestore),r=new mbe(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return Gn(24041);const s=i[0];if(s.isFoundDocument())return new DT(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new DT(this._firestore,r,n._key,null,n.converter);throw Gn(18433,{doc:s})})}set(t,n,r){const i=wb(t,this._firestore),s=hL(i.converter,n,r),o=nL(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(t,n,r,...i){const s=wb(t,this._firestore);let o;return o=typeof(n=Rs(n))=="string"||n instanceof l1?VX(this._dataReader,"Transaction.update",s._key,n,r,i):BX(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(t){const n=wb(t,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xbe extends bbe{constructor(t,n){super(t,n),this._firestore=t}get(t){const n=wb(t,this._firestore),r=new xA(this._firestore);return super.get(t).then(i=>new yg(this._firestore,r,n._key,i._document,new cy(!1,!1),n.converter))}}function Sbe(e,t,n){e=ac(e,gf);const r={...Cbe,...n};return function(s){if(s.maxAttempts<1)throw new cn(It.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new rf;return s.asyncQueue.enqueueAndForget(async()=>{const c=await ibe(s);new ebe(s.asyncQueue,c,a,o,l).ju()}),l.promise}(a1(e),i=>t(new xbe(e,i)),r)}function _be(...e){return new rL("arrayUnion",e)}function Ebe(...e){return new iL("arrayRemove",e)}function Tbe(e){return new sL("increment",e)}(function(t,n=!0){(function(i){Dw=i})(Y0),C0(new Tg("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new gf(new pye(r.getProvider("auth-internal")),new vye(o,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new cn(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dx(c.options.projectId,u)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ef(F6,I6,t),ef(F6,I6,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JX="firebasestorage.googleapis.com",$X="storageBucket",Rbe=120*1e3,Abe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends uh{constructor(t,n,r=0){super(WP(t),`Firebase Storage: ${n} (${WP(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,co.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return WP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ao;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ao||(ao={}));function WP(e){return"storage/"+e}function pL(){const e="An unknown error occurred, please check the error payload for server response.";return new co(ao.UNKNOWN,e)}function kbe(e){return new co(ao.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function Pbe(e){return new co(ao.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Dbe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new co(ao.UNAUTHENTICATED,e)}function Fbe(){return new co(ao.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Ibe(e){return new co(ao.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function Mbe(){return new co(ao.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Obe(){return new co(ao.CANCELED,"User canceled the upload/download.")}function Lbe(e){return new co(ao.INVALID_URL,"Invalid URL '"+e+"'.")}function Nbe(e){return new co(ao.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Bbe(){return new co(ao.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$X+"' property when initializing the app?")}function Vbe(){return new co(ao.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Hbe(){return new co(ao.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zbe(e){return new co(ao.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function SF(e){return new co(ao.INVALID_ARGUMENT,e)}function eZ(){return new co(ao.APP_DELETED,"The Firebase app was deleted.")}function Gbe(e){return new co(ao.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hb(e,t){return new co(ao.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ZC(e){throw new co(ao.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=vu.makeFromUrl(t,n)}catch{return new vu(t,"")}if(r.path==="")return r;throw Nbe(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${u}/b/${i}/o${p}`,"i"),y={bucket:1,path:3},w=n===JX?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",S=new RegExp(`^https?://${w}/${i}/${b}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:m,indices:y,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<_.length;N++){const V=_[N],M=V.regex.exec(t);if(M){const O=M[V.indices.bucket];let z=M[V.indices.path];z||(z=""),r=new vu(O,z),V.postModify(r);break}}if(r==null)throw Lbe(t);return r}}class Ube{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wbe(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...b){c||(c=!0,t.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,e(m,l())},b)}function p(){s&&clearTimeout(s)}function m(b,...S){if(c){p();return}if(b){p(),u.call(null,b,...S);return}if(l()||o){p(),u.call(null,b,...S);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let y=!1;function w(b){y||(y=!0,p(),!c&&(i!==null?(b||(a=2),clearTimeout(i),h(0)):b||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function jbe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kbe(e){return e!==void 0}function Ybe(e){return typeof e=="object"&&!Array.isArray(e)}function gL(e){return typeof e=="string"||e instanceof String}function DH(e){return mL()&&e instanceof Blob}function mL(){return typeof Blob<"u"}function FH(e,t,n,r){if(r<t)throw SF(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw SF(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function tZ(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var t0;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(t0||(t0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xbe(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zbe{constructor(t,n,r,i,s,o,a,l,c,u,h,p=!0,m=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new R_(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===t0.NO_ERROR,l=s.getStatus();if(!a||Xbe(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===t0.ABORT;r(!1,new R_(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new R_(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Kbe(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=pL();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?eZ():Obe();o(l)}else{const l=Mbe();o(l)}};this.canceled_?n(!1,new R_(!1,null,!0)):this.backoffId_=Wbe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&jbe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class R_{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function qbe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Qbe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Jbe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function $be(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function exe(e,t,n,r,i,s,o=!0,a=!1){const l=tZ(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return Jbe(u,t),qbe(u,n),Qbe(u,s),$be(u,r),new Zbe(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function txe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nxe(...e){const t=txe();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(mL())return new Blob(e);throw new co(ao.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rxe(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ixe(e){if(typeof atob>"u")throw zbe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jP{constructor(t,n){this.data=t,this.contentType=n||null}}function sxe(e,t){switch(e){case Wh.RAW:return new jP(nZ(t));case Wh.BASE64:case Wh.BASE64URL:return new jP(rZ(e,t));case Wh.DATA_URL:return new jP(axe(t),lxe(t))}throw pL()}function nZ(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function oxe(e){let t;try{t=decodeURIComponent(e)}catch{throw Hb(Wh.DATA_URL,"Malformed data URL.")}return nZ(t)}function rZ(e,t){switch(e){case Wh.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Hb(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wh.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Hb(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ixe(t)}catch(i){throw i.message.includes("polyfill")?i:Hb(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class iZ{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Hb(Wh.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=cxe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function axe(e){const t=new iZ(e);return t.base64?rZ(Wh.BASE64,t.rest):oxe(t.rest)}function lxe(e){return new iZ(e).contentType}function cxe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,n){let r=0,i="";DH(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(DH(this.data_)){const r=this.data_,i=rxe(r,t,n);return i===null?null:new lg(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new lg(r,!0)}}static getBlob(...t){if(mL()){const n=t.map(r=>r instanceof lg?r.data_:r);return new lg(nxe.apply(null,n))}else{const n=t.map(o=>gL(o)?sxe(Wh.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new lg(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sZ(e){let t;try{t=JSON.parse(e)}catch{return null}return Ybe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uxe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function dxe(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function oZ(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hxe(e,t){return t}class Ql{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||hxe}}let A_=null;function fxe(e){return!gL(e)||e.length<2?e:oZ(e)}function aZ(){if(A_)return A_;const e=[];e.push(new Ql("bucket")),e.push(new Ql("generation")),e.push(new Ql("metageneration")),e.push(new Ql("name","fullPath",!0));function t(s,o){return fxe(o)}const n=new Ql("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ql("size");return i.xform=r,e.push(i),e.push(new Ql("timeCreated")),e.push(new Ql("updated")),e.push(new Ql("md5Hash",null,!0)),e.push(new Ql("cacheControl",null,!0)),e.push(new Ql("contentDisposition",null,!0)),e.push(new Ql("contentEncoding",null,!0)),e.push(new Ql("contentLanguage",null,!0)),e.push(new Ql("contentType",null,!0)),e.push(new Ql("metadata","customMetadata",!0)),A_=e,A_}function pxe(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new vu(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function gxe(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return pxe(r,e),r}function lZ(e,t,n){const r=sZ(t);return r===null?null:gxe(e,r,n)}function mxe(e,t,n,r){const i=sZ(t);if(i===null||!gL(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=e.bucket,h=e.fullPath,p="/b/"+o(u)+"/o/"+o(h),m=_A(p,n,r),y=tZ({alt:"media",token:c});return m+y})[0]}function vxe(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class vL{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cZ(e){if(!e)throw pL()}function yxe(e,t){function n(r,i){const s=lZ(e,i,t);return cZ(s!==null),s}return n}function wxe(e,t){function n(r,i){const s=lZ(e,i,t);return cZ(s!==null),mxe(s,i,e.host,e._protocol)}return n}function uZ(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Fbe():i=Dbe():n.getStatus()===402?i=Pbe(e.bucket):n.getStatus()===403?i=Ibe(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function dZ(e){const t=uZ(e);function n(r,i){let s=t(r,i);return r.getStatus()===404&&(s=kbe(e.path)),s.serverResponse=i.serverResponse,s}return n}function Cxe(e,t,n){const r=t.fullServerUrl(),i=_A(r,e.host,e._protocol),s="GET",o=e.maxOperationRetryTime,a=new vL(i,s,wxe(e,n),o);return a.errorHandler=dZ(t),a}function bxe(e,t){const n=t.fullServerUrl(),r=_A(n,e.host,e._protocol),i="DELETE",s=e.maxOperationRetryTime;function o(l,c){}const a=new vL(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=dZ(t),a}function xxe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Sxe(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=xxe(null,t)),r}function _xe(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let N=0;N<2;N++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Sxe(t,r,i),u=vxe(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=lg.getBlob(h,r,p);if(m===null)throw Vbe();const y={name:c.fullPath},w=_A(s,e.host,e._protocol),b="POST",S=e.maxUploadRetryTime,E=new vL(w,b,yxe(e,n),S);return E.urlParams=y,E.headers=o,E.body=m.uploadData(),E.errorHandler=uZ(t),E}class Exe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=t0.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=t0.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=t0.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i,s){if(this.sent_)throw ZC("cannot .send() more than once");if(Yg(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ZC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ZC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ZC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ZC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Txe extends Exe{initXhr(){this.xhr_.responseType="text"}}function yL(){return new Txe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,n){this._service=t,n instanceof vu?this._location=n:this._location=vu.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new E0(t,n)}get root(){const t=new vu(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oZ(this._location.path)}get storage(){return this._service}get parent(){const t=uxe(this._location.path);if(t===null)return null;const n=new vu(this._location.bucket,t);return new E0(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw Gbe(t)}}function Rxe(e,t,n){e._throwIfRoot("uploadBytes");const r=_xe(e.storage,e._location,aZ(),new lg(t,!0),n);return e.storage.makeRequestWithTokens(r,yL).then(i=>({metadata:i,ref:e}))}function Axe(e){e._throwIfRoot("getDownloadURL");const t=Cxe(e.storage,e._location,aZ());return e.storage.makeRequestWithTokens(t,yL).then(n=>{if(n===null)throw Hbe();return n})}function kxe(e){e._throwIfRoot("deleteObject");const t=bxe(e.storage,e._location);return e.storage.makeRequestWithTokens(t,yL)}function Pxe(e,t){const n=dxe(e._location.path,t),r=new vu(e._location.bucket,n);return new E0(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dxe(e){return/^[A-Za-z]+:\/\//.test(e)}function Fxe(e,t){return new E0(e,t)}function hZ(e,t){if(e instanceof wL){const n=e;if(n._bucket==null)throw Bbe();const r=new E0(n,n._bucket);return t!=null?hZ(r,t):r}else return t!==void 0?Pxe(e,t):e}function Ixe(e,t){if(t&&Dxe(t)){if(e instanceof wL)return Fxe(e,t);throw SF("To use ref(service, url), the first argument must be a Storage instance.")}else return hZ(e,t)}function IH(e,t){const n=t?.[$X];return n==null?null:vu.makeFromBucketSpec(n,e)}function Mxe(e,t,n,r={}){e.host=`${t}:${n}`;const i=Yg(t);i&&(hO(`https://${e.host}/b`),fO("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:kK(s,e.app.options.projectId))}class wL{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=JX,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Rbe,this._maxUploadRetryTime=Abe,this._requests=new Set,i!=null?this._bucket=vu.makeFromBucketSpec(i,this._host):this._bucket=IH(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vu.makeFromBucketSpec(this._url,t):this._bucket=IH(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){FH("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){FH("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new E0(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new Ube(eZ());{const o=exe(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const MH="@firebase/storage",OH="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ="storage";function Oxe(e,t,n){return e=Rs(e),Rxe(e,t,n)}function Lxe(e){return e=Rs(e),Axe(e)}function Nxe(e){return e=Rs(e),kxe(e)}function pZ(e,t){return e=Rs(e),Ixe(e,t)}function Bxe(e=mO(),t){e=Rs(e);const r=eA(e,fZ).getImmediate({identifier:t}),i=TK("storage");return i&&Vxe(r,...i),r}function Vxe(e,t,n,r={}){Mxe(e,t,n,r)}function Hxe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new wL(n,r,i,t,Y0)}function zxe(){C0(new Tg(fZ,Hxe,"PUBLIC").setMultipleInstances(!0)),ef(MH,OH,""),ef(MH,OH,"esm2020")}zxe();const CL=FK(Qme),bL=uye(CL),Bl=lbe(CL),gZ=Bxe(CL);var Ln=(e=>(e.TEACHER="TEACHER",e.STUDENT="STUDENT",e.ADMINISTRATOR="ADMINISTRATOR",e))(Ln||{});const EA="users",Gxe=async(e,t)=>{await XX(lh(Bl,EA,t),e)},Uxe=async e=>(await ybe(lh(Bl,EA,e))).data(),xL=async()=>(await fL(u1(Q0(Bl,EA),cL("role","==",Ln.STUDENT)))).docs.map(t=>t.data()),Wxe=async(e,t)=>{await FT(lh(Bl,EA,e),{isActive:t})},jxe=async(e,t)=>{const n=e.includes("@")?e:`${e}@mail.com`,r=await q0e(bL,n,t);return await Uxe(r.user.uid)},mZ=async e=>{const t=["red","blue","green","yellow","purple","orange","pink","brown","black","white","gray","silver","gold","beige","cyan","magenta","maroon","navy","olive","teal","lime","indigo","violet","turquoise","coral","salmon","crimson","khaki","lavender","mint","ivory","chocolate","tan","plum","orchid","azure","amber","peach","apricot","burgundy","caramel","charcoal","emerald","jade","ruby","sapphire","topaz","bronze","copper","mustard","fuchsia","sky","rose","sand","seafoam","forest","auburn","denim","hazel","mulberry"],r=(()=>{const s=t[Math.floor(Math.random()*(t.length-1))],o=Math.floor(Math.random()*900)+100;return s+o})(),i=await Z0e(bL,e.email,r);return e={...e,id:i.user.uid},await Gxe(e,i.user.uid),{user:e,password:r}},Kxe=async()=>{await $0e(bL)},LH=e=>{let t;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=u??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,i,a);return a},Yxe=e=>e?LH(e):LH,Xxe=e=>e;function Zxe(e,t=Xxe){const n=Ve.useSyncExternalStore(e.subscribe,Ve.useCallback(()=>t(e.getState()),[e,t]),Ve.useCallback(()=>t(e.getInitialState()),[e,t]));return Ve.useDebugValue(n),n}const NH=e=>{const t=Yxe(e),n=r=>Zxe(t,r);return Object.assign(n,t),n},d1=e=>e?NH(e):NH,dh=d1(e=>({user:null,setUser:t=>e({user:t})})),BH=({onNavigate:e})=>{const t=NR(),{user:n,setUser:r}=dh(),i=a=>{t(a),e&&e()},s=()=>{Kxe(),t("/"),r(null),localStorage.removeItem("user")},o=n?.role===Ln.TEACHER||n?.role===Ln.ADMINISTRATOR;return B.jsxs(pce,{children:[o&&B.jsx(ou,{icon:B.jsx(Kf,{size:18}),onClick:()=>i("/dashboard/estudiantes"),children:"Students"}),B.jsxs(v5,{icon:B.jsx(e6,{size:18}),label:"Workshop 1",children:[B.jsx(ou,{icon:B.jsx(FP,{size:18}),onClick:()=>i("/dashboard/mapa"),children:"Interactive Map"}),o&&B.jsx(ou,{icon:B.jsx(Ipe,{size:18}),onClick:()=>i("/dashboard/grupos"),children:"Groups"}),B.jsx(ou,{icon:B.jsx(kpe,{size:18}),onClick:()=>i("/dashboard/galeria/default-session"),children:"Gallery"}),B.jsx(ou,{icon:B.jsx(C_,{size:18}),onClick:()=>i("/dashboard/practice_1"),children:"Practice Language Corner"})]}),B.jsxs(v5,{icon:B.jsx(e6,{size:18}),label:"Workshop 2",children:[B.jsx(ou,{icon:B.jsx(C_,{size:18}),onClick:()=>i("/dashboard/research_exploration"),children:"Research and Exploration"}),B.jsx(ou,{icon:B.jsx(C_,{size:18}),onClick:()=>i("/dashboard/cultural_stories_and_expressions"),children:"Cultural Stories and Expressions"}),B.jsx(ou,{icon:B.jsx(C_,{size:18}),onClick:()=>i("/dashboard/practice_2"),children:"Practice Language Corner"})]}),B.jsx(ou,{icon:B.jsx(lO,{size:18}),onClick:()=>i("/dashboard/chatbot"),children:"Chatbot"}),B.jsx(ou,{icon:B.jsx(ope,{size:18}),onClick:()=>i("/dashboard/chatbot_usage"),children:"Uso del Chatbot"}),B.jsx(ou,{icon:B.jsx(FP,{size:18}),onClick:()=>i("/dashboard/bogota_locations"),children:"Bogota Localities"}),B.jsx(ou,{icon:B.jsx(FP,{size:18}),onClick:()=>i("/dashboard/bogota_interactive_map"),children:"Bogota Interactive Map"}),B.jsx(ou,{icon:B.jsx(Npe,{size:18}),onClick:s,children:"Logout"})]})},qxe=()=>{const[e,t]=I.useState(!1);return B.jsxs("div",{className:"d-flex flex-column vh-100",children:[B.jsx(age,{onMobileMenuToggle:()=>t(!0)}),B.jsxs("div",{className:"flex-grow-1 d-flex",children:[B.jsx("div",{className:"d-none d-lg-block",children:B.jsx(dce,{breakPoint:"lg",collapsed:!1,style:{height:"100%"},className:"bg-dark",children:B.jsx(BH,{})})}),B.jsx("div",{className:"flex-grow-1 p-3",style:{overflowY:"auto"},children:B.jsx(Aae,{})})]}),B.jsxs(fb,{show:e,onHide:()=>t(!1),placement:"end",children:[B.jsx(fb.Header,{closeButton:!0,children:B.jsx(fb.Title,{children:"Menu"})}),B.jsx(fb.Body,{children:B.jsx(BH,{onNavigate:()=>t(!1)})})]})]})};function vZ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=vZ(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function n0(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=vZ(e))&&(r&&(r+=" "),r+=t);return r}function Qxe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Qxe(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var h1=e=>typeof e=="number"&&!isNaN(e),T0=e=>typeof e=="string",cp=e=>typeof e=="function",Jxe=e=>T0(e)||h1(e),_F=e=>T0(e)||cp(e)?e:null,$xe=(e,t)=>e===!1||h1(e)&&e>0?e:t,EF=e=>I.isValidElement(e)||T0(e)||cp(e)||h1(e);function eSe(e,t,n=300){let{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function tSe({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:c,isIn:u,playToast:h}){let p=n?`${e}--${o}`:e,m=n?`${t}--${o}`:t,y=I.useRef(0);return I.useLayoutEffect(()=>{let w=c.current,b=p.split(" "),S=E=>{E.target===c.current&&(h(),w.removeEventListener("animationend",S),w.removeEventListener("animationcancel",S),y.current===0&&E.type!=="animationcancel"&&w.classList.remove(...b))};w.classList.add(...b),w.addEventListener("animationend",S),w.addEventListener("animationcancel",S)},[]),I.useEffect(()=>{let w=c.current,b=()=>{w.removeEventListener("animationend",b),r?eSe(w,l,i):l()};u||(a?b():(y.current=1,w.className+=` ${m}`,w.addEventListener("animationend",b)))},[u]),Ve.createElement(Ve.Fragment,null,s)}}function VH(e,t){return{content:yZ(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function yZ(e,t,n=!1){return I.isValidElement(e)&&!T0(e.type)?I.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):cp(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function nSe({closeToast:e,theme:t,ariaLabel:n="close"}){return Ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},Ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rSe({delay:e,isRunning:t,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:c,theme:u}){let h=i||o&&a===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(p.transform=`scaleX(${a})`);let m=n0("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${u}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),y=cp(s)?s({rtl:l,type:r,defaultClassName:m}):n0(m,s),w={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{c&&n()}};return Ve.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Ve.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${u} Toastify__progress-bar--${r}`}),Ve.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:y,style:p,...w}))}var iSe=1,wZ=()=>`${iSe++}`;function sSe(e,t,n){let r=1,i=0,s=[],o=[],a=t,l=new Map,c=new Set,u=E=>(c.add(E),()=>c.delete(E)),h=()=>{o=Array.from(l.values()),c.forEach(E=>E())},p=({containerId:E,toastId:_,updateId:N})=>{let V=E?E!==e:e!==1,M=l.has(_)&&N==null;return V||M},m=(E,_)=>{l.forEach(N=>{var V;(_==null||_===N.props.toastId)&&((V=N.toggle)==null||V.call(N,E))})},y=E=>{var _,N;(N=(_=E.props)==null?void 0:_.onClose)==null||N.call(_,E.removalReason),E.isActive=!1},w=E=>{if(E==null)l.forEach(y);else{let _=l.get(E);_&&y(_)}h()},b=()=>{i-=s.length,s=[]},S=E=>{var _,N;let{toastId:V,updateId:M}=E.props,O=M==null;E.staleId&&l.delete(E.staleId),E.isActive=!0,l.set(V,E),h(),n(VH(E,O?"added":"updated")),O&&((N=(_=E.props).onOpen)==null||N.call(_))};return{id:e,props:a,observe:u,toggle:m,removeToast:w,toasts:l,clearQueue:b,buildToast:(E,_)=>{if(p(_))return;let{toastId:N,updateId:V,data:M,staleId:O,delay:z}=_,H=V==null;H&&i++;let X={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(_).filter(([U,Z])=>Z!=null)),toastId:N,updateId:V,data:M,isIn:!1,className:_F(_.className||a.toastClassName),progressClassName:_F(_.progressClassName||a.progressClassName),autoClose:_.isLoading?!1:$xe(_.autoClose,a.autoClose),closeToast(U){l.get(N).removalReason=U,w(N)},deleteToast(){let U=l.get(N);if(U!=null){if(n(VH(U,"removed")),l.delete(N),i--,i<0&&(i=0),s.length>0){S(s.shift());return}h()}}};X.closeButton=a.closeButton,_.closeButton===!1||EF(_.closeButton)?X.closeButton=_.closeButton:_.closeButton===!0&&(X.closeButton=EF(a.closeButton)?a.closeButton:!0);let Q={content:E,props:X,staleId:O};a.limit&&a.limit>0&&i>a.limit&&H?s.push(Q):h1(z)?setTimeout(()=>{S(Q)},z):S(Q)},setProps(E){a=E},setToggle:(E,_)=>{let N=l.get(E);N&&(N.toggle=_)},isToastActive:E=>{var _;return(_=l.get(E))==null?void 0:_.isActive},getSnapshot:()=>o}}var sc=new Map,Ox=[],TF=new Set,oSe=e=>TF.forEach(t=>t(e)),CZ=()=>sc.size>0;function aSe(){Ox.forEach(e=>xZ(e.content,e.options)),Ox=[]}var lSe=(e,{containerId:t})=>{var n;return(n=sc.get(t||1))==null?void 0:n.toasts.get(e)};function bZ(e,t){var n;if(t)return!!((n=sc.get(t))!=null&&n.isToastActive(e));let r=!1;return sc.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function cSe(e){if(!CZ()){Ox=Ox.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||Jxe(e))sc.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=sc.get(e.containerId);t?t.removeToast(e.id):sc.forEach(n=>{n.removeToast(e.id)})}}var uSe=(e={})=>{sc.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function xZ(e,t){EF(e)&&(CZ()||Ox.push({content:e,options:t}),sc.forEach(n=>{n.buildToast(e,t)}))}function dSe(e){var t;(t=sc.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function SZ(e,t){sc.forEach(n=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===n.id)&&n.toggle(e,t?.id)})}function hSe(e){let t=e.containerId||1;return{subscribe(n){let r=sSe(t,e,oSe);sc.set(t,r);let i=r.observe(n);return aSe(),()=>{i(),sc.delete(t)}},setProps(n){var r;(r=sc.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=sc.get(t))==null?void 0:n.getSnapshot()}}}function fSe(e){return TF.add(e),()=>{TF.delete(e)}}function pSe(e){return e&&(T0(e.toastId)||h1(e.toastId))?e.toastId:wZ()}function f1(e,t){return xZ(e,t),t.toastId}function TA(e,t){return{...t,type:t&&t.type||e,toastId:pSe(t)}}function RA(e){return(t,n)=>f1(t,TA(e,n))}function _r(e,t){return f1(e,TA("default",t))}_r.loading=(e,t)=>f1(e,TA("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function gSe(e,{pending:t,error:n,success:r},i){let s;t&&(s=T0(t)?_r.loading(t,i):_r.loading(t.render,{...i,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(c,u,h)=>{if(u==null){_r.dismiss(s);return}let p={type:c,...o,...i,data:h},m=T0(u)?{render:u}:u;return s?_r.update(s,{...p,...m}):_r(m.render,{...p,...m}),h},l=cp(e)?e():e;return l.then(c=>a("success",r,c)).catch(c=>a("error",n,c)),l}_r.promise=gSe;_r.success=RA("success");_r.info=RA("info");_r.error=RA("error");_r.warning=RA("warning");_r.warn=_r.warning;_r.dark=(e,t)=>f1(e,TA("default",{theme:"dark",...t}));function mSe(e){cSe(e)}_r.dismiss=mSe;_r.clearWaitingQueue=uSe;_r.isActive=bZ;_r.update=(e,t={})=>{let n=lSe(e,t);if(n){let{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:wZ()};s.toastId!==e&&(s.staleId=e);let o=s.render||i;delete s.render,f1(o,s)}};_r.done=e=>{_r.update(e,{progress:1})};_r.onChange=fSe;_r.play=e=>SZ(!0,e);_r.pause=e=>SZ(!1,e);function vSe(e){var t;let{subscribe:n,getSnapshot:r,setProps:i}=I.useRef(hSe(e)).current;i(e);let s=(t=I.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function o(a){if(!s)return[];let l=new Map;return e.newestOnTop&&s.reverse(),s.forEach(c=>{let{position:u}=c.props;l.has(u)||l.set(u,[]),l.get(u).push(c)}),Array.from(l,c=>a(c[0],c[1]))}return{getToastToRender:o,isToastActive:bZ,count:s?.length}}function ySe(e){let[t,n]=I.useState(!1),[r,i]=I.useState(!1),s=I.useRef(null),o=I.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:h}=e;dSe({id:e.toastId,containerId:e.containerId,fn:n}),I.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{m()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||S(),window.addEventListener("focus",b),window.addEventListener("blur",S)}function m(){window.removeEventListener("focus",b),window.removeEventListener("blur",S)}function y(O){if(e.draggable===!0||e.draggable===O.pointerType){E();let z=s.current;o.canCloseOnClick=!0,o.canDrag=!0,z.style.transition="none",e.draggableDirection==="x"?(o.start=O.clientX,o.removalDistance=z.offsetWidth*(e.draggablePercent/100)):(o.start=O.clientY,o.removalDistance=z.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function w(O){let{top:z,bottom:H,left:X,right:Q}=s.current.getBoundingClientRect();O.nativeEvent.type!=="touchend"&&e.pauseOnHover&&O.clientX>=X&&O.clientX<=Q&&O.clientY>=z&&O.clientY<=H?S():b()}function b(){n(!0)}function S(){n(!1)}function E(){o.didMove=!1,document.addEventListener("pointermove",N),document.addEventListener("pointerup",V)}function _(){document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",V)}function N(O){let z=s.current;if(o.canDrag&&z){o.didMove=!0,t&&S(),e.draggableDirection==="x"?o.delta=O.clientX-o.start:o.delta=O.clientY-o.start,o.start!==O.clientX&&(o.canCloseOnClick=!1);let H=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;z.style.transform=`translate3d(${H},0)`,z.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function V(){_();let O=s.current;if(o.canDrag&&o.didMove&&O){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),e.closeToast(!0),e.collapseAll();return}O.style.transition="transform 0.2s, opacity 0.2s",O.style.removeProperty("transform"),O.style.removeProperty("opacity")}}let M={onPointerDown:y,onPointerUp:w};return a&&l&&(M.onMouseEnter=S,e.stacked||(M.onMouseLeave=b)),h&&(M.onClick=O=>{u&&u(O),o.canCloseOnClick&&c(!0)}),{playToast:b,pauseToast:S,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:M}}var wSe=typeof window<"u"?I.useLayoutEffect:I.useEffect,AA=({theme:e,type:t,isLoading:n,...r})=>Ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function CSe(e){return Ve.createElement(AA,{...e},Ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bSe(e){return Ve.createElement(AA,{...e},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function xSe(e){return Ve.createElement(AA,{...e},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function SSe(e){return Ve.createElement(AA,{...e},Ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function _Se(){return Ve.createElement("div",{className:"Toastify__spinner"})}var RF={info:bSe,warning:CSe,success:xSe,error:SSe,spinner:_Se},ESe=e=>e in RF;function TSe({theme:e,type:t,isLoading:n,icon:r}){let i=null,s={theme:e,type:t};return r===!1||(cp(r)?i=r({...s,isLoading:n}):I.isValidElement(r)?i=I.cloneElement(r,s):n?i=RF.spinner():ESe(t)&&(i=RF[t](s))),i}var RSe=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=ySe(e),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:h,closeToast:p,transition:m,position:y,className:w,style:b,progressClassName:S,updateId:E,role:_,progress:N,rtl:V,toastId:M,deleteToast:O,isIn:z,isLoading:H,closeOnClick:X,theme:Q,ariaLabel:U}=e,Z=n0("Toastify__toast",`Toastify__toast-theme--${Q}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":V},{"Toastify__toast--close-on-click":X}),q=cp(w)?w({rtl:V,position:y,type:u,defaultClassName:Z}):n0(Z,w),me=TSe(e),se=!!N||!l,ue={closeToast:p,type:u,theme:Q},Pe=null;return o===!1||(cp(o)?Pe=o(ue):I.isValidElement(o)?Pe=I.cloneElement(o,ue):Pe=nSe(ue)),Ve.createElement(m,{isIn:z,done:O,position:y,preventExitTransition:n,nodeRef:r,playToast:s},Ve.createElement("div",{id:M,tabIndex:0,onClick:c,"data-in":z,className:q,...i,style:b,ref:r,...z&&{role:_,"aria-label":U}},me!=null&&Ve.createElement("div",{className:n0("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},me),yZ(a,e,!t),Pe,!e.customProgressBar&&Ve.createElement(rSe,{...E&&!se?{key:`p-${E}`}:{},rtl:V,theme:Q,delay:l,isRunning:t,isIn:z,closeToast:p,hide:h,type:u,className:S,controlledProgress:se,progress:N||0})))},ASe=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),_Z=tSe(ASe("bounce",!0)),kSe={position:"top-right",transition:_Z,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function SL(e){let t={...kSe,...e},n=e.stacked,[r,i]=I.useState(!0),s=I.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=vSe(t),{className:c,style:u,rtl:h,containerId:p,hotKeys:m}=t;function y(b){let S=n0("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":h});return cp(c)?c({position:b,rtl:h,defaultClassName:S}):n0(S,_F(c))}function w(){n&&(i(!0),_r.play())}return wSe(()=>{var b;if(n){let S=s.current.querySelectorAll('[data-in="true"]'),E=12,_=(b=t.position)==null?void 0:b.includes("top"),N=0,V=0;Array.from(S).reverse().forEach((M,O)=>{let z=M;z.classList.add("Toastify__toast--stacked"),O>0&&(z.dataset.collapsed=`${r}`),z.dataset.pos||(z.dataset.pos=_?"top":"bot");let H=N*(r?.2:1)+(r?0:E*O);z.style.setProperty("--y",`${_?H:H*-1}px`),z.style.setProperty("--g",`${E}`),z.style.setProperty("--s",`${1-(r?V:0)}`),N+=z.offsetHeight,V+=.025})}},[r,l,n]),I.useEffect(()=>{function b(S){var E;let _=s.current;m(S)&&((E=_.querySelector('[tabIndex="0"]'))==null||E.focus(),i(!1),_r.pause()),S.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(i(!0),_r.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[m]),Ve.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{n&&(i(!1),_r.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,S)=>{let E=S.length?{...u}:{...u,pointerEvents:"none"};return Ve.createElement("div",{tabIndex:-1,className:y(b),"data-stacked":n,style:E,key:`c-${b}`},S.map(({content:_,props:N})=>Ve.createElement(RSe,{...N,stacked:n,collapseAll:w,isIn:a(N.toastId,N.containerId),key:`t-${N.key}`},_)))}))}const EZ=e=>{if(e instanceof uh)switch(e.code){case"auth/wrong-password":return"Contrasea invlida";case"auth/invalid-credential":return"Correo electrnico o contrasea invlidos";case"auth/email-already-in-use":return"El correo electrnico ya est en uso";default:return"Ocurri un error al iniciar sesin"}return"Ocurri un error al iniciar sesin"},PSe=()=>{const{setUser:e}=dh(),[t,n]=I.useState(""),[r,i]=I.useState(""),[s,o]=I.useState(!1),[a,l]=I.useState(!1),c=h=>{h.preventDefault(),l(!0),jxe(t,r).then(p=>{if(console.log(p),!p){_r.error("Correo electrnico o contrasea invlidos",{autoClose:1500,position:"top-right",closeOnClick:!1,pauseOnHover:!1});return}if(!p?.isActive){_r.error("Este usuario se encuentra desactivado",{autoClose:1500,position:"top-right",closeOnClick:!1,pauseOnHover:!1});return}e(p),localStorage.setItem("user",JSON.stringify(p))}).catch(p=>{_r.error(EZ(p),{autoClose:1500,position:"top-right",closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{l(!1)})},u=()=>{o(h=>!h)};return B.jsxs(Zy,{className:"d-flex align-items-center justify-content-center min-vh-100",children:[B.jsx(ew,{className:"w-100 justify-content-center",children:B.jsx(Qh,{xs:12,sm:10,md:6,lg:4,children:B.jsxs(ei,{className:"p-4 shadow",children:[B.jsx("h2",{className:"text-center mb-4",children:"Iniciar sesin"}),B.jsxs(ar,{onSubmit:c,children:[B.jsxs(ar.Group,{className:"mb-3",controlId:"formEmail",children:[B.jsx(ar.Label,{children:"Correo electrnico o usuario"}),B.jsx(ar.Control,{type:"text",placeholder:"ejemplo@email.com",value:t,onChange:h=>n(h.target.value),required:!0})]}),B.jsxs(ar.Group,{className:"mb-3",controlId:"formPassword",children:[B.jsx(ar.Label,{children:"Contrasea"}),B.jsxs(rc,{children:[B.jsx(ar.Control,{type:s?"text":"password",placeholder:"",value:r,onChange:h=>i(h.target.value),required:!0}),B.jsx(hi,{variant:"outline-secondary",onClick:u,tabIndex:-1,children:s?B.jsx(Spe,{size:20}):B.jsx(cO,{size:20})})]})]}),B.jsx("div",{className:"d-grid",children:B.jsx(hi,{variant:"primary",type:"submit",disabled:a,children:a?B.jsx(Ll,{animation:"border",size:"sm",className:"me-2"}):"Ingresar"})})]})]})})}),B.jsx(SL,{})]})},DSe="/TutorIngles/assets/avatar_1-C53UKM51.mp4",FSe="/TutorIngles/assets/avatar_2-B2MM8iM6.mp4",ISe="/TutorIngles/assets/avatar_3-DdalsJRq.mp4",MSe="/TutorIngles/assets/avatar_4-BVmCFxuO.mp4",OSe="/TutorIngles/assets/avatar_5-DQdjSsDe.mp4",HH="/TutorIngles/assets/mapa_colombia-5TUvGaog.png",LSe="/TutorIngles/assets/choco-BBZz_lSB.png",NSe="/TutorIngles/assets/narino-BPiHBDGg.png",BSe="/TutorIngles/assets/palenquera-CKdrs8GG.png",VSe="/TutorIngles/assets/nasa-Bgu4UTQT.png",HSe="/TutorIngles/assets/ni%C3%B1osikuani-CNppRRPB.png",zSe=[{id:1,region:"Vichada",position:{x:630,y:490},avatarImage:HSe,text:"Hello, my name is Jomo, and I belong to the Sikuani indigenous people. I am from the department of Vichada and I am ten years old. My language is Sikuani. I like to fish, hunt, gather fruits, and live in harmony with nature. My favorite tradition in my community is when we dance and sing elcachodevenado.",videoSrc:DSe},{id:2,region:"Cauca",position:{x:150,y:620},avatarImage:VSe,text:'Hello everyone. My name is Wiya, which means "bird" in the Nasa Yuwe language. I am eleven years old. I am from a town called Inz and I speak Nasa Yuwe, Spanish, and English. I like to play palmo, a traditional game in my community where we have to throw an object into a hole. My favorite family tradition is when we weave ruanas and backpacks calledkwetanderas.',videoSrc:FSe},{id:3,region:"Bolvar",position:{x:300,y:240},avatarImage:BSe,text:"Hi there. My name is Rosalina; this name represents the ancestral wisdom of traditional medicine. I am twelve years old. I am from San Basilio de Palenque, located in the department of Bolvar. I speak Spanish, but my family also speaks other languages, such as Palenquera. I love designing colorful dresses for the women in my community with my grandmother. I also enjoy playingthemarimba.",videoSrc:ISe},{id:4,region:"Nario",position:{x:140,y:680},avatarImage:NSe,text:"Hello everyone. My name is Santiago. I am nine years old, I speak Spanish and English, and I was born in the city of San Juan de Pasto in Colombia. I like my city because it has very beautiful tourist sites such as La Laguna de la Cocha and the Gold Museum. My favorite food is pusandao and pailaicecream.",videoSrc:MSe},{id:5,region:"Choc",position:{x:150,y:440},avatarImage:LSe,text:"Hello everyone. My name is Camila. I am ten years old, I speak Spanish and English, and I was born in the city of Quibd, in the department of Choc. I like to dance chirima, which is a traditional dance from my region. My favorite food is fish, sancocho and I love chontaduro withsaltandsugar.",videoSrc:OSe}];function GSe(){const[e,t]=I.useState(null),[n,r]=I.useState(!1),i=I.useRef(null),s=()=>{e&&i.current&&(i.current.muted=!1,i.current.paused?i.current.play():i.current.pause())};return I.useEffect(()=>{const o=i.current;if(!o)return;const a=()=>r(!0),l=()=>r(!1),c=()=>r(!1);return o.addEventListener("play",a),o.addEventListener("pause",l),o.addEventListener("ended",c),()=>{o.removeEventListener("play",a),o.removeEventListener("pause",l),o.removeEventListener("ended",c)}},[e]),I.useEffect(()=>{e||r(!1)},[e]),B.jsxs("div",{className:"map-container",children:[B.jsx("p",{className:"instruction-text",children:"Click to see the avatars"}),B.jsx("img",{src:HH,alt:"Mapa de Colombia",className:"map-image",onError:o=>{const a=o.target;a.onerror=null,a.src=HH,console.error("Error loading map image")}}),zSe.map(o=>B.jsx("button",{className:"map-point",style:{left:`${o.position.x}px`,top:`${o.position.y}px`},onClick:()=>t(o),"aria-label":`Ver avatar de ${o.region}`},o.id)),B.jsxs(Yi,{show:!!e,onHide:()=>t(null),centered:!0,children:[B.jsx(Yi.Header,{closeButton:!0,children:B.jsx(Yi.Title,{children:e?.region})}),B.jsx(Yi.Body,{className:"text-center",children:e&&B.jsxs(B.Fragment,{children:[e.videoSrc?B.jsx("video",{ref:i,src:e.videoSrc,className:"avatar-video",width:"80%",controls:!1}):B.jsx("img",{src:e.avatarImage,alt:`Avatar de ${e.region}`,className:"avatar-image",onError:o=>{const a=o.target;a.onerror=null,a.src="/assets/default-avatar.png"}}),B.jsx("p",{className:"mt-3",children:e.text}),B.jsx(hi,{variant:"primary",onClick:s,children:n?" Pause":" Play"})]})})]})]})}var R0=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const r=t?this.allAsyncListeners:this.allSyncListeners;let i=r.get(e);return!i&&n&&(i=new Set,r.set(e,i)),i}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const r=this.getListeners(e,n,!1);r&&(r.delete(t),r.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){this.getGlobalListeners(t).add(e)}removeGlobalListener(e,t=!1){this.getGlobalListeners(t).delete(e)}dispatchEvent(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const{frameworkOverrides:r}=this,i=a=>{const l=r?()=>r.wrapIncoming(a):a;t?this.dispatchAsync(l):l()},s=this.getListeners(n,t,!1);if((s?.size??0)>0){const a=new Set(s);for(const l of a)s?.has(l)&&i(()=>l(e))}const o=this.getGlobalListeners(t);if(o.size>0){const a=new Set(o);for(const l of a)i(()=>l(n,e))}}getGlobalListeners(e){return e?this.globalAsyncListeners:this.globalSyncListeners}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function USe(e,t){return t}function TZ(e){return e?.getLocaleTextFunc()??USe}function WSe(e,t,n,r){const i=t[n];return e.getLocaleTextFunc()(n,typeof i=="function"?i(r):i,r)}function Xf(e){return e==null||e===""?null:e}function nn(e){return e!=null&&e!==""}function _s(e){return!nn(e)}function AF(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Lx(e,t){const n=e?JSON.stringify(e):null,r=t?JSON.stringify(t):null;return n===r}function jSe(e,t,n=!1){const r=e==null,i=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),r&&i)return 0;if(r)return-1;if(i)return 1;function s(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!n)return s(e,t);try{return e.localeCompare(t)}catch{return s(e,t)}}var RZ=new Set(["__proto__","constructor","prototype"]);function KSe(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e).filter(r=>!RZ.has(r)))t(n,e[n])}}function lc(e,t,n=!0,r=!1){nn(t)&&KSe(t,(i,s)=>{let o=e[i];o!==s&&(r&&o==null&&s!=null&&typeof s=="object"&&s.constructor===Object&&(o={},e[i]=o),zH(s)&&zH(o)&&!Array.isArray(o)?lc(o,s,n,r):(n||s!==void 0)&&(e[i]=s))})}function zb(e,t,n){if(!t||!e)return;if(!n)return e[t];const r=t.split(".");let i=e;for(let s=0;s<r.length;s++){if(i==null)return;i=i[r[s]]}return i}function zH(e){return typeof e=="object"&&e!==null}var _L=class Lm{static applyGlobalGridOptions(t){if(!Lm.gridOptions)return{...t};let n={};return lc(n,Lm.gridOptions,!0,!0),Lm.mergeStrategy==="deep"?lc(n,t,!0,!0):n={...n,...t},Lm.gridOptions.context&&(n.context=Lm.gridOptions.context),t.context&&(Lm.mergeStrategy==="deep"&&n.context&&lc(t.context,n.context,!0,!0),n.context=t.context),n}};_L.gridOptions=void 0;_L.mergeStrategy="shallow";var AZ=_L;function YSe(e){return AZ.gridOptions?.[e]}var kZ={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,rowDragInsertDelay:500,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1,enableFilterHandlers:!1};function hh(e,t,n){n==null||typeof n=="string"&&n==""?PZ(e,t):fh(e,t,n)}function fh(e,t,n){e.setAttribute(DZ(t),n.toString())}function PZ(e,t){e.removeAttribute(DZ(t))}function DZ(e){return`aria-${e}`}function A0(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function XSe(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function ZSe(e){return e.getAttribute("aria-label")}function cw(e,t){hh(e,"label",t)}function Nx(e,t){hh(e,"labelledby",t)}function FZ(e,t){hh(e,"live",t)}function qSe(e,t){hh(e,"atomic",t)}function QSe(e,t){hh(e,"relevant",t)}function JSe(e,t){hh(e,"invalid",t)}function $Se(e,t){hh(e,"disabled",t)}function IZ(e,t){hh(e,"hidden",t)}function kF(e,t){fh(e,"expanded",t)}function e1e(e,t){fh(e,"setsize",t)}function t1e(e,t){fh(e,"posinset",t)}function n1e(e,t){fh(e,"rowcount",t)}function MZ(e,t){fh(e,"rowindex",t)}function r1e(e,t){fh(e,"rowspan",t)}function i1e(e,t){fh(e,"colcount",t)}function OZ(e,t){fh(e,"colindex",t)}function s1e(e,t){fh(e,"colspan",t)}function o1e(e,t){fh(e,"sort",t)}function a1e(e){PZ(e,"sort")}function PF(e,t){hh(e,"selected",t)}function l1e(e,t){hh(e,"controls",t)}function c1e(e,t){l1e(e,t.id),Nx(t,e.id)}function GH(e,t){hh(e,"owns",t)}function kA(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var KP,YP,XP,ZP,DF,FF,qP;function $0(){return KP===void 0&&(KP=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),KP}function LZ(){return YP===void 0&&(YP=/(firefox)/i.test(navigator.userAgent)),YP}function NZ(){return XP===void 0&&(XP=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),XP}function r0(){return ZP===void 0&&(ZP=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),ZP}function IF(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!LZ())?null:t.toString()}function u1e(){if(qP!==void 0)return qP;if(!document.body)return-1;let e=1e6;const t=LZ()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const r=e*2;if(n.style.height=r+"px",r>t||n.clientHeight!==r)break;e=r}return document.body.removeChild(n),qP=e,e}function d1e(){return FF==null&&BZ(),FF}function BZ(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(FF=n,DF=n===0)}function VZ(){return DF==null&&BZ(),DF}var h1e="[tabindex], input, select, button, textarea, [href]",HZ="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function EL(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,r=t.call(e,"input, select, button, textarea"),i=t.call(e,HZ),s=mf(e);return r&&!i&&s}function Vs(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-hidden",!t),r||IZ(e,!t)}function f1e(e,t,n={}){const{skipAriaHidden:r}=n;e.classList.toggle("ag-invisible",!t),r||IZ(e,!t)}function Bx(e,t){const n="disabled",r=t?s=>s.setAttribute(n,""):s=>s.removeAttribute(n);r(e);const i=e.querySelectorAll("input")??[];for(const s of i)r(s)}function i0(e,t,n){let r=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++r>n)break}else if(e===n)break}return!1}function ev(e){const{height:t,width:n,borderTopWidth:r,borderRightWidth:i,borderBottomWidth:s,borderLeftWidth:o,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:h,marginRight:p,marginBottom:m,marginLeft:y,boxSizing:w}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(r||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(s||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(p||"0"),marginBottom:parseFloat(m||"0"),marginLeft:parseFloat(y||"0"),boxSizing:w}}function TL(e){const t=ev(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Vx(e){const t=ev(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function zZ(e){const{height:t,marginBottom:n,marginTop:r}=ev(e);return Math.floor(t+n+r)}function IT(e){const{width:t,marginLeft:n,marginRight:r}=ev(e);return Math.floor(t+n+r)}function GZ(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:r,borderRightWidth:i,borderBottomWidth:s}=ev(e);return{top:t.top+(n||0),left:t.left+(r||0),right:t.right+(i||0),bottom:t.bottom+(s||0)}}function MT(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function OT(e,t,n){n&&(t*=-1),e.scrollLeft=t}function Au(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function up(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function UZ(e){return!!e.offsetParent}function mf(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!UZ(e)||window.getComputedStyle(e).visibility!=="visible")}function RL(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function IE(e){return()=>{const t=e();return t?WZ(t)||jZ(t):!0}}function WZ(e){return e.clientWidth<e.scrollWidth}function jZ(e){return e.clientHeight<e.scrollHeight}function LT(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):lf(e,t)}function lf(e,t){t=AL(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function Gb(e,t){t=AL(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function AL(e){return typeof e=="number"?`${e}px`:e}function kL(e){return e instanceof Node||e instanceof HTMLElement}function yu(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function vp(e,t,n){const i=tq(e).ResizeObserver,s=i?new i(n):null;return s?.observe(t),()=>s?.disconnect()}function yp(e,t){const n=tq(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var KZ="data-ref",QP;function UH(){return QP??(QP=document.createTextNode(" ")),QP.cloneNode()}function To(e){const{attrs:t,children:n,cls:r,ref:i,role:s,tag:o}=e,a=document.createElement(o);if(r&&(a.className=r),i&&a.setAttribute(KZ,i),s&&a.setAttribute("role",s),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const c of n)c&&(typeof c=="string"?(a.appendChild(document.createTextNode(c)),l=!1):typeof c=="function"?a.appendChild(c()):(l&&(a.appendChild(UH()),l=!1),a.append(To(c)),a.appendChild(UH())))}return a}var WH={};function PL(e,t){WH[t]||(e(),WH[t]=!0)}function k0(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function Ub(e,...t){PL(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function _y(e,...t){PL(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}var p1e={pending:!1,funcs:[]},g1e={pending:!1,funcs:[]};function MF(e,t="setTimeout",n){const r=t==="raf"?g1e:p1e;if(r.funcs.push(e),r.pending)return;r.pending=!0;const i=()=>{const s=r.funcs.slice();r.funcs.length=0,r.pending=!1,s.forEach(o=>o())};t==="raf"?yp(n,i):window.setTimeout(i,0)}function nl(e,t,n){let r;return function(...i){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.isAlive()&&t.apply(s,i)},n)}}function jH(e,t){let n=0;return function(...r){const i=this,s=Date.now();s-n<t||(n=s,e.apply(i,r))}}function m1e(e,t,n=100,r){const i=Date.now();let s=null,o=!1;const a=()=>{const l=Date.now()-i>n;(e()||l)&&(t(),o=!0,s!=null&&(window.clearInterval(s),s=null))};a(),o||(s=window.setInterval(a,10))}var YZ="https://www.ag-grid.com",on="34.1.1",KH=2e3,YH=100,XZ="_version_",ZZ=null,Ey=`${YZ}/javascript-data-grid`;function v1e(e){ZZ=e}function y1e(e){Ey=e}function qZ(e,t,n){return ZZ?.getConsoleMessage(e,t)??[x1e(e,t,n)]}function DL(e,t,n,r){e(`error #${t}`,...qZ(t,n,r))}function w1e(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function C1e(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=w1e(e)),t}function NT(e){return e===void 0?"undefined":e===null?"null":e}function OF(e,t){return`${e}?${t.toString()}`}function b1e(e,t,n){const r=Array.from(t.entries()).sort((s,o)=>o[1].length-s[1].length);let i=OF(e,t);for(const[s,o]of r){if(s===XZ)continue;const a=i.length-n;if(a<=0)break;const l="...",c=a+l.length,u=o.length-c>YH?o.slice(0,o.length-c)+l:o.slice(0,YH)+l;t.set(s,u),i=OF(e,t)}return i}function QZ(e,t){const n=new URLSearchParams;if(n.append(XZ,on),t)for(const s of Object.keys(t))n.append(s,C1e(t[s]));const r=`${Ey}/errors/${e}`,i=OF(r,n);return i.length<=KH?i:b1e(r,n,KH)}var x1e=(e,t,n)=>{const r=QZ(e,t);return`${n?n+` 
`:""}Visit ${r}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function zt(...e){DL(Ub,e[0],e[1])}function Ti(...e){DL(_y,e[0],e[1])}function Cb(e,t,n){DL(_y,e,t,n)}function S1e(e,t){const n=t[0];return`error #${n} `+qZ(n,t[1],e).join(" ")}function cf(...e){return S1e(void 0,e)}function JZ(e,t){return e.get("rowModelType")===t}function Yo(e,t){return JZ(e,"clientSide")}function tv(e,t){return JZ(e,"serverSide")}function il(e,t){return e.get("domLayout")===t}function s0(e){return VT(e)!==void 0}function $Z(e){return typeof e.get("getRowHeight")=="function"}function _1e(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function Ig(e,t,n=!1,r){const{gos:i,environment:s}=e;if(r==null&&(r=s.getDefaultRowHeight()),$Z(i)){if(n)return{height:r,estimated:!0};const l={node:t,data:t.data},c=i.getCallback("getRowHeight")(l);if(LF(c))return c===0&&zt(23),{height:Math.max(1,c),estimated:!1}}if(t.detail&&i.get("masterDetail"))return E1e(i);const o=i.get("rowHeight");return{height:o&&LF(o)?o:r,estimated:!1}}function E1e(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return LF(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function o0(e){const{environment:t,gos:n}=e,r=n.get("rowHeight");if(!r||_s(r))return t.getDefaultRowHeight();const i=t.refreshRowHeightVariable();return i!==-1?i:(zt(24),t.getDefaultRowHeight())}function LF(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function eq(e,t,n){const r=t[e.getDomDataKey()];return r?r[n]:void 0}function P0(e,t,n,r){const i=e.getDomDataKey();let s=t[i];_s(s)&&(s={},t[i]=s),s[n]=r}function Aa(e){const{gos:t,eGridDiv:n}=e;let r=null;const i=t.get("getDocument");return i&&nn(i)?r=i():n&&(r=n.ownerDocument),r&&nn(r)?r:document}function tq(e){return Aa(e).defaultView||window}function Hx(e){return e.eGridDiv.getRootNode()}function js(e){return Hx(e).activeElement}function FL(e){let t=null,n=null;try{t=Aa(e).fullscreenElement}catch{}finally{t||(t=Hx(e));const r=t.querySelector("body");r?n=r:t instanceof ShadowRoot?n=t:t instanceof Document?n=t?.documentElement:n=t}return n}function T1e(e){return FL(e)?.clientWidth??(window.innerWidth||-1)}function R1e(e){return FL(e)?.clientHeight??(window.innerHeight||-1)}function A1e(e,t,n){const i=e.getBoundingClientRect().height,s=T1e(n)-2,o=R1e(n)-2;if(!e.offsetParent)return;const l=GZ(e.offsetParent),{clientY:c,clientX:u}=t;let h=c-l.top-i/2,p=u-l.left-10;const m=Aa(n),y=m.defaultView||window,w=y.pageYOffset||m.documentElement.scrollTop,b=y.pageXOffset||m.documentElement.scrollLeft;s>0&&p+e.clientWidth>s+b&&(p=s+b-e.clientWidth),p<0&&(p=0),o>0&&h+e.clientHeight>o+w&&(h=o+w-e.clientHeight),h<0&&(h=0),e.style.left=`${p}px`,e.style.top=`${h}px`}function nq(e){const t=js(e);return t===null||t===Aa(e).body}function Ty(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function rq(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||il(e,"print"))}function Hh(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function NF(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function iq(e){return e.get("grandTotalRow")}function sq(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function oq(e,t,n){return!!t.group&&!t.footer&&sq(e,n)}function uw(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let r=t(n);return typeof r!="string"&&(PL(()=>zt(25,{id:r}),"getRowIdString"),r=String(r)),r}}function k1e(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function P1e(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Ry(e){return e?.checkboxes??!0}function ME(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function BT(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function JP(e){return e?.hideDisabledCheckboxes??!1}function D1e(e){return typeof e.get("rowSelection")!="string"}function Mg(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function aq(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),r=e.get("suppressRowDeselection");return n&&r?!1:n?"enableDeselection":r?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function F1e(e){const t=aq(e);return t===!0||t==="enableSelection"}function I1e(e){const t=aq(e);return t===!0||t==="enableDeselection"}function BF(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function VT(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t?.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function HT(e){return VT(e)==="multiRow"}function M1e(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function zT(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),r=e.get("groupSelectsFiltered");return n&&r?"filteredDescendants":n?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function lq(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function zx(e){const t=zT(e);return t==="descendants"||t==="filteredDescendants"}function XH(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function O1e(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function wu(e){return e.get("columnMenu")==="legacy"}function L1e(e){return!wu(e)}function N1e(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function B1e(e,t,n){typeof e!="object"&&(e={});const r={...e};return n.forEach(i=>{const s=t[i];typeof s<"u"&&(r[i]=s)}),r}function V1e(e,t){if(!e)return;const n={};let r=!1;if(Object.keys(e).forEach(o=>{n[o]=e[o],r=!0}),!r)return;const i={type:"gridOptionsChanged",options:n};t.dispatchEvent(i);const s={type:"componentStateChanged",...n};t.dispatchEvent(s)}function In(e,t){return e.addGridCommonParams(t)}function cq(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}function OE(e,t){return e[t]??e.gridOptions?.[t]??YSe(t)??kZ[t]}var uq="__ag_Grid_Stop_Propagation",H1e=["touchstart","touchend","touchmove","touchcancel","scroll"],z1e=["wheel"],$P={};function D0(e){e[uq]=!0}function Zf(e){return e[uq]===!0}var dq=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof $P[n]=="boolean")return $P[n];const r=document.createElement(e[n]||"div");return n="on"+n,$P[n]=n in r}})();function hq(e,t,n){let r=t;for(;r;){const i=eq(e,r,n);if(i)return i;r=r.parentElement}return null}function G1e(e,t){return!t||!e?!1:W1e(t).indexOf(e)>=0}function U1e(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function W1e(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():U1e(t)}function j1e(e,t,n,r){const i=fq(n);let s;i!=null&&(s={passive:i}),e&&e.addEventListener&&e.addEventListener(t,n,r,s)}var fq=e=>{const t=H1e.includes(e),n=z1e.includes(e);if(t)return!0;if(n)return!1},_t=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new R0),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.localEventService?.removeEventListener(e,t,n)}dispatchLocalEvent(e){this.localEventService?.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const r of Object.keys(t)){const i=t[r];i&&n.push(this._setupListener(e,r,i))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let r;return K1e(e)?(e.__addEventListener(t,n),r=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?j1e(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),r=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const r=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(r),()=>(r(),this.destroyFunctions=this.destroyFunctions.filter(i=>i!==r),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,r=i=>{if(i.changeSet){if(i.changeSet&&i.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=i.changeSet.id}const s={type:"gridPropertyChanged",changeSet:i.changeSet,source:i.source};t(s)};e.forEach(i=>this.setupGridOptionListener(i,r))}getLocaleTextFunc(){return TZ(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function K1e(e){return e.__addEventListener!==void 0}var Y1e=/[&<>"']/g,X1e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Nw(e){return e?.toString().toString()??null}function LE(e){return Nw(e)?.replace(Y1e,t=>X1e[t])??null}var Z1e={resizable:!0,sortable:!0},q1e=0;function pq(){return q1e++}function Og(e){return e instanceof nv}var nv=class extends _t{constructor(e,t,n,r){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=r,this.isColumn=!0,this.instanceId=pq(),this.autoHeaderHeight=null,this.moving=!1,this.resizing=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new R0,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=LE(n)}destroy(){super.destroy(),this.beans.rowSpanSvc?.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:r}}=this;t?.initCol(this);const i=e.hide;i!==void 0?this.visible=!i:this.visible=!e.initialHide,n?.initCol(this),r?.initCol(this)}setColDef(e,t,n){const r=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),r&&(this.beans.rowSpanSvc?.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan(),this.addPivotListener()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,r=e.get("suppressFieldDotNotation");this.fieldContainsDots=nn(t)&&t.indexOf(".")>=0&&!r,this.tooltipFieldContainsDots=nn(n)&&n.indexOf(".")>=0&&!r}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.beans.tooltipSvc?.initCol(this)}initRowSpan(){this.colDef.spanRows&&this.beans.rowSpanSvc?.register(this)}addPivotListener(){const e=this.beans.pivotColDefSvc,t=this.colDef.pivotValueColumn;!e||!t||this.addManagedListeners(t,{colDefChanged:n=>{const r=e.recreateColDef(this.colDef);this.setColDef(r,r,n.source)}})}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,r=e.initialWidth;return n!=null?t=n:r!=null?t=r:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){return this.beans.showRowGroupCols?.isRowGroupDisplayed(this,e)??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.colEventSvc);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return In(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){return this.beans.cellNavigation?.isSuppressNavigable(this,e)??!1}isCellEditable(e){return this.beans.editSvc?.isCellEditable({rowNode:e,column:this})??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){return this.beans.selectionSvc?.isCellCheckboxSelection(this,e)??!1}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?.suppressPaste??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Z1e[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return In(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return _s(this.sort)}isSorting(){return nn(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){return zt(261),!!this.beans.colHover?.isHovered(this)}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getFirstRealParent(){let e=this.getOriginalParent();for(;e&&e.isPadding();)e=e.getOriginalParent();return e}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return In(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(_s(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(_s(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const r=this.createColumnEvent(e,t);n&&lc(r,n),this.colEventSvc.dispatchEvent(r)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function kl(e){return e instanceof NE}var NE=class extends _t{constructor(e,t,n,r){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=r,this.isColumn=!1,this.expandable=!1,this.instanceId=pq(),this.expandableListenerRemoveCallback=null,this.expanded=!!e?.openByDefault}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}forEachLeafColumn(e){if(this.children)for(const t of this.children)Og(t)?e(t):kl(t)&&t.forEachLeafColumn(e)}addLeafColumns(e){this.children&&this.children.forEach(t=>{Og(t)?e.push(t):kl(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const r=this.findChildrenRemovingPadding();for(let s=0,o=r.length;s<o;s++){const a=r[s];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const i=e&&t&&n;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(r=>{kl(r)&&r.isPadding()?t(r.children):e.push(r)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},Q1e={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function ZH(e,t,n){const r={},i=e.gos;return Object.assign(r,i.get("defaultColGroupDef")),Object.assign(r,t),i.validateColDef(r,n),r}var J1e=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=AF(e);let n=0;for(;;){let r=e??t;if(r?n!==0&&(r+="_"+n):r=n,!this.existingKeys[r]){const i=String(r);return e&&n>0&&zt(273,{providedId:e,usedId:i}),this.existingKeys[i]=!0,i}n++}}},GT=Object.freeze([]);function Ei(e){if(e?.length)return e[e.length-1]}function rv(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((r,i)=>n?n(r,t[i]):t[i]===r)}function k_(e,t){if(e)for(const n of e)t(n)}function Sd(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function qH(e,t,n){for(let r=0;r<t.length;r++)Sd(e,t[r]);for(let r=t.length-1;r>=0;r--)e.splice(n,0,t[r])}var PA="ag-Grid-AutoColumn",gq="ag-Grid-SelectionColumn",mq="ag-Grid-RowNumbersColumn";function vq(e){const t=[],n=r=>{for(let i=0;i<r.length;i++){const s=r[i];Og(s)?t.push(s):kl(s)&&n(s.getChildren())}};return n(e),t}function Lf(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function UT(e,t,n){const r={};if(!t)return;qf(null,t,s=>{r[s.getInstanceId()]=s}),n&&qf(null,n,s=>{r[s.getInstanceId()]=null});const i=Object.values(r).filter(s=>s!=null);e.context.destroyBeans(i)}function IL(e){return e.getId().startsWith(PA)}function $g(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(gq)??!1}function wg(e){return(typeof e=="string"?e:"getColId"in e?e.getColId():e.colId)?.startsWith(mq)??!1}function $1e(e){return $g(e)||wg(e)}function WT(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function e_e(e,t){return rv(e,t,(n,r)=>n.getColId()===r.getColId())}function t_e(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function Ay(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function yq(e,t){const n=e===t,r=e.getColDef()===t,i=e.getColId()==t;return n||r||i}var n_e=(e,t)=>(n,r)=>{const i={value1:void 0,value2:void 0};let s=!1;return e&&(e[n]!==void 0&&(i.value1=e[n],s=!0),nn(r)&&e[r]!==void 0&&(i.value2=e[r],s=!0)),!s&&t&&(t[n]!==void 0&&(i.value1=t[n]),nn(r)&&t[r]!==void 0&&(i.value2=t[r])),i};function r_e(e,t=null,n,r,i){const s=new J1e,{existingCols:o,existingGroups:a,existingColKeys:l}=i_e(r);s.addExistingKeys(l);const c=wq(e,t,0,n,o,s,a,i),{colGroupSvc:u}=e,h=u?.findMaxDepth(c,0)??0,p=u?u.balanceColumnTree(c,0,h,s):c;return qf(null,p,(y,w)=>{kl(y)&&y.setupExpandable(),y.originalParent=w}),{columnTree:p,treeDepth:h}}function i_e(e){const t=[],n=[],r=[];return e&&qf(null,e,i=>{if(kl(i)){const s=i;n.push(s)}else{const s=i;r.push(s.getId()),t.push(s)}}),{existingCols:t,existingGroups:n,existingColKeys:r}}function wq(e,t,n,r,i,s,o,a){if(!t)return[];const{colGroupSvc:l}=e,c=new Array(t.length);for(let u=0;u<c.length;u++){const h=t[u];l&&u_e(h)?c[u]=l.createProvidedColumnGroup(r,h,n,i,s,o,a):c[u]=s_e(e,r,h,i,s,a)}return c}function s_e(e,t,n,r,i,s){const o=a_e(n,r);o&&r?.splice(o.idx,1);let a=o?.column;if(a){const l=VF(e,n,a.getColId());a.setColDef(l,n,s),o_e(e,a,l,s)}else{const l=i.getUniqueKey(n.colId,n.field),c=VF(e,n,l);a=new nv(c,n,l,t),e.context.createBean(a)}return e.dataTypeSvc?.addColumnListeners(a),a}function Cq(e,t,n,r,i,s,o,a){const{sortSvc:l,pinnedCols:c,colFlex:u}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,r,a),i!==void 0&&l.setColSortIndex(t,i)),s!==void 0&&c?.setColPinned(t,s),o!==void 0&&u?.setColFlex(t,o)}function o_e(e,t,n,r){Cq(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,r);const i=t.getFlex();if(!(i!=null&&i>0))if(n.width!=null)t.setActualWidth(n.width,r);else{const s=t.getActualWidth();t.setActualWidth(s,r)}}function a_e(e,t){if(t)for(let n=0;n<t.length;n++){const r=t[n].getUserProvidedColDef();if(!r)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(r.field===e.field)return{idx:n,column:t[n]};continue}if(r===e)return{idx:n,column:t[n]}}}function VF(e,t,n,r){const{gos:i,dataTypeSvc:s}=e,o={},a=i.get("defaultColDef");lc(o,a,!1,!0);const l=l_e(e,o,t,n);l&&c_e(e,l,o);const c=o.cellDataType;lc(o,t,!1,!0),c!==void 0&&(o.cellDataType=c);const u=i.get("autoGroupColumnDef"),h=Hh(i);return t.rowGroup&&u&&h&&lc(o,{sort:u.sort,initialSort:u.initialSort},!1,!0),s&&(s.postProcess(o),s.validateColDef(o)),i.validateColDef(o,n,r),o}function l_e(e,t,n,r){const i=e.dataTypeSvc?.updateColDefAndGetColumnType(t,n,r),s=n.type??i??t.type;return t.type=s,s?WT(s):void 0}function c_e(e,t,n){if(!t.length)return;const r=Object.assign({},Q1e),i=e.gos.get("columnTypes")||{};for(const s of Object.keys(i)){const o=i[s];s in r?zt(34,{key:s}):(o.type&&zt(35),r[s]=o)}t.forEach(s=>{const o=r[s.trim()];o?lc(n,o,!1,!0):zt(36,{t:s})})}function u_e(e){return e.children!==void 0}function qf(e,t,n){if(t)for(let r=0;r<t.length;r++){const i=t[r];kl(i)&&qf(i,i.getChildren(),n),n(i,e)}}function bq(e,t){const n=[],r=[],i=[];return e.forEach(o=>{const a=o.getColDef().lockPosition;a==="right"?i.push(o):a==="left"||a===!0?n.push(o):r.push(o)}),t.get("enableRtl")?[...i,...r,...n]:[...n,...r,...i]}function xq(e,t){let n=!0;return qf(null,t,r=>{if(!kl(r))return;const i=r,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const a=[];i.getLeafColumns().forEach(p=>{const m=e.indexOf(p);a.push(m)});const l=Math.max.apply(Math,a),c=Math.min.apply(Math,a),u=l-c,h=i.getLeafColumns().length-1;u>h&&(n=!1)}),n}function Sq(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let r=1;r<e.length;r++)if(n!==t(e[r]))return;return n}function _q(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=Sq(t,s=>s.getPinned());e.dispatchEvent({type:"columnPinned",pinned:i??null,columns:t,column:r,source:n})}function d_e(e,t,n){if(!t.length)return;const r=t.length===1?t[0]:null,i=Sq(t,s=>s.isVisible());e.dispatchEvent({type:"columnVisible",visible:i,columns:t,column:r,source:n})}function h_e(e,t,n,r){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:r})}function dw(e,t,n,r,i=null){t?.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:i,finished:n,source:r})}function nh(e,t,n){const{colModel:r,rowGroupColsSvc:i,pivotColsSvc:s,autoColSvc:o,selectionColSvc:a,colAnimation:l,visibleCols:c,pivotResultCols:u,environment:h,valueColsSvc:p,eventSvc:m,gos:y}=e,w=r.getColDefCols()??[],b=a?.getColumns();if(!w?.length&&!b?.length)return!1;if(t?.state&&!t.state.forEach)return zt(32),!1;const S=(V,M,O,z,H)=>{if(!V)return;const X=n_e(M,t.defaultState),Q=X("flex").value1;if(Cq(e,V,X("hide").value1,X("sort").value1,X("sortIndex").value1,X("pinned").value1,Q,n),Q==null){const U=X("width").value1;if(U!=null){const Z=V.getColDef().minWidth??h.getDefaultColumnMinWidth();Z!=null&&U>=Z&&V.setActualWidth(U,n)}}H||!V.isPrimary()||(p?.syncColumnWithState(V,n,X),i?.syncColumnWithState(V,n,X,O),s?.syncColumnWithState(V,n,X,z))},E=(V,M,O)=>{const z=Eq(e,n),H=M.slice(),X={},Q={},U=[],Z=[],q=[];let me=0;const se=i?.columns.slice()??[],ue=s?.columns.slice()??[];V.forEach(W=>{const re=W.colId;if(re.startsWith(PA)){U.push(W),q.push(W);return}if($g(re)){Z.push(W),q.push(W);return}const J=O(re);J?(S(J,W,X,Q,!1),Sd(H,J)):(q.push(W),me+=1)});const Pe=W=>S(W,null,X,Q,!1);H.forEach(Pe),i?.sortColumns(QH.bind(i,X,se)),s?.sortColumns(QH.bind(s,Q,ue)),r.refreshCols(!1);const ye=(W,re,te=[])=>{re.forEach(J=>{const ce=W(J.colId);Sd(te,ce),S(ce,J,null,null,!0)}),te.forEach(Pe)};return ye(W=>o?.getColumn(W)??null,U,o?.getColumns()?.slice()),ye(W=>a?.getColumn(W)??null,Z,a?.getColumns()?.slice()),p_e(t,r,y),c.refresh(n),m.dispatchEvent({type:"columnEverythingChanged",source:n}),z(),{unmatchedAndAutoStates:q,unmatchedCount:me}};l?.start();let{unmatchedAndAutoStates:_,unmatchedCount:N}=E(t.state||[],w,V=>r.getColDefCol(V));if(_.length>0||nn(t.defaultState)){const V=u?.getPivotResultCols()?.list??[];N=E(_,V,M=>u?.getPivotResultCol(M)??null).unmatchedCount}return l?.finish(),N===0}function f_e(e,t){const{colModel:n,autoColSvc:r,selectionColSvc:i,eventSvc:s,gos:o}=e,a=n.getColDefCols();if(!a?.length)return;const l=n.getColDefColTree(),c=vq(l),u=[];let h=1e3,p=1e3;const m=E=>{const _=Tq(E);_s(_.rowGroupIndex)&&_.rowGroup&&(_.rowGroupIndex=h++),_s(_.pivotIndex)&&_.pivot&&(_.pivotIndex=p++),u.push(_)};r?.getColumns()?.forEach(m),i?.getColumns()?.forEach(m),c?.forEach(m),nh(e,{state:u},t);const y=r?.getColumns()??[],S=[...i?.getColumns()??[],...y,...a].map(E=>({colId:E.colId}));nh(e,{state:S,applyOrder:!0},t),s.dispatchEvent(In(o,{type:"columnsReset",source:t}))}function Eq(e,t){const{rowGroupColsSvc:n,pivotColsSvc:r,valueColsSvc:i,colModel:s,sortSvc:o,eventSvc:a}=e,l={rowGroupColumns:n?.columns.slice()??[],pivotColumns:r?.columns.slice()??[],valueColumns:i?.columns.slice()??[]},c=jT(e),u={};return c.forEach(h=>{u[h.colId]=h}),()=>{const h=(M,O,z,H)=>{const X=O.map(H),Q=z.map(H);if(rv(X,Q))return;const Z=new Set(O);z.forEach(me=>{Z.delete(me)||Z.add(me)});const q=[...Z];a.dispatchEvent({type:M,columns:q,column:q.length===1?q[0]:null,source:t})},p=M=>{const O=[];return s.forAllCols(z=>{const H=u[z.getColId()];H&&M(H,z)&&O.push(z)}),O},m=M=>M.getColId();h("columnRowGroupChanged",l.rowGroupColumns,n?.columns??[],m),h("columnPivotChanged",l.pivotColumns,r?.columns??[],m);const w=p((M,O)=>{const z=M.aggFunc!=null,H=z!=O.isValueActive(),X=z&&M.aggFunc!=O.getAggFunc();return H||X});w.length>0&&h_e(a,"columnValueChanged",w,t),dw(a,p((M,O)=>M.width!=O.getActualWidth()),!0,t),_q(a,p((M,O)=>M.pinned!=O.getPinned()),t),d_e(a,p((M,O)=>M.hide==O.isVisible()),t);const N=p((M,O)=>M.sort!=O.getSort()||M.sortIndex!=O.getSortIndex());N.length>0&&o?.dispatchSortChangedEvents(t,N);const V=jT(e);m_e(c,V,t,s,a)}}function jT(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:r}=e,i=t.getColDefCols();if(_s(i)||!t.isAlive())return[];const s=n?.columns,o=r?.columns,a=[],l=u=>{const h=u.isRowGroupActive()&&s?s.indexOf(u):null,p=u.isPivotActive()&&o?o.indexOf(u):null,m=u.isValueActive()?u.getAggFunc():null,y=u.getSort()!=null?u.getSort():null,w=u.getSortIndex()!=null?u.getSortIndex():null;a.push({colId:u.getColId(),width:u.getActualWidth(),hide:!u.isVisible(),pinned:u.getPinned(),sort:y,sortIndex:w,aggFunc:m,rowGroup:u.isRowGroupActive(),rowGroupIndex:h,pivot:u.isPivotActive(),pivotIndex:p,flex:u.getFlex()??null})};t.forAllCols(u=>l(u));const c=new Map(t.getCols().map((u,h)=>[u.getColId(),h]));return a.sort((u,h)=>{const p=c.has(u.colId)?c.get(u.colId):-1,m=c.has(h.colId)?c.get(h.colId):-1;return p-m}),a}function Tq(e){const t=(y,w)=>y??w??null,n=e.getColDef(),r=t(n.sort,n.initialSort),i=t(n.sortIndex,n.initialSortIndex),s=t(n.hide,n.initialHide),o=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let c=t(n.rowGroupIndex,n.initialRowGroupIndex),u=t(n.rowGroup,n.initialRowGroup);c==null&&(u==null||u==!1)&&(c=null,u=null);let h=t(n.pivotIndex,n.initialPivotIndex),p=t(n.pivot,n.initialPivot);h==null&&(p==null||p==!1)&&(h=null,p=null);const m=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:r,sortIndex:i,hide:s,pinned:o,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:p,pivotIndex:h,aggFunc:m}}function p_e(e,t,n){if(!e.applyOrder||!e.state)return;const r=[];e.state.forEach(i=>{i.colId!=null&&r.push(i.colId)}),g_e(t.cols,r,t,n)}function g_e(e,t,n,r){if(e==null)return;let i=[];const s={};t.forEach(a=>{if(s[a])return;const l=e.map[a];l&&(i.push(l),s[a]=!0)});let o=0;if(e.list.forEach(a=>{const l=a.getColId();if(s[l]!=null)return;l.startsWith(PA)?i.splice(o++,0,a):i.push(a)}),i=bq(i,r),!xq(i,n.getColTree())){zt(39);return}e.list=i}function m_e(e,t,n,r,i){const s={};t.forEach(u=>s[u.colId]=u);const o={};e.forEach(u=>{s[u.colId]&&(o[u.colId]=!0)});const a=e.filter(u=>o[u.colId]),l=t.filter(u=>o[u.colId]),c=[];l.forEach((u,h)=>{const p=a&&a[h];if(p&&p.colId!==u.colId){const m=r.getCol(p.colId);m&&c.push(m)}}),c.length&&i.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,finished:!0,source:n})}var QH=(e,t,n,r)=>{const i=e[n.getId()],s=e[r.getId()],o=i!=null,a=s!=null;if(o&&a)return i-s;if(o)return-1;if(a)return 1;const l=t.indexOf(n),c=t.indexOf(r),u=l>=0,h=c>=0;return u&&h?l-c:u?-1:1},v_e=class extends _t{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents","rowNumbers","hidePaddedHeaderRows"],e=>this.refreshAll(Ay(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),Ay(e.source)))}createColsFromColDefs(e){const{beans:t}=this,{valueCache:n,colAutosize:r,rowGroupColsSvc:i,pivotColsSvc:s,valueColsSvc:o,visibleCols:a,eventSvc:l}=t,c=this.colDefs?Eq(t,e):void 0;n?.expire();const u=this.colDefCols?.list,h=this.colDefCols?.tree,p=r_e(t,this.colDefs,!0,h,e);UT(t,this.colDefCols?.tree,p.columnTree);const m=p.columnTree,y=p.treeDepth,w=vq(m),b={};w.forEach(S=>b[S.getId()]=S),this.colDefCols={tree:m,treeDepth:y,list:w,map:b},i?.extractCols(e,u),s?.extractCols(e,u),o?.extractCols(e,u),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),l.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&r?.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:r,rowNumbersSvc:i,quickFilter:s,pivotResultCols:o,showRowGroupCols:a,rowAutoHeight:l,visibleCols:c,colViewport:u,eventSvc:h}=this.beans,p=this.selectCols(o,this.colDefCols);this.createColumnsForService([n,r,i],p);const m=_1e(this.gos,this.showingPivotResult);(!e||m)&&this.restoreColOrder(p),this.positionLockedCols(p),a?.refresh(),s?.refreshCols(),this.setColSpanActive(),l?.setAutoHeightActive(p),c.clear(),u.clear(),!rv(t,this.cols.tree)&&h.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,r=>{this.lastOrder=r(this.lastOrder),this.lastPivotOrder=r(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=e?.getPivotResultCols()??null;this.showingPivotResult=n!=null;const{map:r,list:i,tree:s,treeDepth:o}=n??t;return this.cols={list:i.slice(),map:{...r},tree:s.slice(),treeDepth:o},n&&(n.list.some(l=>this.cols?.map[l.getColId()]!==void 0)||(this.lastPivotOrder=null)),this.cols}getColsToShow(){if(!this.cols)return[];const{valueColsSvc:e,selectionColSvc:t,gos:n}=this.beans,r=this.isPivotMode()&&!this.showingPivotResult,i=t?.isSelectionColumnEnabled(),s=n.get("rowNumbers"),o=e?.columns;return this.cols.list.filter(l=>{const c=IL(l);if(r){const u=o?.includes(l);return c||u||i&&$g(l)||s&&wg(l)}else return c||l.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){nh(this.beans,{state:e.map(r=>({colId:typeof r=="string"?r:r.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=t.filter(h=>e.map[h.getId()]!=null);if(n.length===0)return;if(n.length===e.list.length){e.list=n;return}const r=h=>{const p=h.getOriginalParent();return p?p.getChildren().length>1?!0:r(p):!1};if(!n.some(h=>r(h))){const h=new Set(n);for(const p of e.list)h.has(p)||n.push(p);e.list=n;return}const i=new Map;for(let h=0;h<n.length;h++){const p=n[h];i.set(p,h)}const s=e.list.filter(h=>!i.has(h));if(s.length===0){e.list=n;return}const o=(h,p)=>{const m=p?p.getOriginalParent():h.getOriginalParent();if(!m)return null;let y=null,w=null;for(const b of m.getChildren())if(!(b===p||b===h)){if(b instanceof nv){const S=i.get(b);if(S==null)continue;(y==null||y<S)&&(y=S,w=b);continue}b.forEachLeafColumn(S=>{const E=i.get(S);E!=null&&(y==null||y<E)&&(y=E,w=S)})}return w??o(h,m)},a=[],l=new Map;for(const h of s){const p=o(h,null);if(p==null){a.push(h);continue}const m=l.get(p);m===void 0?l.set(p,h):Array.isArray(m)?m.push(h):l.set(p,[m,h])}const c=new Array(e.list.length);let u=c.length-1;for(let h=a.length-1;h>=0;h--)c[u--]=a[h];for(let h=n.length-1;h>=0;h--){const p=n[h],m=l.get(p);if(m)if(Array.isArray(m))for(let y=m.length-1;y>=0;y--){const w=m[y];c[u--]=w}else c[u--]=m;c[u--]=p}e.list=c}positionLockedCols(e){e.list=bq(e.list,this.gos)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list??null:this.lastOrder=this.cols?.list??null}getColumnDefs(){return this.colDefCols?this.beans.colDefFactory?.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,this.cols?.list??[]):void 0}setColSpanActive(){this.colSpanActive=!!this.cols?.list.some(e=>e.getColDef().colSpan!=null)}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:r}=this.beans;n.refresh(t),r.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){const e=this.beans.pivotColsSvc?.columns;return this.pivotMode&&!!e?.length}recreateColumnDefs(e){if(!this.cols)return;this.beans.autoColSvc?.updateColumns(e);const t=Ay(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){UT(this.beans,this.colDefCols?.tree),super.destroy()}getColTree(){return this.cols?.tree??[]}getColDefColTree(){return this.colDefCols?.tree??[]}getColDefCols(){return this.colDefCols?.list??null}getCols(){return this.cols?.list??[]}forAllCols(e){const{pivotResultCols:t,autoColSvc:n,selectionColSvc:r}=this.beans;k_(this.colDefCols?.list,e),k_(n?.columns?.list,e),k_(r?.columns?.list,e),k_(t?.getPivotResultCols()?.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColById(e){return this.cols?.map[e]??null}getColFromCollection(e,t){if(t==null)return null;const{map:n,list:r}=t;if(typeof e=="string"&&n[e])return n[e];for(let i=0;i<r.length;i++)if(yq(r[i],e))return r[i];return this.beans.autoColSvc?.getColumn(e)??this.beans.selectionColSvc?.getColumn(e)??null}},Rq=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}},Bw=class extends _t{};function p1(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var g1=class{constructor(e){this.cssClassStates={},this.getGui=e}toggleCss(e,t){if(!e)return;if(e.indexOf(" ")>=0){const r=(e||"").split(" ");if(r.length>1){r.forEach(i=>this.toggleCss(i,t));return}}this.cssClassStates[e]!==t&&e.length&&(this.getGui()?.classList.toggle(e,t),this.cssClassStates[e]=t)}},y_e=0,Tn=null,qi=class extends _t{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=y_e++,this.cssManager=new g1(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){this.wireTemplate(this.getGui());const e="component-"+Object.getPrototypeOf(this)?.constructor?.name;this.css?.forEach(t=>this.beans.environment.addGlobalCSS(t,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(KZ):null}applyElementsToComponent(e,t,n,r=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===Tn)this[t]=r??e;else{const s=n&&n[t];if(!this.suppressDataRefValidation&&!s)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const r of e.childNodes??[])n.push(r);n.forEach(r=>{if(!(r instanceof HTMLElement))return;const i=this.createComponentFromElement(r,s=>{const o=s.getGui();if(o)for(const a of r.attributes??[])o.setAttribute(a.name,a.value)},t);if(i){if(i.addItems&&r.children.length){this.createChildComponentsFromTags(r,t);const s=Array.prototype.slice.call(r.children);i.addItems(s)}this.swapComponentForNode(i,e,r)}else r.childNodes&&this.createChildComponentsFromTags(r,t)})}createComponentFromElement(e,t,n){const r=e.nodeName,i=this.getDataRefAttribute(e),s=r.indexOf("AG-")===0,o=s?this.componentSelectors.get(r):null;let a=null;if(o){const l=n&&i?n[i]:void 0;a=new o.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(s)throw new Error(`selector: ${r}`);return this.applyElementsToComponent(e,i,n,a),a}swapComponentForNode(e,t,n){const r=e.getGui();t.replaceChild(r,n),t.insertBefore(document.createComment(n.nodeName),r),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let r;typeof e=="string"||e==null?r=RL(e):r=To(e),this.setTemplateFromElement(r,t,n)}setTemplateFromElement(e,t,n,r=!1){if(this.eGui=e,this.suppressDataRefValidation=r,t)for(let i=0;i<t.length;i++){const s=t[i];this.componentSelectors.set(s.selector,s)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),kL(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:r}=this.getContainerAndElement(e,t)||{};!n||!r||r.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;f1e(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Vs(this.eGui,e,{skipAriaHidden:n});const r={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(r)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCss(e){this.cssManager.toggleCss(e,!0)}removeCss(e){this.cssManager.toggleCss(e,!1)}toggleCss(e,t){this.cssManager.toggleCss(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}};function Aq(e){return typeof e=="object"&&!!e.component}var Xr=class bb{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new bb(n=>{let r=t.length;const i=new Array(r);t.forEach((s,o)=>{s.then(a=>{i[o]=a,r--,r===0&&n(i)})})}):bb.resolve()}static resolve(t=null){return new bb(n=>n(t))}then(t){return new bb(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(r=>n(t(r)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function w_e(e){return e?e.prototype&&"getGui"in e.prototype:!1}function kq(e,t,n,r){const{name:i}=n;let s,o,a,l,c,u;if(t){const h=t,p=h[i+"Selector"],m=p?p(r):null,y=w=>{typeof w=="string"?s=w:w!=null&&w!==!0&&(e.isFrameworkComponent(w)?a=w:o=w)};m?(y(m.component),l=m.params,c=m.popup,u=m.popupPosition):y(h[i])}return{compName:s,jsComp:o,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:u}}var C_e=class extends _t{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,r=!1){return this.getCompDetails(this.gridOptions,e,t,n,r)}getCompDetails(e,t,n,r,i=!1){const{name:s,cellRenderer:o}=t;let{compName:a,jsComp:l,fwComp:c,paramsFromSelector:u,popupFromSelector:h,popupPositionFromSelector:p}=kq(this.beans.frameworkOverrides,e,t,r),m,y;const w=_=>{const N=this.registry.getUserComponent(s,_);N&&(l=N.componentFromFramework?void 0:N.component,c=N.componentFromFramework?N.component:void 0,m=N.params,y=N.processParams)};if(a!=null&&w(a),l==null&&c==null&&n!=null&&w(n),l&&o&&!w_e(l)&&(l=this.agCompUtils?.adaptFunction(t,l)),!l&&!c){const{validation:_}=this.beans;i&&(a!==n||!n)?a?_?.isProvidedUserComp(a)||Ti(50,{compName:a}):n?_||Ti(260,{...this.gos.getModuleErrorParams(),propName:s,compName:n}):Ti(216,{name:s}):n&&!_&&Ti(146,{comp:n});return}const b=this.mergeParams(e,t,r,u,m,y),S=l==null,E=l??c;return{componentFromFramework:S,componentClass:E,params:b,type:t,popupFromSelector:h,popupPositionFromSelector:p,newAgStackInstance:()=>this.newAgStackInstance(E,S,b,t)}}newAgStackInstance(e,t,n,r){const i=!t;let s;i?s=new e:s=this.frameworkCompWrapper.wrap(e,r.mandatoryMethods,r.optionalMethods,r),this.createBean(s);const o=s.init?.(n);return o==null?Xr.resolve(s):o.then(()=>s)}mergeParams(e,t,n,r=null,i,s){const o={...n,...i},a=e,l=a&&a[t.name+"Params"];if(typeof l=="function"){const c=l(n);lc(o,c)}else typeof l=="object"&&lc(o,l);return lc(o,r),s?s(o):o}},b_e={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},x_e={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},S_e={name:"headerComponent",optionalMethods:["refresh"]},__e={name:"innerHeaderComponent"},E_e={name:"innerHeaderGroupComponent"},T_e={name:"headerGroupComponent"},R_e={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},A_e={name:"loadingCellRenderer",cellRenderer:!0},k_e={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},P_e={name:"loadingOverlayComponent",optionalMethods:["refresh"]},D_e={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},F_e={name:"tooltipComponent"},ML={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},I_e={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},M_e={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},O_e={name:"loadingCellRenderer",cellRenderer:!0},L_e={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},N_e={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function B_e(e,t){return e.getCompDetailsFromGridOptions(x_e,"agDragAndDropImage",t,!0)}function V_e(e,t,n){return e.getCompDetails(t,S_e,"agColumnHeader",n)}function H_e(e,t,n){return e.getCompDetails(t,__e,void 0,n)}function z_e(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,T_e,"agColumnGroupHeader",t)}function G_e(e,t,n){return e.getCompDetails(t,E_e,void 0,n)}function U_e(e,t){return e.getCompDetailsFromGridOptions(M_e,void 0,t,!0)}function W_e(e,t){return e.getCompDetailsFromGridOptions(O_e,"agLoadingCellRenderer",t,!0)}function j_e(e,t){return e.getCompDetailsFromGridOptions(L_e,"agGroupRowRenderer",t,!0)}function K_e(e,t){return e.getCompDetailsFromGridOptions(N_e,"agDetailCellRenderer",t,!0)}function JH(e,t,n){return e.getCompDetails(t,R_e,void 0,n)}function $H(e,t,n){return e.getCompDetails(t,A_e,"agSkeletonCellRenderer",n,!0)}function Pq(e,t,n){return e.getCompDetails(t,k_e,"agCellEditor",n,!0)}function Y_e(e,t,n,r){const i=t.filter;return Aq(i)&&(t={filter:i.component,filterParams:t.filterParams}),e.getCompDetails(t,ML,r,n,!0)}function X_e(e,t,n){return e.getCompDetails(t,b_e,"agDateInput",n,!0)}function Z_e(e,t){return e.getCompDetailsFromGridOptions(P_e,"agLoadingOverlay",t,!0)}function q_e(e,t){return e.getCompDetailsFromGridOptions(D_e,"agNoRowsOverlay",t,!0)}function Q_e(e,t){return e.getCompDetails(t.colDef,F_e,"agTooltipComponent",t,!0)}function J_e(e,t,n,r){return e.getCompDetails(t,I_e,r,n)}function Dq(e,t){return kq(e,t,ML)}function eD(e,t,n){return e.mergeParams(t,ML,n)}function Gx(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Fq=new Set,KT={},a0={},BE,Iq=!1,Mq=!1,$_e=!1;function eEe(e){const[t,n]=e.version.split(".")||[],[r,i]=BE.split(".")||[];return t===r&&n===i}function tEe(e){BE||(BE=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?eEe(e)||_y(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${BE}.`)):_y(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||_y(`${n.message}`)}}function Ux(e,t,n=!1){n||(Iq=!0),tEe(e);const r=e.rowModels??["all"];Fq.add(e);let i;t!==void 0?(Mq=!0,a0[t]===void 0&&(a0[t]={}),i=a0[t]):i=KT,r.forEach(s=>{i[s]===void 0&&(i[s]={}),i[s][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(s=>Ux(s,t,n))}function nEe(e){delete a0[e]}function HF(e,t,n){const r=i=>!!KT[i]?.[e]||!!a0[t]?.[i]?.[e];return r(n)||r("all")}function OL(){return Mq}function rEe(e,t){const n=a0[e]??{};return[...Object.values(KT.all??{}),...Object.values(n.all??{}),...Object.values(KT[t]??{}),...Object.values(n[t]??{})]}function iEe(){return new Set(Fq)}function sEe(e,t){const n=a0[e]??{};return[...Object.values(n.all??{}),...Object.values(n[t]??{})]}function oEe(){return Iq}function aEe(){return $_e}var lEe=class{static register(e){Ux(e,void 0)}static registerModules(e){e.forEach(t=>Ux(t,void 0))}},cEe=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){for(const t of Object.keys(e.providedBeanInstances))this.beans[t]=e.providedBeanInstances[t];e.beanClasses.forEach(t=>{const n=new t;n.beanName?this.beans[n.beanName]=n:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(n)}),e.derivedBeans?.forEach(t=>{const{beanName:n,bean:r}=t(this);this.beans[n]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{n.preWireBeans?.(this.beans),n.wireBeans?.(this.beans)}),e.forEach(n=>n.preConstruct?.()),t&&e.forEach(t),e.forEach(n=>n.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}};function uEe(e){return typeof e=="object"&&!!e.getComp}var dEe=class extends cEe{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){super.destroy(),nEe(this.gridId),this.destroyCallback?.()}getGridId(){return this.gridId}},hEe=class extends _t{constructor(){super(...arguments),this.beanName="editModelSvc",this.edits=new Map,this.cellValidations=new Oq,this.rowValidations=new Lq,this.suspendEdits=!1}suspend(e){this.suspendEdits=e}removeEdits({rowNode:e,column:t}){if(!this.hasEdits({rowNode:e})||!e)return;const n=this.getEditRow(e);t?n.delete(t):n.clear(),n.size===0&&this.edits.delete(e)}getEditRow(e,t={}){if(this.suspendEdits||this.edits.size===0)return;const n=e&&this.edits.get(e);if(n)return n;if(t.checkSiblings){const r=e.pinnedSibling;if(r)return this.getEditRow(r)}}getEditRowDataValue(e,{checkSiblings:t}={}){if(this.edits.size===0)return e.data;const n=this.getEditRow(e),r=e.pinnedSibling,i=t&&r&&this.getEditRow(r);if(!n&&!i)return e.data;const s=Object.assign({},e.data),o=(a,l)=>a.forEach(({pendingValue:c},u)=>{c!==_d&&(l[u.getColId()]=c)});return n&&o(n,s),i&&o(i,s),s}getEdit(e,t){const n=this._getEdit(e);return t&&n?{...n}:n}_getEdit(e){if(!this.suspendEdits&&this.edits.size!==0)return e.rowNode&&e.column&&this.getEditRow(e.rowNode)?.get(e.column)}getEditMap(e=!0){if(this.suspendEdits||this.edits.size===0)return new Map;if(!e)return this.edits;const t=new Map;return this.edits.forEach((n,r)=>t.set(r,new Map(n))),t}setEditMap(e){this.edits.clear(),e.forEach((t,n)=>{const r=new Map;t.forEach((i,s)=>r.set(s,{...i})),this.edits.set(n,r)})}setEdit(e,t){(this.edits.size===0||!this.edits.has(e.rowNode))&&this.edits.set(e.rowNode,new Map);const n={...this._getEdit(e),...t};return this.getEditRow(e.rowNode).set(e.column,n),n}clearEditValue(e){const{rowNode:t,column:n}=e;if(t)if(n){const r=this._getEdit(e);r&&(r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed")}else this.getEditRow(t)?.forEach(r=>{r.editorValue=void 0,r.pendingValue=r.sourceValue,r.state="changed"})}getState(e){if(!this.suspendEdits)return this.getEdit(e)?.state}getEditPositions(e){if(this.suspendEdits||(e??this.edits).size===0)return[];const t=[];return(e??this.edits).forEach((n,r)=>{for(const i of n.keys())t.push({rowNode:r,column:i,...n.get(i)})}),t}hasRowEdits(e,t){return this.suspendEdits||this.edits.size===0?!1:!!this.getEditRow(e,t)}hasEdits(e={},t={}){if(this.suspendEdits||this.edits.size===0)return!1;const{rowNode:n,column:r}=e,{withOpenEditor:i}=t;if(n){const s=this.getEditRow(n,t);return s?r?i?this.getEdit(e)?.state==="editing":s.has(r)??!1:s.size!==0?i?Array.from(s.values()).some(({state:o})=>o==="editing"):!0:!1:!1}return i?this.getEditPositions().some(({state:s})=>s==="editing"):this.edits.size>0}start(e){const t=this.getEditRow(e.rowNode)??new Map,{rowNode:n,column:r}=e;r&&!t.has(r)&&t.set(r,{editorValue:void 0,pendingValue:_d,sourceValue:this.beans.valueSvc.getValue(r,n,!0,"api"),state:"editing"}),this.edits.set(n,t)}stop(e){this.hasEdits(e)&&(e?this.removeEdits(e):this.clear())}clear(){for(const e of this.edits.values())e.clear();this.edits.clear()}getCellValidationModel(){return this.cellValidations}getRowValidationModel(){return this.rowValidations}setCellValidationModel(e){this.cellValidations=e}setRowValidationModel(e){this.rowValidations=e}destroy(){super.destroy(),this.clear()}},Oq=class{constructor(){this.cellValidations=new Map}getCellValidation(e){const{rowNode:t,column:n}=e||{};return this.cellValidations?.get(t)?.get(n)}hasCellValidation(e){return!e||!e.rowNode||!e.column?this.cellValidations.size>0:!!this.getCellValidation(e)}setCellValidation(e,t){const{rowNode:n,column:r}=e;this.cellValidations.has(n)||this.cellValidations.set(n,new Map),this.cellValidations.get(n).set(r,t)}clearCellValidation(e){const{rowNode:t,column:n}=e;this.cellValidations.get(t)?.delete(n)}setCellValidationMap(e){this.cellValidations=e}getCellValidationMap(){return this.cellValidations}clearCellValidationMap(){this.cellValidations.clear()}},Lq=class{constructor(){this.rowValidations=new Map}getRowValidation(e){const{rowNode:t}=e||{};return this.rowValidations.get(t)}hasRowValidation(e){return!e||!e.rowNode?this.rowValidations.size>0:!!this.getRowValidation(e)}setRowValidation({rowNode:e},t){this.rowValidations.set(e,t)}clearRowValidation({rowNode:e}){this.rowValidations.delete(e)}setRowValidationMap(e){this.rowValidations=e}getRowValidationMap(){return this.rowValidations}clearRowValidationMap(){this.rowValidations.clear()}};function fEe(e){const{rowIndex:t,rowPinned:n,column:r}=e;return`${t}.${n??"null"}.${r.getId()}`}function Nq(e,t){const n=e.column===t.column,r=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return n&&r&&i}function pEe(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(nn(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function gEe(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function mEe(e){let t=0,n;const{pinnedRowModel:r,rowModel:i,pageBounds:s}=e;return r?.getPinnedTopRowCount()?n="top":i.getRowCount()?(n=null,t=s.getFirstRow()):r?.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function vEe(e){let t,n=null;const{pinnedRowModel:r,pageBounds:i}=e,s=r?.getPinnedBottomRowCount(),o=r?.getPinnedTopRowCount();return s?(n="bottom",t=s-1):e.rowModel.getRowCount()?(n=null,t=i.getLastRow()):o&&(n="top",t=o-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function dp(e,t){switch(t.rowPinned){case"top":return e.pinnedRowModel?.getPinnedTopRow(t.rowIndex);case"bottom":return e.pinnedRowModel?.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function xb(e,t){const n=e.spannedRowRenderer?.getCellByPosition(t);if(n)return n;const r=e.rowRenderer.getRowByPosition(t);return r?r.getCellCtrl(t.column):null}function yEe(e,t,n){const{rowModel:r,pinnedRowModel:i}=e;let s;return s??(s=r?.getRowNode(t)),n?s??(s=i?.getPinnedRowById(t,n)):(s??(s=i?.getPinnedRowById(t,"top")),s??(s=i?.getPinnedRowById(t,"bottom"))),s}function YT(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(n===0)return r==="top"?null:r==="bottom"&&o.isRowsToRender()?{rowIndex:i.getLastRow(),rowPinned:null}:s?.isRowsToRender("top")?{rowIndex:s.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=r?void 0:o.getRow(n);return Bq(e,a,!0)??{rowIndex:n-1,rowPinned:r}}function ez(e,t){const{rowIndex:n,rowPinned:r}=t,{pageBounds:i,pinnedRowModel:s,rowModel:o}=e;if(wEe(e,t))return r==="bottom"?null:r==="top"&&o.isRowsToRender()?{rowIndex:i.getFirstRow(),rowPinned:null}:s?.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=r?void 0:o.getRow(n);return Bq(e,a)??{rowIndex:n+1,rowPinned:r}}function Bq(e,t,n=!1){const{gos:r,rowRenderer:i}=e;if(!t?.sticky||!rq(r))return;const s=i.getStickyTopRowCtrls(),o=i.getStickyBottomRowCtrls(),a=!o.some(h=>h.rowNode.rowIndex===t.rowIndex),l=a?s:o,c=(n?-1:1)*(a?-1:1);let u;for(let h=0;h<l.length;h++)if(l[h].rowNode.rowIndex===t.rowIndex){u=l[h+c];break}return u?{rowIndex:u.rowNode.rowIndex,rowPinned:null}:void 0}function wEe(e,t){const{rowPinned:n,rowIndex:r}=t,{pinnedRowModel:i,pageBounds:s}=e;return n==="top"?(i?.getPinnedTopRowCount()??0)-1<=r:n==="bottom"?(i?.getPinnedBottomRowCount()??0)-1<=r:s.getLastRow()<=r}function LL(e,t={}){const{rowIndex:n,rowId:r,rowCtrl:i,rowPinned:s}=t;if(i)return i;const{rowModel:o,rowRenderer:a}=e;let{rowNode:l}=t;return l||(r?l=yEe(e,r,s):n!=null&&(l=o.getRow(n))),a.getRowCtrls(l?[l]:[])?.[0]}function bs(e,t={}){const{cellCtrl:n,colId:r,columnId:i,column:s}=t;if(n)return n;const o=e.colModel.getCol(r??i??zF(s)),a=t.rowCtrl??LL(e,t),l=a?.getCellCtrl(o)??void 0;if(l)return l;const c=t.rowNode??a?.rowNode;if(c)return e.rowRenderer.getCellCtrls([c],[o])?.[0]}function tz(e){const{editSvc:t}=e;t?.isBatchEditing()?ky(e):t?.stopEditing(void 0,{source:"api"})}function CEe(e,t,n){const{gos:r,popupSvc:i}=t;if(!r.get("stopEditingWhenCellsLoseFocus"))return;const s=o=>{const a=o.relatedTarget;if(IF(a)===null){tz(t);return}let l=n.some(c=>c.contains(a))&&qq(r,a);l||(l=!!i&&(i.getActivePopups().some(c=>c.contains(a))||i.isElementWithinCustomPopup(a))),l||tz(t)};n.forEach(o=>e.addManagedElementListeners(o,{focusout:s}))}function zF(e){if(e)return typeof e=="string"?e:e.getColId()}var _d=Symbol("unedited");function Vq(e,t={}){const n=[],r=e.rowRenderer.getCellCtrls(t.rowNodes,t.columns);for(const i of r){const s=i.comp?.getCellEditor();s&&n.push({ctrl:i,editor:Gx(s)})}return n}var bEe=(e,t={})=>Vq(e,t).map(n=>n.editor);function xEe(e,t,n,r,i,s){t.length===0&&n?.rowNode&&n?.column&&hw(e,n,{key:r,event:i,cellStartedEdit:s});const{valueSvc:o,editSvc:a,editModelSvc:l}=e,{rowNode:c,column:u}=n??{};for(const h of t){const{rowNode:p,column:m}=h,y=bs(e,h);if(!y){if(p&&m){const b=o.getValue(m,p,void 0,"api"),_=(n?.rowNode===p&&n?.column===m&&r||void 0)??a?.getCellDataValue(h,!1)??o.getValueForDisplay(m,p)?.value??b??_d;l?.setEdit(h,{pendingValue:_,sourceValue:b,state:"editing"})}continue}const w=s&&c===y.rowNode&&y.column===u;hw(e,{rowNode:c,column:y.column},{key:w?r:null,event:w?i:null,cellStartedEdit:w})}}function Cg({pendingValue:e,sourceValue:t}){return e===_d&&(e=t),e!==t}function hw(e,t,n){const{key:r,event:i,cellStartedEdit:s,silent:o}=n??{},a=bs(e,t),l=a?.comp?.getCellEditor(),c=zq(e,t,r,s),u=e.editModelSvc?.getEdit(t);let h=r?.length===1?r:c.value;if(h===void 0&&(h=u?.sourceValue),e.editModelSvc?.setEdit(t,{editorValue:h,state:"editing"}),l){l.refresh?.(c);return}const p=t.column.getColDef(),m=Pq(e.userCompFactory,p,c),y=m?.popupFromSelector!=null?m.popupFromSelector:!!p.cellEditorPopup,w=m?.popupPositionFromSelector!=null?m.popupPositionFromSelector:p.cellEditorPopupPosition;Gq(m.params,i),a&&(a.editCompDetails=m,a.comp?.setEditDetails(m,y,w,e.gos.get("reactiveCustomComponents")),a?.rowCtrl?.refreshRow({suppressFlash:!0}),o||e.editSvc?.dispatchCellEvent(t,i,"cellEditingStarted"))}function Hq(e){const t={editorValueExists:!1};return(e.getValidationErrors?.()?.length??0)>0?t:{editorValue:e.getValue(),editorValueExists:!0}}function zq(e,t,n,r){const{valueSvc:i,gos:s,editSvc:o}=e,a=bs(e,t),l=t.rowNode?.rowIndex??void 0,c=o?.isBatchEditing(),u=e.colModel.getCol(t.column.getId()),{rowNode:h,column:p}=t,m=a.comp?.getCellEditor(),y=o?.getCellDataValue(t,!1)??(m?Hq(m)?.editorValue:void 0),w=y===_d?i.getValueForDisplay(u,h)?.value:y;return In(s,{value:w,eventKey:n??null,column:p,colDef:p.getColDef(),rowIndex:l,node:h,data:h.data,cellStartedEdit:r??!1,onKeyDown:a?.onKeyDown.bind(a),stopEditing:b=>{o.stopEditing(t,{source:c?"ui":"api",suppressNavigateAfterEdit:b}),XT(e,t)},eGridCell:a?.eGui,parseValue:b=>i.parseValue(u,h,b,a?.value),formatValue:a?.formatValue.bind(a),validate:()=>{o?.validateEdit()}})}function GF(e,t){const{editModelSvc:n}=e;n?.getEditMap().forEach((r,i)=>{r.forEach((s,o)=>{!t&&(s.state==="editing"||s.pendingValue===_d)||!Cg(s)&&(s.state!=="editing"||t)&&n?.removeEdits({rowNode:i,column:o})})})}function SEe(e,t){const n=t.comp?.getCellEditor();if(!n?.refresh)return;const{eventKey:r,cellStartedEdit:i}=t.editCompDetails.params,{column:s}=t,o=zq(e,t,r,i),a=s.getColDef(),l=Pq(e.userCompFactory,a,o);n.refresh(Gq(l.params,r))}function Gq(e,t){return t instanceof KeyboardEvent&&e.column.getColDef().cellEditor==="agNumberCellEditor"?e.suppressPreventDefault=["-","+",".","e"].includes(t?.key??"")||e.suppressPreventDefault:t?.preventDefault?.(),e}function jm(e,t){e.editModelSvc?.getEditPositions().forEach(n=>{const r=bs(e,n);if(!r)return;const i=r.comp.getCellEditor();if(!i)return;const{editorValue:s,editorValueExists:o}=Hq(i);VE(e,n,t,s,void 0,!o)})}function VE(e,t,n,r,i,s){const{editModelSvc:o,valueSvc:a}=e;if(!o)return;const{rowNode:l,column:c}=t;if(!(l&&c))return;const h=!!bs(e,t)?.comp?.getCellEditor();let p=o.getEdit(t,!0);p?.sourceValue||(p=o.setEdit(t,{sourceValue:a.getValue(c,l,void 0,"api"),pendingValue:_d,state:h?"editing":"changed"})),o.setEdit(t,{editorValue:s?p.sourceValue:r,state:h?"editing":"changed"}),n&&_Ee(e,t)}function _Ee(e,t){const{editModelSvc:n}=e,r=n?.getEdit(t,!0);n?.setEdit(t,{pendingValue:r?.editorValue})}function ky(e,t,n){t||(t=e.editModelSvc?.getEditPositions()),t.forEach(r=>XT(e,r,n))}function XT(e,t,n){const{editSvc:r,editModelSvc:i}=e,{rowNode:s,column:o}=t,a=bs(e,t);if(!a){i?.hasEdits(t)&&s&&o&&i?.setEdit(t,{state:"changed"});return}const{comp:l}=a;if(l&&!l.getCellEditor())return;const c=l?.getCellEditor()?.getValidationErrors?.(),u=i?.getCellValidationModel();c?.length?u?.setCellValidation(t,{errorMessages:c}):u?.clearCellValidation(t),i?.getEdit(t)&&i?.setEdit(t,{state:"changed"}),l?.setEditDetails(),l?.refreshEditStyles(!1,!1),a?.refreshCell({force:!0,suppressFlash:!0});const h=i?.getEdit(t);h?.state==="changed"&&!n?.silent&&r?.dispatchCellEvent(t,n?.event,"cellEditingStopped",{valueChanged:Cg(h),newValue:h?.pendingValue,oldValue:h?.sourceValue})}function F0(e){const t=Vq(e),n=new Oq,{ariaAnnounce:r,localeSvc:i,editModelSvc:s,gos:o}=e,a=o.get("editType")==="fullRow",c=TZ(i)("ariaValidationErrorPrefix","Cell Editor Validation");for(const h of t){const{ctrl:p,editor:m}=h,{rowNode:y,column:w}=p,b=m.getValidationErrors?.()??[],S=m.getValidationElement?.(!1)||!m.isPopup?.()&&p.eGui;if(S){const E=b!=null&&b.length>0,_=E?b.join(". "):"";JSe(S,E),E&&r.announceValue(`${c} ${b}`,"editorValidation"),S instanceof HTMLInputElement?S.setCustomValidity(_):S.classList.toggle("invalid",E)}b?.length>0&&n.setCellValidation({rowNode:y,column:w},{errorMessages:b})}jm(e,!1),s?.setCellValidationModel(n);const u=new Set;for(const{ctrl:h}of t)u.add(h.rowCtrl);if(a){const h=EEe(e);s?.setRowValidationModel(h)}for(const h of u.values()){h.rowEditStyleFeature?.applyRowStyles();for(const p of h.getAllCellCtrls())p.tooltipFeature?.refreshTooltip(!0),p.editorTooltipFeature?.refreshTooltip(!0),p.editStyleFeature?.applyCellStyles?.()}}var EEe=e=>{const t=new Lq,n=e.gos.get("getFullRowEditValidationErrors"),r=e.editModelSvc?.getEditMap();if(!r)return t;for(const i of r.keys()){const s=r.get(i);if(!s)continue;const o=[],{rowIndex:a,rowPinned:l}=i;for(const u of s.keys()){const h=s.get(u);if(!h)continue;const{editorValue:p,pendingValue:m,sourceValue:y}=h,w=p??(m===_d?void 0:m)??y;o.push({column:u,colId:u.getColId(),rowIndex:a,rowPinned:l,oldValue:y,newValue:w})}const c=n?.({editorsState:o})??[];c.length>0&&t.setRowValidation({rowNode:i},{errorMessages:c})}return t};function TEe(e){F0(e);const t=e.editModelSvc?.getCellValidationModel().getCellValidationMap();if(!t)return null;const n=[];return t.forEach((r,i)=>{r.forEach(({errorMessages:s},o)=>{n.push({column:o,rowIndex:i.rowIndex,rowPinned:i.rowPinned,messages:s??null})})}),n}var REe="ag-column-first",AEe="ag-column-last";function Uq(e,t,n,r){return _s(e)?[]:PEe(e.headerClass,e,t,n,r)}function Wq(e,t,n){e.toggleCss(REe,n.isColAtEdge(t,"first")),e.toggleCss(AEe,n.isColAtEdge(t,"last"))}function kEe(e,t,n,r){return In(t,{colDef:e,column:n,columnGroup:r})}function PEe(e,t,n,r,i){if(_s(e))return[];let s;if(typeof e=="function"){const o=kEe(t,n,r,i);s=e(o)}else s=e;return typeof s=="string"?[s]:Array.isArray(s)?[...s]:[]}function m1(e){return!!(e.rowPinned&&e.pinnedSibling)}function td(e,t,n,r){const i=t==="top";if(!n)return td(e,t,i?e.getPinnedTopRow(0):e.getPinnedBottomRow(0),r);if(!r){const l=i?e.getPinnedTopRowCount():e.getPinnedBottomRowCount();return td(e,t,n,i?e.getPinnedTopRow(l-1):e.getPinnedBottomRow(l-1))}let s=!1,o=!1;const a=[];return e.forEachPinnedRow(t,l=>{if(l===n&&!s){s=!0,a.push(l);return}if(s&&l===r){o=!0,a.push(l);return}s&&!o&&a.push(l)}),a}var vt={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},UF=!1,ZT=0;function DEe(e){ZT>0||(e.addEventListener("keydown",qT),e.addEventListener("mousedown",qT))}function FEe(e){ZT>0||(e.removeEventListener("keydown",qT),e.removeEventListener("mousedown",qT))}function qT(e){const t=UF,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(UF=n)}function IEe(e){const t=Aa(e);return DEe(t),ZT++,()=>{ZT--,FEe(t)}}function MEe(){return UF}function OEe(e,t,n){t.addManagedElementListeners(n,{keydown:r=>{if(!r.defaultPrevented&&r.key===vt.TAB){const i=r.shiftKey;iv(e,n,!1,i)||fw(e,i)&&r.preventDefault()}}})}function Py(e,t,n=!1){const r=h1e;let i=HZ;t&&(i+=", "+t),n&&(i+=', [tabindex="-1"]');const s=Array.prototype.slice.apply(e.querySelectorAll(r)).filter(l=>mf(l)),o=Array.prototype.slice.apply(e.querySelectorAll(i));return o.length?((l,c)=>l.filter(u=>c.indexOf(u)===-1))(s,o):s}function I0(e,t=!1,n=!1,r=!1){const i=Py(e,r?".ag-tab-guard":null,n),s=t?Ei(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}function iv(e,t,n,r){const i=Py(t,n?':not([tabindex="-1"])':null),s=js(e);let o;n?o=i.findIndex(l=>l.contains(s)):o=i.indexOf(s);const a=o+(r?-1:1);return a<0||a>=i.length?null:i[a]}function jq(e,t=5){let n=0;for(;e&&IF(e)===null&&++n<=t;)e=e.parentElement;return IF(e)===null?null:e}function LEe(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function l0(e){return e.gos.get("suppressHeaderFocus")||!!e.overlays?.isExclusive()}function DA(e){return e.gos.get("suppressCellFocus")||!!e.overlays?.isExclusive()}function fw(e,t,n=!1){const r=e.ctrlsSvc.get("gridCtrl");return!n&&r.focusNextInnerContainer(t)?!0:((n||!t&&!r.isDetailGrid())&&r.forceFocusOutOfContainer(t),!1)}function NEe(e,t,n,{rowNode:r,column:i},s){return In(e.gos,{type:n,node:r,data:r.data,value:s,column:i,colDef:i.getColDef(),rowPinned:r.rowPinned,event:t,rowIndex:r.rowIndex})}function BEe(e,t=!1){return e===vt.DELETE?!0:!t&&e===vt.BACKSPACE?NZ():!1}var VEe=class extends _t{constructor(e,t,n,r){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=r,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case vt.ENTER:this.onEnterKeyDown(e);break;case vt.F2:this.onF2KeyDown(e);break;case vt.ESCAPE:this.onEscapeKeyDown(e);break;case vt.TAB:this.onTabKeyDown(e);break;case vt.BACKSPACE:case vt.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case vt.DOWN:case vt.UP:case vt.RIGHT:case vt.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){const{cellCtrl:n,beans:r}=this;if(!r.editSvc?.isEditing(n,{withOpenEditor:!0})){if(e.shiftKey&&n.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=n.getFocusedCellPosition();r.navigation?.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const r=t.extendLatestRangeInDirection(e);r&&(e.key===vt.LEFT||e.key===vt.RIGHT?n?.ensureColumnVisible(r.column):n?.ensureRowVisible(r.rowIndex))}onTabKeyDown(e){this.beans.navigation?.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:n,beans:r,rowNode:i}=this,{gos:s,rangeSvc:o,eventSvc:a,editSvc:l}=r;if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),BEe(e,s.get("enableCellEditingOnBackspace"))&&!l?.isEditing(n,{withOpenEditor:!0})){if(o&&Mg(s))o.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:c}=n,u=this.beans.valueSvc.getDeleteValue(c,i);i.setDataValue(c,u,"cellClear")}}else l?.isEditing(n,{withOpenEditor:!0})||r.editSvc?.startEditing(n,{startedEdit:!0,event:t});a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}onEnterKeyDown(e){const{cellCtrl:t,beans:n}=this,{editSvc:r,navigation:i}=n,s=r?.isEditing(t),o=t.rowNode,a=r?.isRowEditing(o),l=c=>{r?.startEditing(c,{startedEdit:!0,event:e})&&e.preventDefault()};if(s||a){if(this.isCtrlEnter(e)){r?.applyBulkEdit(t,n?.rangeSvc?.getCellRanges()||[]);return}if(F0(n),r?.checkNavWithValidation(void 0,e)==="block-stop")return;r?.isEditing(t,{withOpenEditor:!0})?r?.stopEditing(t,{event:e}):a&&!t.isCellEditable()?r?.stopEditing({rowNode:o},{event:e}):l(t)}else if(n.gos.get("enterNavigatesVertically")){const c=e.shiftKey?vt.UP:vt.DOWN;i?.navigateToNextCell(null,c,t.cellPosition,!1)}else{if(r?.hasValidationErrors())return;r?.hasValidationErrors(t)&&r.revertSingleCellEdit(t,!0),l(t)}}isCtrlEnter(e){return(e.ctrlKey||e.metaKey)&&e.key===vt.ENTER}onF2KeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.isEditing()&&(F0(this.beans),n?.checkNavWithValidation(void 0,e)==="block-stop")||n?.startEditing(t,{startedEdit:!0,event:e})}onEscapeKeyDown(e){const{cellCtrl:t,beans:{editSvc:n}}=this;n?.checkNavWithValidation(t,e)==="block-stop"&&n.revertSingleCellEdit(t),n?.stopEditing(t,{event:e,cancel:!0})}processCharacter(e){const n=e.target!==this.eGui,{beans:{editSvc:r},cellCtrl:i}=this;if(n||r?.isEditing(i,{withOpenEditor:!0}))return;if(e.key===vt.SPACE)this.onSpaceKeyDown(e);else if(r?.isCellEditable(i,"ui")){if(r?.hasValidationErrors()&&!r?.hasValidationErrors(i))return;r?.startEditing(i,{startedEdit:!0,event:e,source:"api"}),!i.editCompDetails?.params?.suppressPreventDefault&&e.preventDefault()}}onSpaceKeyDown(e){const{gos:t,editSvc:n}=this.beans,{rowNode:r}=this.cellCtrl;!n?.isEditing(this.cellCtrl,{withOpenEditor:!0})&&s0(t)&&this.beans.selectionSvc?.handleSelectionEvent(e,r,"spaceKey"),e.preventDefault()}};function Kq(e,t,n){if(n===0)return!1;const r=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(r,i)<=n}function nz({gos:e},t){return t.button===2||t.ctrlKey&&e.get("allowContextMenuWithControlKey")}var HEe=class extends _t{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!Zf(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.beans.touchSvc?.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,editSvc:r,editModelSvc:i,frameworkOverrides:s}=this.beans,o=e.ctrlKey||e.metaKey,{cellCtrl:a}=this,{column:l,cellPosition:c}=a;n&&o&&n.getCellRangeCount(c)>1&&n.intersectLastRange(!0);const u=a.createEvent(e,"cellClicked");t.dispatchEvent(u);const h=l.getColDef();if(h.onCellClicked&&window.setTimeout(()=>{s.wrapOutgoing(()=>{h.onCellClicked(u)})},0),i?.getState(a)!=="editing"){const p=r?.isEditing(),m=i?.getCellValidationModel().getCellValidationMap().size??0,y=i?.getRowValidationModel().getRowValidationMap().size??0;if(p&&(m>0||y>0))return;r?.shouldStartEditing(a,e)?r?.startEditing(a,{event:e}):r?.shouldStopEditing(a,e)&&r?.stopEditing(a)}}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:r}=this,{eventSvc:i,frameworkOverrides:s,editSvc:o,editModelSvc:a}=n,l=t.getColDef(),c=r.createEvent(e,"cellDoubleClicked");if(i.dispatchEvent(c),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{s.wrapOutgoing(()=>{l.onCellDoubleClicked(c)})},0),o?.shouldStartEditing(this.cellCtrl,e)&&this.beans.editModelSvc?.getState(this.cellCtrl)!=="editing"){const u=o?.isEditing(),h=a?.getCellValidationModel().getCellValidationMap().size??0,p=a?.getRowValidationModel().getRowValidationMap().size??0;if(u&&(h>0||p>0))return;o?.startEditing(r,{event:e})}}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:r}=e,i=e.target,{cellCtrl:s,beans:o}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:c,focusSvc:u,gos:h,editSvc:p}=o;if(this.isRightClickInExistingRange(e))return;const m=l&&!l.isEmpty(),y=this.containsWidget(i),{cellPosition:w,column:b}=s,S=wg(b);if(c&&S&&!c.handleMouseDownOnCell(w,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!r||!m){const E=p?.isEditing(s),N=h.get("enableCellTextSelection")&&e.defaultPrevented,V=($0()||N)&&!E&&!EL(i)&&!y;s.focusCell(V,e)}if(r&&m&&!u.isCellFocused(w)){e.preventDefault();const E=u.getFocusedCell();if(E){const{column:_,rowIndex:N,rowPinned:V}=E;p?.isEditing(E)&&p?.stopEditing(E),u.setFocusedCell({column:_,rowIndex:N,rowPinned:V,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,sourceEvent:e})}}if(!y){if(l){S&&e.preventDefault();const E=nz(this.beans,e)&&S;if(r)l.extendLatestRangeToCell(w);else if(!E){const _=t||n;l.setRangeToCell(w,_)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),r=nz(this.beans,e);if(n&&r)return!0}return!1}containsWidget(e){return i0(e,"ag-selection-checkbox",3)||i0(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n?.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n?.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),r=t.contains(e.relatedTarget);return n&&r}},zEe=class extends _t{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();if(e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e){const t=this.refreshSpanHeight.bind(this,e);t(),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:t,recalculateRowBounds:t,pinnedHeightChanged:t})}}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();rv(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),r=[];if(n===1)r.push(e);else{let i=e;const s=e.getPinned();for(let o=0;i&&o<n&&(r.push(i),i=this.beans.visibleCols.getColAfter(i),!(!i||_s(i)||s!==i.getPinned()));o++);}return r}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Ei(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const r=t.bodyWidth;return n+r+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=o0(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},GEe="ag-cell",UEe="ag-cell-auto-height",WEe="ag-cell-normal-height",jEe="ag-cell-focus",KEe="ag-cell-first-right-pinned",YEe="ag-cell-last-left-pinned",XEe="ag-cell-not-inline-editing",ZEe="ag-cell-wrap-text",QT="cellCtrl";function Yq(e,t){return hq(e,t,QT)}var qEe=0,Dy=class extends _t{constructor(e,t,n,r){super(),this.column=e,this.rowNode=t,this.rowCtrl=r,this.rangeFeature=void 0,this.rowResizeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.editStyleFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.hasEdit=!1,this.tooltipFeature=void 0,this.editorTooltipFeature=void 0,this.beans=n,this.gos=n.gos,this.editSvc=n.editSvc,this.hasEdit=!!n.editSvc;const{colId:i}=e;this.instanceId=i+"-"+qEe++,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){const{beans:e}=this;this.positionFeature=new zEe(this,e),this.customStyleFeature=e.cellStyles?.createCellCustomStyleFeature(this,e),this.editStyleFeature=e.editSvc?.createCellStyleFeature(this,e),this.mouseListener=new HEe(this,e,this.column),this.keyboardListener=new VEe(this,e,this.rowNode,this.rowCtrl),this.enableTooltipFeature();const{rangeSvc:t}=e;t&&Mg(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this)),wg(this.column)&&(this.rowResizeFeature=this.beans.rowNumbersSvc.createRowNumbersRowResizerFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.editorTooltipFeature=e.destroyBean(this.editorTooltipFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.editStyleFeature=e.destroyBean(this.editStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.rowResizeFeature=e.destroyBean(this.rowResizeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){this.tooltipFeature=this.beans.tooltipSvc?.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}enableEditorTooltipFeature(e){this.editorTooltipFeature&&this.disableEditorTooltipFeature(),this.editorTooltipFeature=this.beans.tooltipSvc?.setupCellEditorTooltip(this,e),F0(this.beans)}disableEditorTooltipFeature(){this.editorTooltipFeature=this.beans.context.destroyBean(this.editorTooltipFeature)}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGui=t,this.printLayout=i,o??(o=this),this.addDomData(o),this.addFeatures(),o.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(r,o),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.positionFeature?.init(),this.customStyleFeature?.setComp(e),this.editStyleFeature?.setComp(e),this.tooltipFeature?.refreshTooltip(),this.keyboardListener?.init(),this.rangeFeature?.setComp(e),this.rowResizeFeature?.refreshRowResizer(),s&&this.isCellEditable()?this.editSvc?.startEditing(this,{startedEdit:!0,source:"api"}):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(a=>a()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){this.isAutoHeight=this.beans.rowAutoHeight?.setupCellAutoHeight(this,e,t)??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}getDeferLoadingCellRenderer(){const{beans:e,column:t}=this,{userCompFactory:n,ctrlsSvc:r,eventSvc:i}=e,s=t.getColDef(),o=this.createCellRendererParams();o.deferRender=!0;const a=$H(n,s,o);if(r.getGridBodyCtrl()?.scrollFeature?.isScrolling()){let l;const c=new Xr(u=>{l=u});return this.addManagedListeners(i,{bodyScrollEnd:()=>l()}),{loadingComp:a,onReady:c}}return{loadingComp:a,onReady:Xr.resolve()}}showValue(e,t){const{beans:n,column:r,rowNode:i,rangeFeature:s}=this,{userCompFactory:o}=n;let a=this.getValueToDisplay(),l;const c=i.stub&&i.groupData?.[r.getId()]==null,u=r.getColDef();if(c||this.isCellRenderer()){const h=this.createCellRendererParams();!c||wg(r)?l=JH(o,u,h):l=$H(o,u,h)}if(!l&&!c&&n.findSvc?.isMatch(i,r)){const h=this.createCellRendererParams();l=JH(o,{...r.getColDef(),cellRenderer:"agFindCellRenderer"},h)}if(this.hasEdit&&this.editSvc.isBatchEditing()&&this.editSvc.isRowEditing(i,{checkSiblings:!0})){const h=this.editSvc.prepDetailsDuringBatch(this,{compDetails:l,valueToDisplay:a});h&&(h.compDetails?l=h.compDetails:h.valueToDisplay&&(a=h.valueToDisplay))}this.comp.setRenderDetails(l,a,e),!t&&s&&yp(n,()=>s?.refreshHandle()),this.rowResizeFeature?.refreshRowResizer()}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e),!0),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e,t=!1){return(this.rowNode.rowPinned==null||t&&m1(this.rowNode))&&!!e}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,r=BT(t),i=$g(this.column);return n==="custom"&&r!=="selectionColumn"&&i?!1:e.checkboxSelection||i&&typeof t=="object"&&Ry(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e),!0),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),r=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||n||r||i}onPopupEditorClosed(){const{editSvc:e}=this.beans;e?.isEditing(this,{withOpenEditor:!0})&&e?.stopEditing(this,{source:e?.isBatchEditing()?"ui":"api"})}stopEditing(e=!1){const{editSvc:t}=this.beans;return t?.stopEditing(this,{cancel:e,source:t?.isBatchEditing()?"ui":"api"})??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:r,comp:i,eGui:s,beans:{valueSvc:o,gos:a,editSvc:l}}=this;return In(a,{value:e,valueFormatted:t,getValue:()=>o.getValueForDisplay(n,r).value,setValue:u=>l?.setDataValue({rowNode:r,column:n},u)||o.setValue(r,n,u),formatValue:this.formatValue.bind(this),data:r.data,node:r,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:s,eParentOfValue:i.getParentOfValue(),registerRowDragger:(u,h,p,m)=>this.registerRowDragger(u,h,m),setTooltip:(u,h)=>{a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(u,h),this.tooltipFeature?.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell({force:e,suppressFlash:t,newData:n}={}){if(this.suppressRefreshCell)return;const r=this.column.getColDef(),i=r.field==null&&r.valueGetter==null&&r.showRowGroup==null,s=e||i||n,o=!!this.comp,a=this.updateAndFormatValue(o),l=s||a;if(o){if(l){this.showValue(!!n,!1);const c=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!t&&!c&&r.enableCellChangeFlash&&this.beans.cellFlashSvc?.flashCell(this),this.editStyleFeature?.applyCellStyles?.(),this.customStyleFeature?.applyUserStyles(),this.customStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshTooltip(),this.customStyleFeature?.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted,{value:r,valueFormatted:i}=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode,!0);return this.value=r,this.valueFormatted=i,e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;P0(this.beans.gos,t,QT,this),e.addDestroyFunc(()=>P0(this.beans.gos,t,QT,null))}createEvent(e,t){const{rowNode:n,column:r,value:i,beans:s}=this;return NEe(s,e,t,{rowNode:n,column:r},i)}processCharacter(e){this.keyboardListener?.processCharacter(e)}onKeyDown(e){this.keyboardListener?.onKeyDown(e)}onMouseEvent(e,t){this.mouseListener?.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature?.getColSpanningList()??[]}onLeftChanged(){this.comp&&this.positionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;Wq(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);OZ(this.eGui,e)}onWidthChanged(){return this.positionFeature?.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){this.comp&&this.rangeFeature?.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.comp&&this.rangeFeature?.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1,t){const n=this.editSvc?.allowedFocusTargetOnValidation(this);n&&n!==this||this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e,sourceEvent:t})}restoreFocus(e=!1){const{beans:{editSvc:t,focusSvc:n},comp:r}=this;if(!r||t?.isEditing(this)||!this.isCellFocused()||!n.shouldTakeFocus())return;const i=()=>{if(!this.isAlive())return;const s=r.getFocusableElement();this.isCellFocused()&&s.focus({preventScroll:!0})};if(e){setTimeout(i,0);return}i()}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),this.rangeFeature?.onCellSelectionChanged(),this.rowResizeFeature?.refreshRowResizer()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(wg(this.column)&&(e=!0),yu(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.toggleCss(KEe,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.toggleCss(YEe,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){const{beans:t}=this;if(DA(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused(),r=t.editSvc?.isEditing(this)??!1;if(this.comp.toggleCss(jEe,n),n&&e&&e.forceBrowserFocus){let i=this.comp.getFocusableElement();if(r){const s=Py(i,null,!0);s.length&&(i=s[0])}i.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:Xf(t),column:this.column}}applyStaticCssClasses(){const{comp:e}=this;e.toggleCss(GEe,!0),e.toggleCss(XEe,!0);const t=this.column.isAutoHeight()==!0;e.toggleCss(UEe,t),e.toggleCss(WEe,!t)}onColumnHover(){this.beans.colHover?.onCellColumnHover(this.column,this.comp)}onColDefChanged(){this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editSvc?.isEditing(this)?this.editSvc?.handleColDefChanged(this):this.refreshOrDestroyCell({force:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.toggleCss(ZEe,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:r}=this;r.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{r.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){return this.comp?.getCellRenderer()??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){return this.eGui?.contains(js(this.beans))??!1}createSelectionCheckbox(){const e=this.beans.selectionSvc?.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const r=this.createRowDragComp(e,t,n);r&&(this.customRowDragComp=r,this.addDestroyFunc(()=>{this.beans.context.destroyBean(r),this.customRowDragComp=null}))}createRowDragComp(e,t,n){const r=this.beans.rowDragSvc?.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(r)return this.beans.context.createBean(r),r}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},Xq="__ag_grid_instance";function Zq(e,t){t[Xq]=e.gridInstanceId}function Wx(e,t){return qq(e,t.target)}function qq(e,t){let n=t;for(;n;){const r=n[Xq];if(nn(r))return r===e.gridInstanceId;n=n.parentElement}return!1}function QEe(e,t){return Yq(e,t.target)?.getFocusedCellPosition()??null}function rz(e,t){const n=il(e.gos,"normal"),r=t;let i,s;r.clientX!=null||r.clientY!=null?(i=r.clientX,s=r.clientY):(i=r.x,s=r.y);const{pageFirstPixel:o}=e.pageBounds.getCurrentPagePixelRange();if(s+=o,n){const a=e.ctrlsSvc.getScrollFeature(),l=a.getVScrollPosition(),c=a.getHScrollPosition();i+=c.left,s+=l.top}return{x:i,y:s}}var JEe=class extends _t{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,r=t.find(i=>i.dragSource===e);r&&(n.removeDragSource(r.params),Sd(t,r))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(r=>t.removeDragSource(r.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),e.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){this.dragSource?.onDragStopped?.();const{lastDropTarget:t}=this;if(t?.onDragStop){const n=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(n)}this.clearDragAndDropProperties()}onDragCancel(){const{dragSource:e,lastDropTarget:t}=this;e?.onDragCancelled?.(),t?.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const n=this.getHorizontalDirection(e),r=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter(u=>this.isMouseOnDropTarget(e,u)),s=this.findCurrentDropTarget(e,i),{lastDropTarget:o,dragSource:a,dragAndDropImageComp:l,dragItem:c}=this;if(s!==o){if(this.leaveLastTargetIfExists(e,n,r,t),o!==null&&s===null&&a?.onGridExit?.(c),o===null&&s!==null&&a?.onGridEnter?.(c),this.enterDragTargetIfExists(s,e,n,r,t),s&&l){const{comp:u,promise:h}=l;u?u.setIcon(s.getIconName?s.getIconName():null,!1):h.then(p=>{p&&p.setIcon(s.getIconName?s.getIconName():null,!1)})}this.lastDropTarget=s}else if(s&&s.onDragging){const u=this.createDropTargetEvent(s,e,n,r,t);s.onDragging(u)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let r=!1;const i=(a,l)=>{for(const c of l){const{width:u,height:h,left:p,right:m,top:y,bottom:w}=c.getBoundingClientRect();if(u===0||h===0)return!1;const b=a.clientX>=p&&a.clientX<m,S=a.clientY>=y&&a.clientY<w;if(!b||!S)return!1}return!0};for(const a of n)if(i(e,a)){r=!0;break}const{eElement:s,type:o}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(s)?!1:r&&t.isInterestedIn(o,s)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const i=Hx(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const s of i)for(const o of t)if(this.getAllContainersFromDropTarget(o).flatMap(l=>l).indexOf(s)!==-1)return o;return null}enterDragTargetIfExists(e,t,n,r,i){if(e&&e.onDragEnter){const s=this.createDropTargetEvent(e,t,n,r,i);e.onDragEnter(s)}}leaveLastTargetIfExists(e,t,n,r){const{lastDropTarget:i}=this;if(!i)return;if(i.onDragLeave){const o=this.createDropTargetEvent(i,e,t,n,r);i.onDragLeave(o)}const s=this.getDragAndDropImageComponent();s&&s.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:r}=e;return n.contains(r)}getHorizontalDirection(e){const t=this.eventLastTime?.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){const t=this.eventLastTime?.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,r,i){const s=e.getContainer(),o=s.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:c}=this,u=t.clientX-o.left,h=t.clientY-o.top;return In(c,{event:t,x:u,y:h,vDirection:r,hDirection:n,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:s})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&A1e(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;if(e){const{comp:t}=e;if(t){const n=t.getGui();this.dragAndDropImageParent?.removeChild(n),this.destroyBean(t)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const r=B_e(n,In(t,{dragSource:e}));if(!r)return;const i=r.newAgStackInstance();this.dragAndDropImageComp={promise:i},i.then(s=>{!s||!this.isAlive()||(this.processDragAndDropImageComponent(s),this.dragAndDropImageComp.comp=s)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const r=e.getGui();r.style.setProperty("position","absolute"),r.style.setProperty("z-index","9999"),Zq(this.gos,r),n.applyThemeClasses(r),e.setIcon(null,!1);let{dragItemName:i}=t;typeof i=="function"&&(i=i()),e.setLabel(i||""),r.style.top="20px",r.style.left="20px";const s=FL(this.beans);this.dragAndDropImageParent=s,s?s.appendChild(r):zt(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:r=>r===1||r===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},$Ee=class extends _t{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const r=e.touchStartListener;t.removeEventListener("touchstart",r,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(r=>r.dragSource===e);n&&(this.removeListener(n),Sd(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:r,stopPropagationForTouch:i}=e;n.addEventListener("mousedown",t);let s=null;const o=this.gos.get("suppressTouch");r&&!o&&(s=a=>{EL(a.target)||(i&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",s,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:s,touchEnabled:!!r})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const r=l=>this.onTouchMove(l,e.eElement),i=l=>this.onTouchUp(l,e.eElement),s=l=>{l.cancelable&&l.preventDefault()},o=t.target,a=[{target:Hx(this.beans),type:"touchmove",listener:s,options:{passive:!1}},{target:o,type:"touchmove",listener:r,options:{passive:!0}},{target:o,type:"touchend",listener:i,options:{passive:!0}},{target:o,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const r=c=>this.onMouseMove(c,e.eElement),i=c=>this.onMouseUp(c,e.eElement),s=c=>c.preventDefault(),o=c=>{c.key===vt.ESCAPE&&this.cancelDrag(e.eElement)},a=Hx(this.beans),l=[{target:a,type:"mousemove",listener:r},{target:a,type:"mouseup",listener:i},{target:a,type:"contextmenu",listener:s},{target:a,type:"keydown",listener:o}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.addEventListener(r,i,s)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:r,listener:i,options:s}=t;n.removeEventListener(r,i,s)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,r=nn(n)?n:4;return Kq(e,t,r)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){$0()&&Aa(this.beans).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),r=e.type==="mousemove",i=s=>!!s.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button");return n&&r&&e.cancelable&&Wx(t,e)&&!i(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function Qq(e,t){return e+"_"+t}function Eo(e){return e instanceof jx}var jx=class extends _t{constructor(e,t,n,r){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=r,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return Qq(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{Eo(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Ei(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren?.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Og(t)?e.push(t):Eo(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Og(t)?e.push(t):Eo(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(Eo(n)&&!n.displayedChildren?.length)return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},WF="row-group-",NL="t-",BL="b-",eTe=0,M0=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped=null,this.treeParent=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=eTe++,this.alreadyRendered=!1,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const{valueCache:n,eventSvc:r}=this.beans,i=this.data;this.data=e,n?.onDataChanged(),this.updateDataOnDetailNode(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,i,t);if(this.__localEventService?.dispatchEvent(s),this.sibling){this.sibling.data=e;const a=this.sibling.createDataChangedEvent(e,i,t);this.sibling.__localEventService?.dispatchEvent(a)}r.dispatchEvent({type:"rowNodeDataChanged",node:this});const o=this.pinnedSibling;o&&(o.data=e,o.__localEventService?.dispatchEvent(o.createDataChangedEvent(e,i,t)),r.dispatchEvent({type:"rowNodeDataChanged",node:o}))}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(Ti(13),null):this.rowPinned==="top"?NL+this.rowIndex:this.rowPinned==="bottom"?BL+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){const{selectionSvc:n}=this.beans,r=n?.createDaemonNode?.(this),i=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,r));const s=this.createDataChangedEvent(e,i,!1);this.__localEventService?.dispatchEvent(s)}setId(e){const t=uw(this.beans.gos);if(t)if(this.data){const n=this.parent?.getRoute()??[];this.id=t({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(WF)&&Ti(14,{groupPrefix:WF})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){this.beans.expansionSvc?.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:r,valueSvc:i,gos:s,editSvc:o}=this.beans,a=typeof e!="string"?e:r.getCol(e)??r.getColDefCol(e);if(!a)return!1;const l=i.getValueForDisplay(a,this,void 0,void 0,"api").value;if(s.get("readOnlyEdit")){const{beans:{eventSvc:h},data:p,rowIndex:m,rowPinned:y}=this;return h.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:m,rowPinned:y,column:a,colDef:a.colDef,data:p,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}if(o){const h=o.setDataValue({rowNode:this,column:a},t,n);if(h!=null)return h}const c=i.setValue(this,a,t,n);this.dispatchCellChangedEvent(a,t,l);const u=this.pinnedSibling;return u&&c&&u.dispatchCellChangedEvent(a,t,l),c}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){const r={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};this.__localEventService?.dispatchEvent(r)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.beans.expansionSvc?.isExpandable(this)??!1}isSelected(){return this.footer?this.sibling.isSelected():this.rowPinned&&this.pinnedSibling?this.pinnedSibling.isSelected():this.__selected}depthFirstSearch(e){this.childrenAfterGroup?.forEach(t=>t.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){this.__localEventService?.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){this.beans.selectionSvc?.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new R0),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){this.beans.validation?.checkRowEvents(e),this.__localEventService||(this.__localEventService=new R0),this.frameworkEventListenerService=this.beans.frameworkOverrides.createLocalEventListenerWrapper?.(this.frameworkEventListenerService,this.__localEventService);const n=this.frameworkEventListenerService?.wrap(e,t)??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){const n=this.frameworkEventListenerService?.unwrap(e,t)??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){this.__localEventService?.removeEventListener(e,t),this.__localEventService?.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(zt(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}getFirstChild(){return this.childStore?this.childStore.getFirstNode():this.childrenAfterSort?.[0]??null}};function tTe(e,t,n){return In(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var nTe=new Set(["__localEventService","__objectId","sticky","__autoHeights","__checkAutoHeightsDebounced","childStore"]);function rTe(e,t){const n=new M0(t);return Object.keys(e).forEach(r=>{nTe.has(r)||(n[r]=e[r])}),n.oldRowTop=null,n}var Jq={agSetColumnFilter:"agSetColumnFilterHandler",agMultiColumnFilter:"agMultiColumnFilterHandler",agGroupColumnFilter:"agGroupColumnFilterHandler",agNumberColumnFilter:"agNumberColumnFilterHandler",agDateColumnFilter:"agDateColumnFilterHandler",agTextColumnFilter:"agTextColumnFilterHandler"},iTe=new Set(Object.values(Jq));function Xp(e,t){const n=e.filterUi;if(!n)return null;if(n.created)return n.promise;if(t)return null;const r=n.create(n.refreshed),i=n;return i.created=!0,i.promise=r,r}function sTe(e,t,n,r,i,s){return t.refresh?.({...n,model:r,source:s}),e().then(o=>{if(o){const{filter:a,filterParams:l}=o;$q(a,l,r,i,s)}})}function $q(e,t,n,r,i){e?.refresh?.({...t,model:n,state:r,source:i})}function eQ(e,t,n){const r=e();r?.created&&r.promise.then(i=>{const s=t();$q(i,r.filterParams,s,n()??{model:s},"ui")})}function iz(e,t,n,r,i,s){let o,a=!1,l;switch(e){case"apply":{const c=r();l=c?.model??null,o={state:c?.state,model:l},a=!0;break}case"clear":{o={model:null};break}case"reset":{o={model:null},a=!0,l=null;break}case"cancel":{o={model:n()};break}}i(o),a?s(l):eQ(t,n,r)}function _a(e,t){return e[t]??null}function oTe(e){return{tag:"div",cls:e}}var aTe=class extends qi{constructor(e){const{className:t="ag-filter-apply-panel"}=e??{};super(oTe(t)),this.listeners=[],this.validationMessage=null,this.className=t}updateButtons(e,t){const n=this.buttons;if(this.buttons=e,n===e)return;const r=this.getGui();Au(r);let i;this.destroyListeners();const s=document.createDocumentFragment(),o=this.className,a=({type:c,label:u})=>{const h=S=>{this.dispatchLocalEvent({type:c,event:S})};["apply","clear","reset","cancel"].includes(c)||zt(75);const p=c==="apply",y=To({tag:"button",attrs:{type:p&&t?"submit":"button"},ref:`${c}FilterButton`,cls:`ag-button ag-standard-button ${o}-button${p?" "+o+"-apply-button":""}`,children:u});this.activateTabIndex([y]),p&&(i=y);const w=S=>{S.key===vt.ENTER&&(S.preventDefault(),h(S))},b=this.listeners;y.addEventListener("click",h),b.push(()=>y.removeEventListener("click",h)),y.addEventListener("keydown",w),b.push(()=>y.removeEventListener("keydown",w)),s.append(y)};e.forEach(c=>a(c)),this.eApply=i;const l=this.validationTooltipFeature;i&&!l?this.validationTooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getGui:()=>this.eApply,getLocation:()=>"advancedFilter",getTooltipShowDelayOverride:()=>1e3})):!i&&l&&(this.validationTooltipFeature=this.destroyBean(l)),r.append(s)}getApplyButton(){return this.eApply}updateValidity(e,t=null){const n=this.eApply;n&&(Bx(n,e===!1),this.validationMessage=t??null,this.validationTooltipFeature?.setTooltipAndRefresh(this.validationMessage))}destroyListeners(){this.listeners.forEach(e=>e()),this.listeners=[]}destroy(){this.destroyListeners(),super.destroy()}},lTe={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd",filterSummaryInactive:"is (All)",filterSummaryContains:"contains",filterSummaryNotContains:"does not contain",filterSummaryTextEquals:"equals",filterSummaryTextNotEqual:"does not equal",filterSummaryStartsWith:"begins with",filterSummaryEndsWith:"ends with",filterSummaryBlank:"is blank",filterSummaryNotBlank:"is not blank",filterSummaryEquals:"=",filterSummaryNotEqual:"!=",filterSummaryGreaterThan:">",filterSummaryGreaterThanOrEqual:">=",filterSummaryLessThan:"<",filterSummaryLessThanOrEqual:"<=",filterSummaryInRange:"between",filterSummaryInRangeValues:e=>`(${e[0]}, ${e[1]})`,filterSummaryTextQuote:e=>`"${e[0]}"`};function cg(e,t,n){return WSe(e,lTe,t,n)}function VL(e,t){const{debounceMs:n}=e;return FA(e)?(n!=null&&zt(71),0):n??t}function FA(e){return(e.buttons?.indexOf("apply")??-1)>=0}var cTe=class extends qi{constructor(e,t,n,r,i,s){super(),this.column=e,this.wrapper=t,this.eventParent=n,this.updateModel=r,this.isGlobalButtons=i,this.enableGlobalButtonCheck=s,this.hidePopup=null,this.applyActive=!1}postConstruct(){const{comp:e,params:t}=this.wrapper,n=t,r=n.useForm,i=r?"form":"div";this.setTemplate({tag:i,cls:"ag-filter-wrapper"}),r&&this.addManagedElementListeners(this.getGui(),{submit:s=>{s?.preventDefault()},keydown:this.handleKeyDown.bind(this)}),this.appendChild(e.getGui()),this.params=n,this.resetButtonsPanel(n),this.addManagedListeners(this.eventParent,{filterParamsChanged:({column:s,params:o})=>{s===this.column&&this.resetButtonsPanel(o,this.params)},filterStateChanged:({column:s,state:o})=>{s===this.column&&this.eButtons?.updateValidity(o.valid!==!1)},filterAction:({column:s,action:o,event:a})=>{s===this.column&&this.afterAction(o,a)},...this.enableGlobalButtonCheck?{filterGlobalButtons:({isGlobal:s})=>{if(s!==this.isGlobalButtons){this.isGlobalButtons=s;const o=this.params;this.resetButtonsPanel(o,o,!0)}}}:void 0})}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup)}resetButtonsPanel(e,t,n){const{buttons:r,readOnly:i}=t??{},{buttons:s,readOnly:o,useForm:a}=e;if(!n&&i===o&&Lx(r,s))return;const l=s&&s.length>0&&!e.readOnly&&!this.isGlobalButtons;let c=this.eButtons;if(l){const u=s.map(h=>{const p=`${h}Filter`;return{type:h,label:cg(this,p)}});if(this.applyActive=FA(this.params),!c){c=this.createBean(new aTe),this.appendChild(c.getGui());const h=this.column,p=m=>({event:y})=>{this.updateModel(h,m),this.afterAction(m,y)};c?.addManagedListeners(c,{apply:p("apply"),clear:p("clear"),reset:p("reset"),cancel:p("cancel")}),this.eButtons=c}c.updateButtons(u,a)}else this.applyActive=!1,c&&(up(c.getGui()),this.eButtons=this.destroyBean(c))}close(e){const t=this.hidePopup;if(!t)return;const n=e,r=n&&n.key;let i;(r===vt.ENTER||r===vt.SPACE)&&(i={keyboardEvent:n}),t(i),this.hidePopup=null}afterAction(e,t){const{params:n,applyActive:r}=this,i=n?.closeOnApply;switch(e){case"apply":{t?.preventDefault(),i&&r&&this.close(t);break}case"reset":{i&&r&&this.close();break}case"cancel":{i&&this.close(t);break}}}handleKeyDown(e){!e.defaultPrevented&&e.key===vt.ENTER&&this.applyActive&&(this.updateModel(this.column,"apply"),this.afterAction("apply",e))}destroy(){this.hidePopup=null,this.eButtons=this.destroyBean(this.eButtons)}},uTe={tag:"div",cls:"ag-filter"},dTe=class extends qi{constructor(e,t,n){super(uTe),this.column=e,this.source=t,this.enableGlobalButtonCheck=n,this.wrapper=null}postConstruct(){this.beans.colFilter?.activeFilterComps.add(this),this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return this.wrapper!=null}getFilter(){return this.wrapper?.then(e=>e.comp)??null}afterInit(){return this.wrapper?.then(()=>{})??Xr.resolve()}afterGuiAttached(e){this.afterGuiAttachedParams=e,this.wrapper?.then(t=>{this.comp?.afterGuiAttached(e),t?.comp?.afterGuiAttached?.(e)})}afterGuiDetached(){this.wrapper?.then(e=>{e?.comp?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:n,beans:{colFilter:r}}=this,i=r.getFilterUiForDisplay(t)??null;this.wrapper=i,i?.then(s=>{if(!s)return;const{isHandler:o,comp:a}=s;let l;if(o){const c=!!this.enableGlobalButtonCheck,u=this.createBean(new cTe(t,s,r,r.updateModel.bind(r),c&&r.isGlobalButtons,c));this.comp=u,l=u.getGui()}else l=a.getGui(),nn(l)||zt(69,{guiFromFilter:l});this.appendChild(l),e?this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()}):a.afterGuiAttached?.(this.afterGuiAttachedParams)})}onFilterDestroyed(e){const{source:t,column:n}=e;(t==="api"||t==="paramsUpdated")&&n.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(Au(this.getGui()),this.comp=this.destroyBean(this.comp),this.createFilter())}destroy(){this.beans.colFilter?.activeFilterComps.delete(this),this.eventSvc.dispatchEvent({type:"filterClosed",column:this.column}),this.wrapper=null,this.comp=this.destroyBean(this.comp),this.afterGuiAttachedParams=void 0,super.destroy()}},HL="T",hTe=new RegExp(`^\\d{4}-\\d{2}-\\d{2}(${HL}\\d{2}:\\d{2}:\\d{2}\\D?)?`);function zh(e,t){return e.toString().padStart(t,"0")}function _u(e,t=!0,n="-"){if(!e)return null;let r=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(i=>zh(i,2)).join(n);return t&&(r+=HL+[e.getHours(),e.getMinutes(),e.getSeconds()].map(i=>zh(i,2)).join(":")),r}function P_(e,t=!0){return e?t?[String(e.getFullYear()),String(e.getMonth()+1),zh(e.getDate(),2),zh(e.getHours(),2),`:${zh(e.getMinutes(),2)}`,`:${zh(e.getSeconds(),2)}`]:[e.getFullYear(),e.getMonth()+1,zh(e.getDate(),2)].map(String):null}var tD=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function jF(e,t){if(t==null)return _u(e,!1);const n=zh(e.getFullYear(),4),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>r[e.getMonth()],MMM:()=>r[e.getMonth()].slice(0,3),MM:()=>zh(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${tD(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${tD(e.getDate())}`,DD:()=>zh(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${tD(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(s).join("|"),"g");return t.replace(o,a=>a in s?s[a]():a)}function HE(e,t=!1){return!!Oc(e,t)}function fTe(e){return HE(e,!0)}function Oc(e,t=!1){if(!e||!hTe.test(e))return null;const[n,r]=e.split(HL);if(!n)return null;const i=n.split("-").map(p=>parseInt(p,10));if(i.filter(p=>!isNaN(p)).length!==3)return null;const[s,o,a]=i,l=new Date(s,o-1,a);if(l.getFullYear()!==s||l.getMonth()!==o-1||l.getDate()!==a||!r&&t)return null;if(!r||r==="00:00:00")return l;const[c,u,h]=r.split(":").map(p=>parseInt(p,10));if(c>=0&&c<24)l.setHours(c);else if(t)return null;if(u>=0&&u<60)l.setMinutes(u);else if(t)return null;if(h>=0&&h<60)l.setSeconds(h);else if(t)return null;return l}var sz={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},oz=["january","february","march","april","may","june","july","august","september","october","november","december"];function pTe(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}function az(e){return e instanceof Date&&!isNaN(e.getTime())}var KF={number:()=>{},boolean:()=>({maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>t===!1,numberOfInputs:0}]}),date:()=>({isValidDate:az}),dateString:({dataTypeDefinition:e})=>({comparator:(t,n)=>{const r=e.dateParser(n);return n==null||r<t?-1:r>t?1:0},isValidDate:t=>typeof t=="string"&&az(e.dateParser(t))}),dateTime:e=>KF.date(e),dateTimeString:e=>KF.dateString(e),object:()=>{},text:()=>{}},YF={number:()=>({comparator:pTe}),boolean:({t:e})=>({valueFormatter:t=>nn(t.value)?e(String(t.value),t.value?"True":"False"):e("blanks","(Blanks)")}),date:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return nn(r)?r:t("blanks","(Blanks)")},treeList:!0,treeListFormatter:(n,r)=>{if(n==="NaN")return t("invalidDate","Invalid Date");if(r===1&&n!=null){const i=oz[Number(n)-1];return t(i,sz[i])}return n??t("blanks","(Blanks)")},treeListPathGetter:n=>P_(n,!1)}),dateString:({formatValue:e,dataTypeDefinition:t,t:n})=>({valueFormatter:r=>{const i=e(r);return nn(i)?i:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:r=>P_(t.dateParser(r??void 0),!1),treeListFormatter:(r,i)=>{if(i===1&&r!=null){const s=oz[Number(r)-1];return n(s,sz[s])}return r??n("blanks","(Blanks)")}}),dateTime:e=>{const t=YF.date(e);return t.treeListPathGetter=P_,t},dateTimeString(e){const t=e.dataTypeDefinition.dateParser,n=YF.dateString(e);return n.treeListPathGetter=r=>P_(t(r??void 0)),n},object:({formatValue:e,t})=>({valueFormatter:n=>{const r=e(n);return nn(r)?r:t("blanks","(Blanks)")}}),text:()=>{}};function gTe(e,t,n,r,i,s,o){let a=t,l=n;const c=e==="agSetColumnFilter";!l&&r.baseDataType==="object"&&!c&&(l=({column:m,node:y})=>i({column:m,node:y,value:s.valueSvc.getValue(m,y)}));const h=(c?YF:KF)[r.baseDataType],p=h({dataTypeDefinition:r,formatValue:i,t:o});return a=typeof t=="object"?{...p,...t}:p,{filterParams:a,filterValueGetter:l}}var mTe={boolean:"agTextColumnFilter",date:"agDateColumnFilter",dateString:"agDateColumnFilter",dateTime:"agDateColumnFilter",dateTimeString:"agDateColumnFilter",number:"agNumberColumnFilter",object:"agTextColumnFilter",text:"agTextColumnFilter"},vTe={boolean:"agTextColumnFloatingFilter",date:"agDateColumnFloatingFilter",dateString:"agDateColumnFloatingFilter",dateTime:"agDateColumnFloatingFilter",dateTimeString:"agDateColumnFloatingFilter",number:"agNumberColumnFloatingFilter",object:"agTextColumnFloatingFilter",text:"agTextColumnFloatingFilter"};function yTe(e,t=!1){return(t?vTe:mTe)[e??"text"]}var tQ="ag-resizer-wrapper",Zp=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),wTe={tag:"div",cls:tQ,children:[Zp("eTopLeft","topLeft"),Zp("eTop","top"),Zp("eTopRight","topRight"),Zp("eRight","right"),Zp("eBottomRight","bottomRight"),Zp("eBottom","bottom"),Zp("eBottomLeft","bottomLeft"),Zp("eLeft","left")]},CTe=class extends _t{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(e){const{clientHeight:t,clientWidth:n}=this.offsetParent,r=n/2-this.getWidth()/2,i=t/2-this.getHeight()/2;this.offsetElement(r,i,e)}initialisePosition(e){if(this.positioned)return;const{centered:t,forcePopupParentAsOffsetParent:n,minWidth:r,width:i,minHeight:s,height:o,x:a,y:l}=this.config;this.offsetParent||this.setOffsetParent();let c=0,u=0;const h=mf(this.element);if(h){const p=this.findBoundaryElement(),m=window.getComputedStyle(p);if(m.minWidth!=null){const y=p.offsetWidth-this.element.offsetWidth;u=parseInt(m.minWidth,10)-y}if(m.minHeight!=null){const y=p.offsetHeight-this.element.offsetHeight;c=parseInt(m.minHeight,10)-y}}if(this.minHeight=s||c,this.minWidth=r||u,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),t)this.center(e);else if(a||l)this.offsetElement(a,l,e);else if(h&&n){let p=this.boundaryEl,m=!0;if(p||(p=this.findBoundaryElement(),m=!1),p){const y=parseFloat(p.style.top),w=parseFloat(p.style.left);m?this.offsetElement(isNaN(w)?0:w,isNaN(y)?0:y,e):this.setPosition(w,y)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragSvc?.addDragSource(n),this.moveElementDragListener=n):(this.dragSvc?.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const r=!!e[t],i=this.getResizerElement(t),s={dragStartPixels:0,eElement:i,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(r||!this.isAlive()&&!r)&&(r?(this.dragSvc?.addDragSource(s),this.resizeListeners.push(s),i.style.pointerEvents="all"):i.style.pointerEvents="none",this.resizable[t]=r)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Gb(n,e),e=zZ(n),r=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const i=this.getAvailableHeight();i&&e>i&&(e=i)}this.getHeight()!==e&&(r?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?Gb(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const r=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),s=e?this.position.y:r.top,o=e?0:i.top;let a=0;if(t){const c=this.element.parentElement;if(c){const{bottom:u}=c.getBoundingClientRect();a=u-r.bottom}}return n+o-s-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let r=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)lf(t,e),e=IT(t),r=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:i}=this.offsetParent,s=n?this.position.x:this.element.getBoundingClientRect().left;i&&e+s>i&&(e=i-s)}this.getWidth()!==e&&(r?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?lf(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0,n){const{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&(this.popupSvc?.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t}),postProcessCallback:n}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const n=this.getAvailableHeight();this.element.style.setProperty("max-height",`${n}px`)};e&&this.popupSvc?(this.resizeObserverSubscriber?.(),this.resizeObserverSubscriber=vp(this.beans,this.popupSvc?.getPopupParent(),t)):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:r,anywhereWithin:i,topBuffer:s}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!i,o)?0:o,c=this.shouldSkipY(t,!!r,s,a)?0:a;return{movementX:l,movementY:c}}shouldSkipX(e,t,n,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&s.left>=e.clientX||s.right<=e.clientX&&s.right<=o.right;return l?!0:(t?l=r<0&&e.clientX>a+s.left||r>0&&e.clientX<a+s.left:n?l=r<0&&e.clientX>o.right||r>0&&e.clientX<a+s.left:l=r<0&&e.clientX>o.right||r>0&&e.clientX<o.right,l)}shouldSkipY(e,t,n=0,r){const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&s.top>=e.clientY||s.bottom<=e.clientY&&s.bottom<=o.bottom;return l?!0:(t?l=r<0&&e.clientY>a+s.top+n||r>0&&e.clientY<a+s.top:l=r<0&&e.clientY>o.bottom||r>0&&e.clientY<o.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(To(wTe)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${tQ}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:r}=this.config;!n&&!r&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let r=0;r<e.length;r++){const i=e[r],s=!!i.style.flex&&i.style.flex!=="0 0 auto";if(i===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(s){const l=window.getComputedStyle(i);l.minHeight&&(o=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else o=i.offsetHeight,a=i.offsetWidth;t+=o,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let r=0;r<n.length;r++){const i=n[r];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=n[r+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:r,isRight:i,isBottom:s,isLeft:o}=this.currentResizer,a=i||o,l=s||r,{movementX:c,movementY:u}=this.calculateMouseMovement({e,isLeft:o,isTop:r}),h=this.position.x,p=this.position.y;let m=0,y=0;if(a&&c){const w=o?-1:1,b=this.getWidth(),S=b+c*w;let E=!1;o&&(m=b-S,(h+m<=0||S<=this.minWidth)&&(E=!0,m=0)),E||this.setWidth(S)}if(l&&u){const w=r?-1:1,b=this.getHeight(),S=b+u*w;let E=!1;r?(y=b-S,(p+y<=0||S<=this.minHeight)&&(E=!0,y=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&b<S&&this.getMinSizeOfSiblings().height+S>this.element.parentElement.offsetHeight&&(E=!0),E||this.setHeight(S)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&m||y)&&this.offsetElement(h+m,p+y)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let r;this.config.calculateTopBuffer&&(r=this.config.calculateTopBuffer());const{movementX:i,movementY:s}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:r});this.offsetElement(t+i,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragSvc?.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragSvc?.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},bTe="ag-focus-managed",Vw=class extends _t{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const r=iv(this.beans,this.eFocusable,!1,n.shiftKey);r&&(r.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(bTe),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||Zf(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){D0(t);return}t.key===vt.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},xTe=class extends qi{constructor(e,t){super(),this.filterNameKey=e,this.cssIdentifier=t,this.applyActive=!1,this.debouncePending=!1,this.defaultDebounceMs=0}postConstruct(){const e={tag:"div",cls:`ag-filter-body-wrapper ag-${this.cssIdentifier}-body-wrapper`,children:[this.createBodyTemplate()]};this.setTemplate(e,this.getAgComponents()),this.createManagedBean(new Vw(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=this.createBean(new CTe(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}))}handleKeyDown(e){}init(e){const t=e;this.setParams(t),this.setModelIntoUi(t.state.model,!0).then(()=>this.updateUiVisibility())}refresh(e){const t=e,n=this.params;this.params=t,t.source==="colDef"&&this.updateParams(t,n);const i=t.state,s=this.state;return this.state=i,(i.model!==s.model||i.state!==s.state)&&this.setModelIntoUi(i.model),!0}setParams(e){this.params=e,this.state=e.state,this.commonUpdateParams(e)}updateParams(e,t){this.commonUpdateParams(e,t)}commonUpdateParams(e,t){this.applyActive=FA(e),this.setupApplyDebounced()}doesFilterPass(e){zt(283);const{getHandler:t,model:n,column:r}=this.params;return t().doesFilterPass({...e,model:n,handlerParams:this.beans.colFilter.getHandlerParams(r)})}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return zt(284),this.params.model!=null}setupApplyDebounced(){const e=VL(this.params,this.defaultDebounceMs),t=nl(this,this.checkApplyDebounce.bind(this),e);this.applyDebounced=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.doApplyModel())}getModel(){return zt(285),this.params.model}setModel(e){zt(286);const{beans:t,params:n}=this;return t.colFilter.setModelForColumnLegacy(n.column,e)}applyModel(e="api"){return this.doApplyModel()}canApply(e){return!0}doApplyModel(e){const{params:t,state:n}=this,r=!this.areModelsEqual(t.model,n.model);return r&&t.onAction("apply",e),r}onNewRowsLoaded(){}onUiChanged(e,t=!1){this.updateUiVisibility();const n=this.getModelFromUi(),r={model:n,state:this.getState(),valid:this.canApply(n)};this.state=r;const i=this.params;i.onStateChange(r),i.onUiChange(this.getUiChangeEventParams()),this.gos.get("enableFilterHandlers")||this.eventSvc.dispatchEvent({type:"filterModified",column:i.column,filterInstance:this}),e??(e=this.applyActive?void 0:"debounce"),e==="immediately"?this.doApplyModel({afterFloatingFilter:t,afterDataChange:!1}):e==="debounce"&&this.applyDebounced()}getState(){}getUiChangeEventParams(){}afterGuiAttached(e){this.lastContainerType=e?.container,this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t)return;const r=e==="floatingFilter"||e==="columnFilter";r?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(r)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature?.constrainSizeToAvailableHeight(!1)}destroy(){this.positionableFeature=this.destroyBean(this.positionableFeature),super.destroy()}translate(e){return cg(this,e)}getPositionableElement(){return this.getGui()}areModelsEqual(e,t){return e===t||e==null&&t==null?!0:e==null||t==null?!1:this.areNonNullModelsEqual(e,t)}};function STe(e){return!!e.operator}function _Te(e,t,n){if(t==null)return null;let r=null;const{compName:i,jsComp:s,fwComp:o}=Dq(e,t);return i?r={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:s==null&&o==null&&t.filter===!0&&(r=n()),r}var zE={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},zL=class extends _t{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?zE.AUTO_HEIGHT:t.print?zE.PRINT:zE.NORMAL;this.view.updateLayoutClasses(n,t)}},qp="Viewport",lz="fakeVScrollComp",nD=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],cz=100,rD=150,ETe=class extends _t{constructor(e){super(),this.clearRetryListenerFncs=[],this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isScrollActive=!1,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=nl(this,()=>this.lastScrollSource[1]=null,rD),this.resetLastVScrollDebounced=nl(this,()=>this.lastScrollSource[0]=null,rD)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),this.clearRetryListenerFncs=[],window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,qp)});for(const e of nD){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?nl(this,this.onVScroll.bind(this,qp),cz):this.onVScroll.bind(this,qp),r=t?nl(this,this.onVScroll.bind(this,lz),cz):this.onVScroll.bind(this,lz);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,r)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...nD,qp]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);OT(n,e,this.enableRtl)}}getViewportForSource(e){return e===qp?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const r=MT(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(r),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===qp?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n?.setScrollTop(t),this.nextScrollTop=t,e===qp?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n?.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}isScrolling(){return this.isScrollActive}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.isScrollActive=!0,this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.isScrollActive=!1,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},rD)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!r0()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=TL(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){const e=this.scrollLeft;let t=!1;for(const n of nD)if(this.getViewportForSource(n).scrollLeft!==e){t=!0;break}t&&this.onHScroll(qp)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const r=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:r:e=Math.min(Math.max(e,0),r)),OT(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:r}=this;return{top:r,bottom:r+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,r=n.getRowCount();let i=-1;for(let s=0;s<r;s++){const o=n.getRow(s);if(typeof e=="function"){if(o&&e(o)){i=s;break}}else if(e===o||e===o.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t,n=0){if(il(this.gos,"print"))return;const{rowModel:r}=this.beans,i=r.getRowCount();if(typeof e!="number"||e<0||e>=i){zt(88,{index:e});return}this.clearRetryListeners();const{frameworkOverrides:s,pageBounds:o,rowContainerHeight:a,rowRenderer:l}=this.beans;s.wrapIncoming(()=>{const c=this.ctrlsSvc.getGridBodyCtrl(),u=r.getRow(e);let h,p,m=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:y,stickyBottomHeight:w}=c,b=u.rowTop,S=u.rowHeight,E=o.getPixelOffset(),_=u.rowTop-E,N=_+u.rowHeight,V=this.getVScrollPosition(),M=a.divStretchOffset,O=V.top+M,z=V.bottom+M,H=z-O,X=a.getScrollPositionForPixel(_),Q=a.getScrollPositionForPixel(N-H),U=Math.min((X+Q)/2,_),Z=O+y>_,q=z-w<N;let me=null;t==="top"?me=X-y:t==="bottom"?me=Q+w:t==="middle"?me=U:Z?me=X-y:q&&(Q-X>H?me=X-y:me=Q+w),me!==null&&(this.setVerticalScrollPosition(me),l.redraw({afterScroll:!0})),h=b!==u.rowTop||S!==u.rowHeight,p=y!==c.stickyTopHeight||w!==c.stickyBottomHeight,m++}while((h||p)&&m<10);if(this.animationFrameSvc?.flushAllFrames(),n<10&&(u?.stub||!this.beans.rowAutoHeight?.areRowsMeasured())){const y=this.getVScrollPosition().top;this.clearRetryListenerFncs=this.addManagedEventListeners({bodyScroll:()=>{const w=this.getVScrollPosition().top;y!==w&&this.clearRetryListeners()},modelUpdated:()=>{this.clearRetryListeners(),!(e>=r.getRowCount())&&this.ensureIndexVisible(e,t,n+1)}})}})}clearRetryListeners(){this.clearRetryListenerFncs.forEach(e=>e()),this.clearRetryListenerFncs=[]}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:r}=this.beans,i=n.getCol(e);if(!i||i.isPinned()||!this.visibleCols.isColDisplayed(i))return;const s=this.getPositionedHorizontalScroll(i,t);r.wrapIncoming(()=>{s!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(s),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameSvc?.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:r}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),s=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?n:r)||i,l=o?r:n;t!=="auto"&&(a=t==="start",l=t==="end");const c=t==="middle";if(a||l||c){const{colLeft:u,colMiddle:h,colRight:p}=this.getColumnBounds(e);return c?h-s/2:a?o?p:u:o?u-s:p-s}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:r,colRight:i}=this.getColumnBounds(e),s=this.enableRtl,o=s?t>i:n<i,a=s?n<r:t>r;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,r=e.getActualWidth(),i=e.getLeft(),s=t?-1:1,o=t?n-i:i,a=o+r*s,l=o+r/2*s;return{colLeft:o,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,r=e+t;return{start:n,end:r,width:e}}},GL=class extends _t{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=il(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,r=t.bodyWidth,i=t.getColsLeftWidth(),s=t.getDisplayedColumnsRightWidth();let o;e?o=r+i+s:(o=r,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&n.verticalScrollShowing&&(o+=n.getScrollbarWidth())),this.callback(o)}},TTe=class extends _t{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,r=()=>{yp(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(r),n.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e?.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t?.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=TL(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function UL(e,t,n,r,i,s){if(n==null&&t==null)return;const o={},a={},l=(c,u)=>{c.split(" ").forEach(h=>{h.trim()!=""&&u(h)})};if(n){const c=Object.keys(n);for(let u=0;u<c.length;u++){const h=c[u],p=n[h];let m;typeof p=="string"?m=e?e.evaluate(p,r):!0:typeof p=="function"&&(m=p(r)),l(h,y=>{m?o[y]=!0:a[y]=!0})}}t&&s&&Object.keys(t).forEach(c=>l(c,u=>{o[u]||(a[u]=!0)})),s&&Object.keys(a).forEach(s),Object.keys(o).forEach(i)}function uz(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var RTe=class extends _t{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,r=o=>{typeof o=="string"?e.push(o):Array.isArray(o)&&o.forEach(a=>e.push(a))},i=n.get("rowClass");i&&r(i);const s=n.getCallback("getRowClass");if(s){const o={data:t.data,node:t,rowIndex:t.rowIndex},a=s(o);r(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:r,expressionSvc:i}=this.beans,s=In(r,{data:e.data,node:e,rowIndex:e.rowIndex});UL(i,void 0,r.get("rowClassRules"),s,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),r=t.getCallback("getRowStyle");let i;if(r){const s={data:e.data,node:e,rowIndex:e.rowIndex};i=r(s)}if(i||n)return Object.assign({},n,i)}},ATe=0,JT="renderedRow",$T=class extends _t{constructor(e,t,n,r,i){super(),this.rowNode=e,this.useAnimationFrameForCreate=r,this.printLayout=i,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=t.pagination?.getCurrentPage()??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+ATe++,this.rowId=LE(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=uz(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.rowEditStyleFeature=t.editSvc?.createRowStyleFeature(this,t),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=LE(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,r){const{context:i,focusSvc:s}=this.beans;r=p1(this,i,r);const o={rowComp:e,element:t,containerType:n,compBean:r};this.allRowGuis.push(o),this.updateGui(n,o),this.initialiseRowComp(o);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,c=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!c&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const u=this.fullWidthGui?.element;u&&!this.beans.editSvc?.isEditing(this)&&s.isRowFocused(a.rowIndex,a.rowPinned)&&s.shouldTakeFocus()&&setTimeout(()=>u.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),s0(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(i=>n.toggleCss(i,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&kF(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),P0(t,e.element,JT,this),e.compBean.addDestroyFunc(()=>P0(t,e.element,JT,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.toggleCss("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=LE(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(MF(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(MF(()=>{e.rowComp.toggleCss("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){const t=this.beans.rowDragSvc?.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,this.beans.context),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(e=>e?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:r}}=this,i=!!e||!r.isPinningLeft(),s=!!t,o=!!n||!r.isPinningRight();return i&&s&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,r=this.beans.colModel.isPivotMode(),i=oq(this.gos,this.rowNode,r);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":i?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!n?.active||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){if(!this.beans.rowSpanSvc?.isCellSpanning(e,this.rowNode))return new Dy(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){return!this.beans.rowSpanSvc?.isCellSpanning(e.column,this.rowNode)}createCellCtrls(e,t,n=null){const r={list:[],map:{}},i=(c,u,h)=>{h!=null?r.list.splice(h,0,u):r.list.push(u),r.map[c]=u},s=[];for(const c of t){const u=c.getInstanceId();let h=e.map[u];h&&!this.isCorrectCtrlForSpan(h)&&(h.destroy(),h=void 0),h||(h=this.getNewCellCtrl(c)),h&&i(u,h)}for(const c of e.list){const u=c.column.getInstanceId();if(r.map[u]!=null)continue;!this.isCellEligibleToBeRemoved(c,n)?s.push([u,c]):c.destroy()}if(s.length)for(const[c,u]of s){const h=r.list.findIndex(m=>m.column.getLeft()>u.column.getLeft()),p=h===-1?void 0:Math.max(h-1,0);i(c,u,p)}const{focusSvc:o,visibleCols:a}=this.beans,l=o.getFocusedCell();if(l&&l.column.getPinned()==n){const c=l.column.getInstanceId();if(!r.map[c]&&a.allCols.includes(l.column)){const h=this.createFocusedCellCtrl();if(h){const p=r.list.findIndex(y=>y.column.getLeft()>h.column.getLeft()),m=p===-1?void 0:Math.max(p-1,0);i(c,h,m)}}}return r}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const r=t?.getCellSpan(n.column,this.rowNode);if(r){if(r.firstNode!==this.rowNode||!r.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const r=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,r,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const{column:i}=e;if(i.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{visibleCols:s,editSvc:o}=this.beans,a=o?.isEditing(e),l=e.isCellFocused();return a||l?!(s.allCols.indexOf(i)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||il(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=nn(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,r=n.isPinningLeft(),i=n.isPinningRight();if(t){const{slideInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}else{const{fadeInAnimation:s}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){s.fullWidth=!0;return}s.center=!0,s.left=r,s.right=i}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(o,a)=>o?o.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(o.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),r=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&n&&r&&i}addListeners(){const{beans:e,gos:t,rowNode:n}=this,{expansionSvc:r,eventSvc:i,context:s,rowSpanSvc:o}=e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...r?.getRowExpandedListeners(this)??{}}),n.detail&&this.addManagedListeners(n.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(n,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this),rowPinned:this.onRowPinned.bind(this)}),this.addManagedListeners(i,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),o&&this.addManagedListeners(o,{spannedCellsUpdated:({pinned:a})=>{a&&!n.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,s),this.tooltipFeature=this.destroyBean(this.tooltipFeature,s),this.rowEditStyleFeature=this.destroyBean(this.rowEditStyleFeature,s)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(t.get("rowDragEntireRow")){this.allRowGuis.forEach(l=>{this.addRowDraggerToRow(l)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,s)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged()),cellChanged:e=>this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))})}onRowPinned(){for(const e of this.allRowGuis)e.rowComp.toggleCss("ag-row-pinned-source",!!this.rowNode.pinnedSibling)}onRowNodeDataChanged(e){this.refreshRow({suppressFlash:!e.update,newData:!e.update})}refreshRow(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell(e)),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.rowEditStyleFeature?.applyRowStyles(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.beans.rowDropHighlightSvc,t=e?.row===this.rowNode?e.position:"none",n=t==="above",r=t==="inside",i=t==="below",o=this.gos.get("treeData")&&(i||n),a=this.rowNode.uiLevel.toString();this.allRowGuis.forEach(l=>{const c=l.rowComp;c.toggleCss("ag-row-highlight-above",n),c.toggleCss("ag-row-highlight-inside",r),c.toggleCss("ag-row-highlight-below",i),c.toggleCss("ag-row-highlight-indent",o),o?l.element.style.setProperty("--ag-row-highlight-level",a):l.element.style.removeProperty("--ag-row-highlight-level")})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.toggleCss("ag-row-dragging",e))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.rowAutoHeight?.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Xf(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:r}=t;if(!(n.element===e.target))return;const o=this.rowNode,{focusSvc:a,navigation:l}=this.beans,c=a.getFocusedCell(),u={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:c?.column??r};l?.navigateToNextCell(e,e.key,u,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||Zf(e))return;const t=this.allRowGuis.find(a=>a.element.contains(e.target)),n=t?t.element:null,r=n===e.target,i=js(this.beans);let s=!1;n&&i&&(s=n.contains(i)&&i.classList.contains("ag-cell"));let o=null;!r&&!s&&(o=iv(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&r||!o)&&this.beans.navigation?.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find(t=>mf(t.element))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{yu(n.element,"tabindex",t)})}onFullWidthRowFocused(e){const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let r;if(this.fullWidthGui)r=this.fullWidthGui.element;else{const s=this.beans.colModel.getCol(e?.column)?.pinned;s?r=s==="right"?this.rightGui?.element:this.leftGui?.element:r=this.centerGui?.element}r&&(r.classList.toggle("ag-full-width-focus",n),n&&e?.forceBrowserFocus&&r.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(r=>{r!==t&&(n.list.push(r),n.map[r.column.getInstanceId()]=r)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return In(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){Zf(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e?.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=i0(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:r}=this.beans;n?.removeAllCellRanges();const i=this.findFullWidthInfoForEvent(e);if(!i)return;const{rowGui:s,column:o}=i,a=s.element,l=e.target;let c=e.defaultPrevented||$0();a&&a.contains(l)&&EL(l)&&(c=!1),r.setFocusedCell({rowIndex:t.rowIndex,column:o,rowPinned:t.rowPinned,forceBrowserFocus:c})}onRowClick(e){if(Zf(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:r}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),r?.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){this.rowType==="FullWidthDetail"&&this.beans.masterDetailSvc?.setupDetailRowAutoHeight(this,e)}createFullWidthCompDetails(e,t){const{gos:n,rowNode:r}=this,i=In(n,{fullWidth:!0,data:r.data,node:r,value:r.key,valueFormatted:r.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(o,a,l,c)=>this.addFullWidthRowDragging(o,a,l,c),setTooltip:(o,a)=>{n.assertModuleRegistered("Tooltip",3),this.setupFullWidthRowTooltip(o,a)}}),s=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return K_e(s,i);case"FullWidthGroup":{const{value:o,valueFormatted:a}=this.beans.valueSvc.getValueForDisplay(void 0,this.rowNode,!0);return i.value=o,i.valueFormatted=a,j_e(s,i)}case"FullWidthLoading":return W_e(s,i);default:return U_e(s,i)}}setupFullWidthRowTooltip(e,t){this.fullWidthGui&&(this.tooltipFeature=this.beans.tooltipSvc?.setupFullWidthRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",r){const{rowDragSvc:i,context:s}=this.beans;if(!i||!this.isFullWidth())return;const o=i.createRowDragComp(()=>n,this.rowNode,void 0,e,t,r);this.createBean(o,s),this.addDestroyFunc(()=>{this.destroyBean(o,s)})}onUiLevelChanged(){const e=uz(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(r=>{r.rowComp.toggleCss(t,!0),r.rowComp.toggleCss(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.toggleCss("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=[];this.beans.rowStyleSvc?.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(t=>{this.allRowGuis.forEach(n=>n.rowComp.toggleCss(t,!0))})}postProcessRowClassRules(){this.beans.rowStyleSvc?.processRowClassRules(this.rowNode,e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!0))},e=>{this.allRowGuis.forEach(t=>t.rowComp.toggleCss(e,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:r,beans:i}=this,s=[];s.push("ag-row"),s.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&s.push("ag-opacity-zero"),s.push(r.rowIndex%2===0?"ag-row-even":"ag-row-odd"),r.isRowPinned()&&(s.push("ag-row-pinned"),i.pinnedRowModel?.isManual()&&s.push("ag-row-pinned-manual")),!r.isRowPinned()&&r.pinnedSibling&&s.push("ag-row-pinned-source"),r.isSelected()&&s.push("ag-row-selected"),r.footer&&s.push("ag-row-footer"),s.push("ag-row-level-"+this.rowLevel),r.stub&&s.push("ag-row-loading"),n&&s.push("ag-full-width-row"),i.expansionSvc?.addExpandedCss(s,r),r.dragging&&s.push("ag-row-dragging");const{rowStyleSvc:o}=i;return o&&(o.processClassesFromGridOptions(s,r),o.preProcessRowClassRules(s,r)),s.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&s.push("ag-row-first"),this.isLastRowOnPage()&&s.push("ag-row-last"),n&&(t==="left"&&s.push("ag-cell-last-left-pinned"),t==="right"&&s.push("ag-cell-first-right-pinned")),s}processStylesFromGridOptions(){return this.beans.rowStyleSvc?.processStylesFromGridOptions(this.rowNode)??this.emptyStyle}onRowSelected(e){this.beans.selectionSvc?.onRowCtrlSelected(this,t=>{(t===this.centerGui||t===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){this.beans.selectionSvc?.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:r,beans:i,gos:s}=this;n.addManagedListeners(t,{pointerenter:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseEnter")},pointerleave:o=>{o.pointerType==="mouse"&&r.dispatchRowEvent("mouseLeave")}}),n.addManagedListeners(r,{mouseEnter:()=>{!i.dragSvc?.dragging&&!s.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),r.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,r=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),r)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),i=$Z(this.gos)?Ig(this.beans,this.rowNode).height:void 0,s=i?`${Math.min(n,i)-2}px`:void 0;this.forEachGui(e,o=>{o.element.style.height=`${t}px`,s&&o.element.style.setProperty("--ag-line-height",s)})}destroyFirstPass(e=!1){this.active=!1;const{rowNode:t}=this;if(!e&&Ty(this.gos)&&!t.sticky)if(t.rowTop!=null){const i=this.roundRowTopToBounds(t.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(i=>i.rowComp.toggleCss("ag-opacity-zero",!0));this.fullWidthGui?.element.contains(js(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){this.allRowGuis.length=0;const e=t=>(t.list.forEach(n=>n.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.toggleCss("ag-row-focus",this.rowFocused),t.rowComp.toggleCss("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e}=this.beans,t=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses())}onPaginationChanged(){const e=this.beans.pagination?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&nn(e)){const t=this.applyPaginationOffset(e),i=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(i)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const r=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(r);n=t.isRowPinned()?i:this.beans.rowContainerHeight.getRealPixelPosition(i)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(r=>{r.column==e&&(n=r)}),n!=null||t||this.getAllCellCtrls().forEach(r=>{r?.getColSpanningList().indexOf(e)>=0&&(n=r)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(this.beans.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.beans.filterManager?.getHeaderRowCount()??0),r=this.rowNode.rowIndex%2===0,i=n+this.rowNode.rowIndex+1;this.forEachGui(e,s=>{s.rowComp.setRowIndex(t),s.rowComp.toggleCss("ag-row-even",r),s.rowComp.toggleCss("ag-row-odd",!r),MZ(s.element,i)})}};function nQ(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function XF(e,t,n,r,i){const s=r?r.getColDef().suppressKeyboardEvent:void 0;if(!s)return!1;const o=In(e,{event:t,editing:i,column:r,node:n,data:n.data,colDef:r.getColDef()});return!!(s&&s(o))}function kTe(e){const{pinnedRowModel:t,rowModel:n}=e,[r,i]=[t?.isEmpty("top")??!0,t?.isEmpty("bottom")??!0],s=r?null:"top";let o,a;i?(o=null,a=n.getRowCount()-1):(o="bottom",a=t?.getPinnedBottomRowCount()??-1);const{visibleCols:l,rangeSvc:c}=e,u=l.allCols;!c||!u?.length||c.setCellRange({rowStartIndex:0,rowStartPinned:s,rowEndIndex:a,rowEndPinned:o})}var PTe=65,DTe=67,FTe=86,ITe=68,MTe=90,OTe=89;function LTe(e){const{keyCode:t}=e;let n;switch(t){case PTe:n=vt.A;break;case DTe:n=vt.C;break;case FTe:n=vt.V;break;case ITe:n=vt.D;break;case MTe:n=vt.Z;break;case OTe:n=vt.Y;break;default:n=e.code}return n}var NTe=class extends _t{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.beans.touchSvc?.mockRowContextMenu(this),this.editSvc=this.beans.editSvc}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",dq("touchstart")?"touchstart":"mousedown"].forEach(n=>{const r=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:r})})}processMouseEvent(e,t){if(!Wx(this.gos,t)||Zf(t))return;const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n?.column&&n.dispatchCellContextMenuEvent(t),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(t,void 0,r,n)):(n&&n.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:Yq(t,e),rowCtrl:hq(t,e,JT)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:r}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):r?.isFullWidth()&&this.processFullWidthRowKeyboardEvent(r,e,t))}processCellKeyboardEvent(e,t,n){const r=this.editSvc?.isEditing(e,{withOpenEditor:!0})??!1;!XF(this.gos,n,e.rowNode,e.column,r)&&t==="keydown"&&(!r&&this.beans.navigation?.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,r),nQ(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:r}=e,{focusSvc:i,navigation:s}=this.beans,a=i.getFocusedCell()?.column;if(!XF(this.gos,n,r,a,!1)){const c=n.key;if(t==="keydown")switch(c){case vt.PAGE_HOME:case vt.PAGE_END:case vt.PAGE_UP:case vt.PAGE_DOWN:s?.handlePageScrollingKey(n,!0);break;case vt.LEFT:case vt.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case vt.UP:case vt.DOWN:e.onKeyboardNavigate(n);break;case vt.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Wx(this.gos,e))return;const n=LTe(e),{clipboardSvc:r,undoRedo:i}=this.beans;if(n===vt.A)return this.onCtrlAndA(e);if(n===vt.C)return this.onCtrlAndC(r,e);if(n===vt.D)return this.onCtrlAndD(r,e);if(n===vt.V)return this.onCtrlAndV(r,e);if(n===vt.X)return this.onCtrlAndX(r,e);if(n===vt.Y)return this.onCtrlAndY(i);if(n===vt.Z)return this.onCtrlAndZ(i,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:r},gos:i}=this;n&&Mg(i)&&t.isRowsToRender()?kTe(this.beans):r&&r?.selectAllRowNodes({source:"keyboardSelectAll",selectAll:lq(i)}),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n}=this.getControlsForEventTarget(t.target);this.editSvc?.isEditing(n,{withOpenEditor:!0})||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e?.redo("ui")}},rQ=class extends _t{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},D_=e=>e.topRowCtrls,F_=e=>e.getStickyTopRowCtrls(),I_=e=>e.getStickyBottomRowCtrls(),M_=e=>e.bottomRowCtrls,O_=e=>e.allRowCtrls,iD=e=>e.getCtrls("top"),sD=e=>e.getCtrls("center"),oD=e=>e.getCtrls("bottom"),BTe={center:{type:"center",name:"center-cols",getRowCtrls:O_,getSpannedRowCtrls:sD},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:O_,getSpannedRowCtrls:sD},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:O_,getSpannedRowCtrls:sD},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:O_},topCenter:{type:"center",name:"floating-top",getRowCtrls:D_,getSpannedRowCtrls:iD},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:D_,getSpannedRowCtrls:iD},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:D_,getSpannedRowCtrls:iD},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:D_},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:F_},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:F_},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:F_},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:F_},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:I_},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:I_},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:I_},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:I_},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:M_,getSpannedRowCtrls:oD},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:M_,getSpannedRowCtrls:oD},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:M_,getSpannedRowCtrls:oD},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:M_}};function iQ(e){return`ag-${v1(e).name}-viewport`}function GE(e){const t=v1(e);return t.container??`ag-${t.name}-container`}function VTe(e){return`ag-${v1(e).name}-spanned-cells-container`}function v1(e){return BTe[e]}var HTe=["topCenter","topLeft","topRight"],zTe=["bottomCenter","bottomLeft","bottomRight"],GTe=["center","left","right"],UTe=["center","left","right","fullWidth"],WTe=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],jTe=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],KTe=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],sQ=["stickyTopCenter","stickyTopLeft","stickyTopRight"],oQ=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],YTe=[...sQ,"stickyTopFullWidth",...oQ,"stickyBottomFullWidth"],XTe=[...HTe,...zTe,...GTe,...sQ,...oQ],ZTe=class extends _t{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=v1(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new TTe(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,r){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=r,this.createManagedBean(new NTe(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:i,rangeSvc:s}=this.beans,o=()=>this.onPinnedWidthChanged();this.forContainers(jTe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:o})}),this.forContainers(KTe,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(i?.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:o})}),this.forContainers(UTe,()=>this.createManagedBean(new rQ(this.eContainer,this.name==="center"?r:void 0))),s&&this.forContainers(XTe,()=>this.createManagedBean(s.createDragListenerFeature(this.eContainer))),this.forContainers(WTe,()=>this.createManagedBean(new GL(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans,n=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({displayedColumnsChanged:n,displayedColumnsWidthChanged:n,displayedRowsChanged:r=>this.onDisplayedRowsChanged(r.afterScroll)}),n(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const r=this.options.getSpannedRowCtrls(e);r&&this.comp.setSpannedRowCtrls(r,!1)}})}listenOnDomOrder(){if(YTe.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),r=il(this.gos,"print");this.comp.setDomOrder(n||r)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Vx(this.eViewport)}getCenterViewportScrollLeft(){return MT(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=vp(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return UZ(this.eViewport)}getViewportScrollLeft(){return MT(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||WZ(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){OT(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=il(this.gos,"print"),i=this.gos.get("embedFullWidthRows")||n,s=t.filter(o=>{const a=o.isFullWidth();return this.options.fullWidth?!i&&a:i||!a});this.comp.setRowCtrls({rowCtrls:s,useFlushSync:e})}},qTe="ag-force-vertical-scroll",QTe="ag-selectable",JTe="ag-column-moving",$Te=class extends _t{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,r,i,s,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=r,this.eBottom=i,this.eStickyTop=s,this.eStickyBottom=o,this.eCenterColsViewport=n.querySelector(`.${iQ("center")}`),this.eFullWidthContainer=n.querySelector(`.${GE("fullWidth")}`),this.eStickyTopFullWidthContainer=s.querySelector(`.${GE("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=o.querySelector(`.${GE("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new zL(this.comp)),this.scrollFeature=this.createManagedBean(new ETe(n)),this.beans.rowDragSvc?.setupRowDrag(n,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([r,n,i,s,o]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvFilterHeaderComp(r),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this),n=this.toggleRowResizeStyles.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,pinnedRowsChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t,rowResizeStarted:n,rowResizeEnded:n}),this.addManagedPropertyListener("treeData",t)}toggleRowResizeStyles(e){const t=e.type==="rowResizeStarted";this.eBodyViewport.classList.toggle("ag-prevent-animation",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,r=VZ()?16:0,i=`calc(100% + ${n+r}px)`;yp(this.beans,()=>this.comp.setBodyViewportWidth(i)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const r=t.isPivotMode();n=(e?e.columns.length:0)>=(r?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:r}=n,i=i0(r,"ag-root",t);t.classList.toggle("ag-has-focus",!i)},focusout:n=>{const{target:r,relatedTarget:i}=n,s=t.contains(i),o=i0(i,"ag-root",t);i0(r,"ag-root",t)||(!s||o)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(JTe,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(QTe,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){this.beans.editSvc?.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){const e=(this.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0)+(this.filterManager?.getHeaderRowCount()??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,r=n===-1?-1:e+n;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?qTe:null,n=il(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&jZ(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const r=()=>{const i=n&&Ty(this.gos)&&!e.stretching,s=i?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(s,i)};r(),this.addManagedEventListeners({heightScaleChanged:r}),this.addManagedPropertyListener("animateRows",r),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,r())}})}addBodyViewportListener(){const{eBodyViewport:e,eStickyTop:t,eStickyBottom:n,eTop:r,eBottom:i,beans:{popupSvc:s,touchSvc:o}}=this,a=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(e,{contextmenu:a}),o?.mockBodyContextMenu(this,a),this.addManagedElementListeners(e,{wheel:this.onBodyViewportWheel.bind(this,s)});const l=this.onStickyWheel.bind(this);for(const u of[t,n,r,i])this.addManagedElementListeners(u,{wheel:l});const c=this.onHorizontalWheel.bind(this);for(const u of["left","right","topLeft","topRight","bottomLeft","bottomRight"])this.addManagedElementListeners(this.ctrlsSvc.get(u).eContainer,{wheel:c});this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&Wx(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaY:t}=e;this.scrollVertically(t)>0&&e.preventDefault()}onHorizontalWheel(e){const{deltaX:t,deltaY:n,shiftKey:r}=e;(r||Math.abs(t)>Math.abs(n))&&this.scrollGridBodyToMatchEvent(e)}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:r}=e||t;(r===this.eBodyViewport||r===this.ctrlsSvc.get("center").eViewport)&&this.beans.contextMenuSvc?.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"})}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e?.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e,beans:{environment:t}}=this,n=e?.getPinnedTopTotalHeight(),r=e?.getPinnedBottomTotalHeight(),i=t.getPinnedRowBorderWidth(),s=t.getRowBorderWidth(),o=i-s,a=n?o+n:0,l=r?o+r:0;this.comp.setTopHeight(a),this.comp.setBottomHeight(l),this.comp.setTopInvisible(a<=0),this.comp.setBottomInvisible(l<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(this.filterManager?.getHeaderHeight()??0),n=this.pinnedRowModel?.getPinnedTopTotalHeight()??0;let r=0;t>0&&(r+=t),n>0&&(r+=n),r>0&&(r+=1),this.comp.setStickyTopTop(`${r}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,r=e?.getPinnedBottomTotalHeight()??0,s=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,o=r+s;n.setStickyBottomBottom(`${o}px`)}},aQ=class extends qi{constructor(e,t){super(),this.direction=t,this.eViewport=Tn,this.eContainer=Tn,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.toggleCss("ag-apple-scrollbar",NZ()||r0())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=VZ(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.toggleCss("ag-scrollbar-active",!0),n=()=>this.toggleCss("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),yp(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.toggleCss("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.toggleCss("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;m1e(()=>mf(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},eRe={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},tRe=class extends aQ{constructor(){super(eRe,"horizontal"),this.eLeftSpacer=Tn,this.eRightSpacer=Tn,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new GL(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.beans.pinnedRowModel?.getPinnedBottomTotalHeight()??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,r=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=r),lf(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=r);let i=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(i+=r),lf(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=r)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),r=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,s=n?0:r===0&&t?16:r,o=()=>{this.setScrollVisibleDebounce=0,this.toggleCss("ag-scrollbar-invisible",t),Gb(this.getGui(),s),Gb(this.eViewport,s),Gb(this.eContainer,s),s||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(o,100):o()}getScrollPosition(){return MT(this.eViewport,this.enableRtl)}setScrollPosition(e){mf(this.eViewport)||this.attemptSettingScrollPosition(e),OT(this.eViewport,e,this.enableRtl)}},nRe={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},rRe=class extends aQ{constructor(){super(nRe,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new rQ(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,r=t&&e.getScrollbarWidth()||0,i=r===0&&n?16:r;this.toggleCss("ag-scrollbar-invisible",n),lf(this.getGui(),i),lf(this.eViewport,i),lf(this.eContainer,i),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,r=this.getScrollPosition(),i=n.scrollTop;r!=i&&this.setScrollPosition(i,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!mf(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}};function jh(e){return e.ctrlsSvc.getHeaderRowContainerCtrl()?.getRowCount()??0}function WL(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const r of n){if(!r)continue;const i=r.getGroupRowCount()||0;for(let s=0;s<i;s++){const o=r.getGroupRowCtrlAtIndex(s),a=t[s];if(o){const l=iRe(e,o);(a==null||l>a)&&(t[s]=l)}}}return t}function iRe(e,t){let r=e.colModel.isPivotMode()?oRe(e):cQ(e);const i=t.getHeaderCellCtrls();for(const s of i){const{column:o}=s,a=o.getAutoHeaderHeight();a!=null&&a>r&&o.isAutoHeaderHeight()&&(r=a)}return r}function jL(e){let n=e.colModel.isPivotMode()?sRe(e):y1(e);return e.colModel.forAllCols(r=>{const i=r.getAutoHeaderHeight();i!=null&&i>n&&r.isAutoHeaderHeight()&&(n=i)}),n}function y1(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function lQ(e){return e.gos.get("floatingFiltersHeight")??y1(e)}function cQ(e){return e.gos.get("groupHeaderHeight")??y1(e)}function sRe(e){return e.gos.get("pivotHeaderHeight")??y1(e)}function oRe(e){return e.gos.get("pivotGroupHeaderHeight")??cQ(e)}var aRe=class extends _t{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:r}=this,{headerNavigation:i,touchSvc:s,ctrlsSvc:o}=r;i&&this.createManagedBean(new Vw(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,r),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,r)}),this.onPivotModeChanged(r),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),s?.mockHeaderContextMenu(this,a),o.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({headerRowsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>yp(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){const{beans:e}=this;let t=0;const n=WL(e).reduce((s,o)=>s+o,0),r=jL(e);if(e.filterManager?.hasFloatingFilters()&&(t+=lQ(e)),t+=n,t+=r,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.toggleCss("ag-pivot-on",t),this.comp.toggleCss("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(r=>r.isSpanHeaderHeight());this.comp.toggleCss("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,r=n!==t?"LEFT":"RIGHT",{beans:i}=this,{headerNavigation:s,focusSvc:o}=i;(s.navigateHorizontally(r,!0,e)||!n&&o.focusOverlay(!1)||fw(i,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case vt.LEFT:t="LEFT";case vt.RIGHT:{nn(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case vt.UP:t="UP";case vt.DOWN:{nn(t)||(t="DOWN"),n.navigateVertically(t,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:r}=this;!t&&n.contains(js(r))||n.contains(t)||(r.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){const{menuSvc:r,ctrlsSvc:i}=this.beans;if(!e&&!n||!r?.isHeaderContextMenuEnabled())return;const{target:s}=e??t;(s===this.eGui||s===i.getHeaderRowContainerCtrl()?.eViewport)&&r.showHeaderContextMenu(void 0,e,n)}},KL=class extends _t{constructor(e,t,n,r){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=r,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?Ei(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),r=nn(this.columnOrGroup.getOldLeft());t?.isActive()&&r&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:r}=this.beans;if(!il(n,"print")||e.getPinned()==="left")return t;const s=r.getColsLeftWidth();if(e.getPinned()==="right"){const o=r.bodyWidth;return s+o+t}return s+t}setLeft(e){if(nn(e)&&(this.eCell.style.left=`${e}px`),Eo(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&s1e(this.ariaEl,t.length)}}},lRe=0,uQ="headerCtrl",YL=class extends _t{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+lRe++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,r=n.getDefinition(),i=r&&r.suppressHeaderKeyboardEvent;if(!nn(i))return!1;const s=In(this.gos,{colDef:r,column:n,headerRowIndex:t,event:e});return!!i(s)}getWrapperHasFocus(){return js(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const r=this.getHeaderClassParams();n=t(r)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:r}=e,{beans:i}=this,s=h=>{if(!this.isAlive()||!r.isAlive())return;const{paddingTop:p,paddingBottom:m,borderBottomWidth:y,borderTopWidth:w}=ev(this.eGui),b=p+m+y+w,E=t.offsetHeight+b;if(h<5){const _=Aa(i),N=!_||!_.contains(t),V=E==0;if(N||V){MF(()=>s(h+1),"raf",i);return}}this.setColHeaderHeight(this.column,E)};let o=!1,a;const l=()=>{const h=this.column.isAutoHeaderHeight();h&&!o&&c(),!h&&o&&u()},c=()=>{o=!0,s(0),this.comp.toggleCss("ag-header-cell-auto-height",!0),a=vp(this.beans,t,()=>s(0))},u=()=>{o=!1,a&&a(),this.comp.toggleCss("ag-header-cell-auto-height",!1),a=void 0};l(),r.addDestroyFunc(()=>u()),r.addManagedListeners(this.column,{widthChanged:()=>o&&s(0)}),r.addManagedEventListeners({sortChanged:()=>{o&&window.setTimeout(()=>s(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:r}=this;!e||!t||!r||(Wq(e,t,n.visibleCols),OZ(r,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=l0(this.beans);this.eGui&&yu(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=js(this.beans),n=e.key===vt.LEFT||e.key===vt.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const i=e.key===vt.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(i)}moveHeader(e){this.beans.colMoves?.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let r=e.key===vt.LEFT!==t.get("enableRtl");const i=n.getPinned(),s=t.get("enableRtl");return i&&s!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case vt.PAGE_DOWN:case vt.PAGE_UP:case vt.PAGE_HOME:case vt.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=uQ,{eGui:n,gos:r}=this;P0(r,n,t,this),e.addDestroyFunc(()=>P0(r,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop?.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const r=e??t,{menuSvc:i,gos:s}=this.beans;s.get("preventDefaultOnContextMenu")&&r.preventDefault(),i?.isHeaderContextMenuEnabled(n)&&i.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},cRe=class extends YL{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,r,i){this.comp=e;const{rowCtrl:s,column:o,beans:a}=this,{colResize:l,context:c,colHover:u,rangeSvc:h}=a,p=p1(this,c,i);this.setGui(t,p),this.updateState(),this.setupWidth(p),this.setupMovingCss(p),this.setupMenuClass(p),this.setupSortableClass(p),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:r,checkMeasuringCallback:y=>this.setRefreshFunction("measuring",y),compBean:p}),this.addColumnHoverListener(p),this.setupFilterClass(p),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(p),this.setupSelectAll(p),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=p.createManagedBean(l.createResizeFeature(s.pinned,o,n,e,this)):Vs(n,!1),u?.createHoverFeature(p,[o],t),h?.createRangeHighlightFeature(p,o,e),p.createManagedBean(new KL(o,t,a)),p.createManagedBean(new Vw(t,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(p),p.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),p.addManagedListeners(o,{colDefChanged:()=>this.refresh()}),p.addManagedListeners(o,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const m=()=>this.checkDisplayName();p.addManagedEventListeners({columnValueChanged:m,columnRowGroupChanged:m,columnPivotChanged:m,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),p.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){this.beans.colResize?.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return In(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return V_e(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:r}=this.beans;return In(r,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!e?.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!!n&&(!this.openFilterEnabled||wu(this.gos)),showColumnMenu:(s,o)=>{e?.showColumnMenu({column:this.column,buttonElement:s,positionBy:"button",onClosedCallback:o})},showColumnMenuAfterMouseClick:(s,o)=>{e?.showColumnMenu({column:this.column,mouseEvent:s,positionBy:"mouse",onClosedCallback:o})},showFilter:s=>{e?.showFilterMenu({column:this.column,buttonElement:s,containerType:"columnFilter",positionBy:"button"})},progressSort:s=>{t?.progressSort(this.column,!!s,"uiColumnSorted")},setSort:(s,o)=>{t?.setSortForColumn(this.column,s,!!o,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(s,o)=>{r.assertModuleRegistered("Tooltip",3),this.setupTooltip(s,o)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createOptionalManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature?.setComp(this),e.addManagedPropertyListener("rowSelection",()=>{const n=t.createSelectAllFeature(this.column);n&&!this.selectAllFeature?(this.selectAllFeature=e.createManagedBean(n),this.selectAllFeature?.setComp(this),this.comp.refreshSelectAllGui()):this.selectAllFeature&&!n&&(this.comp.removeSelectAllGui(),this.selectAllFeature=this.destroyBean(this.selectAllFeature))}))}getSelectAllGui(){return this.selectAllFeature?.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===vt.SPACE&&this.selectAllFeature?.onSpaceKeyDown(e),e.key===vt.ENTER&&this.onEnterKeyDown(e),e.key===vt.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&this.beans.sortSvc?.progressSort(this.column,e.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();dz(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),MEe()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=Uq(t,this.gos,this.column,null),r=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(i=>{r.has(i)?r.delete(i):this.comp.toggleCss(i,!0)}),r.forEach(i=>this.comp.toggleCss(i,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!e?.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=!!e?.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.toggleCss("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp?.toggleCss("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.toggleCss("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.toggleCss("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.toggleCss("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.toggleCss("ag-header-highlight-before",t),this.comp.toggleCss("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:r}=this,i=WL(this.beans),s=i.reduce((p,m)=>p+=m,0)===0;if(n.toggleCss("ag-header-parent-hidden",s),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.toggleCss("ag-header-span-height",!1),n.toggleCss("ag-header-span-total",!1);return}const{numberOfParents:o,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.toggleCss("ag-header-span-height",o>0);const l=jL(r);if(o===0){n.toggleCss("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.toggleCss("ag-header-span-total",a);const c=(this.column.getFirstRealParent()?.getLevel()??-1)+1,u=i.length-c;let h=0;for(let p=0;p<u;p++)h+=i[i.length-1-p];e.style.setProperty("top",`${-h}px`),e.style.setProperty("height",`${l+h}px`)}refreshAriaSort(){if(this.sortable){const e=this.getLocaleTextFunc(),t=this.beans.sortSvc?.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(XSe(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!wu(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(js(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,n)=>t==="filter"?-1:n.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnounce?.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){this.beans.colHover?.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.toggleCss("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return dz(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function dz(e){return typeof e?.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var uRe=0,aD=class extends _t{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=uRe++,this.comp=null,this.allCtrls=[];let r="ag-header-row-column";n==="group"?r="ag-header-row-group":n==="filter"&&(r="ag-header-row-filter"),this.headerRowClass=`ag-header-row ${r}`}setRowIndex(e){this.rowIndex=e,this.comp?.setRowIndex(this.getAriaRowIndex()),this.onRowHeightChanged()}postConstruct(){this.isPrintLayout=il(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=p1(this,this.beans.context,t),n&&(this.setRowIndex(this.rowIndex),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:r=>this.onVirtualColumnsChanged(r.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=il(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){if(!this.comp)return;const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){if(!this.comp)return;const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){let e=0;const t=WL(this.beans);for(let i=0;i<t.length;i++){if(i===this.rowIndex&&this.type==="group")return{topOffset:e,rowHeight:t[i]};e+=t[i]}const n=jL(this.beans);if(this.type==="column")return{topOffset:e,rowHeight:n};e+=n;const r=lQ(this.beans);return{topOffset:e,rowHeight:r}}onVirtualColumnsChanged(e=!1){if(!this.comp)return;const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const r of t)this.recycleAndCreateHeaderCtrls(r,this.ctrlsById,e);const n=r=>{const{focusSvc:i,visibleCols:s}=this.beans;return i.isHeaderWrapperFocused(r)?s.isVisible(r.column):!1};if(e)for(const[r,i]of e)n(i)?this.ctrlsById.set(r,i):this.destroyBean(i);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const r=e.getUniqueId();let i;if(n&&(i=n.get(r),n.delete(r)),i&&i.column!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":{i=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":i=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:i=this.createBean(new cRe(e,this));break}t.set(r,i)}getColumnsInViewport(){if(!this.isPrintLayout)return this.getComponentsToRender();if(this.pinned)return[];const e=[];return["left",null,"right"].forEach(t=>{e.push(...this.getComponentsToRender(t))}),e}getComponentsToRender(e=this.pinned){return this.type==="group"?this.beans.colViewport.getHeadersToRender(e,this.rowIndex):this.beans.colViewport.getColumnHeadersToRender(e)}focusHeader(e,t){const n=this.allCtrls.find(i=>i.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,this.comp=null,super.destroy()}},dRe=class extends _t{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:r,colModel:i,colMoves:s}=this.beans;this.setupCenterWidth(),n?.setupHeaderPinnedWidth(this),this.setupDragAndDrop(s,this.eViewport);const o=this.refresh.bind(this,!0);this.addManagedEventListeners({displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const a=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;r.register(a,this),i.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,filterManager:n,visibleCols:r}=this.beans;let i=0;const s=t.getFocusHeaderToUseAfterRefresh(),o=()=>{const h=r.headerGroupRowCount;i=h;const p=this.groupsRowCtrls.length;if(p!==h){if(p>h){for(let m=h;m<p;m++)this.destroyBean(this.groupsRowCtrls[m]);this.groupsRowCtrls.length=h;return}for(let m=p;m<h;m++){const y=this.createBean(new aD(m,this.pinned,"group"));this.groupsRowCtrls.push(y)}}},a=()=>{const h=i++;if(this.hidden){this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl);return}this.columnsRowCtrl==null||!e?(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.columnsRowCtrl=this.createBean(new aD(h,this.pinned,"column"))):this.columnsRowCtrl.rowIndex!==h&&this.columnsRowCtrl.setRowIndex(h)},l=()=>{this.includeFloatingFilter=!!n?.hasFloatingFilters()&&!this.hidden;const h=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){h();return}e||h();const p=i++;this.filtersRowCtrl?this.filtersRowCtrl.rowIndex!==p&&this.filtersRowCtrl.setRowIndex(p):this.filtersRowCtrl=this.createBean(new aD(p,this.pinned,"filter"))},c=this.getAllCtrls();o(),a(),l();const u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,s),c.length!==u.length&&this.beans.eventSvc.dispatchEvent({type:"headerRowsChanged"})}getHeaderCtrlForColumn(e){const t=n=>n?.getHeaderCellCtrls().find(r=>r.column===e);if(Og(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const r=t(this.groupsRowCtrls[n]);if(r)return r}}getHtmlElementForColumnHeader(e){return this.getHeaderCtrlForColumn(e)?.eGui??null}getRowType(e){return this.getAllCtrls()[e]?.type}focusHeader(e,t,n){const i=this.getAllCtrls()[e];return i?i.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e?.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new GL(e=>this.comp.setCenterWidth(`${e}px`),!0))}},hRe=class extends _t{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){this.showColumnMenuCommon(fz(this.beans),e,e.containerType,!0)}showHeaderContextMenu(e,t,n){this.activeMenuFactory?.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){this.beans.contextMenuSvc?.hideActiveMenu(),this.activeMenuFactory?.hideActiveMenu()}hideFilterMenu(){fz(this.beans)?.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!this.activeMenuFactory?.isMenuEnabled(e)&&(wu(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.beans.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Og(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(r0()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!wu(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.beans.filterManager?.isFilterAllowed(e)&&!wu(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return wu(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,r){const{positionBy:i,onClosedCallback:s}=t,o=t.column;if(i==="button"){const{buttonElement:a}=t;e?.showMenuAfterButtonClick(o,a,n,s,r)}else if(i==="mouse"){const{mouseEvent:a}=t;e?.showMenuAfterMouseEvent(o,a,n,s,r)}else if(o){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(o,"auto"),yp(a,()=>{const c=l.getHeaderRowContainerCtrl(o.getPinned())?.getHeaderCtrlForColumn(o);c&&e?.showMenuAfterButtonClick(o,c.getAnchorElementForMenu(r),n,s,r)})}}};function hz(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}function fz(e){const{enterpriseMenuFactory:t,filterMenuFactory:n,gos:r}=e;return t&&wu(r)?t:n}var XL=class extends qi{isPopup(){return!0}setParentComponent(e){e.addCss("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},IA=class extends XL{constructor(){super(...arguments),this.errorMessages=null}init(e){this.params=e,this.initialiseEditor(e),this.eEditor.onValueChange(()=>e.validate())}destroy(){this.errorMessages=null}},dQ=class extends qi{constructor(){super()}},fRe={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},pRe=class extends dQ{init(){const e=Xf(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??fRe),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},gRe={tag:"span",cls:"ag-overlay-no-rows-center"},mRe=class extends dQ{init(){const e=Xf(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??gRe),!e){const t=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}};function vRe(e,t,n){const r=dd(e,t,n);if(r){const{className:s}=r;if(typeof s=="string"&&s.indexOf("ag-icon")>-1||typeof s=="object"&&s["ag-icon"])return r}const i=To({tag:"span"});return i.appendChild(r),i}function dd(e,t,n){let r=null;e==="smallDown"?zt(262):e==="smallLeft"?zt(263):e==="smallRight"&&zt(264);const i=n&&n.getColDef().icons;if(i&&(r=i[e]),t.gos&&!r){const s=t.gos.get("icons");s&&(r=s[e])}if(r){let s;if(typeof r=="function")s=r();else if(typeof r=="string")s=r;else{zt(38,{iconName:e});return}if(typeof s=="string")return RL(s);if(kL(s))return s;zt(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||t.validation?.validateIcon(e),To({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var yRe=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",wRe={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},CRe=class extends qi{constructor(){super(),this.dragSource=null,this.eIcon=Tn,this.eLabel=Tn,this.eGhost=Tn,this.registerCSS(yRe)}postConstruct(){const e=t=>vRe(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(wRe),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:r,dropIconMap:i,gos:s}=this;Au(n);let o=null;e||(e=r?.getDefaultIconName?r.getDefaultIconName():"notAllowed"),o=i[e],n.classList.toggle("ag-shake-left-to-right",t),!(o===i.hide&&s.get("suppressDragLeaveHidesColumns"))&&o&&n.appendChild(o)}setLabel(e){this.eLabel.textContent=e}},bRe=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",xRe=class extends qi{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(bRe)}postConstruct(){this.addCss("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:r,disabled:i}=this.config;i!=null&&this.setDisabled(i),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(r||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;Au(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Vs(t,!1),A0(t,"presentation")):(Vs(t,!0),A0(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(LT(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return Bx(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},hQ=class extends xRe{constructor(e,t,n,r){super(e,t,n),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCss(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||ZSe(e)!==null?Nx(e,""):Nx(e,t??"")}setAriaLabel(e){return cw(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return lf(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function SRe(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var Km=class extends hQ{constructor(e,t,n="text",r="input"){super(e,e?.template??SRe(r),[],t),this.inputType=n,this.displayFieldTag=r,this.eLabel=Tn,this.eWrapper=Tn,this.eInput=Tn}postConstruct(){super.postConstruct(),this.setInputType(this.inputType);const{eLabel:e,eWrapper:t,eInput:n,className:r}=this;e.classList.add(`${r}-label`),t.classList.add(`${r}-input-wrapper`),n.classList.add(`${r}-input`),this.addCss("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:i,inputWidth:s}=this.config;i!=null&&this.setInputName(i),s!=null&&this.setInputWidth(s),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(e){this.displayFieldTag==="input"&&(this.inputType=e,yu(this.eInput,"type",e))}getInputElement(){return this.eInput}setInputWidth(e){return LT(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return yu(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return cw(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return Bx(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)yu(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";yu(this.eInput,"autocomplete",t)}return this}},ZL=class extends Km{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const r=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:r.id,name:r.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},qL={selector:"AG-CHECKBOX",component:ZL},_Re=".ag-checkbox-cell{height:100%}",ERe={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},TRe=class extends qi{constructor(){super(ERe,[qL]),this.eCheckbox=Tn,this.registerCSS(_Re)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,r=t.getInputElement();r.setAttribute("tabindex","-1"),FZ(r,"polite"),this.addManagedListeners(r,{click:i=>{if(D0(i),t.isDisabled())return;const s=t.getValue();this.onCheckboxChanged(s)},dblclick:i=>{D0(i)}}),this.addManagedElementListeners(e.eGridCell,{keydown:i=>{if(i.key===vt.SPACE&&!t.isDisabled()){e.eGridCell===js(n)&&t.toggle();const s=t.getValue();this.onCheckboxChanged(s),i.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:r,column:i,node:s}=e;if(s.group&&i)if(typeof r=="boolean")t=r;else{const h=i.getColId();h.startsWith(PA)?t=r==null||r===""?void 0:r==="true":s.aggData&&s.aggData[h]!==void 0?t=r??void 0:n=!1}else t=r??void 0;const{eCheckbox:o}=this;if(!n){o.setDisplayed(!1);return}o.setValue(t);const a=e.disabled??!i?.isCellEditable(s);o.setDisabled(a);const l=this.getLocaleTextFunc(),c=kA(l,t),u=a?c:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${c})`;o.setInputAriaLabel(u)}onCheckboxChanged(e){const{params:t}=this,{column:n,node:r,value:i}=t;this.beans?.editSvc?.setEditingCells([{column:n,colId:n.getColId(),rowIndex:r.rowIndex,rowPinned:r.rowPinned,state:"changed",oldValue:i,newValue:i}],{update:!0});const s=r.setDataValue(n,e,"renderer");this.beans.editSvc?.stopEditing({rowNode:r,column:n},{source:this.beans.editSvc?.isBatchEditing()?"ui":"api"}),s||this.updateCheckbox(t)}},pz=class{constructor(e,t){this.beans=e,this.floating=t,this.all=new Set,this.visible=new Set,this.order=[],this.queued=new Set}size(){return this.visible.size}add(e){const{all:t,visible:n,order:r}=this;t.has(e)||(t.add(e),n.add(e),r.push(e),this.sort())}delete(e){this.all.delete(e),this.visible.delete(e),this.queued.delete(e.id),Sd(this.order,e)}has(e){return this.visible.has(e)}forEach(e){this.order.forEach(e)}getByIndex(e){return this.order[e]}getById(e){for(const t of this.visible)if(t.id==e)return t}clear(){const{all:e,visible:t,order:n,queued:r}=this;e.clear(),r.clear(),t.clear(),n.length=0}sort(){const{sortSvc:e,rowNodeSorter:t,gos:n}=this.beans,r=e?.getSortOptions()??[],i=kRe(this.order);if(this.order.sort((o,a)=>(o.pinnedSibling?.rowIndex??0)-(a.pinnedSibling?.rowIndex??0)),this.order=t?.doFullSort(this.order,r)??this.order,!i)return;const s=iq(n);s==="bottom"||s==="pinnedBottom"?this.order.push(i):this.order.unshift(i)}hide(e){const{all:t,visible:n}=this;t.forEach(r=>e(r)?n.delete(r):n.add(r)),this.order=Array.from(n),this.sort()}queue(e){this.queued.add(e)}unqueue(e){this.queued.delete(e)}forEachQueued(e){this.queued.forEach(e)}};function fQ(e){if(e.level===-1)return!0;const t=e.parent;return t?.childrenAfterSort?.some(n=>n==e)?fQ(t):!1}function lD(e,t){const{gos:n,rowModel:r,filterManager:i}=e;return tv(n)?!r.getRowNode(t.id):i?.isAnyFilterPresent()?!fQ(t):n.get("pivotMode")?!t.group:!1}function RRe(e){return!!e.footer&&e.level===-1}function ARe(e){return!!e.pinnedSibling&&RRe(e.pinnedSibling)}function kRe(e){const t=e.findIndex(ARe);if(t>-1)return e.splice(t,1)?.[0]}var gz=class extends _t{postConstruct(){const{gos:e,beans:t}=this;this.top=new pz(t,"top"),this.bottom=new pz(t,"bottom");const n=i=>lD(t,i.pinnedSibling),r=()=>{const i=e.get("isRowPinned");i&&e.get("enableRowPinning")&&t.rowModel.forEachNode(s=>this.pinRow(s,i(s)),!0),this.refreshRowPositions(),this.dispatchRowPinnedEvents()};this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this),modelUpdated:({keepRenderedRows:i})=>{this.tryToEmptyQueues(),this.pinGrandTotalRow(),this.forContainers(s=>s.hide(n)),this.refreshRowPositions(),i||this.dispatchRowPinnedEvents()},columnRowGroupChanged:()=>{this.forContainers(DRe),this.refreshRowPositions()},rowNodeDataChanged:({node:i})=>{(e.get("isRowPinnable")?.(i)??!0)||this.pinRow(i,null)},firstDataRendered:r}),this.addManagedPropertyListener("pivotMode",()=>{this.forContainers(i=>i.hide(n)),this.dispatchRowPinnedEvents()}),this.addManagedPropertyListener("grandTotalRow",({currentValue:i})=>{this._grandTotalPinned=i==="pinnedBottom"?"bottom":i==="pinnedTop"?"top":null}),this.addManagedPropertyListener("isRowPinned",r)}destroy(){this.reset(!1),super.destroy()}reset(e=!0){this.forContainers(t=>{const n=[];t.forEach(r=>n.push(r)),n.forEach(r=>this.pinRow(r,null)),t.clear()}),e&&this.dispatchRowPinnedEvents()}pinRow(e,t,n){if(e.footer&&e.level>-1)return;if(e.footer&&e.level===-1){this._grandTotalPinned=t,IRe(this.beans);return}const r=e.rowPinned??e.pinnedSibling?.rowPinned;if(r!=null&&t!=null&&t!=r){const o=e.rowPinned?e:e.pinnedSibling,a=e.rowPinned?e.pinnedSibling:e;this.pinRow(o,null,n),this.pinRow(a,t,n);return}const s=n&&FRe(this.beans,e,n);if(s){s.forEach(o=>this.pinRow(o,t));return}if(t==null){const o=e.rowPinned?e:e.pinnedSibling,a=this.findPinnedRowNode(o);if(!a)return;a.delete(o);const l=o.pinnedSibling;cD(o),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(l)}else{const o=mz(this.beans,e,t),a=this.getContainer(t);a.add(o),lD(this.beans,e)&&a.hide(l=>lD(this.beans,l.pinnedSibling)),this.refreshRowPositions(t),this.dispatchRowPinnedEvents(e)}}isManual(){return!0}isEmpty(e){return this.getContainer(e).size()===0}isRowsToRender(e){return!this.isEmpty(e)}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=Ig(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return this.bottom.forEach(n),t=0,this.top.forEach(n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}getPinnedTopTotalHeight(){return vz(this.top)}getPinnedBottomTotalHeight(){return vz(this.bottom)}getPinnedTopRowCount(){return this.top.size()}getPinnedBottomRowCount(){return this.bottom.size()}getPinnedTopRow(e){return this.top.getByIndex(e)}getPinnedBottomRow(e){return this.bottom.getByIndex(e)}getPinnedRowById(e,t){return this.getContainer(t).getById(e)}forEachPinnedRow(e,t){this.getContainer(e).forEach(t)}getPinnedState(){const e=t=>{const n=[];return this.forEachPinnedRow(t,r=>n.push(r.pinnedSibling.id)),n};return{top:e("top"),bottom:e("bottom")}}setPinnedState(e){this.forContainers((t,n)=>{for(const r of e[n]){const i=this.beans.rowModel.getRowNode(r);i?this.pinRow(i,n):t.queue(r)}})}getGrandTotalPinned(){return this._grandTotalPinned}setGrandTotalPinned(e){this._grandTotalPinned=e}tryToEmptyQueues(){this.forContainers((e,t)=>{const n=new Set;e.forEachQueued(r=>{const i=this.beans.rowModel.getRowNode(r);i&&n.add(i)});for(const r of n)e.unqueue(r.id),this.pinRow(r,t)})}pinGrandTotalRow(){const{gos:e,beans:t,_grandTotalPinned:n}=this,r=t.rowModel;if(!Yo(e))return;const i=r.rootNode?.sibling;if(!i)return;const s=i.pinnedSibling,o=s&&this.findPinnedRowNode(s);if(n){if(o&&o.floating!==n&&(o.delete(s),cD(s)),!o||o.floating!==n){const a=mz(t,i,n);this.getContainer(n).add(a)}}else{if(!o)return;o.delete(s),cD(s)}}onGridStylesChanges(e){e.rowHeightChanged&&this.forContainers(t=>t.forEach(n=>n.setRowHeight(n.rowHeight,!0)))}getContainer(e){return e==="top"?this.top:this.bottom}findPinnedRowNode(e){if(this.top.has(e))return this.top;if(this.bottom.has(e))return this.bottom}refreshRowPositions(e){const t=n=>PRe(this.beans,n);return e==null?this.forContainers(t):t(this.getContainer(e))}forContainers(e){e(this.top,"top"),e(this.bottom,"bottom")}dispatchRowPinnedEvents(e){this.eventSvc.dispatchEvent({type:"pinnedRowsChanged"}),e?.dispatchRowEvent("rowPinned")}};function PRe(e,t){let n=0;t.forEach((r,i)=>{r.setRowTop(n),(r.rowHeightEstimated||r.rowHeight==null)&&r.setRowHeight(Ig(e,r).height),r.setRowIndex(i),n+=r.rowHeight})}function mz(e,t,n){if(t.pinnedSibling)return t.pinnedSibling;const r=rTe(t,e);r.setRowTop(null),r.setRowIndex(null),r.rowPinned=n;const i=n==="top"?NL:BL;return r.id=`${i}${n}-${t.id}`,r.pinnedSibling=t,t.pinnedSibling=r,r}function cD(e){if(!e.pinnedSibling)return;e.rowPinned=null,e.setRowTop(null),e.setRowIndex(null);const t=e.pinnedSibling;e.pinnedSibling=void 0,t&&(t.pinnedSibling=void 0,t.rowPinned=null)}function DRe(e){const t=new Set;e.forEach(n=>{n.group&&t.add(n)}),t.forEach(n=>e.delete(n))}function FRe(e,t,n){const{rowSpanSvc:r}=e,i=(n&&r?.isCellSpanning(n,t))??!1;if(n&&i)return r?.getCellSpan(n,t)?.spannedNodes}function vz(e){const t=e.size();if(t===0)return 0;const n=e.getByIndex(t-1);return n===void 0?0:n.rowTop+n.rowHeight}function IRe({gos:e,rowModel:t}){Yo(e)&&t.refreshModel({step:"map"})}var yz=class extends _t{constructor(){super(...arguments),this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}reset(){}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}isManual(){return!1}pinRow(e,t){}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};qC(this.pinnedBottomRows,t),qC(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=r=>{if(r.rowHeightEstimated){const i=Ig(this.beans,r);r.setRowTop(t),r.setRowHeight(i.height),t+=i.height,e=!0}};return qC(this.pinnedBottomRows,n),t=0,qC(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const r=uw(this.gos),i=t==="top"?NL:BL,s=new Set(n.order),o=[],a=new Set;let l=0,c=-1;for(const u of e){const h=r?.({data:u,level:0,rowPinned:t})??i+this.nextId++;if(a.has(h)){zt(96,{id:h,data:u});continue}c++,a.add(h),o.push(h);const p=Wb(n,h);if(p!==void 0)p.data!==u&&p.updateData(u),l+=this.setRowTopAndRowIndex(p,l,c),s.delete(h);else{const m=new M0(this.beans);m.id=h,m.data=u,m.rowPinned=t,l+=this.setRowTopAndRowIndex(m,l,c),n.cache[h]=m,n.order.push(h)}}s.forEach(u=>{Wb(n,u)?.clearRowTopAndRowIndex(),delete n.cache[u]}),n.order=o}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(Ig(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return wz(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return wz(this.pinnedBottomRows)}getPinnedTopRowCount(){return qF(this.pinnedTopRows)}getPinnedBottomRowCount(){return qF(this.pinnedBottomRows)}getPinnedTopRow(e){return ZF(this.pinnedTopRows,e)}getPinnedBottomRow(e){return ZF(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Wb(this.getCache(t),e)}forEachPinnedRow(e,t){return qC(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}getPinnedState(){return{top:[],bottom:[]}}setPinnedState(){}getGrandTotalPinned(){}setGrandTotalPinned(){}};function wz(e){const t=qF(e);if(t===0)return 0;const n=ZF(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Wb(e,t){return e.cache[t]}function ZF(e,t){return Wb(e,e.order[t])}function qC(e,t){e.order.forEach((n,r)=>{const i=Wb(e,n);i&&t(i,r)})}function qF(e){return e.order.length}var MRe=class extends _t{constructor(){super(...arguments),this.beanName="pinnedRowModel"}postConstruct(){const{gos:e}=this,t=()=>{const n=e.get("enableRowPinning"),r=iq(e),s=!!n||(r==="pinnedBottom"||r==="pinnedTop"),o=s?this.inner instanceof yz:this.inner instanceof gz;this.inner&&o&&this.destroyBean(this.inner),(o||!this.inner)&&(this.inner=this.createManagedBean(s?new gz:new yz))};this.addManagedPropertyListeners(["enableRowPinning","grandTotalRow"],t),t()}reset(){return this.inner.reset()}isEmpty(e){return this.inner.isEmpty(e)}isManual(){return this.inner.isManual()}isRowsToRender(e){return this.inner.isRowsToRender(e)}pinRow(e,t,n){return this.inner.pinRow(e,t,n)}ensureRowHeightsValid(){return this.inner.ensureRowHeightsValid()}getPinnedRowById(e,t){return this.inner.getPinnedRowById(e,t)}getPinnedTopTotalHeight(){return this.inner.getPinnedTopTotalHeight()}getPinnedBottomTotalHeight(){return this.inner.getPinnedBottomTotalHeight()}getPinnedTopRowCount(){return this.inner.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.inner.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.inner.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.inner.getPinnedBottomRow(e)}forEachPinnedRow(e,t){return this.inner.forEachPinnedRow(e,t)}getPinnedState(){return this.inner.getPinnedState()}setPinnedState(e){return this.inner.setPinnedState(e)}setGrandTotalPinned(e){return this.inner.setGrandTotalPinned(e)}getGrandTotalPinned(){return this.inner.getGrandTotalPinned()}},ORe="ROOT_NODE_ID",LRe=class extends _t{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}getRowNode(e){return this.allNodesMap[e]}extractRowData(){return this.rootNode?.allLeafChildren?.map(e=>e.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=ORe,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=e?.map((t,n)=>this.createRowNode(t,n))??[]}setImmutableRowData(e,t){const n=uw(this.gos),r=!this.gos.get("suppressMaintainUnsortedOrder"),i=e.changedRowNodes,s=new Set,o=this.rootNode,a=o.allLeafChildren,l=a.length;let c=!1,u=!1,h=!1,p=!1;for(let y=0,w=-1,b=t.length;y<b;y++){const S=t[y];let E=this.getRowNode(n({data:S,level:0}));if(!E)c=!0,E=this.createRowNode(S,-1),i.add(E);else{if(r){const _=E.sourceRowIndex;p||(p=_<=w||c),w=_}E.data!==S&&(h=!0,E.updateData(S),i.update(E))}s.add(E)}const m=[];for(let y=0;y<l;y++){const w=a[y];s.has(w)||(u=!0,w.isSelected()&&m.push(w),w.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(w.pinnedSibling,null),this.rowNodeDeleted(w),i.remove(w))}if(c||u||p){const y=new Array(s.size);let w=0;if(!r)for(let S=0;S<l;++S){const E=a[S];s.delete(E)&&(E.sourceRowIndex=w,y[w++]=E)}for(const S of s)S.sourceRowIndex=w,y[w++]=S;o.allLeafChildren=y;const b=o.sibling;b&&(b.allLeafChildren=y),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=p)}(c||u||p||h)&&(this.deselectNodes(m),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},r=[],i=uw(this.gos);return this.executeRemove(i,e,n,r),this.executeUpdate(i,e,n,r),this.executeAdd(e,n),this.deselectNodes(r),n}executeAdd(e,t){const n=e.add;if(!n?.length)return;let r=this.rootNode.allLeafChildren,i=r.length;if(typeof e.addIndex=="number"&&(i=this.sanitizeAddIndex(e.addIndex),i>0&&this.gos.get("treeData")&&this.gos.get("getDataPath"))){for(let h=0;h<r.length;h++)if(r[h]?.rowIndex==i-1){i=h+1;break}}const s=n.length,o=t.changedRowNodes,a=new Array(s);for(let u=0;u<s;u++){const h=this.createRowNode(n[u],i+u);o.add(h),a[u]=h}const l=this.rootNode;if(i<r.length){const u=r.slice(0,i),h=r.slice(i,r.length),p=u.length+a.length;for(let m=0,y=h.length;m<y;++m)h[m].sourceRowIndex=p+m;r=[...u,...a,...h],t.rowsInserted=!0}else r=r.concat(a);l.allLeafChildren=r;const c=l.sibling;c&&(c.allLeafChildren=r),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{remove:s}=t;if(!s?.length)return;const o={};s.forEach(c=>{const u=this.lookupRowNode(e,c);u&&(u.isSelected()&&i.push(u),u.pinnedSibling&&this.beans.pinnedRowModel?.pinRow(u.pinnedSibling,null),u.clearRowTopAndRowIndex(),o[u.id]=!0,delete this.allNodesMap[u.id],r.remove.push(u),n.remove(u))});const a=this.rootNode;a.allLeafChildren=a.allLeafChildren?.filter(c=>!o[c.id])??null,a.allLeafChildren?.forEach((c,u)=>{c.sourceRowIndex=u});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:r},i){const{update:s}=t;s?.length&&s.forEach(o=>{const a=this.lookupRowNode(e,o);a&&(a.updateData(o),!a.selectable&&a.isSelected()&&i.push(a),r.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}deselectNodes(e){const t="rowDataChanged",n=this.beans.selectionSvc,r=e.length>0;r&&n?.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),n?.updateGroupsFromChildrenSelections?.(t),r&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:n?.getSelectedNodes()??null,serverSideState:null})}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new M0(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&zt(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){let n;if(e){const r=e({data:t,level:0});if(n=this.allNodesMap[r],!n)return Ti(4,{id:r}),null}else if(n=this.rootNode?.allLeafChildren?.find(r=>r.data===t),!n)return Ti(5,{data:t}),null;return n||null}},NRe={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},BRe=class extends qi{constructor(){super(NRe,[qL]),this.eCheckbox=Tn}postConstruct(){this.eCheckbox.setPassive(!0)}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,r=t.isSelected(),i=kA(e,r),[s,o]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(s,o);n.setValue(r,!0),n.setInputAriaLabel(`${a} (${i})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:D0,click:r=>{D0(r),this.beans.selectionSvc?.handleSelectionEvent(r,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=typeof r=="object"?JP(r):void 0,o=typeof i=="object"?JP(i):void 0;s!==o&&this.onSelectableChanged()}),BF(this.gos)||typeof this.getIsVisible()=="function"){const r=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:r}),this.addManagedListeners(this.rowNode,{dataChanged:r,cellChanged:r}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:r}=this,i=t.selectable,s=this.getIsVisible();let o;if(typeof s=="function"){const h=n?.callbackParams;if(!e)o=s({...h,node:t,data:t.data});else{const p=e.createColumnFunctionCallbackParams(t);o=s({...h,...p})}}else o=s??!1;const a=i&&!o||!i&&o,l=i||o,c=r.get("rowSelection"),u=c&&typeof c!="string"?!JP(c):!!e?.getColDef().showDisabledCheckboxes;if(this.setVisible(l&&(a?u:!0)),this.setDisplayed(l&&(a?u:!0)),l&&this.eCheckbox.setDisabled(a),n?.removeHidden){this.setDisplayed(l);return}}getIsVisible(){const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Ry(t):this.column?.getColDef()?.checkboxSelection}},VRe=class{constructor(e,t){this.rowModel=e,this.pinnedRowModel=t,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.getNodesInRange(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){if(this.rootId)return this.getRowNode(this.rootId);if(e)return this.setRoot(e),e}getEnd(){if(this.endId)return this.getRowNode(this.endId)}getRowNode(e){let t;const{rowModel:n,pinnedRowModel:r}=this;return t??(t=n.getRowNode(e)),r?.isManual()&&(t??(t=r.getPinnedRowById(e,"top")),t??(t=r.getPinnedRowById(e,"bottom"))),t}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,r=t.findIndex(i=>i.id===e.id);if(r>-1){const i=t.slice(0,r),s=t.slice(r+1);return this.setEndRange(e),n?{keep:i,discard:s}:{keep:s,discard:i}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const i=this.getRange().slice();return t&&e.depthFirstSearch(s=>!s.group&&i.push(s)),i.push(e),this.setRoot(e),{keep:i,discard:[]}}const r=this.getNodesInRange(n,e);if(!r)return this.setRoot(e),{keep:[e],discard:[]};if(r.find(i=>i.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const i=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:i}}}getNodesInRange(e,t){const{pinnedRowModel:n,rowModel:r}=this;if(!n?.isManual())return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&!t.rowPinned)return td(n,"top",e,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),t)??[]);if(e.rowPinned==="bottom"&&!t.rowPinned){const i=td(n,"bottom",void 0,e),s=r.getRowCount(),o=r.getRow(s-1);return(r.getNodesInRangeForSelection(t,o)??[]).concat(i)}if(!e.rowPinned&&!t.rowPinned)return r.getNodesInRangeForSelection(e,t);if(e.rowPinned==="top"&&t.rowPinned==="top")return td(n,"top",e,t);if(e.rowPinned==="bottom"&&t.rowPinned==="top"){const i=td(n,"top",t,void 0),s=td(n,"bottom",void 0,e),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(!e.rowPinned&&t.rowPinned==="top")return td(n,"top",t,void 0).concat(r.getNodesInRangeForSelection(r.getRow(0),e)??[]);if(e.rowPinned==="top"&&t.rowPinned==="bottom"){const i=td(n,"top",e,void 0),s=td(n,"bottom",void 0,t),o=r.getRow(0),a=r.getRow(r.getRowCount()-1);return i.concat(r.getNodesInRangeForSelection(o,a)??[]).concat(s)}if(e.rowPinned==="bottom"&&t.rowPinned==="bottom")return td(n,"bottom",e,t);if(!e.rowPinned&&t.rowPinned==="bottom"){const i=td(n,"bottom",void 0,t),s=r.getRow(r.getRowCount());return(r.getNodesInRangeForSelection(e,s)??[]).concat(i)}return null}},HRe=class extends _t{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(js(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new ZL);this.cbSelectAll=t,t.addCss("ag-header-select-all"),A0(t.getGui(),"presentation"),this.showOrHideSelectAll();const n=this.updateStateOfCheckbox.bind(this);this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:n,paginationChanged:n,modelUpdated:n}),this.addManagedPropertyListener("rowSelection",({currentValue:r,previousValue:i})=>{const s=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;s(r)!==s(i)&&this.showOrHideSelectAll(),this.updateStateOfCheckbox()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}updateStateOfCheckbox(){if(!this.cbSelectAllVisible||this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,r=t.getSelectAllState(e);n.setValue(r);const i=t.hasNodesToSelect(e);n.setDisabled(!i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:r,cbSelectAllVisible:i}=this,s=r.getValue(),o=kA(t,s),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",i?`${a} (${o})`:null),r.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return HT(this.gos)?!0:(zt(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Yo(t)||tv(t)?!0:(zt(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const r={source:n,selectAll:t},i=this.beans.selectionSvc;e?i.selectAllRowNodes(r):i.deselectAllRowNodes(r)}isCheckboxSelection(){const{column:e,gos:t,beans:n}=this,s=typeof t.get("rowSelection")=="object"?"headerCheckbox":"headerCheckboxSelection";return pQ(n,e)&&this.checkRightRowModelType(s)&&this.checkSelectionType(s)}getSelectAllMode(){const e=lq(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}destroy(){super.destroy(),this.cbSelectAll=void 0,this.headerCellCtrl=void 0}};function pQ({gos:e,selectionColSvc:t},n){const r=e.get("rowSelection"),i=n.getColDef(),{headerCheckboxSelection:s}=i;let o=!1;if(typeof r=="object"){const l=$g(n),c=IL(n);(BT(r)==="autoGroupColumn"&&c||l&&t?.isSelectionColumnEnabled())&&(o=ME(r))}else typeof s=="function"?o=s(In(e,{column:n,colDef:i})):o=!!s;return o}var zRe=class extends _t{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new VRe(t.rowModel,t.pinnedRowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=BF(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=BF(e),this.addManagedEventListeners({cellValueChanged:n=>this.updateRowSelectable(n.node),rowNodeDataChanged:n=>this.updateRowSelectable(n.node)})}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new BRe}createSelectAllFeature(e){if(pQ(this.beans,e))return new HRe(e)}isMultiSelect(){return HT(this.gos)}onRowCtrlSelected(e,t,n){const r=!!e.rowNode.isSelected();e.forEachGui(n,i=>{i.rowComp.toggleCss("ag-row-selected",r);const s=i.element;PF(s,r),s.contains(js(this.beans))&&t(i)})}announceAriaRowSelection(e){if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const r=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);this.beans.ariaAnnounce?.announceValue(r,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||e.rowPinned&&!m1(e)||!s0(this.gos)}updateRowSelectable(e,t){const n=e.rowPinned&&e.pinnedSibling?e.pinnedSibling.selectable:this.isRowSelectable?.(e)??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(zx(this.gos)){const i=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:i??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){let t=!1,n=!1;if(!e.childrenAfterGroup?.length)return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const i=e.childrenAfterGroup[r];let s=i.isSelected();if(!i.selectable){const o=this.calculateSelectedFromChildren(i);if(o===null)continue;s=o}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,r="api"){const i=!e.selectable&&t,s=e.__selected===t;if(i||s)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const o=e.sibling;o&&o.footer&&o.__localEventService&&o.dispatchRowEvent("rowSelected");const a=e.pinnedSibling;return a&&a.rowPinned&&a.__localEventService&&a.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...tTe(e,this.gos,"rowSelected"),event:n||null,source:r}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const r=$g(e)&&Ry(n);return e.isColumnFunc(t,r)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,r){const{gos:i,selectionCtx:s}=this,o=e.isSelected(),a=zx(i),l=F1e(i),c=I1e(i),u=this.isMultiSelect(),h=r==="rowClicked";if(h&&!(l||c))return null;if(t&&n&&u){const p=s.getRoot();if(p)if(p.isSelected()){const m=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{deselect:m.discard,select:m.keep,reset:!1}}else{const m=s.extend(e,a);return{select:[],deselect:m.keep,reset:!1}}else return null}else if(t&&u){const p=s.selectAll?this.beans.rowModel.getRow(0):void 0,m=s.getRoot(p),y=s.isInRange(e)?s.truncate(e):s.extend(e,a);return{select:y.keep,deselect:y.discard,reset:s.selectAll||!!(m&&!m.isSelected())}}else if(n){if(h){const p=!o;return p&&!l||!p&&!c?null:(s.setRoot(e),{node:e,newValue:p,clearSelection:!1})}return s.setRoot(e),{node:e,newValue:!o,clearSelection:!u}}else{s.setRoot(e);const p=M1e(i),m=zT(i)==="filteredDescendants",y=h&&(!p||!l);if(m&&o===void 0&&Yo(i))return{node:e,newValue:!1,clearSelection:!u||y};if(h){const w=o?!p:l;return w===o&&!y||w&&!l||!w&&!c?null:{node:e,newValue:w,clearSelection:!u||y,keepDescendants:e.group&&a}}return{node:e,newValue:!o,clearSelection:!u||y}}}},GRe=class extends ZL{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},sv=class extends Km{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=nn(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{nQ(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{const r=n.clipboardData?.getData("text");r&&r.split("").some(i=>!e.test(i))&&n.preventDefault()}})}},MA={selector:"AG-INPUT-TEXT-FIELD",component:sv},URe=class extends Km{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},WRe={selector:"AG-INPUT-TEXT-AREA",component:URe},QL=class extends sv{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const s=parseFloat(e.value),o=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==o&&this.setValue(o)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:r,step:i}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){js(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){return e===""?"":(this.precision!=null&&(e=this.adjustPrecision(e)),e)}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const i=parseFloat(e).toFixed(n);return parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=n)return e;if(n>0)return`${r[0]}.${r[1].slice(0,n)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,yu(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,yu(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,yu(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(nn(n)){let r=this.isScientificNotation(n);if(r&&this.eInput.validity.valid)return e(n);if(!r){n=this.adjustPrecision(n);const i=this.normalizeValue(n);r=n!=i}if(r)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},jRe={selector:"AG-INPUT-NUMBER-FIELD",component:QL},KRe=class extends sv{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=$0();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){js(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?_u(e??null,!!this.includeTime)??void 0:e;return this.min===t?this:(this.min=t,yu(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?_u(e??null,!!this.includeTime)??void 0:e;return this.max===t?this:(this.max=t,yu(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,yu(this.eInput,"step",e),this)}setIncludeTime(e){return this.includeTime===e?this:(this.includeTime=e,super.setInputType(e?"datetime-local":"date"),e&&this.setStep(1),this)}getDate(){if(this.eInput.validity.valid)return Oc(this.getValue())??void 0}setDate(e,t){this.setValue(_u(e??null,this.includeTime),t)}},gQ={selector:"AG-INPUT-DATE-FIELD",component:KRe},YRe=class extends qi{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case vt.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case vt.DOWN:case vt.UP:e.preventDefault(),this.navigate(t);break;case vt.PAGE_DOWN:case vt.PAGE_UP:case vt.PAGE_HOME:case vt.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===vt.DOWN;let n;const{itemEls:r,highlightedEl:i}=this;if(!i)n=r[t?0:r.length-1];else{let o=r.indexOf(i)+(t?1:-1);o=Math.min(Math.max(o,0),r.length-1),n=r[o]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const r=t.indexOf(n),i=this.options.length-1,s=t[0].clientHeight,o=Math.floor(this.getGui().clientHeight/s);let a=-1;e===vt.PAGE_HOME?a=0:e===vt.PAGE_END?a=i:e===vt.PAGE_DOWN?a=Math.min(r+o,i):e===vt.PAGE_UP&&(a=Math.max(r-o,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,r=n??t;return this.options.push({value:t,text:r}),this.renderOption(t,r),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{up(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();A0(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{t1e(t,n+1),e1e(t,e.length)})}renderOption(e,t){const n=To({tag:"div",cls:`ag-list-item ag-${this.cssIdentifier}-list-item`,attrs:{role:"option"}}),r=To({tag:"span",children:t});n.appendChild(r),this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:i=>{i.preventDefault(),i.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(r=>r.value===e);if(n!==-1){const r=this.options[n];this.value=r.value,this.displayValue=r.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!mf(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),PF(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:r}=t,{offsetTop:i,offsetHeight:s}=e;(i+s>n+r||i<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!mf(e)||(e.classList.remove(this.activeClass),PF(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},XRe=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:where(.ag-picker-has-focus),&:where(:focus-within){background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow);&:where(.invalid){box-shadow:var(--ag-focus-error-shadow)}}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:disabled{opacity:.5}}",ZRe={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},qRe=class extends hQ{constructor(e){if(super(e,e?.template||ZRe,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Tn,this.eWrapper=Tn,this.eDisplayField=Tn,this.eIcon=Tn,this.registerCSS(XRe),this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:r,minPickerWidth:i,maxPickerWidth:s}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!r,n!=null&&this.setPickerMaxHeight(n),i!=null&&this.setPickerMinWidth(i),s!=null&&this.setPickerMaxWidth(s)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:r}=this.config;if(n){const i=dd(n,this.beans);i&&this.eIcon.appendChild(i)}r!=null&&this.setInputWidth(r)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),kF(e,!1),this.ariaRole&&A0(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case vt.UP:case vt.DOWN:case vt.ENTER:case vt.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case vt.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:r,modalPicker:i=!0},maxPickerHeight:s,minPickerWidth:o,maxPickerWidth:a,variableWidth:l,beans:c,eWrapper:u}=this,h={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const w=nq(c);this.beforeHidePicker(),w&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,r),anchorToElement:u};e.style.position="absolute";const p=c.popupSvc,m=p.addPopup(h);l?(o&&(e.style.minWidth=o),e.style.width=AL(IT(u)),a&&(e.style.maxWidth=a)):LT(e,a??IT(u));const y=s??`${TL(p.getPopupParent())}px`;return e.style.setProperty("max-height",y),this.alignPickerToComponent(),m.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:r},eWrapper:i,pickerComponent:s}=this,o=r.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:i,ePopup:s.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();kF(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&(this.hideCurrentPicker(),this.dispatchLocalEvent({type:"pickerHidden"}))}setInputWidth(e){return LT(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},QRe=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",JL=class extends qRe{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(QRe)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:IE(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new YRe("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),c1e(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:r=>{r?.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===vt.TAB&&this.hidePicker(),t){case vt.ENTER:case vt.UP:case vt.DOWN:case vt.PAGE_UP:case vt.PAGE_DOWN:case vt.PAGE_HOME:case vt.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case vt.ESCAPE:super.onKeyDown(e);break;case vt.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:r,config:{placeholder:i},eDisplayField:s,tooltipFeature:o}=this;if(this.value===e||!r)return this;if(n||r.setValue(e,!0),r.getValue()===this.getValue())return this;let l=r.getDisplayValue();return l==null&&i&&(l=i),s.textContent=l,o?.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},JRe={selector:"AG-SELECT",component:JL},Fy={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},mQ=class extends _t{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:r,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:s,isFocusableContainer:o,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:h,handleKeyDown:p,isEmpty:m,eFocusableElement:y}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=r,this.providedFocusInnerElement=a,this.eFocusableElement=y,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!s,this.isFocusableContainer=!!o,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=h,this.providedHandleKeyDown=p,this.providedIsEmpty=m}postConstruct(){this.createManagedBean(new Vw(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():Py(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){const t=Aa(this.beans),n=Py(t.body,null,!0),r=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(r===-1)return;let i,s;e?(i=0,s=r):(i=r+1,s=n.length);const o=n.slice(i,s),a=this.gos.get("tabIndex");o.sort((l,c)=>{const u=parseInt(l.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return h===a?1:u===a?-1:u===0?1:h===0?-1:u-h}),o[e?o.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=Py(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return iv(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},$Re=class extends _t{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:r}=this,i=[t,n],s={setTabIndex:b=>{i.forEach(S=>b!=null?S.setAttribute("tabindex",b):S.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:o=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:w}=e;this.tabGuardCtrl=this.createManagedBean(new mQ({comp:s,focusTrapActive:o,eTopGuard:t,eBottomGuard:n,eFocusableElement:r,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:h,shouldStopEventPropagation:p,isEmpty:m,forceFocusOutWhenTabGuardsAreEmpty:y,isFocusableContainer:w}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Aa(this.beans).createElement("div"),n=e==="top"?Fy.TAB_GUARD_TOP:Fy.TAB_GUARD_BOTTOM;return t.classList.add(Fy.TAB_GUARD,n),A0(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Au(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){kL(t)||(t=t.getGui());const{eBottomGuard:r}=this;r?r.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;up(e),up(t),super.destroy()}},eAe=class extends qi{initialiseTabGuard(t){this.tabGuardFeature=this.createManagedBean(new $Re(this)),this.tabGuardFeature.initialiseTabGuard(t)}forceFocusOutOfContainer(t=!1){this.tabGuardFeature.forceFocusOutOfContainer(t)}appendChild(t,n){this.tabGuardFeature.appendChild(super.appendChild.bind(this),t,n)}},Nm=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new R0,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",r,{passive:!0}),e.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",r,{passive:!0}),e.removeEventListener("touchend",i,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const r={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(r)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!Kq(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},tAe=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const r=this.scrollContainer.getBoundingClientRect(),i=this.scrollByTick;this.tickLeft=e.clientX<r.left+i,this.tickRight=e.clientX>r.right-i,this.tickUp=e.clientY<r.top+i&&!n,this.tickDown=e.clientY>r.bottom-i&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},vQ=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${YZ}/${this.frameworkName}-data-grid`,y1e(this.baseDocLink)}setInterval(e,t){return new Xr(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,r){let i={};if(typeof r=="object"?i=r:typeof r=="boolean"&&(i={capture:r}),i.passive==null){const s=fq(t);s!=null&&(i.passive=s)}e.addEventListener(t,n,i)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function nAe(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var rAe=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],Cz=Object.fromEntries(rAe.map((e,t)=>[e,t]));function iAe(e,t){const n=(e.beanName?Cz[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,r=(t.beanName?Cz[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-r}function sAe(e,t){return e?.beanName==="gridDestroySvc"?-1:t?.beanName==="gridDestroySvc"?1:0}var oAe=class extends _t{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:r,ctrlsSvc:i}=this.beans;r?.registerGridDropTarget(()=>this.eGui,this),Zq(this.gos,t),this.createManagedBean(new zL(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const s=vp(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>s()),i.register("gridCtrl",this)}isDetailGrid(){return jq(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.pagination?.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry?.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:e.sideBar?.getSelector(),statusBarSelector:e.registry?.getSelector("AG-STATUS-BAR"),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){const{view:t}=this;if(e===!1)t.setCursor(null);else{const n=e===1?"ew-resize":"ns-resize";t.setCursor(n)}}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:r}=this.getNextFocusableIndex(t,e);if(r<0||r>=t.length)return!1;if(r===0){if(n>0){const{visibleCols:i,focusSvc:s}=this.beans,o=i.allCols,a=Ei(o);if(s.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[r],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:r,visibleCols:i}=this.beans,s=i.allCols;if(e){if(n.length>1)return this.focusContainer(Ei(n),e);const o=Ei(s);if(r.focusGridView({column:o,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||l0(this.beans)){if(r.focusGridView({column:s[0],backwards:e}))return!0;for(let o=1;o<n.length;o++)if(I0(n[o].getGui(),e))return!0;return!1}return r.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:r}=this.getNextFocusableIndex(t,e);if(r===-1||n<0||n>=t.length)return;const i=t[n];i.setAllowFocus?.(!0),setTimeout(()=>{i.setAllowFocus?.(!1)})}isFocusable(){const e=this.beans;return!DA(e)||!l0(e)||!!e.sideBar?.comp?.isDisplayed()}getNextFocusableIndex(e,t){const n=js(this.beans),r=e.findIndex(s=>s.getGui().contains(n)),i=r+(t?-1:1);return{indexWithFocus:r,nextIndex:i}}focusContainer(e,t){e.setAllowFocus?.(!0);const n=I0(e.getGui(),t,!1,!0);return e.setAllowFocus?.(!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},qn=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},bz={dispatchEvent:"CommunityCore",...qn("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,isModuleRegistered:0}),...qn("GridState",{getState:0,setState:0}),...qn("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...qn("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...qn("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...qn("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...qn("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...qn("ValueCache",{expireValueCache:0}),...qn("CellApi",{getCellValue:0}),...qn("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...qn("Sort",{onSortChanged:0}),...qn("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,forEachPinnedRow:0}),...qn("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...qn("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...qn("HighlightChanges",{flashCells:0}),...qn("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getRowDropPositionIndicator:0,setRowDropPositionIndicator:0}),...qn("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...qn("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...qn("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...qn("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...qn("ColumnResize",{setColumnWidths:0}),...qn("ColumnHover",{isColumnHovered:0}),...qn("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,isEditing:0,validateEdit:0}),...qn("BatchEdit",{startBatchEdit:0,cancelBatchEdit:0,commitBatchEdit:0,isBatchEditing:0}),...qn("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...qn("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...qn("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,hideColumnFilter:0,getColumnFilterHandler:0,doFilterAction:0}),...qn("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...qn("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...qn("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...qn("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...qn("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...qn("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...qn("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...qn("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...qn("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...qn("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...qn("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...qn("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...qn("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...qn("ContextMenu",{showContextMenu:0}),...qn("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...qn("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...qn("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...qn("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...qn("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...qn("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...qn("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...qn("StatusBar",{getStatusPanel:0})},uD={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},aAe=(e,t)=>e.eventSvc.dispatchEvent(t),yQ=class{};Reflect.defineProperty(yQ,"name",{value:"GridApi"});var lAe=class extends _t{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new yQ,this.fns={...uD,dispatchEvent:aAe},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys(bz))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:n,beans:r}=this;n!==uD&&(n[e]=r?.validation?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:r}}=this;return r?r(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:r}=this;if(!t)zt(26,{fnName:e,preDestroyLink:r});else{const i=bz[e];n.assertModuleRegistered(i,`api.${e}`)&&zt(27,{fnName:e,module:i})}}destroy(){super.destroy(),this.fns=uD,this.beans=null}};function cAe(e){return e.context.getGridId()}function uAe(e){e.gridDestroySvc.destroy()}function dAe(e){return e.gridDestroySvc.destroyCalled}function hAe(e,t){return e.gos.get(t)}function fAe(e,t,n){wQ(e,{[t]:n})}function wQ(e,t){e.gos.updateGridOptions({options:t})}function pAe(e,t){const n=t.replace(/Module$/,"");return e.gos.isModuleRegistered(n)}var gAe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},mAe=class extends qi{constructor(e,t,n){super(gAe),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(dd("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:r,gos:i}=this,s=n.getColDef().dndSourceOnRowDrag,o=e.dataTransfer;if(o.setDragImage(r,0,0),s){const a=In(i,{rowNode:t,dragEvent:e});s(a)}else try{const a=JSON.stringify(t.data);o.setData("application/json",a),o.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function vAe(e,t){e.rowDragSvc?.rowDragFeature?.addRowDropZone(t)}function yAe(e,t){const n=e.dragAndDrop?.findExternalZone(t);n&&e.dragAndDrop?.removeDropTarget(n)}function wAe(e,t){return e.rowDragSvc?.rowDragFeature?.getRowDropZone(t)}function CAe(e){const t=e.rowDropHighlightSvc;return t?{row:t.row,dropIndicatorPosition:t.position}:{row:null,dropIndicatorPosition:"none"}}function bAe(e,t){const n=e.rowDropHighlightSvc;if(!n)return;const r=t?.row;let i=t?.dropIndicatorPosition;i!=="above"&&i!=="below"&&i!=="inside"&&(i="none");const s=r?.rowIndex;s==null||i==="none"?n.clear():n.set(r,i)}var xAe=class extends _t{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(1),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},SAe={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},_Ae=class extends qi{constructor(e,t,n,r,i,s){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=r,this.dragStartPixels=i,this.suppressVisibilityChange=s,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:r}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(SAe),this.getGui().appendChild(dd("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const i=r.get("rowDragManaged")?new TAe(this,t,n):new EAe(this,t,n);this.createManagedBean(i,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=this.beans.selectionSvc?.getSelectedNodes()??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){if(this.dragSource&&this.removeDragSource(),this.gos.get("rowDragManaged")&&this.rowNode.footer)return;const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:r=>{r?.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const r=this.getDragItem(),i=r.rowNodes?.length||1,s=this.getRowDragText(this.column);return s?s(r,i):i===1?this.cellValueFn():`${i} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},CQ=class extends _t{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e,t=!1){const n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{let r=!t,i=!1;const{column:s,rowNode:o,parent:a}=this;if(s){const l=s.getColDef().rowDrag;i=typeof l=="function",r=(t?!!l:s.isRowDrag(o))||a.isCustomGui()}i?(a.setDisplayed(!0,n),a.setVisible(r&&!t,n)):(a.setDisplayed(r,n),a.setVisible(!t,n))}}},EAe=class extends CQ{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},TAe=class extends CQ{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,r=e.rowDragFeature,i=r&&r.shouldPreventRowMove(),s=n.get("suppressRowDrag"),o=t.hasExternalDropZones(),a=i&&!o||s;this.setDisplayedOrVisible(a,this.rowNode.footer)}},Kx=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:r}=e;if(r)for(let i=0;i<r.length;++i)this.depthFirstSearchChangedPath(r[i],t);t(n)}depthFirstSearchEverything(e,t,n){const r=e.childrenAfterGroup;if(r)for(let i=0,s=r.length;i<s;++i){const o=r[i];o.childrenAfterGroup?this.depthFirstSearchEverything(o,t,n):n&&t(o)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const r={rowNode:t,children:null};this.mapToItems[t.id]=r,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(r=>this.nodeIdsToColumns[n.id][r.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let r=0;r<t;r++){const i=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(i),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>n[i.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(i=>!n[i.getId()])}},RAe=class extends _t{constructor(e){super(),this.eContainer=null,this.lastDraggingEvent=null,this.autoScrollService=null,this.makeGroupThrottleTimer=null,this.makeGroupThrottleTarget=null,this.makeGroupThrottled=!1,this.makeGroupThrottleCallback=()=>{this.makeGroupThrottleTimer=null;const t=this.lastDraggingEvent;t&&(this.makeGroupThrottled=!0,this.doManagedDrag(t,!1),this.makeGroupExpanded(this.makeGroupThrottleTarget))},this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;Yo(t)&&(this.clientSideRowModel=e),n.whenReady(this,r=>{const i=r.gridBodyCtrl;let s=0;const o=()=>i.scrollFeature.getVScrollPosition().top;this.autoScrollService=new tAe({scrollContainer:i.eBodyViewport,scrollAxis:"y",getVerticalPosition:o,setVerticalPosition:a=>i.scrollFeature.setVerticalScrollPosition(a),onScrollCallback:()=>{const a=o();if(s!==a){s=a;const l=this.lastDraggingEvent;l&&this.onDragging(l)}}})})}destroy(){super.destroy(),this.eContainer=null,this.lastDraggingEvent=null,this.makeGroupThrottleClear();const e=this.autoScrollService;e&&(this.autoScrollService=null,e?.ensureCleared())}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!((e?.columns??[]).length||t?.isAnyFilterPresent()||n?.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=[...this.beans.selectionSvc?.getSelectedNodes()??[]].sort((i,s)=>i.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(i)-this.getRowIndexNumber(s));if(r.indexOf(t)!==-1)return r}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.autoScrollService&&(this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e,this.gos.get("rowDragManaged")&&this.doManagedDrag(e,!0),this.autoScrollService.check(e.event))}doManagedDrag(e,t){const{dragAndDrop:n,gos:r}=this.beans,i=this.isFromThisGrid(e);if(!(r.get("rowDragManaged")&&this.shouldPreventRowMove()))if(r.get("suppressMoveWhenRowDragging")||!i){if(n.isDropZoneWithinThisGrid(e)){const o=this.managedRowsDrop(e,t),a=o?.target,l=this.beans.rowDropHighlightSvc;a&&o.rows.length?l.set(a,o.position):l.clear()}}else{const o=this.managedRowsDrop(e,t);o&&this.dropRows(o)}}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Ei(t.split("-")),10)}managedRowsDrop(e,t){const{rowNode:n,rowNodes:r}=e.dragItem,s=r?.length&&(n??r[0]);if(!s)return this.makeGroupThrottleClear(),null;const{beans:o,gos:a,clientSideRowModel:l}=this,c=l.rootNode,u=rz(o,e).y;let h=l.getRowIndexAtPixel(u),p=l.getRow(h)??null;const m=s!==p;let y=p?(u-p.rowTop-p.rowHeight/2)/p.rowHeight||0:1;const w=this.isFromThisGrid(e),S=cq(a)!=="group"&&w;let E=null;if(S&&p?.footer){E=p.sibling??c;const Q=jb(l,-1,p)??jb(l,1,p);y=Q&&Q.rowIndex>p.rowIndex?-.5:.5,p=Q??null}let _=y<0,N=!1;if(w&&p){if(m){if(N=r.indexOf(p)>=0,N){const Q=AAe(l,h<s.rowIndex,r);Q?.parent===p.parent&&(p=Q,h=p.rowIndex)}}else{if(Math.abs(y)<=.5)return this.makeGroupThrottleClear(),null;N=!0}(N||!S&&Math.abs(h-s.rowIndex)===1)&&(_=h<s.rowIndex)}const V=this.makeGroupThrottleTarget;V!==null&&V!==p&&this.makeGroupThrottleClear(),p?.expanded&&p.childrenAfterSort?.length&&(this.makeGroupThrottled=!0,this.makeGroupThrottleTarget=p),E===null&&S&&(!p||y>=.5&&p.rowIndex===o.pageBounds.getLastRow()?E=c:this.targetShouldBeParent(p,y,N,r)&&(this.makeGroupThrottled&&(E=p),t&&(E===null||!p.expanded)&&(this.makeGroupThrottleTarget=p,this.makeGroupThrottleStart())),E??(E=p?.parent??c));let M=!1;if(E!==null){if(E===p&&E!==c){M=!0;const Q=E.expanded?jb(l,1,p):null;Q?.parent===E&&(p=Q,M=!1,_=!0)}if(p&&!M){let Q=p;for(;Q&&Q!==c&&Q!==E;)p=Q,Q=Q.parent}PAe(r,E)&&(E=null)}if(!E&&N&&(S||s===p))return null;const O=M?"inside":_?"above":"below",z={api:this.beans.gridApi,context:this.beans.gridOptions.context,draggingEvent:e,sameGrid:w,position:O,source:s,target:p,newParent:E,rows:r};let H=!1;const X=a.get("isRowValidDropPosition");if(X){const Q=X(z);Q?typeof Q=="object"&&(Q.rows!==void 0&&(z.rows=Q.rows??GT),Q.newParent!==void 0&&(z.newParent=Q.newParent),Q.target!==void 0&&(z.target=Q.target),Q.position&&(H=!0,z.position=Q.position)):z.rows=GT}return(!z.newParent||!z.rows.length)&&!H&&(z.position=_?"above":"below"),z}makeGroupThrottleStart(){this.makeGroupThrottleTimer===null&&(this.makeGroupThrottleTimer=window.setTimeout(this.makeGroupThrottleCallback,this.gos.get("rowDragInsertDelay")))}makeGroupExpanded(e){e&&!e.expanded&&e.childrenAfterSort?.length&&e.isExpandable()&&e.setExpanded(!0,this.lastDraggingEvent?.event,!0)}makeGroupThrottleClear(){this.makeGroupThrottled=!1,this.makeGroupThrottleTarget=null;const e=this.makeGroupThrottleTimer;e!==null&&(this.makeGroupThrottleTimer=null,clearTimeout(e))}targetShouldBeParent(e,t,n,r){const i=e?.rowIndex;if(n||i===null)return!1;const s=.25;if(t<-.5+s)return!1;if(t<.5-s)return!0;let o,a=i+1;const l=this.clientSideRowModel;do o=l.getRow(a++);while(o&&o.footer);const c=e.childrenAfterGroup;if(o&&o.parent===e&&c?.length){const u=new Set(r);for(const h of c)if(h.rowIndex!==null&&!u.has(h))return!0}return!1}addRowDropZone(e){if(!e.getContainer()){zt(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){zt(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=i=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",i))}),e.onDragLeave&&(n.onDragLeave=i=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",i))}),e.onDragging&&(n.onDragging=i=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",i))}),e.onDragStop&&(n.onDragStop=i=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",i))}),e.onDragCancel&&(n.onDragCancel=i=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",i))}));const r={isInterestedIn:i=>i===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(r),this.addDestroyFunc(()=>t.removeDropTarget(r))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),r=this.onDragLeave.bind(this),i=this.onDragging.bind(this),s=this.onDragStop.bind(this),o=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{r(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:r,onDragging:e.onDragging?l=>{i(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:i,onDragStop:e.onDragStop?l=>{s(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:s,onDragCancel:e.onDragCancel?l=>{o(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:o,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:r,onDragging:i,onDragStop:s,onDragCancel:o,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:r,rowModel:i,gos:s}=n,o=rz(this.beans,t).y,a=o>r.getCurrentPagePixelRange().pageLastPixel;let l=-1,c;return a||(l=i.getRowIndexAtPixel(o),c=i.getRow(l)),In(s,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:c,y:o,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;if(n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)){const r=this.managedRowsDrop(e,!1);r&&this.dropRows(r),this.beans.rowDropHighlightSvc.clear()}this.makeGroupThrottleClear()}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.beans.rowDropHighlightSvc.clear(),this.makeGroupThrottleClear()}stopDragging(e){this.autoScrollService?.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}dropRows(e){return e.sameGrid?this.moveRows(e):this.addRows(e)}addRows({position:e,target:t,rows:n}){const r=uw(this.gos),i=this.clientSideRowModel,s=n.filter(({data:a,rowPinned:l})=>!i.getRowNode(r?.({data:a,level:0,rowPinned:l})??a.id)).map(({data:a})=>a);if(s.length===0)return!1;const o=t?xz(t)+(e==="above"?0:1):void 0;return i.updateRowData({add:s,addIndex:o}),!0}refreshModelAfterDrop(){this.clientSideRowModel.refreshModel({step:"group",keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedPath:new Kx(!1,this.clientSideRowModel.rootNode),rowNodesOrderChanged:!0})}moveRows({position:e,target:t,rows:n,newParent:r}){let i=!1;const s=this.clientSideRowModel,o=new Set;for(const u of n){if(u.footer||u.rowTop===null&&u!==s.getRowNode(u.id))continue;if(r&&u.parent!==r){if(kAe(u,r))continue;u.treeParent=r,i=!0}const h=bQ(u);h&&o.add(h)}if(!i&&o.size===0)return!1;const a=this.beans.focusSvc,l=a.getFocusedCell(),c=l&&xb(this.beans,l);return o.size&&this.reorderLeafChildren(o,...this.getMoveRowsBounds(o,t,e==="above"))&&(i=!0),i?(this.refreshModelAfterDrop(),c?c.focusCell():a.clearFocusedCell(),!0):!1}getMoveRowsBounds(e,t,n){const r=this.clientSideRowModel.rootNode?.allLeafChildren.length??0;let i=xz(t);i<0||i>=r?i=r:n||++i;let s=i,o=Math.min(i,r-1);for(const a of e){const l=a.sourceRowIndex;l<s&&(s=l),l>o&&(o=l)}return[s,i,o]}reorderLeafChildren(e,t,n,r){let i=!1;const s=this.clientSideRowModel.rootNode?.allLeafChildren;if(!e.size||!s)return!1;let o=t;for(let l=t;l<n;++l){const c=s[l];e.has(c)||(c.sourceRowIndex!==o&&(c.sourceRowIndex=o,s[o]=c,i=!0),++o)}let a=r;for(let l=r;l>=n;--l){const c=s[l];e.has(c)||(c.sourceRowIndex!==a&&(c.sourceRowIndex=a,s[a]=c,i=!0),--a)}for(const l of e)l.sourceRowIndex!==o&&(l.sourceRowIndex=o,s[o]=l,i=!0),++o;return i}},AAe=(e,t,n)=>t?jb(e,-1,n[0]):jb(e,1,Ei(n)),jb=(e,t,n)=>{if(n){const r=e.getRowCount();let i=n.rowIndex+t;for(;i>=0&&i<r;){const s=e.getRow(i);if(!s||!s.footer)return s;i+=t}}},kAe=(e,t)=>{let n=t;for(;n;){if(n===e)return!0;n=n.parent}return!1},PAe=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(e[n].parent!==t)return!1;return!0},xz=e=>{const t=bQ(e);return t!==void 0?t.sourceRowIndex:-1},bQ=e=>{for(;e;){if(e.sourceRowIndex>=0)return e;const t=e.childrenAfterGroup;if(!t?.length)return;e=t[0]}},DAe=class extends _t{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new RAe(e)),r=this.beans.dragAndDrop;r.addDropTarget(n),t.addDestroyFunc(()=>r.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,r,i,s){return new _Ae(e,t,n,r,i,s)}createRowDragCompForRow(e,t){if(Mg(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,r,i,s){const o=this.gos;return o.get("rowDragManaged")&&(!Yo(o)||o.get("pagination"))?void 0:this.createRowDragComp(n,e,t,r,i,s)}},FAe=class extends _t{constructor(){super(...arguments),this.beanName="rowDropHighlightSvc",this.uiLevel=0,this.row=null,this.position="none"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this)})}onModelUpdated(){const e=this.row;!e||e.rowIndex===null||this.position==="none"?this.clear():this.set(e,this.position)}destroy(){this.clear(),super.destroy()}clear(){const e=this.row;e&&(this.uiLevel=0,this.position="none",this.row=null,e.dispatchRowEvent("rowHighlightChanged"))}set(e,t){const n=e!==this.row,r=e.uiLevel,i=t!==this.position,s=r!==this.uiLevel;(n||i||s)&&(n&&this.clear(),this.uiLevel=r,this.position=t,this.row=e,e.dispatchRowEvent("rowHighlightChanged"))}},xQ={moduleName:"Drag",version:on,beans:[$Ee]},IAe={moduleName:"DragAndDrop",version:on,dynamicBeans:{dndSourceComp:mAe},icons:{rowDrag:"grip"}},SQ={moduleName:"SharedDragAndDrop",version:on,beans:[JEe],dependsOn:[xQ],userComponents:{agDragAndDropImage:CRe},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},MAe={moduleName:"RowDrag",version:on,beans:[FAe,DAe],apiFunctions:{addRowDropZone:vAe,removeRowDropZone:yAe,getRowDropZoneParams:wAe,getRowDropPositionIndicator:CAe,setRowDropPositionIndicator:bAe},dependsOn:[SQ]},OAe={moduleName:"HorizontalResize",version:on,beans:[xAe],dependsOn:[xQ]},LAe=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",NAe=class extends _t{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:r}=this;if(n.length===0&&r.length===0){e(),t();return}const i=s=>{for(;s.length;){const o=s.pop();o&&o()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),i(n)},0),window.setTimeout(()=>{t(),i(r)},200)})}};function BAe(e,t,n){e.colMoves?.moveColumnByIndex(t,n,"api")}function VAe(e,t,n){e.colMoves?.moveColumns(t,n,"api")}var HAe=class extends _t{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:r}=this.beans;this.columnsToAggregate.length>0&&t?.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&n?.addColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&r?.addColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function zAe(e,t){!t||t.length<=1||t.filter(r=>e.indexOf(r)<0).length>0||t.sort((r,i)=>{const s=e.indexOf(r),o=e.indexOf(i);return s-o})}function GAe(e){const t=[...e];return e.forEach(n=>{let r=null,i=n.getParent();for(;i!=null&&i.getDisplayedLeafColumns().length===1;)r=i,i=i.getParent();r!=null&&(!!r.getColGroupDef()?.marryChildren?r.getProvidedColumnGroup().getLeafColumns():r.getLeafColumns()).forEach(a=>{t.includes(a)||t.push(a)})}),t}function UAe(e,t,n,r){const i=r.allCols;let s=null,o=null;for(let a=0;a<e.length;a++){const l=e[a],c=n.getProposedColumnOrder(t,l);if(!n.doesOrderPassRules(c))continue;const u=c.filter(p=>i.includes(p));if(o===null)o=u;else if(!rv(u,o))break;const h=jAe(c);(s===null||h<s.fragCount)&&(s={move:l,fragCount:h})}return s}function _Q(e){const{isFromHeader:t,fromLeft:n,xPosition:r,fromEnter:i,fakeEvent:s,pinned:o,gos:a,colModel:l,colMoves:c,visibleCols:u}=e;let{allMovingColumns:h}=e;t&&(h=GAe(h));const p=h.slice();zAe(l.getCols(),p);const m=YAe({movingCols:p,draggingRight:n,xPosition:r,pinned:o,gos:a,colModel:l,visibleCols:u}),y=WAe(p,l);if(m.length===0)return;const w=m[0];if(y!==null&&(t||!i)&&!s&&(!n&&w>=y||n&&w<=y))return;const S=UAe(m,p,c,u);if(!S)return;const E=S.move;if(!(E>l.getCols().length-p.length))return{columns:p,toIndex:E}}function EQ(e){const{columns:t,toIndex:n}=_Q(e)||{},{finished:r,colMoves:i}=e;return!t||n==null?null:(i.moveColumns(t,n,"uiColumnMoved",r),r?null:{columns:t,toIndex:n})}function WAe(e,t){const n=t.getCols(),r=e.map(l=>n.indexOf(l)).sort((l,c)=>l-c),i=r[0];return Ei(r)-i!==r.length-1?null:i}function jAe(e){function t(r){const i=[];let s=r.getOriginalParent();for(;s!=null;)i.push(s),s=s.getOriginalParent();return i}let n=0;for(let r=0;r<e.length-1;r++){let i=t(e[r]),s=t(e[r+1]);[i,s]=i.length>s.length?[i,s]:[s,i],i.forEach(o=>{s.indexOf(o)===-1&&n++})}return n}function KAe(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function YAe(e){const{movingCols:t,draggingRight:n,xPosition:r,pinned:i,gos:s,colModel:o,visibleCols:a}=e;if(s.get("suppressMovableColumns")||t.some(_=>_.getColDef().suppressMovable))return[];const c=KAe(a,i),u=o.getCols(),h=c.filter(_=>t.includes(_)),p=c.filter(_=>!t.includes(_)),m=u.filter(_=>!t.includes(_));let y=0,w=r;if(n){let _=0;h.forEach(N=>_+=N.getActualWidth()),w-=_}if(w>0){for(let _=0;_<p.length;_++){const N=p[_];if(w-=N.getActualWidth(),w<0)break;y++}n&&y++}let b;if(y>0){const _=p[y-1];b=m.indexOf(_)+1}else b=m.indexOf(p[0]),b===-1&&(b=0);const S=[b],E=(_,N)=>_-N;if(n){let _=b+1;const N=u.length-1;for(;_<=N;)S.push(_),_++;S.sort(E)}else{let _=b;const N=u.length-1;let V=u[_];for(;_<=N&&c.indexOf(V)<0;)_++,S.push(_),V=u[_];_=b-1;const M=0;for(;_>=M;)S.push(_),_--;S.sort(E).reverse()}return S}function QF(e){const{pinned:t,fromKeyboard:n,gos:r,ctrlsSvc:i,useHeaderRow:s,skipScrollPadding:o}=e;let a=i.getHeaderRowContainerCtrl(t)?.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),r.get("enableRtl")&&(s&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!o&&(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function dD(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var Sz=7,JF=100,L_=JF/2,XAe=5,ZAe=100,qAe=class extends _t{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!nn(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,{dragItem:n}=t||{},r=n?.columns??[];for(const i of r){const s=i.getPinned();if(i.getColDef().lockPinned){if(s==e)return"move";continue}const o=n?.containerType;if(o===e||!e)return"move";if(e&&(!s||o!==e))return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const i=t.visibleState,s=(n||[]).filter(o=>i[o.getId()]&&!o.isVisible());this.setColumnsVisible(s,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,r=!1){const{gos:i,ctrlsSvc:s}=this.beans,o=i.get("suppressMoveWhenColumnDragging");if(r&&!o){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!r&&_s(e.hDirection))return;const a=QF({x:e.x,pinned:this.pinned,gos:i,ctrlsSvc:s});t||this.checkCenterForScrolling(a),o?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,r):this.handleColumnDragWhileAllowingMovement(e,t,n,a,r)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.updateDragItemContainerType(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e?.length)return;const r=e.filter(i=>!i.getColDef().lockVisible);r.length&&this.beans.colModel.setColsVisible(r,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}updateDragItemContainerType(){const{lastDraggingEvent:e}=this;if(this.gos.get("suppressMoveWhenColumnDragging")||!e)return;const t=e.dragItem;t&&(t.containerType=this.pinned)}handleColumnDragWhileSuppressingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e,!0);if(i){const o=this.isAttemptingToPin(s);o&&this.attemptToPinColumns(s,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(s,o)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:s,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(s,r)}}handleColumnDragWhileAllowingMovement(e,t,n,r,i){const s=this.getAllMovingColumns(e),o=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:s,isFromHeader:a,xPosition:r,fromLeft:o,fromEnter:t,fakeEvent:n}),c=EQ({...l,finished:i});c&&(this.lastMovedInfo=c)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let r=null;t?(r=n.columnsInSplit,r||(r=n.columns)):r=n.columns;const i=s=>s.getColDef().lockPinned?s.getPinned()==this.pinned:!0;return r?r.filter(i):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:r,fromLeft:i,fromEnter:s,fakeEvent:o}=e,{gos:a,colModel:l,colMoves:c,visibleCols:u}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:i,xPosition:r,pinned:this.pinned,fromEnter:s,fakeEvent:o,gos:a,colModel:l,colMoves:c,visibleCols:u}}highlightHoveredColumn(e,t){const{gos:n,colModel:r}=this.beans,i=n.get("enableRtl"),s=r.getCols().filter(u=>u.isVisible()&&u.getPinned()===this.pinned);let o=null,a=null,l=null;for(const u of s){if(a=u.getActualWidth(),o=this.getNormalisedColumnLeft(u,0,i),o!=null){const h=o+a;if(o<=t&&h>=t){l=u;break}}o=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let u=s.length-1;u>=0;u--){const h=s[u],p=s[u].getParent();if(!p){l=h;break}const m=p?.getDisplayedLeafColumns();if(m.length){l=Ei(m);break}}if(!l)return;o=this.getNormalisedColumnLeft(l,0,i),a=l.getActualWidth()}if(this.lastHighlightedColumn?.column!==l&&this.clearHighlighted(),l==null||o==null||a==null)return;let c;t-o<a/2!==i?c=0:c=1,_z(l,c),this.lastHighlightedColumn={column:l,position:c}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:r}=this.beans,i=n.get("enableRtl"),{firstMovingCol:s,column:o,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!s||!o||a==null)return;const l=r.allCols,c=l.indexOf(s),u=l.indexOf(o),h=a===0!==i,p=c<u||c===u&&!h;let m=0;if(h?p&&(m-=1):p||(m+=1),u+m===c)return;const y=l[u+m];if(!y)return;const w=this.getNormalisedColumnLeft(y,20,i);return{fromLeft:p,xPosition:w}}getColumnMoveAndTargetInfo(e,t,n){const r=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:s}=QAe(e);if(!i||!s||r.column||!t)return{firstMovingCol:i,...r};const a=this.getPinDirection()==="left";return{firstMovingCol:i,position:a?1:0,column:a!==n?i:s}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:r,ctrlsSvc:i}=this.beans,s=e.getLeft();if(s==null)return null;const o=e.getActualWidth();return QF({x:n?s+o-t:s+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:r,ctrlsSvc:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>Sz;return t&&n||e.some(r=>r.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:r,fakeEvent:i,fromLeft:s}=e,o=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:s,fromEnter:r,fakeEvent:i}),{columns:a,toIndex:l}=_Q(o)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(_z(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),r=n+t.getCenterWidth();let i,s;this.gos.get("enableRtl")?(i=e<n+L_,s=e>r-L_):(s=e<n+L_,i=e>r-L_),this.needToMoveRight=i,this.needToMoveLeft=s,s||i?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),ZAe),this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.beans.dragAndDrop.getDragAndDropImageComponent()?.setIcon(this.getIconName(),!1))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*XAe,e>JF&&(e=JF);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:r,dragAndDrop:i,gos:s}=this.beans;if(this.failedMoveAttempts<=Sz+1||!r)return;if(i.getDragAndDropImageComponent()?.setIcon("pinned",!1),!s.get("suppressMoveWhenColumnDragging")){const o=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(o,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const r=(e||[]).filter(o=>!o.getColDef().lockPinned);if(!r.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:i,dragAndDrop:s}=this.beans;return i?.setColsPinned(r,t,"uiColumnDragged"),n&&s.nudge(),r.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function _z(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function QAe(e){const t=e.length;let n,r;for(let i=0;i<t;i++){if(!n){const s=e[i];s.getLeft()!=null&&(n=s)}if(!r){const s=e[t-1-i];s.getLeft()!=null&&(r=s)}if(n&&r)break}return{firstMovingCol:n,lastMovingCol:r}}var JAe=class extends _t{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,r=>{let i;const s=r.gridBodyCtrl.eBodyViewport;switch(n){case"left":i=[[s,r.left.eContainer],[r.bottomLeft.eContainer],[r.topLeft.eContainer]];break;case"right":i=[[s,r.right.eContainer],[r.bottomRight.eContainer],[r.topRight.eContainer]];break;default:i=[[s,r.center.eViewport],[r.bottomCenter.eViewport],[r.topCenter.eViewport]];break}this.eSecondaryContainers=i}),this.moveColumnFeature=this.createManagedBean(new qAe(n)),this.bodyDropPivotTarget=this.createManagedBean(new HAe(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},$Ae=class extends _t{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const r=this.beans.colModel.getCols();if(!r)return;const i=r[e];this.moveColumns([i],t,n)}moveColumns(e,t,n,r=!0){const{colModel:i,colAnimation:s,visibleCols:o,eventSvc:a}=this.beans,l=i.getCols();if(!l)return;if(t>l.length-e.length){zt(30,{toIndex:t});return}s?.start();const c=i.getColsForKeys(e);this.doesMovePassRules(c,t)&&(qH(i.getCols(),c,t),o.refresh(n),a.dispatchEvent({type:"columnMoved",columns:c,column:c.length===1?c[0]:null,toIndex:t,finished:r,source:n})),s?.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!xq(e,t.getColTree())||!(i=>{const s=c=>c?c==="left"||c===!0?-1:1:0,o=n.get("enableRtl");let a=o?1:-1,l=!0;return i.forEach(c=>{const u=s(c.getColDef().lockPosition);o?u>a&&(l=!1):u<a&&(l=!1),a=u}),l})(e))}getProposedColumnOrder(e,t){const r=this.beans.colModel.getCols().slice();return qH(r,e,t),r}createBodyDropTarget(e,t){return new JAe(e,t)}moveHeader(e,t,n,r,i){const{ctrlsSvc:s,gos:o,colModel:a,visibleCols:l,focusSvc:c}=this.beans,u=t.getBoundingClientRect(),h=u.left,p=Eo(n),m=p?u.width:n.getActualWidth(),y=e==="left"!==o.get("enableRtl"),w=QF({x:y?h-20:h+m+20,pinned:r,fromKeyboard:!0,gos:o,ctrlsSvc:s}),b=c.focusedHeader;EQ({allMovingColumns:p?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:w,pinned:r,fromEnter:!1,fakeEvent:!1,gos:o,colModel:a,colMoves:this,visibleCols:l,finished:!0});let S;if(p){const E=n.getDisplayedLeafColumns();S=y?E[0]:Ei(E)}else S=n;if(s.getScrollFeature().ensureColumnVisible(S,"auto"),(!i.isAlive()||o.get("ensureDomOrder"))&&b){let E;if(p){const _=n.getGroupId(),N=n.getLeafColumns();if(!N.length)return;const V=N[0].getParent();if(!V)return;E=eke(V,_)}else E=n;E&&c.focusHeaderPosition({headerPosition:{...b,column:E}})}}setDragSourceForHeader(e,t,n){const{gos:r,colModel:i,dragAndDrop:s,visibleCols:o}=this.beans;let a=!r.get("suppressDragLeaveHidesColumns");const l=Eo(t),c=l?t.getProvidedColumnGroup().getLeafColumns():[t],h={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>nke(t,o.allCols):()=>tke(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),dD(c,!0)},onDragStopped:()=>dD(c,!1),onDragCancelled:()=>dD(c,!1),onGridEnter:p=>{if(a){const{columns:m=[],visibleState:y}=p??{},w=l?S=>!y||y[S.getColId()]:()=>!0,b=m.filter(S=>!S.getColDef().lockVisible&&w(S));i.setColsVisible(b,!0,"uiColumnMoved")}},onGridExit:p=>{if(a){const m=p?.columns?.filter(y=>!y.getColDef().lockVisible)||[];i.setColsVisible(m,!1,"uiColumnMoved")}}};return s.addDragSource(h,!0),h}};function eke(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function tke(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t,containerType:e.pinned}}function nke(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),r={};n.forEach(a=>r[a.getId()]=a.isVisible());const i=[];t.forEach(a=>{n.indexOf(a)>=0&&(i.push(a),Sd(n,a))}),n.forEach(a=>i.push(a));const s=[],o=e.getLeafColumns();for(const a of i)o.indexOf(a)!==-1&&s.push(a);return{columns:i,columnsInSplit:s,visibleState:r,containerType:s[0]?.pinned}}var rke={moduleName:"ColumnMove",version:on,beans:[$Ae,NAe],apiFunctions:{moveColumnByIndex:BAe,moveColumns:VAe},dependsOn:[SQ],css:[LAe]},ike=class extends _t{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const r=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||r.push(n),this.getPreferredWidthForElements(r)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const r=this.centerRowContainerCtrl.eContainer;e.forEach(s=>this.cloneItemIntoDummy(s,n)),r.appendChild(n);const i=n.offsetWidth;return r.removeChild(n),t=t??this.gos.get("autoSizePadding"),i+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const r=n.getHtmlElementForColumnHeader(e);r!=null&&(t=r)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const r=document.createElement("div"),i=r.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(i.add("ag-header","ag-header-row"),r.style.position="static"):i.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(l=>o.classList.contains(l))){for(let l=0;l<o.classList.length;l++){const c=o.classList[l];c!="ag-row-position-absolute"&&i.add(c)}break}o=o.parentElement}r.appendChild(n),t.appendChild(r)}},TQ={moduleName:"AutoWidth",version:on,beans:[ike]};function ske(e,t,n=!0,r="api"){e.colResize?.setColumnWidths(t,!1,n,r)}var oke=class extends _t{constructor(e,t,n,r){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=r}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,r=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(r),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:r,groupAfterColumns:i,groupAfterStartWidth:s,groupAfterRatios:o}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=r,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=s,this.resizeTakeFromRatios=o,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const r=this.normaliseDragChange(t),i=this.resizeStartWidth+r;this.resizeColumnsFromLocalValues(i,n,e)}getInitialValues(e){const t=l=>l.reduce((c,u)=>c+u.getActualWidth(),0),n=(l,c)=>l.map(u=>u.getActualWidth()/c),r=this.getColumnsToResize(),i=t(r),s=n(r,i),o={columnsToResize:r,resizeStartWidth:i,resizeRatios:s};let a=null;if(e&&(a=this.beans.colGroupSvc?.getGroupAtDirection(this.columnGroup,"After")??null),a){const l=a.getDisplayedLeafColumns(),c=o.groupAfterColumns=l.filter(h=>h.isResizable()),u=o.groupAfterStartWidth=t(c);o.groupAfterRatios=n(c,u)}else o.groupAfterColumns=void 0,o.groupAfterStartWidth=void 0,o.groupAfterRatios=void 0;return o}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const r={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(r,e,t,n)}resizeColumns(e,t,n,r=!0){const{columnsToResize:i,resizeStartWidth:s,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,u=[];if(u.push({columns:i,ratios:o,width:t}),a){const h=t-s;u.push({columns:a,ratios:c,width:l-h})}this.beans.colResize?.resizeColumnSets({resizeSets:u,finished:r,source:n}),r&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.toggleCss("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},ake=class extends _t{constructor(e,t,n,r,i){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=r,this.ctrl=i}postConstruct(){const e=[];let t,n;const r=()=>{if(Vs(this.eResize,t),!t)return;const{horizontalResizeSvc:o,colAutosize:a}=this.beans,l=o.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},i=()=>{e.forEach(o=>o()),e.length=0},s=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==n)&&(t=o,n=a,i(),r())};s(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",s)}onResizing(e,t){const{column:n,lastResizeAmount:r,resizeStartWidth:i,beans:s}=this,o=this.normaliseResizeAmount(t),a=i+o,l=[{key:n,newWidth:a}],{pinnedCols:c,ctrlsSvc:u,colResize:h}=s;if(this.column.getPinned()){const p=c?.leftWidth??0,m=c?.rightWidth??0,y=Vx(u.getGridBodyCtrl().eBodyViewport)-50;if(p+m+(o-r)>y)return}this.lastResizeAmount=o,h?.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.column.resizing=e,this.comp.toggleCss("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",r=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):r&&(t*=-1),t}},lke=class extends _t{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,r){const i=[],{colModel:s,gos:o,visibleCols:a}=this.beans;e.forEach(l=>{const c=s.getColDefCol(l.key)||s.getCol(l.key);if(!c)return;if(i.push({width:l.newWidth,ratios:[1],columns:[c]}),o.get("colResizeDefault")==="shift"&&(t=!t),t){const h=a.getColAfter(c);if(!h)return;const p=c.getActualWidth()-l.newWidth,m=h.getActualWidth()+p;i.push({width:m,ratios:[1],columns:[h]})}}),i.length!==0&&this.resizeColumnSets({resizeSets:i,finished:n,source:r})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:r}=e;if(!(!t||t.every(u=>cke(u)))){if(n){const u=t&&t.length>0?t[0].columns:null;dw(this.eventSvc,u,n,r)}return}const s=[],o=[];t.forEach(u=>{const{width:h,columns:p,ratios:m}=u,y={},w={};p.forEach(E=>o.push(E));let b=!0,S=0;for(;b;){if(S++,S>1e3){Ti(31);break}b=!1;const E=[];let _=0,N=h;p.forEach((M,O)=>{if(w[M.getId()])N-=y[M.getId()];else{E.push(M);const H=m[O];_+=H}});const V=1/_;E.forEach((M,O)=>{const z=O===E.length-1;let H;z?H=N:(H=Math.round(m[O]*h*V),N-=H);const X=M.getMinWidth(),Q=M.getMaxWidth();H<X?(H=X,w[M.getId()]=!0,b=!0):Q>0&&H>Q&&(H=Q,w[M.getId()]=!0,b=!0),y[M.getId()]=H})}p.forEach(E=>{const _=y[E.getId()];E.getActualWidth()!==_&&(E.setActualWidth(_,r),s.push(E))})});const a=s.length>0;let l=[];if(a){const{colFlex:u,visibleCols:h,colViewport:p}=this.beans;l=u?.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0})??[],h.setLeftValues(r),h.updateBodyWidths(),p.checkViewportColumns()}const c=o.concat(l);(a||n)&&dw(this.eventSvc,c,n,r,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const r=e.getActualWidth(),i=e.getMinWidth(),s=e.getMaxWidth(),o=Math.min(Math.max(r+t,i),s);this.setColumnWidths([{key:e,newWidth:o}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,r,i){return new ake(e,t,n,r,i)}createGroupResizeFeature(e,t,n,r){return new oke(e,t,n,r)}};function cke(e){const{columns:t,width:n}=e;let r=0,i=0,s=!0;t.forEach(l=>{const c=l.getMinWidth();r+=c||0;const u=l.getMaxWidth();u>0?i+=u:s=!1});const o=n>=r,a=!s||n<=i;return o&&a}var uke={moduleName:"ColumnResize",version:on,beans:[lke],apiFunctions:{setColumnWidths:ske},dependsOn:[OAe,TQ]},dke=class extends _t{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.toggleCss("ag-hidden",e===0)}},hke=class extends YL{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,r,i){const{column:s,beans:o}=this,{context:a,colNames:l,colHover:c,rangeSvc:u,colResize:h}=o;this.comp=e,i=p1(this,a,i),this.setGui(t,i),this.displayName=l.getDisplayNameForColumnGroup(s,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(),this.setupAutoHeight({wrapperElement:r,compBean:i}),this.setupUserComp(),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const p=this.rowCtrl.pinned,m=s.getProvidedColumnGroup().getLeafColumns();c?.createHoverFeature(i,m,t),u?.createRangeHighlightFeature(i,s,e),i.createManagedBean(new KL(s,t,o)),i.createManagedBean(new dke(e,s)),h?this.resizeFeature=i.createManagedBean(h.createGroupResizeFeature(e,n,p,s)):e.setResizableDisplayed(!1),i.createManagedBean(new Vw(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,m),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return In(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,r=Ei(t)===e;if(!n&&!r)return;const i=e.getHighlighted(),s=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let o=!1,a=!1;if(s){const l=this.beans.gos.get("enableRtl"),c=i===1,u=i===0;n&&(l?a=c:o=u),r&&(l?o=u:a=c)}this.comp.toggleCss("ag-header-highlight-before",o),this.comp.toggleCss("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const r=n.getInitialValues(t);n.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){this.resizeFeature?.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n,enterpriseMenuFactory:r}=this.beans,i=this.column,s=i.getProvidedColumnGroup(),o=In(n,{displayName:this.displayName,columnGroup:i,setExpanded:l=>{e.setColumnGroupOpened(s,l,"gridInitializing")},setTooltip:(l,c)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(l,c)},showColumnMenu:(l,c)=>r?.showMenuAfterButtonClick(s,l,"columnMenu",c),showColumnMenuAfterMouseClick:(l,c)=>r?.showMenuAfterMouseEvent(s,l,"columnMenu",c),eGridHeader:this.eGui}),a=z_e(t,o);a&&this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=i=>this.handleMouseOverChange(i.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:r})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){this.tooltipFeature=this.beans.tooltipSvc?.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=Uq(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t?.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(r=>this.comp.toggleCss(r,!0))}setupMovingCss(e){const{column:t}=this,r=t.getProvidedColumnGroup().getLeafColumns(),i=()=>this.comp.toggleCss("ag-header-cell-moving",t.isMoving());r.forEach(s=>{e.addManagedListeners(s,{movingChanged:i})}),i()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===vt.ENTER){const n=this.column,r=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),r,"uiColumnExpanded")}}setDragSource(e){!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=this.beans.colMoves?.setDragSourceForHeader(e,this.column,this.displayName)??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function fke(e,t,n){e.colGroupSvc?.setColumnGroupOpened(t,n,"api")}function pke(e,t,n){return e.colGroupSvc?.getColumnGroup(t,n)??null}function gke(e,t){return e.colGroupSvc?.getProvidedColGroup(t)??null}function mke(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function vke(e){return e.colGroupSvc?.getColumnGroupState()??[]}function yke(e,t){e.colGroupSvc?.setColumnGroupState(t,"api")}function wke(e){e.colGroupSvc?.resetColumnGroupState("api")}function Cke(e){return e.visibleCols.treeLeft}function bke(e){return e.visibleCols.treeCenter}function xke(e){return e.visibleCols.treeRight}function Ske(e){return e.visibleCols.getAllTrees()}function _ke(e,t){for(let n=0;n<t.length;n++){const r=e.indexOf(t[n]);r>=0&&(e[r]=e[e.length-1],e.pop())}}var Eke=class extends _t{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.headerGroupRowCount=0,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){const{colFlex:n,colModel:r,colGroupSvc:i,colViewport:s,selectionColSvc:o}=this.beans;t||this.buildTrees(r,i),i?.updateOpenClosedVisibility(),this.leftCols=hD(this.treeLeft),this.centerCols=hD(this.treeCenter),this.rightCols=hD(this.treeRight),o?.refreshVisibility(this.leftCols,this.centerCols,this.rightCols),this.joinColsAriaOrder(r),this.joinCols(),this.headerGroupRowCount=this.getHeaderRowCount(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(a=>a.isAutoHeight()),n?.refreshFlexedColumns(),this.updateBodyWidths(),this.setFirstRightAndLastLeftPinned(r,this.leftCols,this.rightCols,e),s.checkViewportColumns(!1),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}getHeaderRowCount(){if(!this.gos.get("hidePaddedHeaderRows"))return this.beans.colModel.cols.treeDepth;let e=0;for(const t of this.allCols){let n=t.getParent();for(;n;){if(!n.isPadding()){const r=n.getProvidedColumnGroup().getLevel()+1;r>e&&(e=r);break}n=n.getParent()}}return e}updateBodyWidths(){const e=Lf(this.centerCols),t=Lf(this.leftCols),n=Lf(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,r){let i,s;this.gos.get("enableRtl")?(i=t?t[0]:null,s=n?Ei(n):null):(i=t?Ei(t):null,s=n?n[0]:null),e.getCols().forEach(o=>{o.setLastLeftPinned(o===i,r),o.setFirstRightPinned(o===s,r)})}buildTrees(e,t){const n=e.getColsToShow(),r=n.filter(l=>l.getPinned()=="left"),i=n.filter(l=>l.getPinned()=="right"),s=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),o=new Rq,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:r,idCreator:o,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:i,idCreator:o,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:s,idCreator:o,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],r=[],i=[];for(const s of t){const o=s.getPinned();o?o===!0||o==="left"?n.push(s):i.push(s):r.push(s)}this.ariaOrderColumns=n.concat(r).concat(i)}getAriaColIndex(e){let t;return Eo(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{Eo(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const r=t.getCols().slice(0),i=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(s=>{if(i){let o=Lf(s);s.forEach(a=>{o-=a.getActualWidth(),a.setLeft(o,e)})}else{let o=0;s.forEach(a=>{a.setLeft(o,e),o+=a.getActualWidth()})}_ke(r,s)}),r.forEach(s=>{s.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,r){const i=[];let s=null;for(let o=0;o<t.length;o++){const a=t[o],l=t.length-o,c=Math.min(a.getColSpan(e),l),u=[a];if(c>1){const p=c-1;for(let m=1;m<=p;m++)u.push(t[o+m]);o+=p}let h;n?(h=!1,u.forEach(p=>{n(p)&&(h=!0)})):h=!0,h&&(i.length===0&&s&&(r&&r(a))&&i.push(s),i.push(a)),s=a}return i}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};c0(this.treeCenter,!1,e),c0(this.treeLeft,!1,e),c0(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const r=this[t[n]];if(r.length)return e?Ei(r):r[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Lf(this.leftCols)}getDisplayedColumnsRightWidth(){return Lf(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const r=t==="first";let i;if(Eo(e)){const s=e.getDisplayedLeafColumns();if(!s.length)return!1;i=r?s[0]:Ei(s)}else i=e;return(r?n[0]:Ei(n))===i}};function c0(e,t,n){if(e)for(let r=0;r<e.length;r++){const i=e[r];if(Eo(i)){const s=t?i.getDisplayedChildren():i.getChildren();c0(s,t,n)}n(i)}}function hD(e){const t=[];return c0(e,!0,n=>{Og(n)&&t.push(n)}),t}var Tke=class extends _t{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return qf(null,t,n=>{kl(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];qf(null,t,r=>{if(kl(r)){const i=r.getColGroupDef(),s={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:r,visibleCols:i,eventSvc:s}=this.beans;if(!n.getColTree().length)return;r?.start();const a=[];e.forEach(l=>{const c=l.groupId,u=l.open,h=this.getProvidedColGroup(c);h&&h.isExpanded()!==u&&(h.setExpanded(u),a.push(h))}),i.refresh(t,!0),a.length&&s.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),r?.finish()}setColumnGroupOpened(e,t,n){let r;kl(e)?r=e.getId():r=e||"",this.setColumnGroupState([{groupId:r,open:t}],n)}getProvidedColGroup(e){let t=null;return qf(null,this.beans.colModel.getColTree(),n=>{kl(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),r=e.getDisplayedLeafColumns(),i=t==="After"?Ei(r):r[0],s=`getCol${t}`;for(;;){const o=this.beans.visibleCols[s](i);if(!o)return null;const a=this.getColGroupAtLevel(o,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),r,i;for(;r=n.getProvidedColumnGroup().getLevel(),i=n.getPaddingLevel(),!(r+i<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();c0(e,!1,t=>{Eo(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(Eo(e))return e;const n=this.beans.visibleCols.getAllTrees(),r=typeof t=="number";let i=null;return c0(n,!1,s=>{if(Eo(s)){const o=s;let a;r?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(i=o)}}),i}createColumnGroups(e){const{columns:t,idCreator:n,pinned:r,oldDisplayedGroups:i,isStandaloneStructure:s}=e,o=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const c=l;l=[];let u=0;const h=p=>{const m=u;u=p;const y=c[m],b=(Eo(y)?y.getProvidedColumnGroup():y).getOriginalParent();if(b==null){for(let E=m;E<p;E++)a.push(c[E]);return}const S=this.createColumnGroup(b,n,o,r,s);for(let E=m;E<p;E++)S.addChild(c[E]);l.push(S)};for(let p=1;p<c.length;p++){const m=c[p],w=(Eo(m)?m.getProvidedColumnGroup():m).getOriginalParent(),b=c[u],E=(Eo(b)?b.getProvidedColumnGroup():b).getOriginalParent();w!==E&&h(p)}u<c.length&&h(c.length)}return s||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,r,i,s,o){const a=i.getUniqueKey(t.groupId||null,null),l=ZH(this.beans,t,a),c=new NE(l,a,!1,n);this.createBean(c);const u=this.findExistingGroup(t,s);u&&s.splice(u.idx,1);const h=u?.group;h&&c.setExpanded(h.isExpanded());const p=wq(this.beans,l.children,n+1,e,r,i,s,o);return c.setChildren(p),c}balanceColumnTree(e,t,n,r){const i=[];for(let s=0;s<e.length;s++){const o=e[s];if(kl(o)){const a=o,l=this.balanceColumnTree(a.getChildren(),t+1,n,r);a.setChildren(l),i.push(a)}else{let a,l;for(let c=t;c<n;c++){const u=r.getUniqueKey(null,null),h=ZH(this.beans,null,u),p=new NE(h,u,!0,c);this.createBean(p),l&&l.setChildren([p]),l=p,a||(a=l)}if(a&&l)if(i.push(a),e.some(u=>kl(u))){l.setChildren([o]);continue}else{l.setChildren(e);break}i.push(o)}}return i}findDepth(e){let t=0,n=e;for(;n&&n[0]&&kl(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let r=0;r<e.length;r++){const i=e[r];if(kl(i)){const s=i,o=this.findMaxDepth(s.getChildren(),t+1);n<o&&(n=o)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(r=>{let i=r;for(let s=t-1;s>=0;s--){const o=new NE(null,`FAKE_PATH_${r.getId()}}_${s}`,!0,s);this.createBean(o),o.setChildren([i]),i.originalParent=o,i=o}t===0&&(r.originalParent=null),n.push(i)}),n}findExistingGroup(e,t){if(e.groupId!=null)for(let r=0;r<t.length;r++){const i=t[r];if(i.getColGroupDef()&&i.getId()===e.groupId)return{idx:r,group:i}}}createColumnGroup(e,t,n,r,i){const s=e.getGroupId(),o=t.getInstanceIdForKey(s),a=Qq(s,o);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),nn(l)?l.reset():(l=new jx(e,s,o,r),i||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=r=>{r.forEach(i=>{if(Eo(i)){const s=i;t[i.getUniqueId()]=s,n(s.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent!==t&&(this.beans.colViewport.colsWithinViewportHash=""),n.parent=t,Eo(n)){const r=n;this.setupParentsIntoCols(r.getChildren(),r)}})}},Rke={moduleName:"ColumnGroup",version:on,dynamicBeans:{headerGroupCellCtrl:hke},beans:[Tke],apiFunctions:{getAllDisplayedColumnGroups:Ske,getCenterDisplayedColumnGroups:bke,getColumnGroup:pke,getColumnGroupState:vke,getDisplayNameForColumnGroup:mke,getLeftDisplayedColumnGroups:Cke,getProvidedColumnGroup:gke,getRightDisplayedColumnGroups:xke,resetColumnGroupState:wke,setColumnGroupOpened:fke,setColumnGroupState:yke}},Ake={tag:"div",cls:"ag-skeleton-container"},kke=class extends qi{constructor(){super(Ake)}init(t){const n=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",n),this.addDestroyFunc(()=>Nx(t.eParentOfValue)),Nx(t.eParentOfValue,n),t.deferRender?this.setupLoading(t):t.node.failedLoad?this.setupFailed():this.setupLoading(t)}setupFailed(){const t=this.getLocaleTextFunc();this.getGui().textContent=t("loadingError","ERR");const n=t("ariaSkeletonCellLoadingFailed","Row failed to load");cw(this.getGui(),n)}setupLoading(t){const n=To({tag:"div",cls:"ag-skeleton-effect"}),r=t.node.rowIndex;if(r!=null){const o=75+25*(r%2===0?Math.sin(r):Math.cos(r));n.style.width=`${o}%`}this.getGui().appendChild(n);const i=this.getLocaleTextFunc(),s=t.deferRender?i("ariaDeferSkeletonCellLoading","Cell is loading"):i("ariaSkeletonCellLoading","Row data is loading");cw(this.getGui(),s)}refresh(t){return!1}},Pke={moduleName:"CheckboxCellRenderer",version:on,userComponents:{agCheckboxCellRenderer:TRe}},Dke={moduleName:"SkeletonCellRenderer",version:on,userComponents:{agSkeletonCellRenderer:kke}};function Fke(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function Ike(e){return e.colModel.getColumnDefs()}function Mke(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function Oke(e,t){return e.colModel.getColDefCol(t)}function Lke(e){return e.colModel.getColDefCols()}function Nke(e,t){return nh(e,t,"api")}function Bke(e){return jT(e)}function Vke(e){f_e(e,"api")}function Hke(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function zke(e){return e.visibleCols.isPinningLeft()}function Gke(e){return e.visibleCols.isPinningRight()}function Uke(e,t){return e.visibleCols.getColAfter(t)}function Wke(e,t){return e.visibleCols.getColBefore(t)}function jke(e,t,n){e.colModel.setColsVisible(t,n,"api")}function Kke(e,t,n){e.pinnedCols?.setColsPinned(t,n,"api")}function Yke(e){return e.colModel.getCols()}function Xke(e){return e.visibleCols.leftCols}function Zke(e){return e.visibleCols.centerCols}function qke(e){return e.visibleCols.rightCols}function Qke(e){return e.visibleCols.allCols}function Jke(e){return e.colViewport.getViewportColumns()}function $F(e,t){if(!e)return;const n=e,r={};return Object.keys(n).forEach(i=>{if(t&&t.indexOf(i)>=0||RZ.has(i))return;const s=n[i];typeof s=="object"&&s!==null&&s.constructor===Object?r[i]=$F(s):r[i]=s}),r}var $ke=class extends _t{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,r){const i=e.slice();t?i.sort((a,l)=>n.indexOf(a)-n.indexOf(l)):n&&i.sort((a,l)=>r.indexOf(a)-r.indexOf(l));const s=this.rowGroupColsSvc?.columns,o=this.pivotColsSvc?.columns;return this.buildColumnDefs(i,s,o)}buildColumnDefs(e,t=[],n=[]){const r=[],i={};return e.forEach(s=>{const o=this.createDefFromColumn(s,t,n);let a=!0,l=o,c=s.getOriginalParent(),u=null;for(;c;){let h=null;if(c.isPadding()){c=c.getOriginalParent();continue}const p=i[c.getGroupId()];if(p){p.children.push(l),a=!1;break}if(h=this.createDefFromGroup(c),h&&(h.children=[l],i[h.groupId]=h,l=h,c=c.getOriginalParent()),c!=null&&u===c){a=!1;break}u=c}a&&r.push(l)}),r}createDefFromGroup(e){const t=$F(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const r=$F(e.getColDef());return r.colId=e.getColId(),r.width=e.getActualWidth(),r.rowGroup=e.isRowGroupActive(),r.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,r.pivot=e.isPivotActive(),r.pivotIndex=e.isPivotActive()?n.indexOf(e):null,r.aggFunc=e.isValueActive()?e.getAggFunc():null,r.hide=e.isVisible()?void 0:!0,r.pinned=e.isPinned()?e.getPinned():null,r.sort=e.getSort()?e.getSort():null,r.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,r}},ePe=class extends _t{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:r}=this.beans,i=r.centerCols;let s=-1;if(e.resizingCols){const y=new Set(e.resizingCols);for(let w=i.length-1;w>=0;w--)if(y.has(i[w])){s=w;break}}let o=!1;const a=i.map((y,w)=>{const b=y.getFlex(),S=b!=null&&b>0&&w>s;return o||(o=S),{col:y,isFlex:S,flex:Math.max(0,b??0),initialSize:y.getActualWidth(),min:y.getMinWidth(),max:y.getMaxWidth(),targetSize:0}});if(!o)return[];let l=a.length,c=a.reduce((y,w)=>y+w.flex,0),u=n;const h=(y,w)=>{y.frozenSize=w,y.col.setActualWidth(w,t),u-=w,c-=y.flex,l-=1},p=y=>y.frozenSize!=null;for(const y of a)y.isFlex||h(y,y.initialSize);for(;l>0;){const y=Math.round(c<1?u*c:u);let w,b=0,S=0;for(const N of a){if(p(N))continue;w=N,S+=y*(N.flex/c);const V=S-b,M=Math.round(V);N.targetSize=M,b+=M}w&&(w.targetSize+=y-b);let E=0;for(const N of a){if(p(N))continue;const V=N.targetSize,M=Math.min(Math.max(V,N.min),N.max);E+=M-V,N.violationType=M===V?void 0:M<V?"max":"min",N.targetSize=M}const _=E===0?"all":E>0?"min":"max";for(const N of a)p(N)||(_==="all"||N.violationType===_)&&h(N,N.targetSize)}e.skipSetLeft||r.setLeftValues(t),e.updateBodyWidths&&r.updateBodyWidths();const m=a.filter(y=>y.isFlex&&!y.violationType).map(y=>y.col);if(e.fireResizedEvent){const y=a.filter(b=>b.initialSize!==b.frozenSize).map(b=>b.col),w=a.filter(b=>b.flex).map(b=>b.col);dw(this.eventSvc,y,!0,t,w)}return m}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},tPe=["dateTimeString","dateString","text","number","boolean","date"],nPe=class extends _t{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[],this.columnDefinitionPropsPerDataType={number(){return{cellEditor:"agNumberCellEditor"}},boolean(){return{cellEditor:"agCheckboxCellEditor",cellRenderer:"agCheckboxCellRenderer",getFindText:()=>null,suppressKeyboardEvent:e=>!!e.colDef.editable&&e.event.key===vt.SPACE}},date({formatValue:e}){return{cellEditor:"agDateCellEditor",keyCreator:e}},dateString({formatValue:e}){return{cellEditor:"agDateStringCellEditor",keyCreator:e}},dateTime(e){return this.date(e)},dateTimeString(e){return this.dateString(e)},object({formatValue:e,colModel:t,colId:n}){return{cellEditorParams:{useFormatter:!0},comparator:(r,i)=>{const s=t.getColDefCol(n),o=s?.getColDef();if(!s||!o)return 0;const a=r==null?"":e({column:s,node:null,value:r}),l=i==null?"":e({column:s,node:null,value:i});return a===l?0:a>l?1:-1},keyCreator:e}},text(){return{}}}}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={},n={},r=u=>h=>{const{column:p,node:m,value:y}=h;let w=p.getColDef().valueFormatter;return w===u.groupSafeValueFormatter&&(w=u.valueFormatter),this.beans.valueSvc.formatValue(p,m,y,w)};for(const u of Object.keys(e)){const h=e[u],p={...h,groupSafeValueFormatter:Rz(h,this.gos)};t[u]=p,n[u]=r(p)}const i=this.gos.get("dataTypeDefinitions")??{},s={};for(const u of Object.keys(i)){const h=i[u],p=this.processDataTypeDefinition(h,i,[u],e);p&&(t[u]=p,h.dataTypeMatcher&&(s[u]=h.dataTypeMatcher),n[u]=r(p))}const{valueParser:o,valueFormatter:a}=e.object,{valueParser:l,valueFormatter:c}=t.object;this.hasObjectValueParser=l!==o,this.hasObjectValueFormatter=c!==a,this.formatValueFuncs=n,this.dataTypeDefinitions=t,this.dataTypeMatchers=this.sortKeysInMatchers(s,e)}sortKeysInMatchers(e,t){const n={...e};for(const r of tPe)delete n[r],n[r]=e[r]??t[r].dataTypeMatcher;return n}processDataTypeDefinition(e,t,n,r){let i;const s=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=r[s];const a=t[s];if(o&&a&&(o=a),!Tz(e,o,s))return;i=Ez(o,e)}else{if(n.includes(s)){zt(44);return}const o=t[s];if(!Tz(e,o,s))return;const a=this.processDataTypeDefinition(o,t,[...n,s],r);if(!a)return;i=Ez(a,e)}return{...i,groupSafeValueFormatter:Rz(i,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:r}=t;const{field:i}=t;if(r===void 0&&(r=e.cellDataType),(r==null||r===!0)&&(r=this.canInferCellDataType(e,t)?this.inferCellDataType(i,n):!1),!r){e.cellDataType=!1;return}const s=this.dataTypeDefinitions[r];if(!s){zt(47,{cellDataType:r});return}return e.cellDataType=r,s.groupSafeValueFormatter&&(e.valueFormatter=s.groupSafeValueFormatter),s.valueParser&&(e.valueParser=s.valueParser),s.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,r,s,n),s.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=r=>{t.add(r.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Yo(n))return!1;const r={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(fD(t,r))return!1;const i=t.type===null?e.type:t.type;if(i){const s=n.get("columnTypes")??{};if(WT(i).some(a=>{const l=s[a.trim()];return l&&fD(l,r)}))return!1}return!fD(e,r)}inferCellDataType(e,t){if(!e)return;let n;const r=this.getInitialData();if(r){const s=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=zb(r,e,s)}else this.initWaitForRowData(t);return n==null?void 0:Object.keys(this.dataTypeMatchers).find(s=>this.dataTypeMatchers[s](n))??"object"}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.beans.rowModel.rootNode?.allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:r}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[i]=this.addManagedEventListeners({rowDataUpdateStarted:s=>{const{firstRowData:o}=s;o&&(i?.(),this.isPendingInference=!1,this.processColumnsPendingInference(o,t),this.columnStateUpdatesPendingInference={},t&&n?.processResizeOperations(),r.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const r={},i={};for(const s of Object.keys(this.columnStateUpdatesPendingInference)){const o=this.columnStateUpdatesPendingInference[s],a=this.colModel.getCol(s);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const u=iPe(a,o);u.rowGroup&&u.rowGroupIndex==null&&(r[s]=u),u.pivot&&u.pivotIndex==null&&(i[s]=u),n.push(u)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(r,i)),n.length&&nh(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:r,pivotColsSvc:i}=this.beans;return r?.restoreColumnOrder(n,e),i?.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const r=VF(this.beans,n,e.getColId());return e.setColDef(r,n,t),!0}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDateIncludesTimeFlag(e){return e==="dateTime"||e==="dateTimeString"}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const n=this.getDataTypeDefinition(e)?.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>zt(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}postProcess(e){const t=e.cellDataType;if(!t||typeof t!="string")return;const{dataTypeDefinitions:n,beans:r,formatValueFuncs:i}=this,s=n[t];r.colFilter?.setColDefPropsForDataType(e,s,i[t])}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,r){const i=this.formatValueFuncs[t],s=this.columnDefinitionPropsPerDataType[n.baseDataType]({colDef:e,cellDataType:t,colModel:this.colModel,dataTypeDefinition:n,colId:r,formatValue:i});Object.assign(e,s)}getDateObjectTypeDef(e){const t=this.getLocaleTextFunc(),n=this.getDateIncludesTimeFlag(e);return{baseDataType:e,valueParser:r=>Oc(r.newValue&&String(r.newValue)),valueFormatter:r=>r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):_u(r.value,n)??"",dataTypeMatcher:r=>r instanceof Date}}getDateStringTypeDef(e){const t=this.getDateIncludesTimeFlag(e);return{baseDataType:e,dateParser:n=>Oc(n)??void 0,dateFormatter:n=>_u(n??null,t)??void 0,valueParser:n=>HE(String(n.newValue))?n.newValue:null,valueFormatter:n=>HE(String(n.value))?String(n.value):"",dataTypeMatcher:n=>typeof n=="string"&&HE(n)}}getDefaultDataTypes(){const e=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:t=>t.newValue?.trim?.()===""?null:Number(t.newValue),valueFormatter:t=>t.value==null?"":typeof t.value!="number"||isNaN(t.value)?e("invalidNumber","Invalid Number"):String(t.value),dataTypeMatcher:t=>typeof t=="number"},text:{baseDataType:"text",valueParser:t=>t.newValue===""?null:AF(t.newValue),dataTypeMatcher:t=>typeof t=="string"},boolean:{baseDataType:"boolean",valueParser:t=>t.newValue==null?t.newValue:t.newValue?.trim?.()===""?null:String(t.newValue).toLowerCase()==="true",valueFormatter:t=>t.value==null?"":String(t.value),dataTypeMatcher:t=>typeof t=="boolean"},date:this.getDateObjectTypeDef("date"),dateString:this.getDateStringTypeDef("dateString"),dateTime:this.getDateObjectTypeDef("dateTime"),dateTimeString:{...this.getDateStringTypeDef("dateTimeString"),dataTypeMatcher:t=>typeof t=="string"&&fTe(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:t=>AF(t.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function Ez(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...WT(e.columnTypes),...WT(t.columnTypes)]),n}function Tz(e,t,n){return t?t.baseDataType!==e.baseDataType?(zt(46),!1):!0:(zt(45,{parentCellDataType:n}),!1)}function Rz(e,t){if(e.valueFormatter)return n=>{if(n.node?.group){const r=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(r){if(r==="first"||r==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&r!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!e.dataTypeMatcher?.(n.value))return;return e.valueFormatter(n)}}function rPe(e,t,n,r){if(!t[n])return!1;const i=e[n];return i===null?(t[n]=!1,!1):r===void 0?!!i:i===r}function fD(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,r])=>rPe(e,t,n,r))}function iPe(e,t){const n=Tq(e);return t.forEach(r=>{delete n[r],r==="rowGroup"?delete n.rowGroupIndex:r==="pivot"&&delete n.pivotIndex}),n}var sPe={moduleName:"DataType",version:on,beans:[nPe],dependsOn:[Pke]},oPe={moduleName:"ColumnFlex",version:on,beans:[ePe]},RQ={moduleName:"ColumnApi",version:on,beans:[$ke],apiFunctions:{getColumnDef:Fke,getDisplayNameForColumn:Mke,getColumn:Oke,getColumns:Lke,applyColumnState:Nke,getColumnState:Bke,resetColumnState:Vke,isPinning:Hke,isPinningLeft:zke,isPinningRight:Gke,getDisplayedColAfter:Uke,getDisplayedColBefore:Wke,setColumnsVisible:jke,setColumnsPinned:Kke,getAllGridColumns:Yke,getDisplayedLeftColumns:Xke,getDisplayedCenterColumns:Zke,getDisplayedRightColumns:qke,getAllDisplayedColumns:Qke,getAllDisplayedVirtualColumns:Jke,getColumnDefs:Ike}};function aPe(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(i=>i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")).join(" ")}var lPe=class extends _t{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const r=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:i}=this.beans;return n&&i?i.getHeaderName(e,r):r}getDisplayNameForProvidedColumnGroup(e,t,n){const r=t?.getColGroupDef();return r?this.getHeaderName(r,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,r,i){const s=e.headerValueGetter;if(s){const o=In(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:r,location:i});return typeof s=="function"?s(o):typeof s=="string"?this.beans.expressionSvc?.evaluate(s,o)??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return aPe(e.field)}return""}},cPe=class extends _t{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.columnsToRenderLeft=[],this.columnsToRenderRight=[],this.columnsToRenderCenter=[]}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:r}=this,i=r.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!i)){if(this.scrollWidth=e,this.scrollPosition=t,r.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const o=r.bodyWidth;this.viewportLeft=o-t-e,this.viewportRight=o-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getColumnHeadersToRender(e){switch(e){case"left":return this.columnsToRenderLeft;case"right":return this.columnsToRenderRight;default:return this.columnsToRenderCenter}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n??[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||uPe(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),r=this.viewportLeft-200,i=this.viewportRight+200,s=t<r&&n<r,o=t>i&&n>i;return!s&&!o}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=s=>{const o=s.getLeft();return nn(o)&&o>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:r}=this,i=r.centerCols;return r.getColsForRow(e,i,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){const{leftCols:e,rightCols:t}=this.visibleCols;this.columnsToRenderLeft=e,this.columnsToRenderRight=t,this.columnsToRenderCenter=this.colsWithinViewport;const n=r=>{const i=new Set,s={};for(const o of r){let a=o.getParent();const l=o.isSpanHeaderHeight();for(;a&&!i.has(a);){if(l&&a.isPadding()){a=a.getParent();continue}const u=a.getProvidedColumnGroup().getLevel();s[u]??(s[u]=[]),s[u].push(a),i.add(a),a=a.getParent()}}return s};this.rowsOfHeadersToRenderLeft=n(e),this.rowsOfHeadersToRenderRight=n(t),this.rowsOfHeadersToRenderCenter=n(this.headerColsWithinViewport)}extractViewport(){const e=r=>`${r.getId()}-${r.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function uPe(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var dPe=class extends _t{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(i){const s=t(i),o=typeof s;if(o==="string"||o==="number"||o==="boolean"){this.eGui=RL("<span>"+s+"</span>");return}if(s==null){this.eGui=To({tag:"span"});return}this.eGui=s}}return n}},hPe={moduleName:"CellRendererFunction",version:on,beans:[dPe]},fPe=class extends _t{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultOverrides={},this.jsComps={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:r,selectors:i}=e;if(n){const s=(o,a,l,c)=>{this.agGridDefaults[o]=a,(l||c)&&(this.agGridDefaultOverrides[o]={params:l,processParams:c})};for(const o of Object.keys(n)){let a=n[o];if(uEe(a)&&(a=a.getComp(this.beans)),typeof a=="object"){const{classImp:l,params:c,processParams:u}=a;s(o,l,c,u)}else s(o,a)}}if(r){this.dynamicBeans??(this.dynamicBeans={});for(const s of Object.keys(r))this.dynamicBeans[s]=r[s]}if(i?.forEach(s=>{this.selectors[s.selector]=s}),t)for(const s of Object.keys(t))this.icons[s]=t[s]}getUserComponent(e,t){const n=(a,l,c,u)=>({componentFromFramework:l,component:a,params:c,processParams:u}),{frameworkOverrides:r}=this.beans,i=r.frameworkComponent(t,this.gos.get("components"));if(i!=null)return n(i,!0);const s=this.jsComps[t];if(s){const a=r.isFrameworkComponent(s);return n(s,a)}const o=this.agGridDefaults[t];if(o){const a=this.agGridDefaultOverrides[t];return n(o,!1,a?.params,a?.processParams)}return this.beans.validation?.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null}createDynamicBean(e,t,...n){if(!this.dynamicBeans)throw new Error(cf(279,{name:e}));const r=this.dynamicBeans[e];if(r==null){if(t)throw new Error(this.beans.validation?.missingDynamicBean(e)??cf(256));return}return new r(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},pPe=23,gPe=class extends _t{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.beans.frameworkOverrides.runWhenReadyAsync?.()??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===pPe&&e.every(t=>t?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},mPe=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none;&:where(.invalid){box-shadow:inset var(--ag-focus-error-shadow)}}&:where(button){color:inherit}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-animation.ag-prevent-animation) .ag-row{transition:none!important;&:where(.ag-row.ag-after-created){transition:none!important}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-top:not(.ag-invisible)){border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}:where(.ag-floating-bottom:not(.ag-invisible)){border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%;&.ag-row-editing-invalid{background-color:var(--ag-full-row-edit-invalid-background-color)}}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after,.ag-row-highlight-inside:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;pointer-events:none;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after,:where(.ag-ltr) .ag-row-highlight-inside:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after,:where(.ag-rtl) .ag-row-highlight-inside:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-highlight-indent:after{display:block;width:auto}:where(.ag-ltr) .ag-row-highlight-indent:after{left:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size));right:1px}:where(.ag-rtl) .ag-row-highlight-indent:after{left:1px;right:calc((var(--ag-cell-widget-spacing) + var(--ag-icon-size))*2 + var(--ag-cell-horizontal-padding) + var(--ag-row-highlight-level)*var(--ag-row-group-indent-size))}.ag-row-highlight-inside:after{background-color:var(--ag-selected-row-background-color);border:1px solid var(--ag-range-selection-border-color);display:block;height:auto;inset:0;width:auto}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{background-color:var(--ag-row-loading-skeleton-effect-color)}50%{background-color:color-mix(in srgb,transparent,var(--ag-row-loading-skeleton-effect-color) 40%)}to{background-color:var(--ag-row-loading-skeleton-effect-color)}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab;:where(.ag-icon){color:var(--ag-drag-handle-color)}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-icon-button-active-indicator-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',$L=typeof window!="object"||!window?.document?.fonts?.forEach,pw=(e,t,n,r,i,s)=>{if($L)return;r&&(e=`@layer ${CSS.escape(r)} { ${e} }`);let o=Iy.map.get(t);if(o||(o=[],Iy.map.set(t,o)),o.find(u=>u.css===e))return;const a=document.createElement("style");s&&a.setAttribute("nonce",s),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:i};let c;for(const u of o){if(u.priority>i)break;c=u}if(c){c.el.insertAdjacentElement("afterend",a);const u=o.indexOf(c);o.splice(u+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),o.push(l)},AQ=(e,t,n)=>{pw(mPe,e,"core",t,0,n),Array.from(iEe()).sort((r,i)=>r.moduleName.localeCompare(i.moduleName)).forEach(r=>r.css?.forEach(i=>pw(i,e,`module-${r.moduleName}`,t,0,n)))},vPe=e=>{Iy.grids.add(e)},yPe=e=>{if(Iy.grids.delete(e),Iy.grids.size===0){Iy.map=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},Az,Iy=(Az=typeof window=="object"?window:{}).agStyleInjectionState??(Az.agStyleInjectionState={map:new WeakMap,grids:new Set}),vf=e=>new kQ(e),ng="$default",wPe=0,kQ=class{constructor({feature:e,params:t,modeParams:n={},css:r,cssImports:i}){this.feature=e,this.css=r,this.cssImports=i,this.modeParams={[ng]:{...n[ng]??{},...t??{}},...n}}use(e,t,n){let r=this._inject;if(r==null){let{css:i}=this;if(i){const s=`ag-theme-${this.feature??"part"}-${++wPe}`;typeof i=="function"&&(i=i()),i=`:where(.${s}) {
${i}
}
`;for(const o of this.cssImports??[])i=`@import url(${JSON.stringify(o)});
${i}`;r={css:i,class:s}}else r=!1;this._inject=r}return r&&e&&pw(r.css,e,r.class,t,1,n),r?r.class:!1}},CPe=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),PQ=e=>`--ag-${CPe(e)}`,yf=e=>`var(${PQ(e)})`,bPe=(e,t,n)=>Math.max(t,Math.min(n,e)),xPe=e=>{const t=new Map;return n=>{const r=n;return t.has(r)||t.set(r,e(n)),t.get(r)}},Oh=e=>({ref:"accentColor",mix:e}),nd=e=>({ref:"foregroundColor",mix:e}),ud=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),SPe=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Tc={ref:"backgroundColor"},sy={ref:"foregroundColor"},Nf={ref:"accentColor"},eR={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:nd(.15),chromeBackgroundColor:ud(.02),browserColorScheme:"light"},_Pe={...eR,textColor:sy,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Tc,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:Nf,rangeSelectionBackgroundColor:Oh(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Oh(.5),rangeHeaderHighlightColor:SPe(.08),rowNumbersSelectedColor:Oh(.5),rowHoverColor:Oh(.08),columnHoverColor:Oh(.05),selectedRowBackgroundColor:Oh(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Tc,borderWidth:1,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,paginationPanelHeight:{ref:"rowHeight",calc:"max(rowHeight, 22px)"},popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Tc,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:nd(.7),focusShadow:{spread:3,color:Oh(.5)},focusErrorShadow:{spread:3,color:{ref:"invalidColor",onto:"backgroundColor",mix:.5}},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:nd(.1),iconButtonActiveColor:Nf,iconButtonActiveBackgroundColor:Oh(.28),iconButtonActiveIndicatorColor:Nf,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:Nf,toggleButtonOffBackgroundColor:ud(.3),toggleButtonSwitchBackgroundColor:Tc,toggleButtonSwitchInset:2,menuBorder:{color:nd(.2)},menuBackgroundColor:ud(.03),menuTextColor:ud(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:nd(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:Nf},cellEditingShadow:{ref:"cardShadow"},fullRowEditInvalidBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.25},dialogBorder:{color:nd(.2)},panelBackgroundColor:Tc,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipErrorBackgroundColor:{ref:"invalidColor",onto:"backgroundColor",mix:.1},tooltipTextColor:{ref:"textColor"},tooltipErrorTextColor:{ref:"invalidColor"},tooltipBorder:!0,tooltipErrorBorder:{color:{ref:"invalidColor",onto:"backgroundColor",mix:.25}},columnDropCellBackgroundColor:nd(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:nd(.13)},selectCellBackgroundColor:nd(.07),selectCellBorder:{color:nd(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterPanelApplyButtonColor:Tc,filterPanelApplyButtonBackgroundColor:Nf,filterPanelCardSubtleColor:{ref:"textColor",mix:.7},filterPanelCardSubtleHoverColor:{ref:"textColor"},findMatchColor:sy,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:sy,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:nd(.15),statusBarLabelColor:sy,statusBarLabelFontWeight:500,statusBarValueColor:sy,statusBarValueFontWeight:500,pinnedSourceRowTextColor:{ref:"textColor"},pinnedSourceRowBackgroundColor:{ref:"backgroundColor"},pinnedSourceRowFontWeight:600,pinnedRowFontWeight:600,pinnedRowBackgroundColor:{ref:"backgroundColor"},pinnedRowTextColor:{ref:"textColor"}},EPe=".ag-cell-batch-edit{background-color:var(--ag-cell-batch-edit-background-color);color:var(--ag-cell-batch-edit-text-color);display:inherit}.ag-row-batch-edit{background-color:var(--ag-row-batch-edit-background-color);color:var(--ag-row-batch-edit-text-color)}",DQ={cellBatchEditBackgroundColor:"rgba(220 181 139 / 16%)",cellBatchEditTextColor:"#422f00",rowBatchEditBackgroundColor:{ref:"cellBatchEditBackgroundColor"},rowBatchEditTextColor:{ref:"cellBatchEditTextColor"}},TPe={...DQ,cellBatchEditTextColor:"#f3d0b3"},RPe=()=>vf({feature:"batchEditStyle",params:DQ,css:EPe}),APe=RPe(),kPe=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",PPe={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},DPe=()=>vf({feature:"buttonStyle",params:{...PPe,buttonBackgroundColor:Tc,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:Nf}},css:kPe}),FPe=DPe(),IPe=".ag-column-drop-vertical-empty-message{align-items:center;border:dashed var(--ag-border-width);border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",MPe=()=>vf({feature:"columnDropStyle",css:IPe}),FQ=MPe(),OPe=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],LPe=xPe(e=>(e=e.toLowerCase(),OPe.find(t=>e.endsWith(t.toLowerCase()))??"length")),OA=e=>typeof e=="object"&&e?.ref?yf(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,eN=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=yf(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?yf(e.onto):"transparent"}, ${t} ${bPe(e.mix*100,0,100)}%)`}return!1},NPe=OA,uy=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${yf(n)} `)})`:e&&"ref"in e?yf(e.ref):!1,BPe=OA,eI=(e,t)=>typeof e=="string"?e:e===!0?eI({},t):e===!1?t==="columnBorder"?eI({color:"transparent"},t):"none":e&&"ref"in e?yf(e.ref):IQ(e.style??"solid")+" "+uy(e.width??{ref:"borderWidth"})+" "+eN(e.color??{ref:"borderColor"}),VPe=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?yf(e.ref):[uy(e.offsetX??0),uy(e.offsetY??0),uy(e.radius??0),uy(e.spread??0),eN(e.color??{ref:"foregroundColor"})].join(" "),IQ=OA,MQ=e=>typeof e=="string"?e.includes(",")?e:kz(e):e&&"googleFont"in e?MQ(e.googleFont):e&&"ref"in e?yf(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),kz(t))).join(", "):!1,kz=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),HPe=OA,OQ=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?OQ({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?yf(e.ref):!1,zPe=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&Ti(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?yf(e.ref):!1,GPe={color:eN,colorScheme:NPe,length:uy,scale:BPe,border:eI,borderStyle:IQ,shadow:VPe,image:OQ,fontFamily:MQ,fontWeight:HPe,duration:zPe},UPe=(e,t)=>{const n=LPe(e);return GPe[n](t,e)},WPe=()=>new LQ().withPart(FPe).withPart(FQ).withPart(APe),LQ=class NQ{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof kQ?new NQ([...this.parts,t]):(Cb(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(vf({feature:t}))}withParams(t,n=ng){return this.withPart(vf({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:r,loadThemeGoogleFonts:i}){if($L)return;KPe(),AQ(t,n,r);const s=jPe(this);if(s.length>0)for(const o of s)i&&XPe(o,r);for(const o of this.parts)o.use(t,n,r)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=Pz(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[ng]:{..._Pe}};for(const r of Pz(this.parts))for(const i of Object.keys(r.modeParams)){const s=r.modeParams[i];if(s){const o=n[i]??(n[i]={}),a=new Set;for(const l of Object.keys(s)){const c=s[l];c!==void 0&&(o[l]=c,a.add(l))}if(i===ng)for(const l of Object.keys(n)){const c=n[l];if(l!==ng)for(const u of a)delete c[u]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let r=this._paramsCssCache;if(!r){let i="",s="";const o=this._getModeParams();for(const l of Object.keys(o)){const c=o[l];if(l!==ng){const h=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;i+=h,s+=h}for(const u of Object.keys(c).sort()){const h=c[u],p=UPe(u,h);if(p===!1)Ti(107,{key:u,value:h});else{const m=PQ(u),y=m.replace("--ag-","--ag-inherited-");i+=`	${m}: var(${y}, ${p});
`,s+=`	${y}: var(${m});
`}}l!==ng&&(i+=`}
`,s+=`}
`)}let a=`${n} {
${i}}
`;a+=`:has(> ${n}):not(${n}) {
${s}}
`,this._paramsCssCache=r=a}return r.replaceAll(n,`:where(.${t})`)}},Pz=e=>{const t=new Map;for(const r of e)t.set(r.feature,r);const n=[];for(const r of e)(!r.feature||t.get(r.feature)===r)&&n.push(r);return n},jPe=e=>{const t=new Set,n=s=>{if(Array.isArray(s))s.forEach(n);else{const o=s?.googleFont;typeof o=="string"&&t.add(o)}};return Object.values(e._getModeParams()).flatMap(s=>Object.values(s)).forEach(n),Array.from(t).sort()},Dz=!1,KPe=()=>{if(!Dz){Dz=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},YPe=new Set,XPe=async(e,t)=>{YPe.add(e);const n=`@import url('https://${ZPe}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;pw(n,document.head,`googleFont:${e}`,void 0,0,t)},ZPe="fonts.googleapis.com",qPe='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-cell-editing-error .ag-checkbox-input-wrapper:focus-within{box-shadow:var(--ag-focus-error-shadow)}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',QPe=()=>vf({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Tc,checkboxUncheckedBorderColor:ud(.3),checkboxCheckedBackgroundColor:Nf,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Tc,checkboxIndeterminateBackgroundColor:ud(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Tc,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:qPe}),JPe=QPe(),BQ=()=>({...eR,...TPe,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:ud(.05),rowHoverColor:Oh(.15),selectedRowBackgroundColor:Oh(.2),menuBackgroundColor:ud(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",filterPanelApplyButtonColor:sy,findMatchColor:Tc,findActiveMatchColor:Tc,checkboxUncheckedBorderColor:ud(.4),toggleButtonOffBackgroundColor:ud(.4),rowBatchEditBackgroundColor:ud(.1)}),$Pe=()=>({...BQ(),backgroundColor:"#1f2836"}),eDe=()=>vf({feature:"colorScheme",params:eR,modeParams:{light:eR,dark:BQ(),"dark-blue":$Pe()}}),tDe=eDe(),VQ={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},HQ={"column-arrow":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 32 32"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 26C0 28.2092 1.79086 30 4 30H14C16.2091 30 18 28.2092 18 26V15H25.8786L24.4394 16.4393C23.8536 17.0251 23.8536 17.9749 24.4394 18.5607C25.0252 19.1464 25.9748 19.1464 26.5606 18.5607L30.5606 14.5607C31.1464 13.9749 31.1464 13.0251 30.5606 12.4393L26.5606 8.43934C25.9748 7.85356 25.0252 7.85356 24.4394 8.43934C23.8536 9.02512 23.8536 9.97488 24.4394 10.5607L25.8786 12H18V6C18 3.79086 16.2091 2 14 2H4C1.79086 2 0 3.79086 0 6V26ZM14 5H10.5V12H15V6C15 5.44772 14.5523 5 14 5ZM4 5H7.5V12H3V6C3 5.44772 3.44772 5 4 5ZM10.5 15H15V26C15 26.5522 14.5523 27 14 27H10.5V15ZM4 27H7.5V15H3V26C3 26.5522 3.44772 27 4 27Z" fill="currentColor"/></svg>',"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>',"pinned-top":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M12.53 3.72A.75.75 0 0 1 12 5H4a.75.75 0 0 1 0-1.5h8a.75.75 0 0 1 .53.22ZM3.269 10.744a.75.75 0 0 1 .2-.524l4-4a.75.75 0 0 1 1.06 0l4 4a.75.75 0 1 1-1.06 1.06L8.75 8.56V14a.75.75 0 0 1-1.5 0V8.56l-2.72 2.72a.75.75 0 0 1-1.26-.536Z"/></svg>',"pinned-bottom":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M3.47 12.28A.75.75 0 0 1 4 11h8a.75.75 0 0 1 0 1.5H4a.75.75 0 0 1-.53-.22ZM12.731 5.256a.75.75 0 0 1-.2.524l-4 4a.75.75 0 0 1-1.06 0l-4-4a.75.75 0 1 1 1.06-1.06l2.72 2.72V2a.75.75 0 0 1 1.5 0v5.44l2.72-2.72a.75.75 0 0 1 1.26.536Z"/></svg>',"un-pin":'<svg xmlns="http://www.w3.org/2000/svg" fill="none" class="ag-icon" viewBox="0 0 16 16"><path fill="currentColor" d="M8 11a.75.75 0 0 0-.75.75v3.333a.75.75 0 1 0 1.5 0V11.75A.75.75 0 0 0 8 11Z"/><path fill="currentColor" d="M13.11 1.436a.75.75 0 0 0-1.22-.872l-10 14a.75.75 0 1 0 1.22.872L5.207 12.5h7.376a.75.75 0 0 0 .75-.75v-1.174a2.08 2.08 0 0 0-1.153-1.863l-1.185-.599-.005-.002a.58.58 0 0 1-.323-.522V5.165a2.083 2.083 0 0 0 1.854-2.904l.589-.825Zm-3.943 5.52v.634a2.08 2.08 0 0 0 1.153 1.863l1.185.6.005.002a.58.58 0 0 1 .323.522V11H6.28l2.887-4.044ZM9.277 1H5.25a2.084 2.084 0 0 0-.083 4.165v1.676l1.5-2.132v-.292a.75.75 0 0 0-.75-.75H5.25a.584.584 0 0 1 0-1.167h2.972L9.277 1Z"/></svg>',"chevron-down":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-up":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 10L8 6L12 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-left":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"chevron-right":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',"filter-add":'<svg width="16" height="16" viewBox="0 0 16 16" class="ag-icon" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.12126 7.75L10.8517 7.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M6.65934 11.748L9.32778 11.748" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M12.2943 1.04872V6.19184M14.9886 3.74341H9.68478" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/><path d="M8.25488 3C8.04799 3.18323 7.91706 3.45099 7.91699 3.74902C7.91713 4.04868 8.04988 4.31681 8.25879 4.5H2C1.58579 4.5 1.25 4.16421 1.25 3.75C1.25 3.33579 1.58579 3 2 3H8.25488Z" fill="currentColor"/></svg>',edit:'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.6262V12.5012H5.375L10.905 6.97122L9.03 5.09622L3.5 10.6262ZM12.355 5.52122C12.4014 5.47497 12.4381 5.42002 12.4632 5.35953C12.4883 5.29905 12.5012 5.23421 12.5012 5.16872C12.5012 5.10324 12.4883 5.0384 12.4632 4.97791C12.4381 4.91742 12.4014 4.86248 12.355 4.81622L11.185 3.64622C11.1387 3.59987 11.0838 3.5631 11.0233 3.53801C10.9628 3.51291 10.898 3.5 10.8325 3.5C10.767 3.5 10.7022 3.51291 10.6417 3.53801C10.5812 3.5631 10.5263 3.59987 10.48 3.64622L9.565 4.56122L11.44 6.43622L12.355 5.52122Z" fill="currentColor"/></svg>'},nDe=(e={})=>{let t="";for(const n of[...Object.keys(VQ),...Object.keys(HQ)]){const r=rDe(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(r)}'); }
`}return t},rDe=(e,t=1.5)=>{const n=HQ[e];if(n)return n;const r=VQ[e];if(!r)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+r+"</svg>"},iDe=(e={})=>vf({feature:"iconSet",css:()=>nDe(e)}),sDe=iDe(),oDe=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}.ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) .ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter,.ag-filter-add-select){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',aDe=".ag-input-field-input:where(input:not([type]),input[type=text],input[type=number],input[type=tel],input[type=date],input[type=datetime-local],textarea){&:focus{box-shadow:var(--ag-focus-shadow);&:where(.invalid),&:where(:invalid){box-shadow:var(--ag-focus-error-shadow)}}}",lDe={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"},colorPickerThumbSize:18,colorPickerTrackSize:12,colorPickerThumbBorderWidth:3,colorPickerTrackBorderRadius:12,colorPickerColorBorderRadius:4},cDe=()=>vf({feature:"inputStyle",params:{...lDe,inputBackgroundColor:Tc,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:Nf},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:ud(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>oDe+aDe}),uDe=cDe(),dDe='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:solid var(--ag-border-width) var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:solid var(--ag-border-width) var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',hDe={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:{ref:"borderWidth"},tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},fDe=()=>vf({feature:"tabStyle",params:{...hDe,tabBarBorder:!0,tabBarBackgroundColor:nd(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Tc},css:dDe}),pDe=fDe(),gDe=()=>WPe().withPart(JPe).withPart(tDe).withPart(sDe).withPart(pDe).withPart(uDe).withPart(FQ).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),mDe=gDe(),vDe={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},yDe={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},wDe={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},Fz={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},Iz={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},Mz={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},pD={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},Oz={cssName:"--ag-pinned-row-border",changeKey:"pinnedRowBorderWidthChanged",defaultValue:1,border:!0},CDe=0,bDe=class extends _t{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++CDe}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(Fz),this.getSizeEl(Iz),this.getSizeEl(Mz),this.getSizeEl(pD),this.getSizeEl(Oz),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>yPe(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getPinnedRowBorderWidth(){return this.getCSSVariablePixelValue(Oz)}getRowBorderWidth(){return this.getCSSVariablePixelValue(pD)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Fz)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(Iz)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(vDe)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getCSSVariablePixelValue(yDe),n=this.getCSSVariablePixelValue(wDe);return e-1+n*t}getCellPadding(){const e=this.getDefaultCellHorizontalPadding()-1;return this.getCellPaddingLeft()+e}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(Mz)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let r=this.eGridDiv;for(;r;){let i=!1;for(const s of Array.from(r.classList))s.startsWith("ag-theme-")&&(i=!0,n=n?`${n} ${s}`:s);i&&this.mutationObserver.observe(r,{attributes:!0,attributeFilter:["class"]}),r=r.parentElement}}for(const r of Array.from(e.classList))r.startsWith("ag-theme-")&&e.classList.remove(r);if(n){const r=e.className;e.className=r+(r?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const r=`${n}px`;return t!=r?(e.style.setProperty("--ag-line-height",r),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?pw(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===gD?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=To({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=To({tag:"div"});const{border:r,noWarn:i}=e;r?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${gD}px)`)):t.style.width=`var(${e.cssName}, ${gD}px)`,n.appendChild(t),this.sizeEls.set(e,t);let s=this.measureSizeEl(e);s==="no-styles"&&!i&&zt(9,{variable:e});const o=vp(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==s&&(s=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>o()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(pD);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:r}=this,i=e.get("theme");let s;if(i==="legacy")s=void 0;else{const o=i??mDe;o instanceof LQ?s=o:Ti(240,{theme:o})}if(s!==r){if(s){vPe(this),AQ(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)pw(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=s,s?._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let o=this.eParamsStyle;if(!o){o=this.eParamsStyle=To({tag:"style"});const a=this.gos.get("styleNonce");a&&o.setAttribute("nonce",a),t.appendChild(o)}$L||(o.textContent=s?._getPerGridCss(this.paramsClass)||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}s&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&Ti(i?106:239)}},gD=15538,xDe=class extends _t{constructor(){super(...arguments),this.beanName="eventSvc",this.globalSvc=new R0}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalSvc.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalSvc.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalSvc.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalSvc.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalSvc.dispatchEvent(In(this.gos,e))}dispatchEventOnce(e){this.globalSvc.dispatchEventOnce(In(this.gos,e))}};function zQ(e,t,n){const r=e.visibleCols.headerGroupRowCount;if(n>=r)return{column:t,headerRowIndex:n};let i=t.getParent();for(;i&&i.getProvidedColumnGroup().getLevel()>n;)i=i.getParent();const s=t.isSpanHeaderHeight();return!i||s&&i.isPadding()?{column:t,headerRowIndex:r}:{column:i,headerRowIndex:i.getProvidedColumnGroup().getLevel()}}var SDe=class extends _t{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=Aa(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:r,colGroupSvc:i,ctrlsSvc:s}=this.beans;if(typeof e=="string"?(n=r.getCol(e),n||(n=i?.getColumnGroup(e)??null)):n=e,!n)return null;const a=s.getHeaderRowContainerCtrl()?.getAllCtrls(),l=Ei(a||[]).type==="filter",c=jh(this.beans)-1;let u=-1,h=n;for(;h;)u++,h=h.getParent();let p=u;return t&&l&&p===c-1&&p++,p===-1?null:{headerRowIndex:p,column:n}}navigateVertically(e,t){const{focusSvc:n,visibleCols:r}=this.beans,{focusedHeader:i}=n;if(!i)return!1;const{headerRowIndex:s}=i,o=i.column,a=jh(this.beans),l=this.getHeaderRowType(s),c=r.headerGroupRowCount;let{headerRowIndex:u,column:h,headerRowIndexWithoutSpan:p}=e==="UP"?_De(l,o,s):EDe(o,s,c),m=!1;return u<0&&(u=0,h=o,m=!0),u>=a?(u=-1,this.currentHeaderRowWithoutSpan=-1):p!==void 0&&(this.currentHeaderRowWithoutSpan=p),!m&&!h?!1:n.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:h},allowUserOverride:!0,event:t})}navigateHorizontally(e,t=!1,n){const{focusSvc:r,gos:i}=this.beans,s={...r.focusedHeader};let o,a;this.currentHeaderRowWithoutSpan!==-1?s.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=s.headerRowIndex,e==="LEFT"!==i.get("enableRtl")?(a="Before",o=this.findHeader(s,a)):(a="After",o=this.findHeader(s,a));const l=i.getCallback("tabToNextHeader");if(t&&l){const c=r.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:o,direction:a});if(c){const{headerRowIndex:u}=r.focusedHeader||{};u!=null&&u!=s.headerRowIndex&&(this.currentHeaderRowWithoutSpan=u)}return c}return o||!t?r.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(s,a,n)}focusNextHeaderRow(e,t,n){const r=this.beans,i=e.headerRowIndex;let s=null,o;const a=jh(r),l=this.beans.visibleCols.allCols;if(t==="Before"){if(i<=0)return!1;s=Ei(l),o=i-1,this.currentHeaderRowWithoutSpan-=1}else s=l[0],o=i+1,this.currentHeaderRowWithoutSpan<a?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1;let{column:c,headerRowIndex:u}=zQ(this.beans,s,o);return u>=a&&(u=-1),r.focusSvc.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:u},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(Eo(e)){const r=e.getDisplayedLeafColumns();n=t==="Before"?Ei(r):r[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){const{colGroupSvc:n,visibleCols:r}=this.beans;let i=e.column;if(i instanceof jx){const l=i.getDisplayedLeafColumns();i=t==="Before"?l[0]:l[l.length-1]}const s=t==="Before"?r.getColBefore(i):r.getColAfter(i);if(!s)return;const o=r.headerGroupRowCount;if(e.headerRowIndex>=o)return{headerRowIndex:e.headerRowIndex,column:s};const a=n?.getColGroupAtLevel(s,e.headerRowIndex);return a?a.isPadding()&&s.isSpanHeaderHeight()?{headerRowIndex:r.headerGroupRowCount,column:s}:{headerRowIndex:e.headerRowIndex,column:a??s}:{headerRowIndex:s instanceof nv&&s.isSpanHeaderHeight()?r.headerGroupRowCount:e.headerRowIndex,column:s}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}};function _De(e,t,n){const r=n-1;if(e!=="filter"){const i=t instanceof nv&&t.isSpanHeaderHeight();let s=t.getParent();for(;s&&(s.getProvidedColumnGroup().getLevel()>r||i&&s.isPadding());)s=s.getParent();if(s)return i?{column:s,headerRowIndex:s.getProvidedColumnGroup().getLevel(),headerRowIndexWithoutSpan:r}:{column:s,headerRowIndex:r,headerRowIndexWithoutSpan:r}}return{column:t,headerRowIndex:r,headerRowIndexWithoutSpan:r}}function EDe(e,t,n){const r=t+1,i={column:e,headerRowIndex:r,headerRowIndexWithoutSpan:r};if(e instanceof jx){if(r>=n)return{column:e.getDisplayedLeafColumns()[0],headerRowIndex:n,headerRowIndexWithoutSpan:r};let o=e.getDisplayedChildren()[0];if(o instanceof jx&&o.isPadding()){const l=o.getDisplayedLeafColumns()[0];l.isSpanHeaderHeight()&&(o=l)}i.column=o,o instanceof nv&&o.isSpanHeaderHeight()&&(i.headerRowIndex=n,i.headerRowIndexWithoutSpan=r)}return i}var TDe=class extends _t{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(IEe(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(js(this.beans),uQ)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=js(this.beans);return this.isDomDataPresentInHierarchy(e,QT)?!0:this.isDomDataPresentInHierarchy(e,JT)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(eq(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:r}=e,i={rowIndex:t,rowPinned:n,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:r,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:s=!1,sourceEvent:o}=e,a=this.colModel.getCol(t);if(!a){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:Xf(r),column:a};const l=this.getFocusEventParams(this.focusedCell);this.eventSvc.dispatchEvent({type:"cellFocused",...l,...this.previousCellFocusParams&&{previousParams:this.previousCellFocusParams},forceBrowserFocus:i,preventScrollOnBrowserFocus:s,sourceEvent:o}),this.previousCellFocusParams=l}isCellFocused(e){return this.focusedCell==null?!1:Nq(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:r}}=e,{column:i,headerRowIndex:s}=this.focusedHeader;return t===i&&n===s&&r==i.getPinned()}focusHeaderPosition(e){if(this.setFocusRecovered(),l0(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:r,event:i,fromCell:s,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(s&&this.filterManager?.isAdvFilterHeaderActive())return this.focusAdvancedFilter(a);if(r){const l=this.focusedHeader,c=jh(this.beans);if(n){const u=this.gos.getCallback("tabToNextHeader");u&&(a=this.getHeaderPositionFromUserFunc({userFunc:u,direction:t,currentPosition:l,headerPosition:a,headerRowCount:c}))}else{const u=this.gos.getCallback("navigateToNextHeader");if(u&&i){const h={key:i.key,previousHeaderPosition:l,nextHeaderPosition:a,headerRowCount:c,event:i};a=u(h)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:i,fromCell:s,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(l0(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:r,event:i}=e,s=this.focusedHeader,o=jh(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:r,currentPosition:s,headerPosition:n,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:r,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:r,headerPosition:i,headerRowCount:s}=e,a=t({backwards:n==="Before",previousHeaderPosition:r,nextHeaderPosition:i,headerRowCount:s});return a===!0?r:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:r,rowWithoutSpanValue:i,event:s}=e,{column:o,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:c,headerNavigation:u}=this.beans;if(a===-1)return l?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:o,event:s});u?.scrollToColumn(o,n);const p=c.getHeaderRowContainerCtrl(o.getPinned())?.focusHeader(t.headerRowIndex,o,s)||!1;return u&&p&&(i!=null||r)&&(u.currentHeaderRowWithoutSpan=i??-1),p}focusFirstHeader(){if(this.overlays?.isExclusive()&&this.focusOverlay())return!0;const e=this.visibleCols.allCols[0];if(!e)return!1;const t=zQ(this.beans,e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlays?.isExclusive()&&this.focusOverlay(!0))return!0;const t=jh(this.beans)-1,n=Ei(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===Xf(t)}focusOverlay(e){const t=this.overlays?.isVisible()&&this.overlays.eWrapper?.getGui();return!!t&&I0(t,e)}focusGridView(e){const{backwards:t=!1,canFocusOverlay:n=!0,event:r}=e;if(this.overlays?.isExclusive())return n&&this.focusOverlay(t);if(DA(this.beans))return t&&!l0(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:fw(this.beans,t);const i=t?vEe(this.beans):mEe(this.beans);if(i){const s=e.column??this.focusedHeader?.column,{rowIndex:o,rowPinned:a}=i,l=dp(this.beans,i);if(!s||!l||o==null)return!1;if(s.isSuppressNavigable(l)){const c=this.gos.get("enableRtl");let u;return!r||r.key===vt.TAB?u=c?vt.LEFT:vt.RIGHT:u=r.key,this.beans.navigation?.navigateToNextCell(null,u,{rowIndex:o,column:s,rowPinned:a||null},!0),!0}return this.navigation?.ensureCellVisible({rowIndex:o,column:s,rowPinned:a}),t&&this.rowRenderer.getRowByPosition(i)?.isFullWidth()&&this.navigation?.tryToFocusFullWidthRow(i,t)||(this.setFocusedCell({rowIndex:o,column:s,rowPinned:Xf(a),forceBrowserFocus:!0}),this.beans.rangeSvc?.setRangeToCell({rowIndex:o,rowPinned:a,column:s})),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){return this.advFilterFocusColumn=e?.column,this.beans.advancedFilter?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const n=(t?void 0:this.advFilterFocusColumn)??this.visibleCols.allCols?.[0];return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:jh(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},RDe=class extends _t{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e?.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsSvc.get("center");if(!e||this.colAnimation?.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:d1e();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},ADe=class extends _t{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:e?.getState()??{}}),this.destroyCalled=!0,t.get("gridCtrl")?.destroyGridUi(),n.destroy(),super.destroy()}},UE=new Set(["gridPreDestroyed","fillStart","pasteStart"]),kDe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","pinnedRowsChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterUiChanged","filterOpened","floatingFilterUiChanged","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged","rowResizeStarted","rowResizeEnded","columnsReset","bulkEditingStarted","bulkEditingStopped","batchEditingStarted","batchEditingStopped"],tN=kDe.reduce((e,t)=>(e[t]=N1e(t),e),{}),QC=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),PDe={tag:"span",cls:"ag-sort-indicator-container",children:[QC("Order","order"),QC("Asc","ascending-icon"),QC("Desc","descending-icon"),QC("Mixed","mixed-icon"),QC("None","none-icon")]},nN=class extends qi{constructor(e){super(),this.eSortOrder=Tn,this.eSortAsc=Tn,this.eSortDesc=Tn,this.eSortMixed=Tn,this.eSortNone=Tn,e||this.setTemplate(PDe)}attachCustomElements(e,t,n,r,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=r,this.eSortNone=i}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),r=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:r,columnRowGroupChanged:r}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const r=dd(e,this.beans,n);r&&t.appendChild(r)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:r,gos:i,beans:s}=this,o=s.sortSvc.getDisplaySortForColumn(r);if(e&&Vs(e,o==="asc",{skipAriaHidden:!0}),t&&Vs(t,o==="desc",{skipAriaHidden:!0}),n){const a=!r.getColDef().unSortIcon&&!i.get("unSortIcon"),l=o==null;Vs(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const r=t.getColDef().showRowGroup;Hh(n)&&r&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const r=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Vs(e,r,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const r=n.getColumnsWithSortingOrdered(),i=n.getDisplaySortIndexForColumn(t)??-1,s=r.some(a=>n.getDisplaySortIndexForColumn(a)??!1),o=i>=0&&s;Vs(e,o,{skipAriaHidden:!0}),i>=0?e.textContent=(i+1).toString():Au(e)}},DDe={selector:"AG-SORT-INDICATOR",component:nN},Yx=["asc","desc",null],FDe=class extends _t{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const r=this.getNextSortDirection(e);this.setSortForColumn(e,r,t,n)}progressSortFromEvent(e,t){const r=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,r,"uiColumnSorted")}setSortForColumn(e,t,n,r){t!=="asc"&&t!=="desc"&&(t=null);const{gos:i,showRowGroupCols:s}=this.beans,o=Hh(i);let a=[e];if(o&&e.getColDef().showRowGroup){const h=s?.getSourceColumnsForGroupColumn?.(e)?.filter(p=>p.isSortable());h&&(a=[e,...h])}a.forEach(u=>this.setColSort(u,t,r));const l=(n||i.get("alwaysMultiSort"))&&!i.get("suppressMultiSort"),c=[];if(!l){const u=this.clearSortBarTheseColumns(a,r);c.push(...u)}this.updateSortIndex(e),c.push(...a),this.dispatchSortChangedEvents(r,c)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:r}=this.beans,i=Hh(t),s=r?.getShowRowGroupCol(e.getId()),o=i&&s||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(u=>this.setColSortIndex(u,null));const l=a.filter(u=>i&&u.getColDef().showRowGroup?!1:u!==o);(o.getSort()?[...l,o]:l).forEach((u,h)=>this.setColSortIndex(u,h))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(r=>{e.includes(r)||(r.getSort()&&n.push(r),this.setColSort(r,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Yx,n=t.indexOf(e.getSort()),r=n<0,i=n==t.length-1;return r||i?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:r}=this.beans;let i=[];if(t.forAllCols(c=>{c.getSort()&&i.push(c)}),t.isPivotMode()){const c=Hh(e);i=i.filter(u=>{const h=!!u.getAggFunc(),p=!u.isPrimary(),m=c?n?.getShowRowGroupCol(u.getId()):u.getColDef().showRowGroup;return h||p||m})}const s=r?.columns.filter(c=>!!c.getSort())??[],o={};i.forEach((c,u)=>o[c.getId()]=u),i.sort((c,u)=>{const h=c.getSortIndex(),p=u.getSortIndex();if(h!=null&&p!=null)return h-p;if(h==null&&p==null){const m=o[c.getId()],y=o[u.getId()];return m>y?1:-1}else return p==null?-1:1});const a=Hh(e)&&!!s.length;a&&(i=[...new Set(i.map(c=>n?.getShowRowGroupCol(c.getId())??c))]);const l=new Map;return i.forEach((c,u)=>l.set(c,u)),a&&s.forEach(c=>{const u=n.getShowRowGroupCol(c.getId());l.set(c,l.get(u))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Hh(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){const t=this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const r=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,i=r[0].getSort();return r.every(o=>o.getSort()==i)?i:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let r=0;e.addManagedListeners(t,{movingChanged:()=>{r=Date.now()}}),n&&e.addManagedElementListeners(n,{click:s=>{const o=t.isMoving(),l=Date.now()-r<50;o||l||this.progressSortFromEvent(t,s)}});const i=()=>{const s=t.getSort();if(e.toggleCss("ag-header-cell-sorted-asc",s==="asc"),e.toggleCss("ag-header-cell-sorted-desc",s==="desc"),e.toggleCss("ag-header-cell-sorted-none",!s),t.getColDef().showRowGroup){const l=!this.beans.showRowGroupCols?.getSourceColumnsForGroupColumn(t)?.every(c=>t.getSort()==c.getSort());e.toggleCss("ag-header-cell-sorted-mixed",l)}};e.addManagedEventListeners({sortChanged:i,columnRowGroupChanged:i})}initCol(e){const{sort:t,initialSort:n,sortIndex:r,initialSortIndex:i}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),r!==void 0?r!==null&&(e.sortIndex=r):i!==null&&(e.sortIndex=i)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new nN(e)}getSortIndicatorSelector(){return DDe}},My={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agNewFiltersToolPanel:"NewFiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},IDe=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),MDe={aggFunc:"SharedAggregation",autoHeight:"RowAutoHeight",cellClass:"CellStyle",cellClassRules:"CellStyle",cellEditor:({cellEditor:e,editable:t})=>t?typeof e=="string"?My[e]??"CustomEditor":"CustomEditor":null,cellRenderer:({cellRenderer:e})=>typeof e!="string"?null:My[e],cellStyle:"CellStyle",columnChooserParams:"ColumnMenu",contextMenuItems:"ContextMenu",dndSource:"DragAndDrop",dndSourceOnRowDrag:"DragAndDrop",editable:({editable:e,cellEditor:t})=>e&&!t?"TextEditor":null,enableCellChangeFlash:"HighlightChanges",enablePivot:"SharedPivot",enableRowGroup:"SharedRowGrouping",enableValue:"SharedAggregation",filter:({filter:e})=>e&&typeof e!="string"&&typeof e!="boolean"?"CustomFilter":typeof e=="string"?My[e]??"ColumnFilter":"ColumnFilter",floatingFilter:"ColumnFilter",getQuickFilterText:"QuickFilter",headerTooltip:"Tooltip",mainMenuItems:"ColumnMenu",menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(n=>t.includes(n))?"ColumnMenu":null},pivot:"SharedPivot",pivotIndex:"SharedPivot",rowDrag:"RowDrag",rowGroup:"SharedRowGrouping",rowGroupIndex:"SharedRowGrouping",tooltipField:"Tooltip",tooltipValueGetter:"Tooltip",spanRows:"CellSpan"},ODe=()=>({autoHeight:{supportedRowModels:["clientSide","serverSide"],validate:(t,{paginationAutoPageSize:n})=>n?"colDef.autoHeight is not supported with paginationAutoPageSize.":null},cellRendererParams:{validate:t=>(t.rowGroup!=null||t.rowGroupIndex!=null||t.cellRenderer==="agGroupCellRenderer")&&"checkbox"in t.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},flex:{validate:(t,n)=>n.autoSizeStrategy?"colDef.flex is not supported with gridOptions.autoSizeStrategy":null},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(t,{rowSelection:n})=>n==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerValueGetter:{validate:t=>{const n=t.headerValueGetter;return typeof n=="function"||typeof n=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:t})=>{if(t){if(t.smallDown)return cf(262);if(t.smallLeft)return cf(263);if(t.smallRight)return cf(264)}return null}},sortingOrder:{validate:t=>{const n=t.sortingOrder;if(Array.isArray(n)&&n.length>0){const r=n.filter(i=>!Yx.includes(i));if(r.length>0)return`sortingOrder must be an array with elements from [${Yx.map(NT).join()}], currently it includes [${r.map(NT).join()}]`}else if(!Array.isArray(n)||n.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${n}`;return null}},type:{validate:t=>{const n=t.type;return n instanceof Array?n.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof n=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(t,{suppressRowTransform:n})=>n?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[void 0]},rowSpan:{required:[void 0]}},validate:(t,{rowSelection:n,cellSelection:r,suppressRowTransform:i,enableCellSpan:s,rowDragEntireRow:o,enableCellTextSelection:a})=>typeof n=="object"&&n?.mode==="singleRow"&&n?.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":r?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":s?o?"colDef.spanRows is not supported with rowDragEntireRow.":a?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),LDe={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},NDe=()=>Object.keys(LDe),BDe=()=>({objectName:"colDef",allProperties:NDe(),docsUrl:"column-properties/",deprecations:IDe(),validations:ODe()}),VDe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","invalidEditValueMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce","renderingMode"],HDe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","advancedFilterParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions","filterHandlers"],zDe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],GQ=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns","rowDragInsertDelay"],GDe=["theme","rowSelection"],UDe=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild","enableRowPinning"],UQ=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault","enableFilterHandlers","suppressStartEditOnTab","hidePaddedHeaderRows"],WDe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getFullRowEditValidationErrors","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter","isRowPinnable","isRowPinned","isRowValidDropPosition"],jDe=()=>[...zDe,...HDe,...VDe,...GQ,...WDe,...UQ,...UDe,...GDe],KDe=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."},suppressAdvancedFilterEval:{version:"34",message:"Advanced filter no longer uses function evaluation, so this option has no effect."}});function Dh(e,t,n){return typeof t=="number"||t==null?t==null||t>=n?null:`${e}: value should be greater than or equal to ${n}`:`${e}: value should be a number`}var YDe={alignedGrids:"AlignedGrids",allowContextMenuWithControlKey:"ContextMenu",autoSizeStrategy:"ColumnAutoSize",cellSelection:"CellSelection",columnHoverHighlight:"ColumnHover",datasource:"InfiniteRowModel",doesExternalFilterPass:"ExternalFilter",editType:"EditCore",invalidEditValueMode:"EditCore",enableAdvancedFilter:"AdvancedFilter",enableCellSpan:"CellSpan",enableCharts:"IntegratedCharts",enableRangeSelection:"CellSelection",enableRowPinning:"PinnedRow",findSearchValue:"Find",getFullRowEditValidationErrors:"EditCore",getContextMenuItems:"ContextMenu",getLocaleText:"Locale",getMainMenuItems:"ColumnMenu",getRowClass:"RowStyle",getRowStyle:"RowStyle",groupTotalRow:"SharedRowGrouping",grandTotalRow:"SharedRowGrouping",initialState:"GridState",isExternalFilterPresent:"ExternalFilter",isRowPinnable:"PinnedRow",isRowPinned:"PinnedRow",localeText:"Locale",masterDetail:"SharedMasterDetail",pagination:"Pagination",pinnedBottomRowData:"PinnedRow",pinnedTopRowData:"PinnedRow",pivotMode:"SharedPivot",pivotPanelShow:"RowGroupingPanel",quickFilterText:"QuickFilter",rowClass:"RowStyle",rowClassRules:"RowStyle",rowData:"ClientSideRowModel",rowDragManaged:"RowDrag",rowGroupPanelShow:"RowGroupingPanel",rowNumbers:"RowNumbers",rowSelection:"SharedRowSelection",rowStyle:"RowStyle",serverSideDatasource:"ServerSideRowModel",sideBar:"SideBar",statusBar:"StatusBar",treeData:"SharedTreeData",undoRedoCellEditing:"UndoRedoEdit",valueCache:"ValueCache",viewportDatasource:"ViewportRowModel"},XDe=()=>{const e={autoSizePadding:{validate({autoSizePadding:n}){return Dh("autoSizePadding",n,0)}},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Dh("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Dh("cacheOverflowSize",n,1)}},datasource:{supportedRowModels:["infinite"]},domLayout:{validate:n=>{const r=n.domLayout,i=["autoHeight","normal","print"];return r&&!i.includes(r)?`domLayout must be one of [${i.join()}], currently it's ${r}`:null}},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},enableRowPinning:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,pinnedTopRowData:r,pinnedBottomRowData:i}){return n&&(r||i)?"Manual row pinning cannot be used together with pinned row data. Either set `enableRowPinning` to `false`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":null}},isRowPinnable:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinnable:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinnable`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinnable` requires `enableRowPinning` to be set.":null}},isRowPinned:{supportedRowModels:["clientSide"],validate({enableRowPinning:n,isRowPinned:r,pinnedTopRowData:i,pinnedBottomRowData:s}){return r&&(i||s)?"Manual row pinning cannot be used together with pinned row data. Either remove `isRowPinned`, or remove `pinnedTopRowData` and `pinnedBottomRowData`.":!n&&r?"`isRowPinned` requires `enableRowPinning` to be set.":null}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return cf(262);if(n.smallLeft)return cf(263);if(n.smallRight)return cf(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Dh("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Dh("keepDetailRowsCount",n,1)}},paginationPageSize:{validate({paginationPageSize:n}){return Dh("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const r=n.paginationPageSizeSelector;return typeof r=="boolean"||r==null||r.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}}},quickFilterText:{supportedRowModels:["clientSide"]},rowBuffer:{validate({rowBuffer:n}){return Dh("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null},rowData:{supportedRowModels:["clientSide"]},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{pagination:{required:[!1,void 0]}}},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null}},rowStyle:{validate:n=>{const r=n.rowStyle;return r&&typeof r=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null}},serverSideDatasource:{supportedRowModels:["serverSide"]},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Dh("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sortingOrder:{validate:n=>{const r=n.sortingOrder;if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>!Yx.includes(s));if(i.length>0)return`sortingOrder must be an array with elements from [${Yx.map(NT).join()}], currently it includes [${i.map(NT).join()}]`}else if(!Array.isArray(r)||r.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${r}`;return null}},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],validate:n=>{const r=n.rowModelType??"clientSide";switch(r){case"clientSide":{const{treeDataChildrenField:i,treeDataParentIdField:s,getDataPath:o,getRowId:a}=n;if(!i&&!s&&!o)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(i){if(o)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(s)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(s){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(o)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const i=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:i}}return null}},viewportDatasource:{supportedRowModels:["viewport"]},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Dh("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Dh("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:r}){return n?.field&&r?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n?.valueGetter&&r?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}},renderingMode:{validate:n=>{const r=n.renderingMode,i=["default","legacy"];return r&&!i.includes(r)?`renderingMode must be one of [${i.join()}], currently it's ${r}`:null}}},t={};return UQ.forEach(n=>{t[n]={expectedType:"boolean"}}),GQ.forEach(n=>{t[n]={expectedType:"number"}}),lc(t,e),t},ZDe=()=>({objectName:"gridOptions",allProperties:[...jDe(),...Object.values(tN)],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:KDe(),validations:XDe()}),qDe=0,QDe=0,JDe=class extends _t{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=QDe++,this.gridReadyFired=!1,this.queueEvents=[],this.propEventSvc=new R0,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const r=UE.has(t);if(r&&!e||!r&&e||!$De(t))return;const i=(s,o)=>{const a=tN[s],l=this.gridOptions[a];typeof l=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>l(o))};if(this.gridReadyFired)i(t,n);else if(t==="gridReady"){i(t,n),this.gridReadyFired=!0;for(const s of this.queueEvents)i(s.eventName,s.event);this.queueEvents=[]}else this.queueEvents.push({eventName:t,event:n})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.validateGridOptions(this.gridOptions),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(e){return this.gridOptions[e]??kZ[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return nn(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const r={id:qDe++,properties:[]},i=[],{gridOptions:s,validation:o}=this;for(const a of Object.keys(e)){const l=e[a];o?.warnOnInitialPropertyUpdate(n,a);const c=t||typeof l=="object"&&n==="api",u=s[a];if(c||u!==l){s[a]=l;const h={type:a,currentValue:l,previousValue:u,changeSet:r,source:n};i.push(h)}}this.validateGridOptions(this.gridOptions),r.properties=i.map(a=>a.type),i.forEach(a=>{k0(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}validateOptions(e,t){for(const n of Object.keys(e)){const r=e[n];if(r==null||r===!1)continue;let i=t[n];typeof i=="function"&&(i=i(e,this.gridOptions,this.beans)),i&&this.assertModuleRegistered(i,n)}}validateGridOptions(e){this.validateOptions(e,YDe),this.validation?.processGridOptions(e)}validateColDef(e,t,n){(n||!this.beans.dataTypeSvc?.isColPendingInference(t))&&(this.validateOptions(e,MDe),this.validation?.validateColDef(e))}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(r=>this.isModuleRegistered(r)):this.isModuleRegistered(e);return n||Ti(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:OL(),rowModelType:this.get("rowModelType"),isUmd:aEe()}}isModuleRegistered(e){return HF(e,this.gridId,this.get("rowModelType"))}};function $De(e){return!!tN[e]}function WQ(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var e2e=WQ(!0),t2e=WQ(!1),n2e=class extends qi{constructor(){super(...arguments),this.eFilter=Tn,this.eFilterButton=Tn,this.eSortIndicator=Tn,this.eMenu=Tn,this.eLabel=Tn,this.eText=Tn,this.eSortOrder=Tn,this.eSortAsc=Tn,this.eSortDesc=Tn,this.eSortMixed=Tn,this.eSortNone=Tn,this.isLoadingInnerComponent=!1}refresh(e){const t=this.params;if(this.params=e,this.workOutTemplate(e,!!this.beans?.sortSvc)!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const n={...e};lc(n,e.innerHeaderComponentParams),this.innerHeaderComponent.refresh?.(n)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n?.trim?n.trim():n:t?e2e:t2e}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:r,userCompFactory:i}=this.beans,s=t?.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!s),this.setTemplate(this.currentTemplate,s?[s]:void 0),n?.setupForHeader(this),this.setMenu(),this.setupSort(),r?.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(i,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=H_e(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderComponent=r,this.eText&&this.eText.appendChild(r.getGui())):this.destroyBean(r))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;this.currentDisplayName=t,!(!this.eText||n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)&&(this.eText.textContent=Nw(t))}addInIcon(e,t,n){const r=dd(e,this.beans,n);r&&t.appendChild(r)}workOutShowMenu(){return this.params.enableMenu&&!!this.beans.menuSvc?.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return!!this.beans.menuSvc?.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){up(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,r=wu(e);this.addInIcon(r?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!r);const i=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=i,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(i)}toggleMenuAlwaysShow(e){this.eMenu?.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){const{params:t,gos:n,beans:r,eMenu:i,eFilterButton:s}=this,o=t.column,a=wu(n);if(e&&!a){if(r.menuSvc?.isFilterMenuInHeaderEnabled(o))return t.showFilter(s??i??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(i??s??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:r,eSortOrder:i,eSortAsc:s,eSortDesc:o,eSortMixed:a,eSortNone:l}=this;r.attachCustomElements(i,s,o,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;if(!e)return;const n=()=>{const r=t.column.isFilterActive();Vs(e,r,{skipAriaHidden:!0})};this.configureFilter(t.enableFilterIcon,e,n,"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,r){if(!e)return up(t),!1;const i=this.params.column;return this.addInIcon(r,t,i),this.addManagedListeners(i,{filterChanged:n}),n(),!0}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},r2e={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},i2e=class extends qi{constructor(){super(r2e),this.agOpened=Tn,this.agClosed=Tn,this.agLabel=Tn,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t,touchSvc:n}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons(),n?.setupForHeaderGroup(this)}checkWarnings(){this.params.template&&zt(89)}workOutInnerHeaderGroupComponent(e,t){const n=G_e(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(r=>{this.isLoadingInnerComponent=!1,r&&(this.isAlive()?(this.innerHeaderGroupComponent=r,this.agLabel.appendChild(r.getGui())):this.destroyBean(r))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:r}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const i=l=>{if(Zf(l))return;const c=!n.isExpanded();r.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),c,"uiColumnExpanded")};this.addTouchAndClickListeners(r,t,i),this.addTouchAndClickListeners(r,e,i);const s=l=>{D0(l)};this.addManagedElementListeners(t,{dblclick:s}),this.addManagedElementListeners(e,{dblclick:s}),this.addManagedElementListeners(this.getGui(),{dblclick:i}),this.updateIconVisibility();const o=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){e.touchSvc?.setupForHeaderGroupElement(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const r=n.isExpanded();Vs(e,r),Vs(t,!r)}else Vs(e,!1),Vs(t,!1)}addInIcon(e,t){const n=dd(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Vs(t,!1),Vs(n,!1);return}}setupLabel(e){const{displayName:t,columnGroup:n}=e,r=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;nn(t)&&!r&&(this.agLabel.textContent=Nw(t)),this.toggleCss("ag-sticky-label",!n.getColGroupDef()?.suppressStickyLabel)}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},s2e={moduleName:"ColumnHeaderComp",version:on,userComponents:{agColumnHeader:n2e},icons:{menu:"menu",menuAlt:"menu-alt"}},o2e={moduleName:"ColumnGroupHeaderComp",version:on,userComponents:{agColumnGroupHeader:i2e},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},a2e=class extends _t{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&zt(92)}createTask(e,t,n,r,i=!1){this.verify();let s=n;r&&this.batchFrameworkComps&&(s="f1");const o={task:e,index:t,createOrder:++this.taskCount,deferred:i};this.addTaskToList(this[s],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,r)=>n.deferred!==r.deferred?n.deferred?-1:1:n.index!==r.index?t*(r.index-n.index):r.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:r,destroyTasks:i,beans:s}=this,{ctrlsSvc:o,frameworkOverrides:a}=s,l=t.list,c=n.list,u=r.list,h=Date.now();let p=0;const m=e<=0,y=o.getScrollFeature();for(;m||p<e;){if(!y.scrollGridIfNeeded()){let b;if(l.length)this.sortTaskList(t),b=l.pop().task;else if(c.length)this.sortTaskList(n),b=c.pop().task;else if(u.length)a.wrapOutgoing(()=>{for(;(m||p<e)&&!y.scrollGridIfNeeded();){if(u.length)this.sortTaskList(r),b=u.pop().task,b();else break;p=Date.now()-h}}),b=()=>{};else if(i.length)b=i.pop();else break;b()}p=Date.now()-h}l.length||c.length||u.length||i.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);yp(this.beans,e)}isQueueEmpty(){return!this.ticking}},l2e={moduleName:"AnimationFrame",version:on,beans:[a2e]},c2e=class extends _t{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!r0())return;const t=(n,r,i)=>{const{rowCtrl:s,cellCtrl:o}=e.getControlsForEventTarget(i?.target??null);o?.column&&o.dispatchCellContextMenuEvent(i??null),this.beans.contextMenuSvc?.handleContextMenuMouseEvent(void 0,i,s,o)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!r0()||dq("dblclick"))return!1;const r=Date.now(),i=r-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=r,i})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n,menuSvc:r}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:s,eFilterButton:o}=e,a=new Nm(e.getGui(),!0),l=e.shouldSuppressMenuHide(),c=l&&nn(s)&&i.enableMenu,u=c?new Nm(s,!0):a;if(i.enableMenu||r?.isHeaderContextMenuEnabled(i.column)){const h=c?"tap":"longTap",p=m=>i.showColumnMenuAfterMouseClick(m.touchStart);e.addManagedListeners(u,{[h]:p})}if(i.enableSorting){const h=p=>{const m=p.touchStart.target;l&&(s?.contains(m)||o?.contains(m))||n?.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(a,{tap:h})}if(i.enableFilterButton&&o){const h=new Nm(o,!0);e.addManagedListeners(h,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>h.destroy())}e.addDestroyFunc(()=>a.destroy()),c&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e){const t=e.params;if(this.beans.menuSvc?.isHeaderContextMenuEnabled(t.columnGroup.getProvidedColumnGroup())){const n=new Nm(t.eGridHeader,!0),r=i=>t.showColumnMenuAfterMouseClick(i.touchStart);e.addManagedListeners(n,{longTap:r}),e.addDestroyFunc(()=>n.destroy())}}setupForHeaderGroupElement(e,t,n){const r=new Nm(t,!0);e.addManagedListeners(r,{tap:n}),e.addDestroyFunc(()=>r.destroy())}mockContextMenu(e,t,n){if(!r0())return;const r=new Nm(t),i=s=>{Wx(this.gos,s.touchEvent)&&n(void 0,s.touchStart,s.touchEvent)};e.addManagedListeners(r,{longTap:i}),e.addDestroyFunc(()=>r.destroy())}},u2e={moduleName:"Touch",version:on,beans:[c2e]},d2e=class extends _t{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===vt.UP,r=e===vt.DOWN,i=e===vt.LEFT;let s,o;const{pageBounds:a,gos:l,visibleCols:c,pinnedRowModel:u}=this.beans,{rowPinned:h}=t;if(n||r)h&&u?n?o=0:o=h==="top"?u.getPinnedTopRowCount()-1:u.getPinnedBottomRowCount()-1:o=n?a.getFirstRow():a.getLastRow(),s=t.column;else{const p=l.get("enableRtl");o=t.rowIndex,s=(i!==p?c.allCols:[...c.allCols].reverse()).find(y=>this.isCellGoodToFocusOn({rowIndex:o,rowPinned:null,column:y}))}return s?{rowIndex:o,rowPinned:h,column:s}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,r=!1;for(;!r;){switch(e){case vt.UP:n=this.getCellAbove(n);break;case vt.DOWN:n=this.getCellBelow(n);break;case vt.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case vt.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,zt(8,{key:e});break}n?r=this.isCellGoodToFocusOn(n):r=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:r,rowModel:i}=this.beans;switch(e.rowPinned){case"top":n=r?.getPinnedTopRow(e.rowIndex);break;case"bottom":n=r?.getPinnedBottomRow(e.rowIndex);break;default:n=i.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){if(!e)return null;const t=this.rowSpanSvc?.getCellEnd(e)??e,n=ez(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){if(!e)return null;const t=this.rowSpanSvc?.getCellStart(e)??e,n=YT(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,r=t.allCols;let i=e.rowIndex,s=e.rowPinned,o=t.getColAfter(e.column);if(!o){o=r[0];const a=ez(this.beans,e);if(_s(a)||!a.rowPinned&&!(n?.isRowInPage(a.rowIndex)??!0))return null;i=a?a.rowIndex:null,s=a?a.rowPinned:null}return{rowIndex:i,column:o,rowPinned:s}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:r}=t,i=n.allCols;let s=e.rowIndex,o=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=Ei(i);const l=YT(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(_s(l)||!l.rowPinned&&!(r?.isRowInPage(l.rowIndex)??!0))return null;s=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:s,column:a,rowPinned:o}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const r=e.createColumnFunctionCallbackParams(t);return n(r)}return!1}};function h2e(e){return e.focusSvc.getFocusedCell()}function f2e(e){return e.focusSvc.clearFocusedCell()}function p2e(e,t,n,r){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:r,forceBrowserFocus:!0})}function g2e(e,t){return e.navigation?.tabToNextCell(!1,t)??!1}function m2e(e,t){return e.navigation?.tabToNextCell(!0,t)??!1}function v2e(e,t,n=!1){const r=e.headerNavigation?.getHeaderPositionForColumn(t,n);r&&e.focusSvc.focusHeaderPosition({headerPosition:r})}var y2e=class extends _t{constructor(){super(),this.beanName="navigation",this.onPageDown=jH(this.onPageDown,100),this.onPageUp=jH(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,r=e.altKey,i=e.ctrlKey||e.metaKey,s=!!this.beans.rangeSvc&&e.shiftKey,o=QEe(this.gos,e);let a=!1;switch(n){case vt.PAGE_HOME:case vt.PAGE_END:!i&&!r&&(this.onHomeOrEndKey(n),a=!0);break;case vt.LEFT:case vt.RIGHT:case vt.UP:case vt.DOWN:if(!o)return!1;i&&!r&&!s&&(this.onCtrlUpDownLeftRight(n,o),a=!0);break;case vt.PAGE_DOWN:case vt.PAGE_UP:!i&&!r&&(a=this.handlePageUpDown(n,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===vt.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo({scrollIndex:e,scrollType:t,scrollColumn:n,focusIndex:r,focusColumn:i,isAsync:s,rowPinned:o}){const{scrollFeature:a}=this.gridBodyCon;nn(n)&&!n.isPinned()&&a.ensureColumnVisible(n),nn(e)&&a.ensureIndexVisible(e,t),s||a.ensureIndexVisible(r);const{focusSvc:l,rangeSvc:c}=this.beans;l.setFocusedCell({rowIndex:r,column:i,rowPinned:o,forceBrowserFocus:!0}),c?.setRangeToCell({rowIndex:r,rowPinned:o,column:i})}onPageDown(e){const t=this.beans,n=mD(t),r=this.getViewportHeight(),{pageBounds:i,rowModel:s,rowAutoHeight:o}=t,a=i.getPixelOffset(),l=n.top+r,c=s.getRowIndexAtPixel(l+a);o?.active?this.navigateToNextPageWithAutoHeight(e,c):this.navigateToNextPage(e,c)}onPageUp(e){const t=this.beans,n=mD(t),{pageBounds:r,rowModel:i,rowAutoHeight:s}=t,o=r.getPixelOffset(),a=n.top,l=i.getRowIndexAtPixel(a+o);s?.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:r,rowModel:i}=this.beans,s=this.getViewportHeight(),o=r.getFirstRow(),a=r.getLastRow(),l=r.getPixelOffset(),c=i.getRow(e.rowIndex),u=n?c?.rowHeight-s-l:s-l,h=c?.rowTop+u;let p=i.getRowIndexAtPixel(h+l);if(p===e.rowIndex){const y=n?-1:1;t=p=e.rowIndex+y}let m;n?(m="bottom",p<o&&(p=o),t<o&&(t=o)):(m="top",p>a&&(p=a),t>a&&(t=a)),this.isRowTallerThanView(i.getRow(p))&&(t=p,m="top"),this.navigateTo({scrollIndex:t,scrollType:m,scrollColumn:null,focusIndex:p,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const r=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:r,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,r=this.getViewportHeight(),{pageBounds:i,rowModel:s}=this.beans,o=i.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=o;){const c=s.getRow(l);if(c){const u=c.rowHeight??0;if(a+u>r)break;a+=u}l+=n}return Math.max(0,Math.min(l,o))}getViewportHeight(){const e=this.beans,t=mD(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let r=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(r-=n),r}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:r,rowPinned:i}=n,s=n.column;this.navigateTo({scrollIndex:r,scrollType:null,scrollColumn:s,focusIndex:r,focusColumn:s,rowPinned:i})}onHomeOrEndKey(e){const t=e===vt.PAGE_HOME,{visibleCols:n,pageBounds:r,rowModel:i}=this.beans,s=n.allCols,o=t?r.getFirstRow():r.getLastRow(),a=i.getRow(o);if(!a)return;const l=(t?s:[...s].reverse()).find(c=>!c.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:l,focusIndex:o,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,r=this.tabToNextCellCommon(e,n,t),i=this.beans,{ctrlsSvc:s,pageBounds:o,focusSvc:a,gos:l}=i;if(r!==!1){r?t.preventDefault():r===null&&s.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:c,rowPinned:u}=e.getRowPosition();(u?c===0:c===o.getFirstRow())&&(l.get("headerHeight")===0||l0(i)?fw(i,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof Dy&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||fw(i,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:r,rowRenderer:i}=n,s=r.getFocusedCell();if(!s)return!1;let o=xb(n,s);return!o&&(o=i.getRowByPosition(s),!o||!o.isFullWidth())?!1:!!this.tabToNextCellCommon(o,e,t,"api")}tabToNextCellCommon(e,t,n,r="ui"){const{editSvc:i,focusSvc:s}=this.beans;let o;const a=e instanceof Dy?e:e.getAllCellCtrls()?.[0];return i?.isEditing()?o=i?.moveToNextCell(a,t,n,r):o=this.moveToNextCellNotEditing(e,t,n),o===null?o:o||!!s.focusedHeader}moveToNextCellNotEditing(e,t,n){const r=this.beans.visibleCols.allCols;let i;if(e instanceof $T){if(i={...e.getRowPosition(),column:t?r[0]:Ei(r)},this.gos.get("embedFullWidthRows")&&n){const o=e.findFullWidthInfoForEvent(n);o&&(i.column=o.column)}}else i=e.getFocusedCellPosition();const s=this.findNextCellToFocusOn(i,{backwards:t,startEditing:!1});if(s===!1)return null;if(s instanceof Dy)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s,t);return nn(s)}findNextCellToFocusOn(e,{backwards:t,startEditing:n,skipToNextEditableCell:r}){let i=e;const s=this.beans,{cellNavigation:o,gos:a,focusSvc:l,rowRenderer:c,rangeSvc:u}=s;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);const h=a.getCallback("tabToNextCell");if(nn(h)){const w=h({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(w===!0)i=e;else{if(w===!1)return!1;i={rowIndex:w.rowIndex,column:w.column,rowPinned:w.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const y=jh(s);return l.focusHeaderPosition({headerPosition:{headerRowIndex:y+i.rowIndex,column:i.column},fromCell:!0}),null}const p=a.get("editType")==="fullRow";if(n&&(!p||r)&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const m=xb(s,i);if(!m){const y=c.getRowByPosition(i);if(!y||!y.isFullWidth()||n)continue;return{...y.getRowPosition(),column:i?.column}}if(!o.isSuppressNavigable(m.column,m.rowNode))return m.setFocusedCellPosition(i),u?.setRangeToCell(i),m}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:r}=this.beans;return t==="top"?n?.getPinnedTopRow(e):t==="bottom"?n?.getPinnedBottomRow(e):r.getRow(e)}navigateToNextCell(e,t,n,r){let i=n,s=!1;const o=this.beans,{cellNavigation:a,focusSvc:l,gos:c}=o;for(;i&&(i===n||!this.isValidNavigateCell(i));)c.get("enableRtl")?t===vt.LEFT&&(i=this.getLastCellOfColSpan(i)):t===vt.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=a.getNextCellToFocus(t,i),s=_s(i);if(s&&e&&e.key===vt.UP&&(i={rowIndex:-1,rowPinned:null,column:n.column}),r){const h=c.getCallback("navigateToNextCell");if(nn(h)){const m=h({key:t,previousCellPosition:n,nextCellPosition:i||null,event:e});nn(m)?i={rowPinned:m.rowPinned,rowIndex:m.rowIndex,column:m.column}:i=null}}if(!i)return;if(i.rowIndex<0){const h=jh(o);l.focusHeaderPosition({headerPosition:{headerRowIndex:h+i.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const u=this.getNormalisedPosition(i);u?this.focusPosition(u):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){if(!!this.beans.spannedRowRenderer?.getCellByPosition(e))return e;this.ensureCellVisible(e);const n=xb(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:r,focusSvc:i,eventSvc:s}=this.beans,o=n.allCols,a=r.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=i.getFocusedCell(),c={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Ei(o):o[0])};this.focusPosition(c);const u=t??(l!=null&&pEe(c,l));return s.dispatchEvent({type:"fullWidthRowFocused",rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:c.column,isFullWidthCell:!0,fromBelow:u}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n?.setRangeToCell(e)}isValidNavigateCell(e){return!!dp(this.beans,e)}getLastCellOfColSpan(e){const t=xb(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:Ei(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=rq(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),r=t&&n?.sticky,{scrollFeature:i}=this.gridBodyCon;!r&&_s(e.rowPinned)&&i.ensureIndexVisible(e.rowIndex),e.column.isPinned()||i.ensureColumnVisible(e.column)}ensureColumnVisible(e){const t=this.gridBodyCon.scrollFeature;e.isPinned()||t.ensureColumnVisible(e)}ensureRowVisible(e){this.gridBodyCon.scrollFeature.ensureIndexVisible(e)}};function mD(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var w2e={moduleName:"KeyboardNavigation",version:on,beans:[y2e,d2e,SDe],apiFunctions:{getFocusedCell:h2e,clearFocusedCell:f2e,setFocusedCell:p2e,setFocusedHeader:v2e,tabToNextCell:g2e,tabToPreviousCell:m2e}},C2e=class extends _t{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},b2e=class extends _t{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){return this.topRowBounds?.rowIndex??-1}getLastRow(){return this.bottomRowBounds?.rowIndex??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=e?.rowTop??0,r=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:r}}calculateBounds(e,t){const{rowModel:n}=this.beans,r=n.getRowBounds(e);r&&(r.rowIndex=e),this.topRowBounds=r;const i=n.getRowBounds(t);i&&(i.rowIndex=t),this.bottomRowBounds=i,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=this.topRowBounds?.rowTop??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},x2e=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",S2e=class extends _t{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Vs(n,t),lf(n,e))}},_2e=class extends _t{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,r=il(e,"print"),i=r?0:t.getColsLeftWidth(),s=r?0:t.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,n.dispatchEvent({type:"leftPinnedWidthChanged"})),s!=this.rightWidth&&(this.rightWidth=s,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Vx(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),r=this.gos.getCallback("processUnpinnedColumns"),{columns:i,hasLockedPinned:s}=n;let o=i;!o.length&&!s||(r&&(o=r({columns:o,viewportWidth:t})),!(!o||!o.length)&&(o=o.filter(a=>!wg(a)),this.setColsPinned(o,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new S2e(e,t)}setColsPinned(e,t,n){const{colModel:r,colAnimation:i,visibleCols:s,gos:o}=this.beans;if(!r.cols||!e?.length)return;if(il(o,"print")){zt(37);return}i?.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(c=>{if(!c)return;const u=r.getCol(c);u&&u.getPinned()!==a&&(this.setColPinned(u,a),l.push(u))}),l.length&&(s.refresh(n),_q(this.eventSvc,l,n)),i?.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",r=e.pinned==="right";e.hidden=!0;const i=()=>{const s=n?this.leftWidth:this.rightWidth;if(s==null)return;const o=s==0,a=e.hidden!==o,l=this.gos.get("enableRtl"),c=t.getScrollbarWidth(),h=t.verticalScrollShowing&&(l&&n||!l&&r)?s+c:s;e.comp.setPinnedContainerWidth(`${h}px`),e.comp.setDisplayed(!o),a&&(e.hidden=o,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:i,rightPinnedWidthChanged:i,scrollVisibilityChanged:i,scrollbarWidthChanged:i})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:r,rightWidth:i}=this,s=Vx(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(r+i+e>s)if(s>r+i)e=s-r-i;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,r=t+n;let i=!1;if(r<e)return{columns:[],hasLockedPinned:i};const{visibleCols:s}=this.beans,o=[...s.leftCols],a=[...s.rightCols];let l=0,c=0;const u=0,h=[];let p=r-u-e;for(;(c<o.length||l<a.length)&&p>0;){if(l<a.length){const m=a[l++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),h.push(m)}if(c<o.length&&p>0){const m=o[c++];if(m.colDef.lockPinned){i=!0;continue}p-=m.getActualWidth(),h.push(m)}}return{columns:h,hasLockedPinned:i}}},E2e={moduleName:"PinnedColumn",version:on,beans:[_2e],css:[x2e]},T2e=class extends _t{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=nl(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=Aa(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),FZ(n,"polite"),QSe(n,"additions text"),qSe(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.handleAnnouncementUpdate(e)},50)}handleAnnouncementUpdate(e){if(!this.isAlive()||!this.descriptionContainer)return;let t=e;if(t==null||t.replace(/[ .]/g,"")==""){this.lastAnnouncement="";return}this.lastAnnouncement===t&&(t=`${t}`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Au(e),e.parentElement?.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},R2e={moduleName:"Aria",version:on,beans:[T2e]};function A2e(e){e.overlays?.showLoadingOverlay()}function k2e(e){e.overlays?.showNoRowsOverlay()}function P2e(e){e.overlays?.hideOverlay()}var D2e=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:solid var(--ag-border-width) var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",F2e={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},jQ=class extends qi{constructor(){super(F2e),this.eOverlayWrapper=Tn,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(D2e)}handleKeyDown(e){if(e.key!==vt.TAB||e.defaultPrevented||Zf(e))return;const t=this.beans;if(iv(t,this.eOverlayWrapper,!1,e.shiftKey))return;let r=!1;e.shiftKey?r=t.focusSvc.focusGridView({column:Ei(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):r=fw(t,!1),r&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:r,NORMAL:i,PRINT:s}=zE;n.toggle(r,t.autoHeight),n.toggle(i,t.normal),n.toggle(s,t.print)}postConstruct(){this.createManagedBean(new zL(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,r){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const i=js(this.beans);i&&!nq(this.beans)&&(this.elToFocusAfter=i)}e.then(i=>{if(this.activePromise!==e){this.activeOverlay!==i&&(this.destroyBean(i),i=null);return}if(this.activePromise=null,!!i){if(this.activeOverlay!==i&&(this.eOverlayWrapper.appendChild(i.getGui()),this.activeOverlay=i,r)){const s=i;this.updateListenerDestroyFunc=this.addManagedPropertyListener(r,({currentValue:o})=>{s.refresh?.(In(this.gos,{...o??{}}))})}n&&this.isGridFocused()&&I0(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Au(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=js(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},I2e={selector:"AG-OVERLAY-WRAPPER",component:jQ},M2e=class extends _t{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=Yo(this.gos),this.isServerSide=!this.isClientSide&&tv(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){zt(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return I2e}getOverlayWrapperCompClass(){return jQ}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:r,colModel:i,rowModel:s}}=this;let o=this.gos.get("loading");o!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&o===void 0&&!r.get("suppressLoadingOverlay")&&(o=!r.get("columnDefs")||!i.ready||!r.get("rowData")&&t),o?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&s.isEmpty()&&!r.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(Z_e(this.beans.userCompFactory,In(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(q_e(this.beans.userCompFactory,In(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){const r=e?.newAgStackInstance()??null;this.eWrapper?.showOverlay(r,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;this.state===2?t=this.beans.ctrlsSvc.get("gridHeaderCtrl")?.headerHeight||0:this.wrapperPadding!==0&&(t=0),this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},O2e={moduleName:"Overlay",version:on,userComponents:{agLoadingOverlay:pRe,agNoRowsOverlay:mRe},apiFunctions:{showLoadingOverlay:A2e,showNoRowsOverlay:k2e,hideOverlay:P2e},beans:[M2e]},L2e=class extends _t{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=u1e(),k0(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;k0(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},N2e=400,B2e=class extends _t{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(s=>s.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(s=>s.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},r=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>r()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{Mg(this.gos)?n():r()}),Mg(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc,this.editSvc=e.editSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),pinnedRowsChanged:this.onPinnedRowsChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",r=>this.onSuppressCellFocusChanged(r.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:r,previousValue:i})=>{(!i&&r||i&&!r)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const r=n.getShowRowGroupCols();r.length&&this.refreshCells({columns:r,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const r=this.gridBodyCtrl;r.setStickyTopHeight(0),r.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=il(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new V2e(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?.stickyTopRowCtrls??[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?.stickyBottomRowCtrls??[]}updateAllRowCtrls(){const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=this.cachedRowCtrls?.getEntries()??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!this.beans.spannedRowRenderer?.getCellByPosition({rowIndex:e,column:t,rowPinned:null})||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(c=>{c.column===t&&l(c)})},r=()=>{n(l=>l.onLeftChanged())},i=()=>{n(l=>l.onWidthChanged())},s=()=>{n(l=>l.onFirstRightPinnedChanged())},o=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",r),t.__addEventListener("widthChanged",i),t.__addEventListener("firstRightPinnedChanged",s),t.__addEventListener("lastLeftPinnedChanged",o),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",r),t.__removeEventListener("widthChanged",i),t.__removeEventListener("firstRightPinnedChanged",s),t.__removeEventListener("lastLeftPinnedChanged",o),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=il(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{const r=n.getCellCtrl(e,!0)?.eGui;r&&t.push(r)}),t}refreshFloatingRowComps(e=!0){this.refreshFloatingRows(this.topRowCtrls,"top",e),this.refreshFloatingRows(this.bottomRowCtrls,"bottom",e)}refreshFloatingRows(e,t,n){const{pinnedRowModel:r,beans:i,printLayout:s}=this,o=Object.fromEntries(e.map(l=>[l.rowNode.id,l]));r?.forEachPinnedRow(t,(l,c)=>{const u=e[c];u&&r.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),l.id in o&&n?(e[c]=o[l.id],delete o[l.id]):e[c]=new $T(l,i,!1,!1,s)});const a=(t==="top"?r?.getPinnedTopRowCount():r?.getPinnedBottomRowCount())??0;e.length=a}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}onPinnedRowsChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature?.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const n=r=>{const i=r[e.rowIndex];i&&i.rowNode===e&&(i.destroyFirstPass(),i.destroySecondPass(),r[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":n(this.topRowCtrls);break;case"bottom":n(this.bottomRowCtrls);break;default:n(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){const{editSvc:t}=this.beans;if(t?.isEditing()&&(t.isBatchEditing()?t.cleanupEditors():t.stopEditing(void 0,{source:"api"})),e!=null){e?.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.beans.focusSvc?.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,r=e.animate&&Ty(this.gos),i=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:s,gos:o}=this;if(s){s.checkStickyRows();const a=s.extraTopHeight+s.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(i,r),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(o.get("enableRowPinning")?n:void 0),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error(cf(252));this.refreshInProgress=!0,this.beans.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.beans.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:jh(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(In(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let r=e;for(r.rowPinned==null&&t&&n&&!t.isRowInPage(r.rowIndex)&&(r={rowPinned:null,rowIndex:n.getFirstRow()});r;){if(r.rowPinned==null&&n)if(r.rowIndex<n.getFirstRow()){if(r=YT(this.beans,{rowPinned:null,rowIndex:0}),!r)return null}else r.rowIndex>n.getLastRow()&&(r={rowPinned:null,rowIndex:n.getLastRow()});const i=this.getRowByPosition(r);if(i?.isAlive())return{...i.getRowPosition(),column:e.column};r=YT(this.beans,r)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let r=0;r<n;r++){const i=t[r].getAllCellCtrls(),s=i.length;for(let o=0;o<s;o++)e.push(i[o])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...e?.getCtrls("top")??[],...e?.getCtrls("bottom")??[],...e?.getCtrls("center")??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const r=this.rowCtrlsByRowIndex[t];r&&r.addEventListener(e,n)}refreshCells({rowNodes:e,columns:t,force:n,suppressFlash:r}={}){const i={force:n,newData:!1,suppressFlash:r};for(const s of this.getCellCtrls(e,t))s.refreshOrDestroyCell(i);this.refreshFullWidth(e)}refreshRows(e={}){this.getRowCtrls(e.rowNodes).forEach(t=>t.refreshRow(e)),this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=tI(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(r=>{const i=r.rowNode;return nI(i,t)})}getCellCtrls(e,t){let n;nn(t)&&(n={},t.forEach(i=>{const s=this.colModel.getCol(i);nn(s)&&(n[s.getId()]=!0)}));const r=[];return this.getRowCtrls(e).forEach(i=>{i.getAllCellCtrls().forEach(s=>{const o=s.column.getId();n&&!n[o]||r.push(s)})}),r}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature?.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const r=n.rowNode;t[r.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const r=this.rowCtrlsByRowIndex[n];r&&(r.destroyFirstPass(t),r.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:r}=e;let i;const s=this.stickyRowFeature;s&&(i=t?.getFocusCellToUseAfterRefresh()||void 0);const o=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(s){l=s.checkStickyRows();const u=s.extraTopHeight+s.extraBottomHeight;u&&this.updateContainerHeights(u)}const c=this.firstRenderedRow!==o||this.lastRenderedRow!==a;if(!(r&&!l&&!c)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,r),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(r&&!l),i!=null)){const u=t?.getFocusCellToUseAfterRefresh();i!=null&&u==null&&(n?.flushAllFrames(),this.restoreFocusedCell(i))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(s=>n[s]=!0);const i=Object.keys(this.rowCtrlsByRowIndex).filter(s=>!n[s]);this.removeRowCtrls(i,t)}calculateIndexesToDraw(e){const t=[];for(let o=this.firstRenderedRow;o<=this.lastRenderedRow;o++)t.push(o);const n=this.beans.pagination,r=this.beans.focusSvc?.getFocusedCell()?.rowIndex;r!=null&&(r<this.firstRenderedRow||r>this.lastRenderedRow)&&(!n||n.isRowInPage(r))&&r<this.rowModel.getRowCount()&&t.push(r);const i=o=>{const a=o.rowNode.rowIndex;a==null||a===r||(a<this.firstRenderedRow||a>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(a)};for(const o of Object.values(this.rowCtrlsByRowIndex))i(o);if(e)for(const o of Object.values(e))i(o);t.sort((o,a)=>o-a);const s=[];for(let o=0;o<t.length;o++){const a=t[o],l=this.rowModel.getRow(a);l&&!l.sticky&&s.push(a)}return s}recycleRows(e,t=!1,n=!1){const r=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(r,!t),r.forEach(i=>{this.createOrUpdateRowCtrl(i,e,t,n)}),e){const{animationFrameSvc:i}=this.beans;i?.active&&n&&!this.printLayout?i.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=tI(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const r=n.rowNode;return!(t!=null&&!nI(r,t))})}createOrUpdateRowCtrl(e,t,n,r){let i,s=this.rowCtrlsByRowIndex[e];if(s||(i=this.rowModel.getRow(e),nn(i)&&nn(t)&&t[i.id]&&i.alreadyRendered&&(s=t[i.id],t[i.id]=null)),!s)if(i||(i=this.rowModel.getRow(e)),nn(i))s=this.createRowCon(i,n,r);else return;return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=s,s}destroyRowCtrls(e,t){const n=[];if(e){for(const r of Object.values(e))if(r){if(this.cachedRowCtrls&&r.isCacheable()){this.cachedRowCtrls.addRow(r);continue}if(r.destroyFirstPass(!t),t){const i=r.instanceId;this.zombieRowCtrls[i]=r,n.push(()=>{r.destroySecondPass(),delete this.zombieRowCtrls[i]})}else r.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(r=>r()),N2e))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=o0(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let r,i;if(!n.isRowsToRender())r=0,i=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),r=t.getFirstRow(),i=t.getLastRow();else{const u=this.getRowBufferInPixels(),h=this.ctrlsSvc.getScrollFeature(),p=this.gos.get("suppressRowVirtualisation");let m=!1,y,w;do{const N=t.getPixelOffset(),{pageFirstPixel:V,pageLastPixel:M}=t.getCurrentPagePixelRange(),O=e.divStretchOffset,z=h.getVScrollPosition(),H=z.top,X=z.bottom;p?(y=V+O,w=M+O):(y=Math.max(H+N-u,V)+O,w=Math.min(X+N+u,M)+O),this.firstVisibleVPixel=Math.max(H+N,V)+O,this.lastVisibleVPixel=Math.min(X+N,M)+O,m=this.ensureAllRowsInRangeHaveHeightsCalculated(y,w)}while(m);let b=n.getRowIndexAtPixel(y),S=n.getRowIndexAtPixel(w);const E=t.getFirstRow(),_=t.getLastRow();b<E&&(b=E),S>_&&(S=_),r=b,i=S}const s=il(this.gos,"normal"),o=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);s&&!o&&i-r>a&&(i=r+a);const l=r!==this.firstRenderedRow,c=i!==this.lastRenderedRow;(l||c)&&(this.firstRenderedRow=r,this.lastRenderedRow=i,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:r,lastRow:i}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,yp(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const n=this.pinnedRowModel?.ensureRowHeightsValid(),r=this.stickyRowFeature?.ensureRowHeightsValid(),{pageBounds:i,rowModel:s}=this,o=s.ensureRowHeightsValid(e,t,i.getFirstRow(),i.getLastRow());return(o||r)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),r||o||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const r=e.rowNode,i=this.focusSvc.isRowFocused(r.rowIndex,r.rowPinned),s=this.editSvc?.isEditing(e),o=r.detail;return i||s||o?!!this.isRowPresent(r):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.beans.pagination?.isRowInPage(e.rowIndex)??!0:!1}createRowCon(e,t,n){const r=this.cachedRowCtrls?.getRow(e)??null;if(r)return r;const i=n&&!this.printLayout&&!!this.beans.animationFrameSvc?.active;return new $T(e,this.beans,t,i,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(r=>r.rowNode),t=this.getStickyTopRowCtrls().map(r=>r.rowNode),n=this.getStickyBottomRowCtrls().map(r=>r.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(r=>r.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(r=>r.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const r=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!r}},V2e=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Sd(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Sd(this.entriesList,e)}getEntries(){return this.entriesList}};function tI(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const r=n.id;switch(n.rowPinned){case"top":t.top[r]=n;break;case"bottom":t.bottom[r]=n;break;default:t.normal[r]=n;break}}),t}function nI(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var H2e=class extends _t{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=Hh(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Hh(e))}doFullSort(e,t){const n=e.map((r,i)=>({currentPos:i,rowNode:r}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(r=>r.rowNode)}compareRowNodes(e,t,n){const r=t.rowNode,i=n.rowNode;for(let s=0,o=e.length;s<o;s++){const a=e[s],l=a.sort==="desc",c=this.getValue(r,a.column),u=this.getValue(i,a.column);let h;const p=this.getComparator(a,r);if(p?h=p(c,u,r,i,l):h=jSe(c,u,this.isAccentedSort),!isNaN(h)&&h!==0)return a.sort==="asc"?h:h*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,r=n.getColDef().comparator;if(r!=null)return r;if(!n.getColDef().showRowGroup)return;const i=!t.group&&n.getColDef().field;if(!i)return;const s=this.beans.colModel.getColDefCol(i);if(s)return s.getColDef().comparator}getValue(e,t){const{valueSvc:n,colModel:r,showRowGroupCols:i,gos:s}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(sq(s,r.isPivotActive())){const c=e.allLeafChildren?.[0];return c?n.getValue(t,c,!1):void 0}const l=i?.getShowRowGroupCol(t.getId());return l?e.groupData?.[l.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function z2e(e){e.sortSvc?.onSortChanged("api")}var KQ={moduleName:"Sort",version:on,beans:[FDe,H2e],apiFunctions:{onSortChanged:z2e},userComponents:{agSortIndicator:nN},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},G2e=class extends _t{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),k0(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,Ay(e.source))}}};function U2e(e){e.valueCache?.expire()}function W2e(e,t){const{colKey:n,rowNode:r,useFormatter:i}=t,s=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(_s(s))return null;const o=e.valueSvc.getValueForDisplay(s,r,i);return i?o.valueFormatted??Nw(o.value):o.value}var j2e="paste",K2e=class extends _t{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Yo(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===j2e||t.get("suppressChangeDetection"))return;const r=e.node,i=[r],s=this.clientSideRowModel,o=s?.rootNode;if(o&&!r.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new Kx(a,o);l.addParentNode(r.parent,[e.column]),s.doAggregate(l),l.forEachChangedNodeDepthFirst(c=>{i.push(c),c.sibling&&i.push(c.sibling)})}n.refreshCells({rowNodes:i})}},Y2e=class extends _t{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Ti(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return Ti(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},X2e=class extends _t{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const r=this.cacheVersion;e.__cacheVersion!==r&&(e.__cacheVersion=r,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Z2e={moduleName:"ValueCache",version:on,beans:[X2e],apiFunctions:{expireValueCache:U2e}},q2e={moduleName:"Expression",version:on,beans:[Y2e]},Q2e={moduleName:"ChangeDetection",version:on,beans:[K2e]},J2e={moduleName:"CellApi",version:on,apiFunctions:{getCellValue:W2e}},N_={checkSiblings:!0},$2e=class extends _t{constructor(){super(...arguments),this.beanName="valueSvc",this.hasEdit=!1,this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc,this.editSvc=e.editSvc,this.hasEdit=!!e.editSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=tv(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t,n=!1,r=!1,i="ui"){const{showRowGroupColValueSvc:s}=this.beans,o=!e&&t.group,a=e?.colDef.showRowGroup,l=!this.isTreeData||t.footer;if(s&&l&&(o||a)){const w=s.getGroupValue(t,e);if(w==null)return{value:null,valueFormatted:null};if(!n)return{value:w.value,valueFormatted:null};const b=s.formatAndPrefixGroupColValue(w,e,r);return{value:w.value,valueFormatted:b}}if(!e)return{value:t.key,valueFormatted:null};const c=t.leafGroup&&this.colModel.isPivotMode(),u=t.group&&t.expanded&&!t.footer&&!c,h=this.gos.get("groupSuppressBlankHeader")||!t.sibling,p=u&&!h,m=this.getValue(e,t,p,i),y=n&&!(r&&e.colDef.useValueFormatterForExport===!1);return{value:m,valueFormatted:y?this.formatValue(e,t,m):null}}getValue(e,t,n=!1,r="ui"){if(this.initialised||this.init(),!t)return;const i=e.getColDef(),s=i.field,o=e.getColId();let a=t.data;if(this.hasEdit&&r==="ui"){const w=this.editSvc;if(w.isRowEditing(t,N_)&&(a=w.getRowDataValue(t,N_)),w.isEditing()){const b=w.getCellDataValue({rowNode:t,column:e},!0);if(b!==void 0)return b}}let l;const c=i.showRowGroup;if(typeof c=="string"&&(this.beans.rowGroupColsSvc?.getColumnIndex(c)??-1)>t.level)return null;const u=typeof c!="string"||!t.group,h=t.groupData&&o in t.groupData,p=!n&&t.aggData&&t.aggData[o]!==void 0,m=this.isSsrm&&n&&!!i.aggFunc,y=this.isSsrm&&t.footer&&t.field&&(i.showRowGroup===!0||i.showRowGroup===t.field);if(this.isTreeData&&p)l=t.aggData[o];else if(this.isTreeData&&i.valueGetter)l=this.executeValueGetter(i.valueGetter,a,e,t);else if(this.isTreeData&&s&&a)l=zb(a,s,e.isFieldContainsDots());else if(h)l=t.groupData[o];else if(p)l=t.aggData[o];else if(i.valueGetter&&!m){if(!u)return l;l=this.executeValueGetter(i.valueGetter,a,e,t)}else if(y)l=zb(a,t.field,e.isFieldContainsDots());else if(s&&a&&!m){if(!u)return l;l=zb(a,s,e.isFieldContainsDots())}if(this.cellExpressions&&typeof l=="string"&&l.indexOf("=")===0){const w=l.substring(1);l=this.executeValueGetter(w,a,e,t)}return l}parseValue(e,t,n,r){const i=e.getColDef(),s=i.valueParser;if(nn(s)){const o=In(this.gos,{node:t,data:t?.data,oldValue:r,newValue:n,colDef:i,column:e});return typeof s=="function"?s(o):this.expressionSvc?.evaluate(s,o)}return n}getDeleteValue(e,t){return nn(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t).value)??null:null}formatValue(e,t,n,r,i=!0){const{expressionSvc:s}=this.beans;let o=null,a;const l=e.getColDef();if(r?a=r:i&&(a=l.valueFormatter),a){let c=t?t.data:null;if(t){const h={rowNode:t};if(this.hasEdit){const p=this.editSvc;p.isEditing(h,N_)&&(c=p.getRowDataValue(t,N_))}}const u=In(this.gos,{value:n,node:t,data:c,colDef:l,column:e});typeof a=="function"?o=a(u):o=s?s.evaluate(a,u):null}else if(l.refData)return l.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}setValue(e,t,n,r){const i=this.colModel.getColDefCol(t);if(!e||!i)return!1;_s(e.data)&&(e.data={});const{field:s,valueSetter:o}=i.getColDef();if(_s(s)&&_s(o))return zt(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(i,n))return zt(135),!1;const a=In(this.gos,{node:e,data:e.data,oldValue:this.getValue(i,e,void 0,r),newValue:n,colDef:i.getColDef(),column:i});a.newValue=n;let l;if(nn(o)?typeof o=="function"?l=o(a):l=this.expressionSvc?.evaluate(o,a):l=this.setValueUsingField(e.data,s,n,i.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache?.onDataChanged();const c=this.getValue(i,e);return this.dispatchCellValueChangedEvent(e,a,c,r),e.pinnedSibling&&this.dispatchCellValueChangedEvent(e.pinnedSibling,a,c,r),!0}dispatchCellValueChangedEvent(e,t,n,r){this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t.column,colDef:t.colDef,data:e.data,node:e,oldValue:t.oldValue,newValue:n,value:n,source:r})}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,r){if(!t)return!1;let i=!1;if(!r)i=e[t]===n,i||(e[t]=n);else{const s=t.split(".");let o=e;for(;s.length>0&&o;){const a=s.shift();s.length===0?(i=o[a]===n,i||(o[a]=n)):o=o[a]}}return!i}executeValueGetterWithValueCache(e,t,n,r){const i=n.getColId(),s=this.valueCache.getValue(r,i);if(s!==void 0)return s;const o=this.executeValueGetterWithoutValueCache(e,t,n,r);return this.valueCache.setValue(r,i,o),o}executeValueGetterWithoutValueCache(e,t,n,r){const i=In(this.gos,{data:t,node:r,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,r)});let s;return typeof e=="function"?s=e(i):s=this.expressionSvc?.evaluate(e,i),s}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),r=e.getColDef().keyCreator;let i=n;if(r){const s=In(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});i=r(s)}return typeof i=="string"||i==null||(i=String(i),i==="[object Object]"&&zt(121)),i}},eFe={moduleName:"CommunityCore",version:on,beans:[ADe,lAe,fPe,C_e,L2e,Eke,xDe,JDe,v_e,b2e,C2e,B2e,$2e,TDe,bDe,RDe,gPe,G2e,lPe,cPe],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:cAe,destroy:uAe,isDestroyed:dAe,getGridOption:hAe,setGridOption:fAe,updateGridOptions:wQ,isModuleRegistered:pAe},dependsOn:[sPe,rke,uke,KQ,s2e,Rke,o2e,O2e,Q2e,l2e,w2e,E2e,R2e,u2e,hPe,oPe,q2e,Dke]};function rI(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:r,filterByPercentageOfBestMatch:i}=e;let s=(n??[]).map((l,c)=>({value:l,relevance:tFe(t,l),idx:c}));if(s.sort((l,c)=>l.relevance-c.relevance),r&&(s=s.filter(l=>l.relevance<Math.max(l.value.length,t.length))),s.length>0&&i&&i>0){const c=s[0].relevance*i;s=s.filter(u=>c-u.relevance<0)}const o=[],a=[];for(const l of s)o.push(l.value),a.push(l.idx);return{values:o,indices:a}}function tFe(e,t){e.length<t.length&&([e,t]=[t,e]);let n=[],r=[];const i=e.length,s=t.length;for(let a=0;a<=s;a++)n[a]=a;let o=0;for(let a=1;a<=i;a++){r[0]=a;for(let l=1;l<=s;l++){const c=e[a-1],u=t[l-1];if(c.toLocaleLowerCase()===u.toLocaleLowerCase())++o,c===u&&++o,a>1&&l>1&&e[a-2].toLocaleLowerCase()===t[l-2].toLocaleLowerCase()&&(++o,e[a-2]===t[l-2]&&++o),a<i/2-10&&++o,r[l]=n[l-1];else{const h=r[l-1],p=n[l],m=n[l-1];r[l]=1+Math.min(h,p,m)}}[n,r]=[r,n]}return n[s]/(o+1)}var YQ={AdvancedFilter:1,AllEnterprise:1,BatchEdit:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,NewFiltersToolPanel:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},vD=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],nFe={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:vD,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...vD,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...vD,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},rFe={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function iFe(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(r=>{const i=nFe[r];i?i.forEach(s=>{const o=rFe[s];(!o||o===t)&&n.push(s)}):n.push(r)}),n}var XQ=()=>`No AG Grid modules are registered! It is recommended to start with all Community features via the AllCommunityModule:
                    
    import { ModuleRegistry, AllCommunityModule } from 'ag-grid-community';
    
    ModuleRegistry.registerModules([ AllCommunityModule ]);
    `,sFe=e=>{const t=e.map(r=>`import { ${Kb(r)} } from '${YQ[r]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(r=>r==="IntegratedCharts"||r==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(r=>Kb(r,!0)).join(", ")} ]); 

For more info see: ${Ey}/modules/`};function Kb(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function oFe(e,t){const n=t.filter(s=>s==="IntegratedCharts"||s==="Sparklines");let r="";return!globalThis?.agCharts&&n.length>0?r=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(s=>YQ[s])&&(r=r+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),r}function ZQ({moduleName:e,rowModelType:t}){return`To use the ${e}Module you must set the gridOption "rowModelType='${t}'"`}var Lz=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:r,rowModelType:i,additionalText:s,isUmd:o})=>{const a=iFe(t,i),l=typeof e=="string"?e:uFe[e];if(o)return oFe(l,a);const c=a.filter(p=>p==="IntegratedCharts"||p==="Sparklines"),u=c.length>0?`${c.map(p=>Kb(p)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(p=>Kb(p)).join(", "):Kb(a[0])} is not registered${n?" for gridId: "+r:""}. ${u} Check if you have registered the module:
`}
${sFe(a)}`+(s?` 

${s}`:"")},Nz=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,aFe=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,lFe={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e?.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e?.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${aFe(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:r})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${r?.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})=>{const i=[],s=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(r??[]).filter(a=>!!r[a])],o=rI({inputValue:t,allSuggestions:s,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return i.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),o.length>0&&i.push(`         Did you mean: [${o.slice(0,3)}]?
`),i.push("If using a custom component check it has been registered correctly."),i},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${Ey}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({inputValue:e,allSuggestions:t})=>{const n=rI({inputValue:e,allSuggestions:t,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return[`Could not find '${e}' aggregate function. It was configured as "aggFunc: '${e}'" but it wasn't found in the list of registered aggregations.`,n.length>0?`         Did you mean: [${n.slice(0,3)}]?`:"","If using a custom aggregation function check it has been registered correctly."].join(`
`)},110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:Lz,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${Ey}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e?.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>Nz("IntegratedChartsModule"),258:()=>Nz("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:r,rowModelType:i})=>Lz({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:My[t],gridId:r,gridScoped:n,rowModelType:i}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${Ey}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`,272:()=>XQ(),273:({providedId:e,usedId:t})=>`Provided column id '${e}' was already in use, ensure all column and group ids are unique. Using '${t}' instead.`,274:({prop:e})=>{let t=`Since v33, ${e} has been deprecated.`;switch(e){case"maxComponentCreationTimeMs":t+=" This property is no longer required and so will be removed in a future version.";break;case"setGridApi":t+=" This method is not called by AG Grid. To access the GridApi see: https://ag-grid.com/react-data-grid/grid-interface/#grid-api ";break;case"children":t+=" For multiple versions AgGridReact does not support children.";break}return t},275:ZQ,276:()=>"Row Numbers Row Resizer cannot be used when Grid Columns have `autoHeight` enabled.",277:({colId:e})=>`'enableFilterHandlers' is set to true, but column '${e}' does not have 'filter.doesFilterPass' or 'filter.handler' set.`,278:({colId:e})=>`Unable to create filter handler for column '${e}'`,279:e=>{},280:({colId:e})=>`'name' must be provided for custom filter components for column '${e}`,281:({colId:e})=>`Filter for column '${e}' does not have 'filterParams.buttons', but the new Filters Tool Panel has buttons configured. Either configure buttons for the filter, or disable buttons on the Filters Tool Panel.`,282:()=>"New filter tool panel requires `enableFilterHandlers: true`.",283:()=>"As of v34, use the same method on the filter handler (`api.getColumnFilterHandler(colKey)`) instead.",284:()=>"As of v34, filters are active when they have a model. Use `api.getColumnFilterModel()` instead.",285:()=>"As of v34, use (`api.getColumnFilterModel()`) instead.",286:()=>"As of v34, use (`api.setColumnFilterModel()`) instead.",287:()=>"`api.doFilterAction()` requires `enableFilterHandlers = true",288:()=>"`api.getColumnFilterModel(key, true)` requires `enableFilterHandlers = true",289:({rowModelType:e})=>`Row Model '${e}' is not supported with Batch Editing`,290:({rowIndex:e,rowPinned:t})=>`Row with index '${e}' and pinned state '${t}' not found`};function cFe(e,t){const n=lFe[e];if(!n)return[`Missing error text for error id ${e}!`];const r=n(t),s=`
See ${QZ(e,t)}`;return Array.isArray(r)?r.concat(s):[r,s]}var uFe={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},Bz=new WeakMap,Vz=new WeakMap,dFe=1,hFe=class{create(e,t,n,r,i,s){const o=AZ.applyGlobalGridOptions(t),a=o.gridId??String(dFe++),l=this.getRegisteredModules(i,a,o.rowModelType),c=this.createBeansList(o.rowModelType,l,a),u=this.createProvidedBeans(e,o,i);if(!c)return;const p={providedBeanInstances:u,beanClasses:c,gridId:a,beanInitComparator:iAe,beanDestroyComparator:sAe,derivedBeans:[nAe],destroyCallback:()=>{Vz.delete(y),Bz.delete(e),s?.()}},m=new dEe(p);this.registerModuleFeatures(m,l),n(m),m.getBean("syncSvc").start(),r?.(m);const y=m.getBean("gridApi");return Bz.set(e,y),Vz.set(y,e),y}getRegisteredModules(e,t,n){return Ux(eFe,void 0,!0),e?.modules?.forEach(r=>Ux(r,t)),rEe(t,Hz(n))}registerModuleFeatures(e,t){const n=e.getBean("registry"),r=e.getBean("apiFunctionSvc");t.forEach(i=>{n.registerModule(i);const s=i.apiFunctions;s&&Object.keys(s).forEach(a=>{r?.addFunction(a,s[a])})})}createProvidedBeans(e,t,n){let r=n?n.frameworkOverrides:null;_s(r)&&(r=new vQ);const i={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:r};return n&&n.providedBeanInstances&&Object.assign(i,n.providedBeanInstances),i}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"},i=Hz(e),s=r[i];if(!s){Cb(201,{rowModelType:i},`Unknown rowModelType ${i}.`);return}if(!oEe()){Cb(272,void 0,XQ());return}if(!e){const a=Object.entries(r).filter(([l,c])=>HF(c,n,l));if(a.length==1){const[l,c]=a[0];if(l!==i){const u={moduleName:c,rowModelType:l};Cb(275,u,ZQ(u));return}}}if(!HF(s,n,i)){Cb(200,{reasonOrId:`rowModelType = '${i}'`,moduleName:s,gridScoped:OL(),gridId:n,rowModelType:i},`Missing module ${s}Module for rowModelType ${i}.`);return}const o=new Set;return t.forEach(a=>a.beans?.forEach(l=>o.add(l))),Array.from(o)}};function Hz(e){return e??"clientSide"}function bf(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function LA(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function qQ(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var fFe=class extends _t{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(r,i,s)=>t({key:r,defaultValue:i,variableValues:s});const n=e.get("localeText");return(r,i,s)=>{let o=n&&n[r];if(o&&s&&s.length){let a=0;for(;!(a>=s.length||o.indexOf("${variable}")===-1);)o=o.replace("${variable}",s[a++])}return o??i}}};function pFe(e,t=!1){const n=[],r=[],i=[],s=[],o=[],a=[],l=[],c=[],u=[];let h=0;for(let p=0;p<e.length;p++){const{colId:m,sort:y,sortIndex:w,rowGroup:b,rowGroupIndex:S,aggFunc:E,pivot:_,pivotIndex:N,pinned:V,hide:M,width:O,flex:z}=e[p];u.push(m),y&&(n[w??h++]={colId:m,sort:y}),b&&(r[S??0]=m),typeof E=="string"&&i.push({colId:m,aggFunc:E}),_&&(s[N??0]=m),V&&(V==="right"?a:o).push(m),M&&l.push(m),(z!=null||O)&&c.push({colId:m,flex:z??void 0,width:O})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||t?{pivotMode:t,pivotColIds:s}:void 0,columnPinning:o.length||a.length?{leftColIds:o,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:c.length?{columnSizingModel:c}:void 0,columnOrder:u.length?{orderedColIds:u}:void 0}}function gFe(e){const t=[];return e.forEach(({groupId:n,open:r})=>{r&&t.push(n)}),t.length?{openColumnGroupIds:t}:void 0}var mFe=class{wrap(e,t,n,r){const i=this.createWrapper(e,r);return t?.forEach(s=>{this.createMethod(i,s,!0)}),n?.forEach(s=>{this.createMethod(i,s,!1)}),i}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&zt(49,{methodName:t}),null)}}},vFe={tag:"div",cls:"ag-tooltip"},yFe=class extends XL{constructor(){super(vFe)}init(e){const{value:t}=e,n=this.getGui();n.textContent=Nw(t);const r=e.location.replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase();n.classList.add(`ag-${r}-tooltip`)}},wFe=1e3,CFe=1e3,zz=100,Gz,B_=!1,bFe=class extends _t{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){return e==="show"?this.tooltipCtrl.getTooltipShowDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipCtrl.getTooltipHideDelayOverride?.()??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!r0()&&(B_?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},zz):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),r=this.tooltipComp?.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&r?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||B_)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-Gz<wFe}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!nn(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=t.getRowNode?.(),r=In(this.gos,{location:t.getLocation?.()??"UNKNOWN",colDef:t.getColDef?.(),column:t.getColumn?.(),rowIndex:t.getRowIndex?.(),node:n,data:n?.data,value:e,valueFormatted:t.getValueFormatted?.(),hideTooltipCallback:()=>this.hideTooltip(!0),...t.getAdditionalParams?.()??{}});this.state=2,this.tooltipInstanceCount++;const i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);Q_e(this.userCompFactory,r)?.newAgStackInstance().then(i)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),Gz=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const r=t.getGui();this.tooltipComp=t,r.classList.contains("ag-tooltip")||r.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&r.classList.add("ag-tooltip-animate"),this.interactionEnabled&&r.classList.add("ag-tooltip-interactive");const i=this.getLocaleTextFunc(),s=this.popupSvc?.addPopup({eChild:r,ariaLabel:i("ariaLabelTooltip","Tooltip")});if(s&&(this.tooltipPopupDestroyFunc=s.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const o=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:o,columnMoved:o})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(r,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Aa(this.beans),{keydown:o=>{r.contains(o?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(r,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:r,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=js(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupSvc?.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupSvc?.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?CFe:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){B_=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},zz)}unlockService(){B_=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function yD(e){return e.get("tooltipShowMode")==="whenTruncated"}var xFe=class extends _t{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e,t){const n="title",r=this.ctrl.getGui();r&&(e!=null&&(e!=""||t)?r.setAttribute(n,e):r.removeAttribute(n))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new bFe(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(e){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(e?"":null,e),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}};function SFe(e,t){if(typeof e!="number")return"";const n=t(),r=n("thousandSeparator",","),i=n("decimalSeparator",".");return e.toString().replace(".",i).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${r}`)}var _Fe=class extends _t{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},EFe=class{constructor(e){const{colModel:t,rowGroupColsSvc:n,colNames:r,valueSvc:i,gos:s,processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=r,this.valueSvc=i,this.gos=s,this.processCellCallback=o,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,r,i){const s=t===0&&oq(this.gos,i,this.colModel.isPivotMode());if(this.processRowGroupCallback&&(this.gos.get("treeData")||i.group)&&(e.isRowGroupDisplayed(i.rowGroupColumn?.getColId()??"")||s))return{value:this.processRowGroupCallback(In(this.gos,{column:e,node:i}))??""};if(this.processCellCallback)return{value:this.processCellCallback(In(this.gos,{accumulatedRowIndex:n,column:e,node:i,value:this.valueSvc.getValueForDisplay(e,i,void 0,void 0).value,type:r,parseValue:p=>this.valueSvc.parseValue(e,i,p,this.valueSvc.getValue(e,i,void 0)),formatValue:p=>this.valueSvc.formatValue(e,i,p)??p}))??""};const o=this.gos.get("treeData"),a=this.valueSvc,l=i.level===-1&&i.footer,c=e.colDef.showRowGroup===!0&&(i.group||o);if(!l&&(s||c)){let p="",m=i;for(;m&&m.level!==-1;){const{value:y,valueFormatted:w}=a.getValueForDisplay(s?void 0:e,m,!0,!0);p=` -> ${w??y??""}${p}`,m=m.parent}return{value:p,valueFormatted:p}}const{value:u,valueFormatted:h}=a.getValueForDisplay(e,i,!0,!0);return{value:u??"",valueFormatted:h}}getHeaderName(e,t){return e?e(In(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}};function TFe(e,t){const n=document.defaultView||window;if(!n){zt(52);return}const r=document.createElement("a"),i=n.URL.createObjectURL(t);r.setAttribute("href",i),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(r),n.setTimeout(()=>{n.URL.revokeObjectURL(i)},0)}var RFe={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,renderingMode:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0,enableFilterHandlers:!0,filterHandlers:!0},bc="clientSide",Jl="serverSide",Kv="infinite",AFe={onGroupExpandedOrCollapsed:[bc],refreshClientSideRowModel:[bc],isRowDataEmpty:[bc],forEachLeafNode:[bc],forEachNodeAfterFilter:[bc],forEachNodeAfterFilterAndSort:[bc],resetRowHeights:[bc],applyTransaction:[bc],applyTransactionAsync:[bc],flushAsyncTransactions:[bc],getBestCostNodeSelection:[bc],getServerSideSelectionState:[Jl],setServerSideSelectionState:[Jl],applyServerSideTransaction:[Jl],applyServerSideTransactionAsync:[Jl],applyServerSideRowData:[Jl],retryServerSideLoads:[Jl],flushServerSideAsyncTransactions:[Jl],refreshServerSide:[Jl],getServerSideGroupLevelState:[Jl],refreshInfiniteCache:[Kv],purgeInfiniteCache:[Kv],getInfiniteRowCount:[Kv],isLastRowIndexKnown:[Kv,Jl],expandAll:[bc,Jl],collapseAll:[bc,Jl],onRowHeightChanged:[bc,Jl],setRowCount:[Kv,Jl],getCacheBlockState:[Kv,Jl]},kFe={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function PFe(e,t,n){const r=kFe[e];if(r){const{version:s,new:o,old:a,message:l}=r,c=a??e;return(...u)=>{const h=o?`Please use ${o} instead. `:"";return Ub(`Since ${s} api.${c} is deprecated. ${h}${l??""}`),t.apply(t,u)}}const i=AFe[e];return i?(...s)=>{const o=n.rowModel.getType();if(!i.includes(o)){_y(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`);return}return t.apply(t,s)}:t}var DFe={detailCellRendererCtrl:"SharedMasterDetail",dndSourceComp:"DragAndDrop",fillHandle:"CellSelection",groupCellRendererCtrl:"GroupCellRenderer",headerFilterCellCtrl:"ColumnFilter",headerGroupCellCtrl:"ColumnGroup",rangeHandle:"CellSelection",tooltipFeature:"Tooltip",groupStrategy:"RowGrouping",treeGroupStrategy:"TreeData",rowNumberRowResizer:"RowNumbers",singleCell:"EditCore",fullRow:"EditCore",agSetColumnFilterHandler:"SetFilter",agMultiColumnFilterHandler:"MultiFilter",agGroupColumnFilterHandler:"GroupFilter",agNumberColumnFilterHandler:"NumberFilter",agDateColumnFilterHandler:"DateFilter",agTextColumnFilterHandler:"TextFilter"},FFe={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,"filter-add":1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1,"column-arrow":1,"un-pin":1,"pinned-top":1,"pinned-bottom":1,"chevron-up":1,"chevron-down":1,"chevron-left":1,"chevron-right":1,edit:1},IFe={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterAdd:"NewFiltersToolPanel",filterCardCollapse:"NewFiltersToolPanel",filterCardExpand:"NewFiltersToolPanel",filterCardEditing:"NewFiltersToolPanel",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",ensureColumnVisible:["ColumnsToolPanel","ColumnMenu"],groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore",rowPin:"PinnedRow",rowUnpin:"PinnedRow",rowPinBottom:"PinnedRow",rowPinTop:"PinnedRow"},MFe=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),OFe=class extends _t{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,v1e(this)}warnOnInitialPropertyUpdate(e,t){e==="api"&&RFe[t]&&zt(22,{key:t})}processGridOptions(e){this.processOptions(e,ZDe())}validateApiFunction(e,t){return PFe(e,t,this.beans)}missingUserComponent(e,t,n,r){const i=My[t];i?this.gos.assertModuleRegistered(i,`AG Grid '${e}' component: ${t}`):zt(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:r})}missingDynamicBean(e){const t=DFe[e];return t?cf(200,{...this.gos.getModuleErrorParams(),moduleName:t,reasonOrId:e}):void 0}checkRowEvents(e){NFe.has(e)&&zt(10,{eventType:e})}validateIcon(e){if(MFe.has(e)&&zt(43,{iconName:e}),FFe[e])return;const t=IFe[e];if(t){Ti(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:OL(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}zt(134,{iconName:e})}isProvidedUserComp(e){return!!My[e]}validateColDef(e){this.processOptions(e,BDe())}processOptions(e,t){const{validations:n,deprecations:r,allProperties:i,propertyExceptions:s,objectName:o,docsUrl:a}=t;i&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...s??[],...Object.keys(r)],i,o,a);const l=new Set;Object.keys(e).forEach(u=>{const h=r[u];if(h){const{message:E,version:_}=h;l.add(`As of v${_}, ${String(u)} is deprecated. ${E??""}`)}const p=e[u];if(p==null||p===!1)return;const m=n[u];if(!m)return;const{dependencies:y,validate:w,supportedRowModels:b,expectedType:S}=m;if(S){const E=typeof p;if(E!==S){l.add(`${String(u)} should be of type '${S}' but received '${E}' (${p}).`);return}}if(b){const E=this.gridOptions.rowModelType??"clientSide";if(!b.includes(E)){l.add(`${String(u)} is not supported with the '${E}' row model. It is only valid with: ${b.join(", ")}.`);return}}if(y){const E=this.checkForRequiredDependencies(u,y,e);if(E){l.add(E);return}}if(w){const E=w(e,this.gridOptions,this.beans);if(E){l.add(E);return}}}),l.size>0&&l.forEach(u=>{Ub(u)})}checkForRequiredDependencies(e,t,n){const i=Object.entries(t).filter(([s,o])=>{const a=n[s];return!o.required.includes(a)});return i.length===0?null:i.map(([s,o])=>`'${String(e)}' requires '${s}' to be one of [${o.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${o.reason??""}`).join(`
           `)}checkProperties(e,t,n,r,i){const s=["__ob__","__v_skip","__metadata__"],o=LFe(Object.getOwnPropertyNames(e),[...s,...t,...n],n),a=Object.keys(o);for(const l of a){const c=o[l];let u=`invalid ${r} property '${l}' did you mean any of these: ${c.slice(0,8).join(", ")}.`;n.includes("context")&&(u+=`
If you are trying to annotate ${r} with application data, use the '${r}.context' property instead.`),Ub(u)}if(a.length>0&&i){const l=this.beans.frameworkOverrides.getDocLink(i);Ub(`to see all the valid ${r} properties please check: ${l}`)}}getConsoleMessage(e,t){return cFe(e,t)}};function LFe(e,t,n){const r={},i=e.filter(s=>!t.some(o=>o===s));return i.length>0&&i.forEach(s=>r[s]=rI({inputValue:s,allSuggestions:n}).values),r}var NFe=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),BFe={moduleName:"Validation",version:on,beans:[OFe]};function QQ(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var VFe=class extends _t{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const n=(r,i)=>{r.hasChildren()&&e&&!i?r.childrenAfterFilter=r.childrenAfterGroup.filter(s=>{const o=s.childrenAfterFilter&&s.childrenAfterFilter.length>0,a=s.data&&this.filterManager.doesRowPassFilter({rowNode:s});return o||a}):r.childrenAfterFilter=r.childrenAfterGroup,QQ(r)};if(this.doingTreeDataFiltering()){const r=(s,o)=>{if(s.childrenAfterGroup)for(let a=0;a<s.childrenAfterGroup.length;a++){const l=s.childrenAfterGroup[a],c=o||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?r(s.childrenAfterGroup[a],c):n(l,c)}n(s,o)},i=s=>r(s,!1);t.executeFromRootNode(i)}else{const r=i=>n(i,!1);t.forEachChangedNodeDepthFirst(r,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},HFe=class extends YL{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,r,i){this.comp=e;const s=p1(this,this.beans.context,i);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=r,this.setGui(t,s),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(s),this.setupLeft(s),this.setupHover(s),this.setupFocus(s),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(s),this.setupUi(),s.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(s);const o=()=>this.onColDefChanged(s);s.addManagedListeners(this.column,{colDefChanged:o}),s.addManagedEventListeners({filterSwitched:({column:a})=>{a===this.column&&o()}}),s.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return In(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=dd("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new Vw(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();cw(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){const{beans:t}=this;if(js(t)===this.eGui)return;const i=iv(t,this.eGui,null,e.shiftKey);if(i){t.headerNavigation?.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case vt.UP:case vt.DOWN:case vt.LEFT:case vt.RIGHT:if(t)return;D0(e);case vt.ENTER:t&&I0(this.eGui)&&e.preventDefault();break;case vt.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),r=!!e.relatedTarget&&i0(e.relatedTarget,"ag-floating-filter");if(n&&r&&e.target===this.eGui){const i=this.lastFocusEvent,s=!!(i&&i.key===vt.TAB);if(i&&s){const o=i.shiftKey;I0(this.eGui,o)}}this.focusThis()}setupHover(e){this.beans.colHover?.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new KL(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.beans.menuSvc?.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!wu(this.gos)}setupUserComp(){if(!this.active)return;const e=this.beans.colFilter?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.beans.menuSvc?.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{beans:{colFilter:t},column:n,gos:r}=this,i=s=>{if(s?.source==="filterDestroyed"&&(!this.isAlive()||!t?.isAlive()))return;const o=this.comp.getFloatingFilterComp();o&&o.then(a=>{if(a){if(r.get("enableFilterHandlers")){const u=s;let h="filter";u?.afterFloatingFilter?h="ui":u?.afterDataChange?h="dataChanged":s?.source==="api"&&(h="api"),this.updateFloatingFilterParams(this.userCompDetails,h);return}const l=t?.getCurrentFloatingFilterParentModel(n),c=s?{...s,columns:s.columns??[],source:s.source==="api"?"api":"columnFilter"}:null;a.onParentModelChanged(l,c)}})};[this.destroySyncListener]=e.addManagedListeners(n,{filterChanged:i}),t?.isFilterActive(n)&&i(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const r=this.beans.colFilter,i=this.active?r?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,s=this.comp.getFloatingFilterComp();!s||!i?this.updateCompDetails(e,i,n):s.then(o=>{!o||r?.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i,"colDef")})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e,t){if(!e)return;let n=e.params;this.comp.getFloatingFilterComp()?.then(r=>{typeof r?.refresh=="function"&&(this.gos.get("enableFilterHandlers")&&(n={...n,model:_a(this.beans.colFilter?.model??{},this.column.getColId()),source:t}),r.refresh(n))})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function zFe(e,t){const n=e.colModel.getCol(t);if(!n){Ti(12,{colKey:t});return}e.menuSvc?.showColumnMenu({column:n,positionBy:"auto"})}function GFe(e){e.menuSvc?.hidePopupMenu()}var UFe={moduleName:"SharedMenu",version:on,beans:[hRe],apiFunctions:{showColumnMenu:zFe,hidePopupMenu:GFe}},V_=0,WFe=200,jFe=class extends _t{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:r,node:i,event:s}=e,o=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const c=()=>{const u=this.keepXYWithinBounds(n,o.top-a.top,0),h=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${h}px`,l=!0);const m=a.right-a.left-h;let y;return this.gos.get("enableRtl")?(y=b(),y<0&&(y=w(),this.setAlignedStyles(n,"left")),y>m&&(y=0,this.setAlignedStyles(n,"right"))):(y=w(),y>m&&(y=b(),this.setAlignedStyles(n,"right")),y<0&&(y=0,this.setAlignedStyles(n,"left"))),{x:y,y:u};function w(){return o.right-a.left-2}function b(){return o.left-a.left-h}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:c,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,s instanceof MouseEvent?s:void 0,r,i)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:r,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,eventSource:s,alignSide:o="left",position:a="over",column:l,rowNode:c,type:u}=e,h=s.getBoundingClientRect(),p=this.getParentRect();this.setAlignedTo(s,t);const m=()=>{let y=h.left-p.left;o==="right"&&(y-=t.offsetWidth-h.width);let w;return a==="over"?(w=h.top-p.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,h,p,e.nudgeY||0)==="under"?w=h.top-p.top+h.height:w=h.top-t.offsetHeight-(r||0)*2-p.top),{x:y,y:w}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:r,keepWithinBounds:i,updatePosition:m,postProcessCallback:()=>this.callPostProcessPopup(u,t,s,null,l,c)})}shouldRenderUnderOrAbove(e,t,n,r){const i=n.bottom-t.bottom,s=t.top-n.top,o=e.offsetHeight+r;return i>o?"under":s>o||s>i?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n],{alignedToElement:i}=r;!i||(["right","left","over","above","under"].forEach(o=>{i.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const r=this.popupList[n];r.alignedToElement=e}}callPostProcessPopup(e,t,n,r,i,s){const o=this.gos.getCallback("postProcessPopup");o&&o({column:i,rowNode:s,ePopup:t,type:e,eventSource:n,mouseEvent:r})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:r,nudgeY:i,skipObserver:s,updatePosition:o}=e,a={width:0,height:0},l=(c=!1)=>{let{x:u,y:h}=o();c&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,r&&(u+=r),i&&(h+=i),n&&(u=this.keepXYWithinBounds(t,u,1),h=this.keepXYWithinBounds(t,h,0)),t.style.left=`${u}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!s){const c=vp(this.beans,t,()=>l(!0));setTimeout(()=>c(),WFe)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=Aa(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),GZ(t)}keepXYWithinBounds(e,t,n){const r=n===0,i=r?"clientHeight":"clientWidth",s=r?"top":"left",o=r?"height":"width",a=r?"scrollTop":"scrollLeft",l=Aa(this.beans),c=l.documentElement,u=this.getPopupParent(),h=e.getBoundingClientRect(),p=u.getBoundingClientRect(),m=l.documentElement.getBoundingClientRect(),y=u===l.body,w=Math.ceil(h[o]);let S=y?(r?zZ:IT)(c)+c[a]:u[i];y&&(S-=Math.abs(m[s]-p[s]));const E=S-w;return Math.min(Math.max(t,0),Math.abs(E))}addPopup(e){const t=Aa(this.beans),{eChild:n,ariaLabel:r,ariaOwns:i,alwaysOnTop:s,positionCallback:o,anchorToElement:a}=e;if(!t)return zt(122),{hideFunc:()=>{}};const l=this.getPopupIndex(n);if(l!==-1)return{hideFunc:this.popupList[l].hideFunc};this.initialisePopupPosition(n);const c=this.createPopupWrapper(n,!!s,r,i),u=this.addEventListenersToPopup({...e,wrapperEl:c});return o&&o(),this.addPopupToPopupList(n,c,u,a),{hideFunc:u}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();nn(e.style.top)||(e.style.top=`${n.top*-1}px`),nn(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n,r){const i=this.getPopupParent(),{environment:s,gos:o}=this.beans,a=To({tag:"div"});return s.applyThemeClasses(a),a.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||A0(e,"dialog"),n?cw(e,n):r&&(e.id||(e.id=`popup-component-${V_}`),GH(r,e.id)),a.appendChild(e),i.appendChild(a),t?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),a}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=Aa(t),r=this.getPopupParent(),{wrapperEl:i,eChild:s,closedCallback:o,afterGuiAttached:a,closeOnEsc:l,modal:c,ariaOwns:u}=e;let h=!1;const p=b=>{if(!i.contains(js(t)))return;b.key===vt.ESCAPE&&!Zf(b)&&w({keyboardEvent:b})},m=b=>w({mouseEvent:b}),y=b=>w({touchEvent:b}),w=(b={})=>{const{mouseEvent:S,touchEvent:E,keyboardEvent:_,forceHide:N}=b;!N&&(this.isEventFromCurrentPopup({mouseEvent:S,touchEvent:E},s)||h)||(h=!0,r.removeChild(i),n.removeEventListener("keydown",p),n.removeEventListener("mousedown",m),n.removeEventListener("touchstart",y),n.removeEventListener("contextmenu",m),this.eventSvc.removeEventListener("dragStarted",m),o&&o(S||E||_),this.removePopupFromPopupList(s,u))};return a&&a({hidePopup:w}),window.setTimeout(()=>{l&&n.addEventListener("keydown",p),c&&(n.addEventListener("mousedown",m),this.eventSvc.addEventListener("dragStarted",m),n.addEventListener("touchstart",y),n.addEventListener("contextmenu",m))},0),w}addPopupToPopupList(e,t,n,r){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:V_,isAnchored:!!r}),r&&this.setPopupPositionRelatedToElement(e,r),V_=V_+1}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const r=this.popupList[n];if(r.stopAnchoringPromise&&r.stopAnchoringPromise.then(s=>s&&s()),r.stopAnchoringPromise=void 0,r.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:r.hideFunc});return r.stopAnchoringPromise=i,r.isAnchored=!0,i}removePopupFromPopupList(e,t){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),t&&GH(t,null),this.popupList=this.popupList.filter(n=>n.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:r,ePopup:i}=e,s=r.getBoundingClientRect(),o=h=>parseInt(h.substring(0,h.length-1),10),a=(h,p)=>{const m=n[h]-s[h],y=o(i.style[h]);return{initialDiff:m,lastDiff:m,initial:y,last:y,direction:p}},l=a("top",0),c=a("left",1),u=this.beans.frameworkOverrides;return new Xr(h=>{u.wrapIncoming(()=>{u.setInterval(()=>{const p=t.getBoundingClientRect(),m=r.getBoundingClientRect();if(m.top==0&&m.left==0&&m.height==0&&m.width==0){e.hidePopup();return}const w=(b,S)=>{const E=o(i.style[S]);b.last!==E&&(b.initial=E,b.last=E);const _=p[S]-m[S];if(_!=b.lastDiff){const N=this.keepXYWithinBounds(i,b.initial+b.initialDiff-_,b.direction);i.style[S]=`${N}px`,b.last=N}b.lastDiff=_};w(l,"top"),w(c,"left")},200).then(p=>{h(()=>{p!=null&&window.clearInterval(p)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:r}=e,i=n||r;if(!i)return!1;const s=this.getPopupIndex(t);if(s===-1)return!1;for(let o=s;o<this.popupList.length;o++){const a=this.popupList[o];if(G1e(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Aa(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),r=n.length,i=this.getWrapper(e);if(!i||r<=1||!t.contains(e))return;const s=[],o=[];for(const p of n)p!==i&&(p.classList.contains("ag-always-on-top")?o.push(p):s.push(p));const a=[],l=o.length,h=i.classList.contains("ag-always-on-top")||!l?[...s,...o,i]:[...s,i,...o];for(let p=0;p<=r;p++){const m=h[p];if(n[p]===h[p]||m===i)continue;m.querySelectorAll("div").forEach(w=>{w.scrollTop!==0&&a.push([w,w.scrollTop])}),p===0?t.insertAdjacentElement("afterbegin",m):h[p-1].insertAdjacentElement("afterend",m)}for(;a.length;){const p=a.pop();p[0].scrollTop=p[1]}}},NA={moduleName:"Popup",version:on,beans:[jFe]},KFe=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]),:where(.ag-input-field-input[type=datetime-local]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input :where(input)[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:solid var(--ag-border-width) var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function YFe(e){const t=e.filterManager;return!!t?.isColumnFilterPresent()||!!t?.isAggregateFilterPresent()}function XFe(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function ZFe(e,t){const n=e.colModel.getColDefCol(t);if(n)return e.colFilter?.destroyFilter(n,"api")}function qFe(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function QFe(e){return e.filterManager?.getFilterModel()??{}}function JFe(e,t,n){const{gos:r,colModel:i,colFilter:s}=e;n&&!r.get("enableFilterHandlers")&&(zt(288),n=!1);const o=i.getColDefCol(t);return o?s?.getModelForColumn(o,n)??null:null}function $Fe(e,t,n){return e.filterManager?.setColumnFilterModel(t,n)??Promise.resolve()}function eIe(e,t){const n=e.colModel.getCol(t);if(!n){Ti(12,{colKey:t});return}e.menuSvc?.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}function tIe(e){e.menuSvc?.hideFilterMenu()}function nIe(e,t){const n=e.colModel.getCol(t);if(!n){Ti(12,{colKey:t});return}return e.colFilter?.getHandler(n,!0)}function rIe(e,t){const{colModel:n,colFilter:r,gos:i}=e;if(!i.get("enableFilterHandlers")){zt(287);return}const{colId:s,action:o}=t;if(s){const a=n.getColById(s);a&&r?.updateModel(a,o)}else r?.updateAllModels(o)}var iIe={filterHandler:()=>({doesFilterPass:()=>!0})},sIe=class extends _t{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.modelUpdates=[],this.columnModelUpdates=[],this.state=new Map,this.handlerMap={...Jq},this.isGlobalButtons=!1,this.activeFilterComps=new Set}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)});const e=this.gos,t={...e.get("initialState")?.filter?.filterModel??{}};this.initialModel=t,this.model={...t},e.get("enableFilterHandlers")||delete this.handlerMap.agMultiColumnFilter}refreshModel(){this.onNewRowsLoaded("rowDataUpdated")}setModel(e,t="api"){const{colModel:n,dataTypeSvc:r,filterManager:i}=this.beans;if(r?.isPendingInference){this.modelUpdates.push({model:e,source:t});return}const s=[],o=this.getModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,c)=>{const u=e[c];s.push(this.setModelOnFilterWrapper(l,u)),a.delete(c)}),a.forEach(l=>{const c=n.getColDefCol(l)||n.getCol(l);if(!c){zt(62,{colId:l});return}if(!c.isFilterAllowed()){zt(63,{colId:l});return}const u=this.getOrCreateFilterWrapper(c,!0);if(!u){zt(64,{colId:l});return}s.push(this.setModelOnFilterWrapper(u,e[l],!0))})}else this.model={},this.allColumnFilters.forEach(a=>{s.push(this.setModelOnFilterWrapper(a,null))});Xr.all(s).then(()=>{const a=this.getModel(!0),l=[];this.allColumnFilters.forEach((c,u)=>{const h=o?o[u]:null,p=a?a[u]:null;Lx(h,p)||l.push(c.column)}),l.length>0&&i?.onFilterChanged({columns:l,source:t})})}getModel(e){const t={},{allColumnFilters:n,initialModel:r,beans:{colModel:i}}=this;if(n.forEach((s,o)=>{const a=this.getModelFromFilterWrapper(s);nn(a)&&(t[o]=a)}),!e)for(const s of Object.keys(r)){const o=r[s];nn(o)&&!n.has(s)&&i.getCol(s)?.isFilterAllowed()&&(t[s]=o)}return t}setState(e,t,n="api"){if(this.state.clear(),t)for(const r of Object.keys(t)){const i=t[r];this.state.set(r,{model:_a(this.model,r),state:i})}this.setModel(e,n)}getState(){const e=this.state;if(!e.size)return;const t={};let n=!1;return e.forEach((r,i)=>{const s=r.state;s!=null&&(n=!0,t[i]=s)}),n?t:void 0}getModelFromFilterWrapper(e){const n=e.column.getColId();if(e.isHandler)return _a(this.model,n);const r=e.filter;return r?typeof r.getModel!="function"?(zt(66),null):r.getModel():_a(this.initialModel,n)}isFilterPresent(){return this.activeColumnFilters.length>0}isAggFilterPresent(){return!!this.activeAggregateFilters.length}disableFilters(){this.initialModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}updateActiveFilters(){const e=c=>c?c.isFilterActive?c.isFilterActive():(zt(67),!1):!1,{colModel:t,gos:n}=this.beans,r=!!NF(n),i=c=>{if(!c.isPrimary())return!0;const h=!t.isPivotActive();return!c.isValueActive()||!h?!1:t.isPivotMode()?!0:r},s=[],o=[],a=(c,u,h)=>{u&&(i(c)?s.push(h):o.push(h))},l=[];return this.allColumnFilters.forEach(c=>{const u=c.column,h=u.getColId();if(c.isHandler)l.push(Xr.resolve().then(()=>{a(u,this.isHandlerActive(u),{colId:h,isHandler:!0,handler:c.handler,handlerParams:c.handlerParams})}));else{const p=Xp(c);p&&l.push(p.then(m=>{a(u,e(m),{colId:h,isHandler:!1,comp:m})}))}}),Xr.all(l).then(()=>{this.activeAggregateFilters=s,this.activeColumnFilters=o})}updateFilterFlagInColumns(e,t){const n=[];return this.allColumnFilters.forEach(r=>{const i=r.column;if(r.isHandler)n.push(Xr.resolve().then(()=>{this.setColFilterActive(i,this.isHandlerActive(i),e,t)}));else{const s=Xp(r);s&&n.push(s.then(o=>{this.setColFilterActive(i,o.isFilterActive(),e,t)}))}}),this.beans.groupFilter?.updateFilterFlags(e,t),Xr.all(n)}doFiltersPass(e,t,n){const{data:r,aggData:i}=e,s=n?this.activeAggregateFilters:this.activeColumnFilters,o=n?i:r,a=this.model;for(let l=0;l<s.length;l++){const c=s[l],{colId:u,isHandler:h}=c;if(u!==t)if(h){const{handler:p,handlerParams:m}=c;if(!p.doesFilterPass({node:e,data:o,model:_a(a,u),handlerParams:m}))return!1}else{const p=c.comp;if(typeof p.doesFilterPass!="function"){Ti(91);continue}if(!p.doesFilterPass({node:e,data:o}))return!1}}return!0}getHandlerParams(e){const t=this.allColumnFilters.get(e.getColId());return t?.isHandler?t.handlerParams:void 0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,r=()=>{this.isAlive()&&n?.onFilterChanged(e)};t.isRefreshInProgress()?setTimeout(r,0):r()}updateBeforeFilterChanged(e={}){const{column:t,additionalEventAttributes:n}=e,r=t?.getColId();return this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{const{column:s,isHandler:o}=i;r!==s.getColId()&&(o&&i.handler.onAnyFilterChanged?.(),Xp(i,o)?.then(a=>{typeof a?.onAnyFilterChanged=="function"&&a.onAnyFilterChanged()}))}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){const t=[];this.allColumnFilters.forEach(n=>{const r=n.isHandler;r&&n.handler.onNewRowsLoaded?.();const i=Xp(n,r);i&&t.push(i.then(s=>{s.onNewRowsLoaded?.()}))}),Xr.all(t).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e,t){const{filterValueSvc:n,colModel:r}=this.beans;return(i,s)=>{const o=s?r.getCol(s):e;return o?n.getValue(o,i,t):void 0}}isFilterActive(e){const t=this.cachedFilter(e);if(t?.isHandler)return this.isHandlerActive(e);const n=t?.filter;return n?n.isFilterActive():_a(this.initialModel,e.getColId())!=null}isHandlerActive(e){const t=nn(_a(this.model,e.getColId()));if(t)return t;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterActive(e):!1}getOrCreateFilterUi(e){const t=this.getOrCreateFilterWrapper(e,!0);return t?Xp(t):null}getFilterUiForDisplay(e){const t=this.getOrCreateFilterWrapper(e,!0);if(!t)return null;const n=Xp(t);return n?n.then(r=>({comp:r,params:t.filterUi.filterParams,isHandler:t.isHandler})):null}getHandler(e,t){const n=this.getOrCreateFilterWrapper(e,t);return n?.isHandler?n.handler:void 0}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return;let n=this.cachedFilter(e);return!n&&t&&(n=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,n)),n}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e,t=!1){return this.getDefaultFilterFromDataType(()=>this.beans.dataTypeSvc?.getBaseDataType(e),t)}getDefaultFilterFromDataType(e,t=!1){return O1e(this.gos)?t?"agSetColumnFloatingFilter":"agSetColumnFilter":yTe(e(),t)}getDefaultFloatingFilter(e){return this.getDefaultFilter(e,!0)}createFilterComp(e,t,n,r,i,s){const o=()=>{const c=this.createFilterCompParams(e,i,s),u=r(c,i);return Y_e(this.beans.userCompFactory,t,u,n)},a=o();return a?{compDetails:a,createFilterUi:c=>(c?o():a).newAgStackInstance()}:null}createFilterInstance(e,t,n,r){const i=this.beans.selectableFilter;i?.isSelectable(t)&&(t=i.getFilterDef(e,t));const{handler:s,handlerParams:o,handlerGenerator:a}=this.createHandler(e,t,n)??{},l=this.createFilterComp(e,t,n,r,!!s,"init");if(!l)return{compDetails:null,createFilterUi:null,handler:s,handlerGenerator:a,handlerParams:o};const{compDetails:c,createFilterUi:u}=l;return this.isGlobalButtons&&(c.params?.buttons?.length||zt(281,{colId:e.getColId()})),{compDetails:c,handler:s,handlerGenerator:a,handlerParams:o,createFilterUi:u}}createBaseFilterParams(e,t){const{filterManager:n,rowModel:r}=this.beans;return In(this.gos,{column:e,colDef:e.getColDef(),getValue:this.createGetValue(e),doesRowPassOtherFilter:t?()=>!0:i=>n?.doesRowPassOtherFilters(e.getColId(),i)??!0,rowModel:r})}createFilterCompParams(e,t,n,r){const i=this.filterChangedCallbackFactory(e),s=this.createBaseFilterParams(e,r);if(s.filterChangedCallback=i,s.filterModifiedCallback=r?()=>{}:o=>this.filterModified(e,o),t){const o=s,a=e.getColId(),l=_a(this.model,a);o.model=l,o.state=this.state.get(a)??{model:l},o.onModelChange=(c,u)=>{this.updateStoredModel(a,c),this.refreshHandlerAndUi(e,c,"ui").then(()=>{i({...u,source:"columnFilter"})})},o.onStateChange=c=>{this.updateState(e,c),this.updateOrRefreshFilterUi(e)},o.onAction=(c,u,h)=>{this.updateModel(e,c,u),this.dispatchLocalEvent({type:"filterAction",column:e,action:c,event:h})},o.getHandler=()=>this.getHandler(e,!0),o.onUiChange=c=>this.filterUiChanged(e,c),o.source=n}return s}createFilterUiForHandler(e,t){return t?{created:!1,create:t,filterParams:e.params,compDetails:e}:null}createFilterUiLegacy(e,t,n){const r=t(),i={created:!0,create:t,filterParams:e.params,compDetails:e,promise:r};return r.then(n),i}createFilterWrapper(e){const{compDetails:t,handler:n,handlerGenerator:r,handlerParams:i,createFilterUi:s}=this.createFilterInstance(e,e.getColDef(),this.getDefaultFilter(e),a=>a),o=e.getColId();if(n)return delete this.initialModel[o],n.init?.({...i,source:"init",model:_a(this.model,o)}),{column:e,isHandler:!0,handler:n,handlerGenerator:r,handlerParams:i,filterUi:this.createFilterUiForHandler(t,s)};if(s){const a={column:e,filterUi:null,isHandler:!1};return a.filterUi=this.createFilterUiLegacy(t,s,l=>{a.filter=l??void 0}),a}return{column:e,filterUi:null,isHandler:!1}}createHandlerFunc(e,t){const{gos:n,frameworkOverrides:r,registry:i}=this.beans;let s;const o=h=>{const p=h.filter;if(Aq(p)){const m=p.handler;return m||(s=p.doesFilterPass,s?()=>({doesFilterPass:s}):void 0)}return typeof p=="string"?p:void 0},a=n.get("enableFilterHandlers")?o(e):void 0,l=h=>()=>this.createBean(i.createDynamicBean(h,!0));let c,u;if(typeof a=="string"){const h=n.get("filterHandlers")?.[a];h!=null?c=h:iTe.has(a)&&(c=l(a),u=a)}else c=a;if(!c){let h;const{compName:p,jsComp:m,fwComp:y}=Dq(r,e);p?h=p:m==null&&y==null&&e.filter===!0&&(h=t),u=this.handlerMap[h],u&&(c=l(u))}if(c)return{filterHandler:c,handlerNameOrCallback:s??u}}createHandler(e,t,n){let r=this.createHandlerFunc(t,n);if(!r){const c=this.gos;if(!c.get("enableFilterHandlers"))return;Yo(c)&&zt(277,{colId:e.getColId()}),r=iIe}const i=eD(this.beans.userCompFactory,t,this.createFilterCompParams(e,!0,"init")),{handlerNameOrCallback:s,filterHandler:o}=r,{handler:a,handlerParams:l}=this.createHandlerFromFunc(e,o,i);return{handler:a,handlerParams:l,handlerGenerator:s??o}}createHandlerFromFunc(e,t,n){const r=e.getColDef(),i=t(In(this.gos,{column:e,colDef:r})),s=this.createHandlerParams(e,n);return{handler:i,handlerParams:s}}createHandlerParams(e,t){const n=e.getColDef(),r=e.getColId(),i=this.filterChangedCallbackFactory(e);return In(this.gos,{colDef:n,column:e,getValue:this.createGetValue(e),doesRowPassOtherFilter:s=>this.beans.filterManager?.doesRowPassOtherFilters(r,s)??!0,onModelChange:(s,o)=>{this.updateStoredModel(r,s),this.refreshHandlerAndUi(e,s,"handler").then(()=>{i({...o,source:"columnFilter"})})},filterParams:t})}onColumnsChanged(){const e=[],{colModel:t,filterManager:n,groupFilter:r}=this.beans;this.allColumnFilters.forEach((s,o)=>{let a;s.column.isPrimary()?a=t.getColDefCol(o):a=t.getCol(o),!(a&&a===s.column)&&(e.push(s.column),this.disposeFilterWrapper(s,"columnChanged"),this.disposeColumnListener(o))});const i=r&&e.every(s=>r.isGroupFilter(s));e.length>0&&!i&&n?.onFilterChanged({columns:e,source:"api"})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const n=this.beans.groupFilter;return n?.isGroupFilter(e)?n.isFilterAllowed(e):!0}getFloatingFilterCompDetails(e,t){const{userCompFactory:n,frameworkOverrides:r,selectableFilter:i}=this.beans,s=p=>{const m=this.getOrCreateFilterUi(e);m?.then(y=>{p(Gx(y))})},o=e.getColDef(),a=i?.isSelectable(o)?i.getFilterDef(e,o):o,l=_Te(r,a,()=>this.getDefaultFloatingFilter(e))??"agReadOnlyFloatingFilter",c=this.gos.get("enableFilterHandlers"),u=eD(n,a,this.createFilterCompParams(e,c,"init",!0)),h=In(this.gos,{column:e,filterParams:u,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:s,showParentFilter:t});if(c){const p=h,m=e.getColId(),y=this.filterChangedCallbackFactory(e);p.onUiChange=w=>this.floatingFilterUiChanged(e,w),p.model=_a(this.model,m),p.onModelChange=(w,b)=>{this.updateStoredModel(m,w),this.refreshHandlerAndUi(e,w,"floating",!0).then(()=>{y({...b,source:"columnFilter"})})},p.getHandler=()=>this.getHandler(e,!0),p.source="init"}return J_e(n,o,h,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilterUi(e,t,n,r){if(e.isHandler){const i=t.getColId();delete this.initialModel[i],this.state.delete(i);const s=e.filterUi,o=this.createFilterUiForHandler(n,r);e.filterUi=o,s?.created&&s.promise.then(a=>{this.destroyBean(a),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:"paramsUpdated",column:e.column})})}else this.destroyFilter(t,"paramsUpdated")}destroyFilter(e,t="api"){const n=e.getColId(),r=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialModel[n],r&&this.disposeFilterWrapper(r,t).then(i=>{i&&this.isAlive()&&this.beans.filterManager?.onFilterChanged({columns:[e],source:"api"})})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){let n=!1;const{column:r,isHandler:i,filterUi:s}=e,o=r.getColId();i&&(n=this.isHandlerActive(r),this.destroyBean(e.handler),delete this.model[o],this.state.delete(o));const a=()=>{this.setColFilterActive(r,!1,"filterDestroyed"),this.allColumnFilters.delete(o),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:r})};if(s){if(s.created)return s.promise.then(l=>(n=i?n:!!l?.isFilterActive(),this.destroyBean(l),a(),n));a()}return Xr.resolve(n)}filterChangedCallbackFactory(e){return t=>{this.callOnFilterChangedOutsideRenderCycle({additionalEventAttributes:t,columns:[e],column:e,source:t?.source??"columnFilter"})}}filterParamsChanged(e,t="api"){const n=this.allColumnFilters.get(e);if(!n)return;const r=this.beans,i=n.column,s=i.getColDef(),o=i.isFilterAllowed(),a=this.getDefaultFilter(i),l=r.selectableFilter,c=l?.isSelectable(s)?l.getFilterDef(i,s):s,u=o?this.createHandlerFunc(c,this.getDefaultFilter(i)):void 0,h=!!u,p=n.isHandler;if(p!=h){this.destroyFilter(i,"paramsUpdated");return}const{compDetails:m,createFilterUi:y}=(o?this.createFilterComp(i,c,a,b=>b,h,"colDef"):null)??{compDetails:null,createFilterUi:null},w=m?.params??eD(r.userCompFactory,c,this.createFilterCompParams(i,h,"colDef"));if(p){const b=u?.handlerNameOrCallback??u?.filterHandler,S=_a(this.model,e);if(n.handlerGenerator!=b){const E=n.handler,{handler:_,handlerParams:N}=this.createHandlerFromFunc(i,u.filterHandler,w);n.handler=_,n.handlerParams=N,n.handlerGenerator=b,delete this.model[e],_.init?.({...N,source:"init",model:null}),this.destroyBean(E),S!=null&&this.beans.filterManager?.onFilterChanged({columns:[i],source:t})}else{const E=this.createHandlerParams(i,m?.params);n.handlerParams=E,n.handler.refresh?.({...E,source:"colDef",model:S})}}if(this.areFilterCompsDifferent(n.filterUi?.compDetails??null,m)||!n.filterUi||!m){this.destroyFilterUi(n,i,m,y);return}n.filterUi.filterParams=w,Xp(n,p)?.then(b=>{(b?.refresh?b.refresh(w):!0)===!1?this.destroyFilterUi(n,i,m,y):this.dispatchLocalEvent({type:"filterParamsChanged",column:i,params:w})})}refreshHandlerAndUi(e,t,n,r){const i=this.cachedFilter(e);if(!i)return r&&this.getOrCreateFilterWrapper(e,!0),Xr.resolve();if(!i.isHandler)return Xr.resolve();const{filterUi:s,handler:o,handlerParams:a}=i;return sTe(()=>{if(s){const{created:l,filterParams:c}=s;if(l)return s.promise.then(u=>u?{filter:u,filterParams:c}:void 0);s.refreshed=!0}return Xr.resolve(void 0)},o,a,t,this.state.get(e.getColId())??{model:t},n)}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.filterParamsChanged(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:r}=t;return!(n===r||n?.render&&r?.render&&n.render===r.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e){const t=this.beans.colModel.getColDefCol(e);if(!t)return Promise.resolve(void 0);const n=this.getOrCreateFilterUi(t);return n?new Promise(r=>{n.then(i=>{r(Gx(i))})}):Promise.resolve(null)}processFilterModelUpdateQueue(){this.modelUpdates.forEach(({model:e,source:t})=>this.setModel(e,t)),this.modelUpdates=[],this.columnModelUpdates.forEach(({key:e,model:t,resolve:n})=>{this.setModelForColumn(e,t).then(()=>n())}),this.columnModelUpdates=[]}getModelForColumn(e,t){if(t){const{state:r,model:i}=this,s=e.getColId(),o=r.get(s);return o?o.model??null:_a(i,s)}const n=this.cachedFilter(e);return n?this.getModelFromFilterWrapper(n):null}setModelForColumn(e,t){if(this.beans.dataTypeSvc?.isPendingInference){let n=()=>{};const r=new Promise(i=>{n=i});return this.columnModelUpdates.push({key:e,model:t,resolve:n}),r}return new Promise(n=>{this.setModelForColumnLegacy(e,t).then(r=>n(r))})}getStateForColumn(e){return this.state.get(e)??{model:_a(this.model,e)}}setModelForColumnLegacy(e,t){const n=this.beans.colModel.getColDefCol(e),r=n?this.getOrCreateFilterWrapper(n,!0):null;return r?this.setModelOnFilterWrapper(r,t):Xr.resolve()}setColDefPropsForDataType(e,t,n){const r=e.filter,i=r===!0?this.getDefaultFilterFromDataType(()=>t.baseDataType):r;if(typeof i!="string")return;let s,o;const a=this.beans,{filterParams:l,filterValueGetter:c}=e;i==="agMultiColumnFilter"?{filterParams:s,filterValueGetter:o}=a.multiFilter?.getParamsForDataType(l,c,t,n)??{}:{filterParams:s,filterValueGetter:o}=gTe(i,l,c,t,n,a,this.getLocaleTextFunc()),e.filterParams=s,o&&(e.filterValueGetter=o)}setColFilterActive(e,t,n,r){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,r)}setModelOnFilterWrapper(e,t,n){return new Xr(r=>{if(e.isHandler){const s=e.column,o=s.getColId(),a=this.model[o];if(this.updateStoredModel(o,t),n&&t===a){r();return}this.refreshHandlerAndUi(s,t,"api").then(()=>r());return}const i=Xp(e);if(i){i.then(s=>{if(typeof s?.setModel!="function"){zt(65),r();return}(s.setModel(t)||Xr.resolve()).then(()=>r())});return}r()})}updateStoredModel(e,t){nn(t)?this.model[e]=t:delete this.model[e];const n=this.state.get(e),r={model:t,state:n?.state};this.state.set(e,r)}filterModified(e,t){this.getOrCreateFilterUi(e)?.then(n=>{this.eventSvc.dispatchEvent({type:"filterModified",column:e,filterInstance:n,...t})})}filterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"filterUiChanged",column:e,...t})}floatingFilterUiChanged(e,t){this.gos.get("enableFilterHandlers")&&this.eventSvc.dispatchEvent({type:"floatingFilterUiChanged",column:e,...t})}updateModel(e,t,n){const r=e.getColId(),i=()=>this.cachedFilter(e)?.filterUi;iz(t,i,()=>_a(this.model,r),()=>this.state.get(r),s=>this.updateState(e,s),s=>i()?.filterParams?.onModelChange(s,n))}updateAllModels(e,t){const n=[];this.allColumnFilters.forEach((r,i)=>{const s=this.beans.colModel.getColDefCol(i);s&&iz(e,()=>r.filterUi,()=>_a(this.model,i),()=>this.state.get(i),o=>this.updateState(s,o),o=>{this.updateStoredModel(i,o),this.dispatchLocalEvent({type:"filterAction",column:s,action:e}),n.push(this.refreshHandlerAndUi(s,o,"ui"))})}),n.length&&Xr.all(n).then(()=>{this.callOnFilterChangedOutsideRenderCycle({source:"columnFilter",additionalEventAttributes:t,columns:[]})})}updateOrRefreshFilterUi(e){const t=e.getColId();eQ(()=>this.cachedFilter(e)?.filterUi,()=>_a(this.model,t),()=>this.state.get(t))}updateState(e,t){this.state.set(e.getColId(),t),this.dispatchLocalEvent({type:"filterStateChanged",column:e,state:t})}canApplyAll(){const{state:e,model:t,activeFilterComps:n}=this;for(const i of n)if(i.source==="COLUMN_MENU")return!1;let r=!1;for(const i of e.keys()){const s=e.get(i);if(s.valid===!1)return!1;(s.model??null)!==_a(t,i)&&(r=!0)}return r}hasUnappliedModel(e){const{model:t,state:n}=this;return(n.get(e)?.model??null)!==_a(t,e)}setGlobalButtons(e){this.isGlobalButtons=e,this.dispatchLocalEvent({type:"filterGlobalButtons",isGlobal:e})}shouldKeepStateOnDetach(e,t){if(t==="newFiltersToolPanel")return!0;const n=this.beans.filterPanelSvc;return n?.isActive?!!n.getState(e.getColId()):!1}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear(),this.state.clear(),this.activeFilterComps.clear()}};function oIe(e){return!!e.filterManager?.isAnyFilterPresent()}function aIe(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var lIe=class extends _t{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:r})=>this.onAdvFilterEnabledChanged(r),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterState(e,t,n="api"){this.isAdvFilterEnabled()||this.colFilter?.setState(e,t,n)}setFilterModel(e,t="api",n){if(this.isAdvFilterEnabled()){n||this.warnAdvFilters();return}this.colFilter?.setModel(e,t)}getFilterModel(){return this.colFilter?.getModel()??{}}getFilterState(){return this.colFilter?.getState()}isColumnFilterPresent(){return!!this.colFilter?.isFilterPresent()}isAggregateFilterPresent(){return!!this.colFilter?.isAggFilterPresent()}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){e?this.colFilter?.disableFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilter?.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){return!!this.advancedFilter?.isEnabled()}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){NF(this.gos)&&this.isAnyFilterPresent()&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:r=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):Xr.resolve()).then(()=>{const i={source:t,type:"filterChanged",columns:r};n&&lc(i,n),this.eventSvc.dispatchEvent(i),this.colFilter?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.colFilter?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilter?.isFilterPresent()}updateAggFiltering(){this.aggFiltering=!!NF(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,colIdToSkip:e})}doesRowPassAggregateFilters(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip,!0))}doesRowPassFilter(e){const{rowNode:t}=e;return this.alwaysPassFilter?.(t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doFiltersPass(t,e.colIdToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterAllowed(e){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.isFilterAllowed(e)}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){if(this.isAdvFilterEnabled()){if(this.beans.dataTypeSvc?.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvFilterEnabled()?!1:!!this.colFilter?.hasFloatingFilters()}getColumnFilterInstance(e){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):this.colFilter?.getFilterInstance(e)??Promise.resolve(void 0)}warnAdvFilters(){zt(68)}setupAdvFilterHeaderComp(e){this.advancedFilter?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}setColumnFilterModel(e,t){return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):this.colFilter?.setModelForColumn(e,t)??Promise.resolve()}},cIe=class extends _t{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){this.hidePopup?.()}showMenuAfterMouseEvent(e,t,n,r){e&&!e.isColumn||this.showPopup(e,i=>{this.popupSvc?.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:i})},n,t.target,wu(this.gos),r)}showMenuAfterButtonClick(e,t,n,r){if(e&&!e.isColumn)return;let i=-1,s="left";const o=wu(this.gos);!o&&this.gos.get("enableRtl")&&(i=1,s="right");const a=o?void 0:4*i,l=o?void 0:4;this.showPopup(e,c=>{this.popupSvc?.positionPopupByComponent({type:n,eventSource:t,ePopup:c,nudgeX:a,nudgeY:l,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},n,t,o,r)}showPopup(e,t,n,r,i,s){const o=e?this.createBean(new dTe(e,"COLUMN_MENU")):void 0;if(this.activeMenu=o,!o?.hasFilter()||!e){Ti(57);return}const a=To({tag:"div",cls:`ag-menu${i?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:w=>this.trapFocusWithin(w,a)}),a.appendChild(o?.getGui());let l;const c=()=>o?.afterGuiDetached(),u=L1e(this.gos)?r??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,h=w=>{hz(e,!1,"contextMenu");const b=w instanceof KeyboardEvent;this.tabListener&&(this.tabListener=this.tabListener()),b&&r&&mf(r)&&jq(r)?.focus({preventScroll:!0}),c(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),s?.()},p=this.getLocaleTextFunc(),m=i&&n!=="columnFilter"?p("ariaLabelColumnMenu","Column Menu"):p("ariaLabelColumnFilter","Column Filter"),y=this.popupSvc?.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:h,positionCallback:()=>t(a),anchorToElement:u,ariaLabel:m});y&&(this.hidePopup=l=y.hideFunc),o.afterInit().then(()=>{t(a),o.afterGuiAttached({container:n,hidePopup:l})}),hz(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==vt.TAB||e.defaultPrevented||iv(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),I0(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},uIe=class extends _t{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t,n){if(!t)return;const r=e.getColDef(),{selectableFilter:i,valueSvc:s}=this.beans,o=n??i?.getFilterValueGetter(e.getColId())??r.filterValueGetter;return o?this.executeFilterValueGetter(o,t.data,e,t,r):s.getValue(e,t)}executeFilterValueGetter(e,t,n,r,i){const{expressionSvc:s,valueSvc:o}=this.beans,a=In(this.gos,{data:t,node:r,column:n,colDef:i,getValue:o.getValueCallback.bind(o,r)});return typeof e=="function"?e(a):s?.evaluate(e,a)}},dIe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},hIe=class extends qi{constructor(){super(dIe,[MA]),this.eFloatingFilterText=Tn}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);if(this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`),this.gos.get("enableFilterHandlers")){const n=e,r=n.getHandler();if(r.getModelAsString){const i=r.getModelAsString(n.model);this.eFloatingFilterText.setValue(i)}}}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},rN=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions??t,this.mapCustomOptions(),this.defaultOption=this.getDefaultItem(e.defaultOption)}refresh(e,t){const n=e.filterOptions??t;this.filterOptions!==n&&(this.filterOptions=n,this.customFilterOptions={},this.mapCustomOptions()),this.defaultOption=this.getDefaultItem(e.defaultOption)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(s=>t[s]!=null)?!0:(zt(72,{keys:i}),!1);if(!n.every(r)){this.filterOptions=e.filter(i=>i===t)||[];return}this.customFilterOptions[t.displayKey]=t})}getDefaultItem(e){const{filterOptions:t}=this;if(e)return e;if(t.length>=1){const n=t[0];if(typeof n=="string")return n;if(n.displayKey)return n.displayKey;zt(73)}else zt(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Yb(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function tR(e){return e==null||typeof e=="string"&&e.trim().length===0}function fIe(e){return e==="AND"||e==="OR"?e:"AND"}function pIe(e,t,n){if(e==null)return;const{predicate:r}=e;if(r!=null&&!t.some(i=>i==null))return r(t,n)}function gIe(e,t){let n=e.length;return n>t&&(e.splice(t),zt(78),n=t),n}function Xx(e,t){const n=t.getCustomOption(e);if(n){const{numberOfInputs:i}=n;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}var iN=class extends xTe{constructor(e,t,n){super(e,"simple-filter"),this.mapValuesFromModel=t,this.defaultOptions=n,this.eTypes=[],this.eJoinPanels=[],this.eJoinAnds=[],this.eJoinOrs=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}setParams(e){super.setParams(e);const t=new rN;this.optionsFactory=t,t.init(e,this.defaultOptions),this.commonUpdateSimpleParams(e),this.createOption(),this.createMissingConditionsAndOperators()}updateParams(e,t){this.optionsFactory.refresh(e,this.defaultOptions),super.updateParams(e,t),this.commonUpdateSimpleParams(e)}commonUpdateSimpleParams(e){this.setNumConditions(e),this.defaultJoinOperator=fIe(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.createFilterListOptions();const t=this.getGui();this.isReadOnly()?t.setAttribute("tabindex","-1"):t.removeAttribute("tabindex")}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged("immediately",!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const r=n===0?e:this.optionsFactory.defaultOption;t.setValue(r,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOrs:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areNonNullModelsEqual(e,t){const n=!e.operator,r=!t.operator;if(!n&&r||n&&!r)return!1;let s;if(n){const o=e,a=t;s=this.areSimpleModelsEqual(o,a)}else{const o=e,a=t;s=o.operator===a.operator&&rv(o.conditions,a.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return s}setModelIntoUi(e,t){if(e==null)return this.resetUiToDefaults(t),Xr.resolve();if(e.operator){const r=e;let i=r.conditions;i==null&&(i=[],zt(77));const s=gIe(i,this.maxNumConditions),o=this.getNumConditions();if(s<o)this.removeConditionsAndOperators(s);else if(s>o)for(let l=o;l<s;l++)this.createJoinOperatorPanel(),this.createOption();const a=r.operator==="OR";this.eJoinAnds.forEach(l=>l.setValue(!a,!0)),this.eJoinOrs.forEach(l=>l.setValue(a,!0)),i.forEach((l,c)=>{this.eTypes[c].setValue(l.type,!0),this.setConditionIntoUi(l,c)})}else{const r=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(r.type,!0),this.setConditionIntoUi(r,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.updateUiVisibility(),t||this.params.onUiChange(this.getUiChangeEventParams()),Xr.resolve()}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(zt(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(zt(80),n=1),n>t&&(zt(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.getGui(),t=this.createManagedBean(new JL);this.eTypes.push(t),t.addCss("ag-filter-select"),e.appendChild(t.getGui());const n=this.createEValue();this.eConditionBodies.push(n),e.appendChild(n),this.putOptionsIntoDropdown(t),this.resetType(t);const r=this.getNumConditions()-1;this.forEachPositionInput(r,i=>this.resetInput(i)),this.addChangedListeners(t,r)}createJoinOperatorPanel(){const e=To({tag:"div",cls:"ag-filter-condition"});this.eJoinPanels.push(e);const t=this.createJoinOperator(this.eJoinAnds,e,"and"),n=this.createJoinOperator(this.eJoinOrs,e,"or");this.getGui().appendChild(e);const r=this.eJoinPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,r,i),this.resetJoinOperatorOr(n,r,i),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const r=this.createManagedBean(new GRe);e.push(r);const i="ag-filter-condition-operator";return r.addCss(i),r.addCss(`${i}-${n}`),t.appendChild(r.getGui()),r}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const r=e+1,i=n-r;i>0&&this.removeConditionsAndOperators(r,i),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((r,i)=>{const s=this.isConditionDisabled(i,e);r.setDisabled(s||this.filterListOptions.length<=1),i===1&&(Bx(this.eJoinPanels[0],s),this.eJoinAnds[0].setDisabled(s),this.eJoinOrs[0].setDisabled(s))}),this.eConditionBodies.forEach((r,i)=>{Vs(r,this.isConditionBodyVisible(i))});const n=(t??this.getJoinOperator())==="OR";this.eJoinAnds.forEach(r=>{r.setValue(!n,!0)}),this.eJoinOrs.forEach(r=>{r.setValue(n,!0)}),this.forEachInput((r,i,s,o)=>{this.setElementDisplayed(r,i<o),this.setElementDisabled(r,this.isConditionDisabled(s,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:r,eJoinPanels:i,eJoinAnds:s,eJoinOrs:o}=this;this.removeComponents(n,e,t),this.removeElements(r,e,t),this.removeEValues(e,t);const a=Math.max(e-1,0);this.removeElements(i,a,t),this.removeComponents(s,a,t),this.removeComponents(o,a,t)}removeElements(e,t,n){Yb(e,t,n).forEach(i=>up(i))}removeComponents(e,t,n){Yb(e,t,n).forEach(i=>{up(i.getGui()),this.destroyBean(i)})}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus){let t;if(!this.isReadOnly()){const n=this.getInputs(0)[0];n instanceof Km&&this.isConditionBodyVisible(0)?t=n.getInputElement():t=this.eTypes[0]?.getFocusableElement()}(t??this.getGui()).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.params;if(this.beans.colFilter?.shouldKeepStateOnDetach(e.column))return;e.onStateChange({model:e.model});let t=-1,n=-1,r=!1;const i=this.getJoinOperator();for(let o=this.getNumConditions()-1;o>=0;o--)if(this.isConditionUiComplete(o))t===-1&&(t=o,n=o);else{const a=o>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(o-1),l=o<t;(a||l)&&(this.removeConditionsAndOperators(o,1),r=!0,l&&n--)}let s=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),s=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),s=!0),s&&this.updateConditionStatusesAndValues(n,i),r&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getModelAsString(e){return this.params.getHandler()?.getModelAsString?.(e)??""}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const r=this.eTypes[t].getValue(),i=this.translate(r);n=this.filterPlaceholder({filterOptionKey:r,filterOption:i,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,r,i)=>{if(!(t instanceof Km))return;const s=n===0&&i>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",o=n===0&&i>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(s,r)),t.setInputAriaLabel(o)})}setElementValue(e,t,n){e instanceof Km&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof qi&&Vs(e.getGui(),t)}setElementDisabled(e,t){e instanceof qi&&Bx(e.getGui(),t)}attachElementOnChange(e,t){e instanceof Km&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const r=Xx(t,this.optionsFactory),i=this.getInputs(e);for(let s=0;s<i.length;s++){const o=i[s];o!=null&&n(o,s,e,r)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return Xx(t,this.optionsFactory)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinAnds.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOrs.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,this.updateUiVisibility(),e||this.params.onUiChange(this.getUiChangeEventParams())}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,r,i){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(r),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinAnds.forEach(e),this.eJoinOrs.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e,this.optionsFactory);this.forEachInput((r,i,s)=>{s===t&&this.setElementValue(r,n[i]!=null?n[i]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,r)=>{this.setElementValue(t,n===0&&r===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}hasInvalidInputs(){return!1}isReadOnly(){return!!this.params.readOnly}},JQ=class{constructor(e,t,n,r,i,s){this.alive=!0,this.context=e,this.eParent=i;const o=X_e(t,n,r);o&&o.newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;i.appendChild(a.getGui()),a?.afterGuiAttached?.();const{tempValue:l,disabled:c}=this;l&&a.setDate(l),c!=null&&a.setDisabled?.(c),s?.(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){const t=this.dateComp;t?t.setDisabled?.(e):this.disabled=e}setDisplayed(e){Vs(this.eParent,e)}setInputPlaceholder(e){this.dateComp?.setInputPlaceholder?.(e)}setInputAriaLabel(e){this.dateComp?.setInputAriaLabel?.(e)}afterGuiAttached(e){this.dateComp?.afterGuiAttached?.(e)}updateParams(e){this.dateComp?.refresh?.(e)}},sN=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"];function $Q(e,t){const{dateFrom:n,dateTo:r,type:i}=e||{};return[n&&Oc(n)||null,r&&Oc(r)||null].slice(0,Xx(i,t))}var Uz=1e3,Wz=1/0,mIe=class extends iN{constructor(){super("dateFilter",$Q,sN),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Uz,this.maxValidYear=Wz,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}commonUpdateSimpleParams(e){super.commonUpdateSimpleParams(e);const t=(l,c)=>{const u=e[l];if(u!=null)if(isNaN(u))zt(82,{param:l});else return u==null?c:Number(u);return c},n=t("minValidYear",Uz),r=t("maxValidYear",Wz);this.minValidYear=n,this.maxValidYear=r,n>r&&zt(83);const{minValidDate:i,maxValidDate:s}=e,o=i instanceof Date?i:Oc(i);this.minValidDate=o;const a=s instanceof Date?s:Oc(s);this.maxValidDate=a,o&&a&&o>a&&zt(84)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:r},params:i}=this,s=new JQ(n,t,i.colDef,In(r,{onDateChanged:()=>this.onUiChanged(),filterParams:i,location:"filter"}),e);return this.addDestroyFunc(()=>s.destroy()),s}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}createEValue(){const e=To({tag:"div",cls:"ag-filter-body"});return this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,n,r){const i=To({tag:"div",cls:`ag-filter-${r} ag-filter-date-${r}`});t.push(i),e.appendChild(i),n.push(this.createDateCompWrapper(i))}removeEValues(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Yb(this.eConditionPanelsFrom,e,t),Yb(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){Yb(e,t,n).forEach(i=>i.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:r,maxValidYear:i}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<r)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>i)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,r,i,s)=>{i!==e||!t||r>=s||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},r=this.getValues(e);return r.length>0&&(n.dateFrom=_u(r[0])),r.length>1&&(n.dateTo=_u(r[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(r=>{r.setInputPlaceholder(t),r.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}},eJ=class extends _t{constructor(e,t){super(),this.mapValuesFromModel=e,this.defaultOptions=t}init(e){const t=e.filterParams,n=new rN;this.optionsFactory=n,n.init(t,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(n,t)),this.updateParams(e),this.validateModel(e)}refresh(e){if(e.source==="colDef"){const t=e.filterParams,n=this.optionsFactory;n.refresh(t,this.defaultOptions),this.filterModelFormatter.updateParams({optionsFactory:n,filterParams:t}),this.updateParams(e)}this.validateModel(e)}updateParams(e){this.params=e}doesFilterPass(e){const t=e.model;if(t==null)return!0;const{operator:n}=t,r=[];if(n){const o=t;r.push(...o.conditions??[])}else r.push(t);const i=n&&n==="OR"?"some":"every",s=this.params.getValue(e.node);return r[i](o=>this.individualConditionPasses(e,o,s))}getModelAsString(e,t){return this.filterModelFormatter.getModelAsString(e,t)??""}validateModel(e){const{model:t,filterParams:{filterOptions:n,maxNumConditions:r}}=e;if(t==null)return;let s=STe(t)?t.conditions:[t];const o=n?.map(u=>typeof u=="string"?u:u.displayKey)??this.defaultOptions;if(!(!s||s.every(u=>o.find(h=>h===u.type)!==void 0))){this.params={...e,model:null},e.onModelChange(null);return}let l=!1;const c=this.filterType;if((s&&!s.every(u=>u.filterType===c)||t.filterType!==c)&&(s=s.map(u=>({...u,filterType:c})),l=!0),typeof r=="number"&&s&&s.length>r&&(s=s.slice(0,r),l=!0),l){const u=s.length>1?{...t,filterType:c,conditions:s}:{...s[0],filterType:c};this.params={...e,model:u},e.onModelChange(u);return}}individualConditionPasses(e,t,n){const r=this.optionsFactory,i=this.mapValuesFromModel(t,r),s=r.getCustomOption(t.type),o=pIe(s,i,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}},tJ=class extends eJ{evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:r,includeBlanksInLessThan:i,includeBlanksInRange:s}=this.params.filterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(r)return!0;break;case"lessThan":case"lessThanOrEqual":if(i)return!0;break;case"inRange":if(s)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const r=n.type;if(!this.isValid(t))return r==="notEqual"||r==="notBlank";const i=this.comparator(),s=e[0]!=null?i(e[0],t):0;switch(r){case"equals":return s===0;case"notEqual":return s!==0;case"greaterThan":return s>0;case"greaterThanOrEqual":return s>=0;case"lessThan":return s<0;case"lessThanOrEqual":return s<=0;case"inRange":{const o=i(e[1],t);return this.params.filterParams.inRangeInclusive?s>=0&&o<=0:s>0&&o<0}case"blank":return tR(t);case"notBlank":return!tR(t);default:return zt(76,{filterModelType:r}),!0}}},nJ={equals:"Equals",notEqual:"NotEqual",greaterThan:"GreaterThan",greaterThanOrEqual:"GreaterThanOrEqual",lessThan:"LessThan",lessThanOrEqual:"LessThanOrEqual",inRange:"InRange"},vIe={contains:"Contains",notContains:"NotContains",equals:"TextEquals",notEqual:"TextNotEqual",startsWith:"StartsWith",endsWith:"EndsWith",inRange:"InRange"},oN=class extends _t{constructor(e,t,n){super(),this.optionsFactory=e,this.filterParams=t,this.valueFormatter=n}getModelAsString(e,t){const n=this.getLocaleTextFunc(),r=t==="filterToolPanel";if(!e)return r?cg(this,"filterSummaryInactive"):null;if(e.operator!=null){const s=e,a=(s.conditions??[]).map(c=>this.getModelAsString(c,t)),l=s.operator==="AND"?"andCondition":"orCondition";return a.join(` ${cg(this,l)} `)}else{if(e.type==="blank"||e.type==="notBlank")return r?cg(this,e.type==="blank"?"filterSummaryBlank":"filterSummaryNotBlank"):n(e.type,e.type);{const s=e,o=this.optionsFactory.getCustomOption(s.type),{displayKey:a,displayName:l,numberOfInputs:c}=o||{};return a&&l&&c===0?n(a,l):this.conditionToString(s,r,s.type==="inRange"||c===2,a,l)}}}updateParams(e){const{optionsFactory:t,filterParams:n}=e;this.optionsFactory=t,this.filterParams=n}conditionForToolPanel(e,t,n,r,i,s){let o;const a=this.getTypeKey(e);return a&&(o=cg(this,a)),i&&s&&(o=this.getLocaleTextFunc()(i,s)),o!=null?t?`${o} ${cg(this,"filterSummaryInRangeValues",[n(),r()])}`:`${o} ${n()}`:null}getTypeKey(e){const t=this.filterTypeKeys[e];return t?`filterSummary${t}`:null}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},rJ=class extends oN{constructor(e,t){super(e,t,n=>{const{dataTypeSvc:r,valueSvc:i}=this.beans,s=t.column,a=r?.getDateFormatterFunction(s)?.(n??void 0);return i.formatValue(s,null,a)}),this.filterTypeKeys=nJ}conditionToString(e,t,n,r,i){const{type:s}=e,o=Oc(e.dateFrom),a=Oc(e.dateTo),l=this.filterParams.inRangeFloatingFilterDateFormat,c=t?this.formatValue.bind(this):p=>jF(p,l),u=()=>o!==null?c(o):"null",h=()=>a!==null?c(a):"null";if(t){const p=this.conditionForToolPanel(s,n,u,h,r,i);if(p!=null)return p}return n?`${u()}-${h()}`:o!=null?c(o):`${s}`}};function yIe(e,t){const n=t;return n<e?-1:n>e?1:0}var wIe=class extends tJ{constructor(){super($Q,sN),this.filterType="date",this.FilterModelFormatterClass=rJ}comparator(){return this.params.filterParams.comparator??yIe}isValid(e){const t=this.params.filterParams.isValidDate;return!t||t(e)}},iJ=class extends qi{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.params=e;const t=this.gos.get("enableFilterHandlers");if(this.reactive=t,this.setParams(e),t){const n=e;this.onModelUpdated(n.model)}}setParams(e){const t=new rN;this.optionsFactory=t,t.init(e.filterParams,this.defaultOptions),this.filterModelFormatter=this.createManagedBean(new this.FilterModelFormatterClass(t,e.filterParams)),this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=this.optionsFactory.defaultOption;t||(this.lastType=n),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(n);this.setEditable(r)}refresh(e){this.params=e;const t=e,n=this.reactive;if((!n||t.source==="colDef")&&this.updateParams(e),n){const{source:r,model:i}=t;if(r==="dataChanged"||r==="ui")return;this.onModelUpdated(i)}}updateParams(e){const t=this.optionsFactory;t.refresh(e.filterParams,this.defaultOptions),this.setSimpleParams(e),this.filterModelFormatter.updateParams({optionsFactory:t,filterParams:e.filterParams})}onParentModelChanged(e,t){t?.afterFloatingFilter||t?.afterDataChange||this.onModelUpdated(e)}hasSingleInput(e){const t=this.optionsFactory.getCustomOption(e)?.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},CIe={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},bIe=class extends iJ{constructor(){super(CIe,[MA]),this.eReadOnlyText=Tn,this.eDateWrapper=Tn,this.FilterModelFormatterClass=rJ,this.filterType="date",this.defaultOptions=sN}setParams(e){super.setParams(e),this.createDateComponent();const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}updateParams(e){super.updateParams(e),this.dateComp.updateParams(this.getDateComponentParams()),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Oc(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Vs(this.eDateWrapper,e),Vs(this.eReadOnlyText.getGui(),!e)}onModelUpdated(e){super.setLastTypeFromModel(e),this.updateCompOnModelChange(e)}onDateChanged(){const e=this.dateComp.getDate();if(this.reactive){const t=this.params;t.onUiChange();const n=t.model,r=_u(e),i=r==null?null:{...n??{filterType:this.filterType,type:this.lastType??this.optionsFactory.defaultOption},dateFrom:r};t.onModelChange(i,{afterFloatingFilter:!0})}else this.params.parentFilterInstance(t=>{t?.onFloatingFilterChanged(this.lastType||null,e)})}getDateComponentParams(){const{filterParams:e}=this.params,t=VL(e,this.defaultDebounceMs);return In(this.gos,{onDateChanged:nl(this,this.onDateChanged.bind(this),t),filterParams:e,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:r}=this;this.dateComp=new JQ(e,t,r.column.getColDef(),this.getDateComponentParams(),n,i=>{i.setInputAriaLabel(this.getAriaLabel(r))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},xIe={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},SIe=class extends qi{constructor(){super(xIe,[MA]),this.eDateInput=Tn,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&$0();const{minValidYear:r,maxValidYear:i,minValidDate:s,maxValidDate:o,buttons:a,includeTime:l,colDef:c}=e.filterParams||{},u=this.beans.dataTypeSvc,h=l??u?.getDateIncludesTimeFlag?.(c.cellDataType)??!1;if(n?h?(t.type="datetime-local",t.step="1"):t.type="date":t.type="text",s&&r&&zt(85),o&&i&&zt(86),s&&o){const[p,m]=[s,o].map(y=>y instanceof Date?y:Oc(y));p&&m&&p.getTime()>m.getTime()&&zt(87)}s?s instanceof Date?t.min=jF(s):t.min=s:r&&(t.min=`${r}-01-01`),o?o instanceof Date?t.max=jF(o):t.max=o:i&&(t.max=`${i}-12-31`),this.isApply=e.location==="floatingFilter"&&!!a?.includes("apply")}refresh(e){this.params=e,this.setParams(e)}getDate(){return Oc(this.eDateInput.getValue())}setDate(e){const t=this.params.filterParams.colDef.cellDataType,n=this.beans.dataTypeSvc?.getDateIncludesTimeFlag(t)??!1;this.eDateInput.setValue(_u(e,n))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){return e?.filterParams?.browserDatePicker??!0}},aN=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"];function iI(e){const{allowedCharPattern:t}=e??{};return t??null}function sI(e){return e==null||isNaN(e)?null:e}function sJ(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[sI(n),sI(r)].slice(0,Xx(i,t))}var _Ie=class extends iN{constructor(){super("numberFilter",sJ,aN),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}setElementValue(e,t,n){const{numberFormatter:r}=this.params,i=!n&&r?r(t??null):t;super.setElementValue(e,i)}createEValue(){const e=iI(this.params),t=To({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,r){const i=this.createManagedBean(r?new sv({allowedCharPattern:r}):new QL);i.addCss(`ag-filter-${n}`),i.addCss("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeEValues(e,t){const n=r=>this.removeComponents(r,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,r,i,s)=>{r<s&&t.push(sI(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}stringToFloat(e){if(typeof e=="number")return e;let t=Xf(e);t!=null&&t.trim()===""&&(t=null);const n=this.params.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValues(e);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},oJ=class extends oN{constructor(e,t){super(e,t,t.numberFormatter),this.filterTypeKeys=nJ}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e,l=this.formatValue.bind(this);if(t){const c=this.conditionForToolPanel(a,n,()=>l(s),()=>l(o),r,i);if(c!=null)return c}return n?`${l(s)}-${l(o)}`:s!=null?l(s):`${a}`}},EIe=class extends tJ{constructor(){super(sJ,aN),this.filterType="number",this.FilterModelFormatterClass=oJ}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}},aJ=class extends _t{constructor(e){super(),this.params=e,this.eInput=Tn,this.onValueChanged=()=>{}}setupGui(e){this.eInput=this.createManagedBean(new sv(this.params?.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function lJ(e){const t=e?.trim();return t===""?e:t}function cJ(e,t){const{filter:n,filterTo:r,type:i}=e||{};return[n||null,r||null].slice(0,Xx(i,t))}var TIe={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},uJ=class extends iJ{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Tn,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(TIe)}onModelUpdated(e){this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e))}setParams(e){this.setupFloatingFilterInputService(e),super.setParams(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:r,readOnly:i}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=FA(e.filterParams),!i){const s=VL(e.filterParams,r),o=nl(this,this.syncUpWithParentFilter.bind(this),s);n.setValueChangedListener(o)}}updateParams(e){super.updateParams(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();Au(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===vt.ENTER,n=this.reactive;if(n&&this.params.onUiChange(),this.applyActive&&!t)return;const{inputSvc:r,params:i,lastType:s}=this;let o=r.getValue();if(i.filterParams.trimInput&&(o=lJ(o),r.setValue(o,!0)),n){const a=i,l=a.model,c=this.convertValue(o),u=c==null?null:{...l??{filterType:this.filterType,type:s??this.optionsFactory.defaultOption},filter:c};a.onModelChange(u,{afterFloatingFilter:!0})}else i.parentFilterInstance(a=>{a?.onFloatingFilterChanged(s||null,o||null)})}convertValue(e){return e||null}setEditable(e){this.inputSvc.setEditable(e)}},RIe=class extends _t{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new QL),this.eTextInput=this.createManagedBean(new sv),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,r=>this.onValueChanged(r)),this.setupListeners(n,r=>this.onValueChanged(r))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},AIe=class extends uJ{constructor(){super(...arguments),this.FilterModelFormatterClass=oJ,this.filterType="number",this.defaultOptions=aN}updateParams(e){iI(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.updateParams(e)}createFloatingFilterInputService(e){return this.allowedCharPattern=iI(e.filterParams),this.allowedCharPattern?this.createManagedBean(new aJ({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new RIe)}convertValue(e){return e?Number(e):null}},lN=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],kIe=class extends iN{constructor(){super("textFilter",cJ,lN),this.filterType="text",this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},r=this.getValuesWithSideEffects(e,!0);return r.length>0&&(n.filter=r[0]),r.length>1&&(n.filterTo=r[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(r,i,s,o)=>{if(i<o){let a=Xf(r.getValue());t&&this.params.trimInput&&(a=lJ(a)??null,r.setValue(a,!0)),n.push(a)}}),n}createEValue(){const e=To({tag:"div",cls:"ag-filter-body",role:"presentation"}),{eValuesFrom:t,eValuesTo:n}=this;return this.createFromToElement(e,t,"from"),this.createFromToElement(e,n,"to"),e}createFromToElement(e,t,n){const r=this.createManagedBean(new sv);r.addCss(`ag-filter-${n}`),r.addCss("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeEValues(e,t){const n=s=>this.removeComponents(s,e,t),{eValuesFrom:r,eValuesTo:i}=this;n(r),n(i)}},dJ=class extends oN{constructor(){super(...arguments),this.filterTypeKeys=vIe}conditionToString(e,t,n,r,i){const{filter:s,filterTo:o,type:a}=e;if(t){const l=u=>()=>cg(this,"filterSummaryTextQuote",[u]),c=this.conditionForToolPanel(a,n,l(s),l(o),r,i);if(c!=null)return c}return n?`${s}-${o}`:s!=null?`${s}`:`${a}`}},PIe=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const r=t.lastIndexOf(n);return r>=0&&r===t.length-n.length}default:return!1}},DIe=e=>e,FIe=e=>e==null?null:e.toString().toLowerCase(),IIe=class extends eJ{constructor(){super(cJ,lN),this.filterType="text",this.FilterModelFormatterClass=dJ}updateParams(e){super.updateParams(e);const t=e.filterParams;this.matcher=t.textMatcher??PIe,this.formatter=t.textFormatter??(t.caseSensitive?DIe:FIe)}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,r){const i=e.map(p=>this.formatter(p))||[],s=this.formatter(t),{api:o,colDef:a,column:l,context:c,filterParams:{textFormatter:u}}=this.params;if(n.type==="blank")return tR(t);if(n.type==="notBlank")return!tR(t);const h={api:o,colDef:a,column:l,context:c,node:r.node,data:r.data,filterOption:n.type,value:s,textFormatter:u};return i.some(p=>this.matcher({...h,filterText:p}))}},MIe=class extends uJ{constructor(){super(...arguments),this.FilterModelFormatterClass=dJ,this.filterType="text",this.defaultOptions=lN}createFloatingFilterInputService(){return this.createManagedBean(new aJ)}};function OIe(e){return!!e.quickFilter?.isFilterPresent()}function LIe(e){return e.quickFilter?.getText()}function NIe(e){e.quickFilter?.resetCache()}var BIe=class extends _t{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:r}=this.beans,i=t.isPivotMode(),s=e?.getColumns(),o=t.getColDefCols();let a=(i&&!n.get("applyQuickFilterBeforePivotOrAgg")?r?.getPivotResultCols()?.list:o)??[];s&&(a=a.concat(s)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(l=>l.isVisible()||l.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return nn(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){zt(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const r=this.getTextForColumn(n,e);return nn(r)&&r.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:r,matcher:i}=this;return i(r,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const r=e.getColDef();if(r.getQuickFilterText){const i=In(this.gos,{value:n,node:t,data:t.data,column:e,colDef:r});n=r.getQuickFilterText(i)}return nn(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const r=this.getTextForColumn(n,e);nn(r)&&t.push(r)}),t.join(`
`)}},VIe={moduleName:"ClientSideRowModelFilter",version:on,rowModels:["clientSide"],beans:[VFe]},cN={moduleName:"FilterCore",version:on,beans:[lIe],apiFunctions:{isAnyFilterPresent:oIe,onFilterChanged:aIe},css:[KFe],dependsOn:[VIe]},hJ={moduleName:"FilterValue",version:on,beans:[uIe]},BA={moduleName:"ColumnFilter",version:on,beans:[sIe,cIe],dynamicBeans:{headerFilterCellCtrl:HFe},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:YFe,getColumnFilterInstance:XFe,destroyFilter:ZFe,setFilterModel:qFe,getFilterModel:QFe,getColumnFilterModel:JFe,setColumnFilterModel:$Fe,showColumnFilter:eIe,hideColumnFilter:tIe,getColumnFilterHandler:nIe,doFilterAction:rIe},dependsOn:[cN,NA,hJ,UFe]},HIe={moduleName:"CustomFilter",version:on,userComponents:{agReadOnlyFloatingFilter:hIe},dependsOn:[BA]},zIe={moduleName:"TextFilter",version:on,dependsOn:[BA],userComponents:{agTextColumnFilter:{classImp:kIe,params:{useForm:!0}},agTextColumnFloatingFilter:MIe},dynamicBeans:{agTextColumnFilterHandler:IIe}},GIe={moduleName:"NumberFilter",version:on,dependsOn:[BA],userComponents:{agNumberColumnFilter:{classImp:_Ie,params:{useForm:!0}},agNumberColumnFloatingFilter:AIe},dynamicBeans:{agNumberColumnFilterHandler:EIe}},UIe={moduleName:"DateFilter",version:on,dependsOn:[BA],userComponents:{agDateColumnFilter:{classImp:mIe,params:{useForm:!0}},agDateInput:SIe,agDateColumnFloatingFilter:bIe},dynamicBeans:{agDateColumnFilterHandler:wIe}},WIe={moduleName:"QuickFilterCore",version:on,rowModels:["clientSide"],beans:[BIe],dependsOn:[cN,hJ]},jIe={moduleName:"QuickFilter",version:on,apiFunctions:{isQuickFilterPresent:OIe,getQuickFilter:LIe,resetQuickFilter:NIe},dependsOn:[WIe]},KIe={moduleName:"ExternalFilter",version:on,dependsOn:[cN]},YIe=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;white-space:normal;z-index:99999;&:where(.ag-cell-editor-tooltip){background-color:var(--ag-tooltip-error-background-color);border:var(--ag-tooltip-error-border);color:var(--ag-tooltip-error-text-color);font-weight:500}}.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",wD=(e,t,n)=>{const{editModelSvc:r}=e,i=r?.getCellValidationModel()?.getCellValidation(t)?.errorMessages,s=r?.getRowValidationModel().getRowValidation(t)?.errorMessages,o=i||s;return o&&o.length?o.join(n("tooltipValidationErrorSeparator",". ")):void 0},XIe=class extends _t{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,r){e&&t.destroyBean(e);const i=yD(this.gos),{column:s,eGui:o}=t,a=s.getColDef();!r&&i&&!a.headerComponent&&(r=IE(()=>o.querySelector(".ag-header-cell-text")));const l={getColumn:()=>s,getColDef:()=>s.getColDef(),getGui:()=>o,getLocation:()=>"header",getTooltipValue:()=>n??s.getColDef().headerTooltip,shouldDisplayTooltip:r};let c=this.createTooltipFeature(l);return c&&(c=t.createBean(c),t.setRefreshFunction("tooltip",()=>c.refreshTooltip())),c}setupHeaderGroupTooltip(e,t,n,r){e&&t.destroyBean(e);const i=yD(this.gos),{column:s,eGui:o}=t,a=s.getColGroupDef();!r&&i&&!a?.headerGroupComponent&&(r=IE(()=>o.querySelector(".ag-header-group-text")));const l={getColumn:()=>s,getGui:()=>o,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:r};a&&(l.getColDef=()=>a);const c=this.createTooltipFeature(l);return c&&t.createBean(c)}enableCellTooltipFeature(e,t,n){const{beans:r}=this,{gos:i,editSvc:s}=r,{column:o,rowNode:a}=e;let l="cell";const c=()=>{const m=!!!s?.isEditing(e)&&wD(r,e,this.getLocaleTextFunc());if(m)return l="cellEditor",m;l="cell";const y=o.getColDef(),w=a.data;if(y.tooltipField&&nn(w))return zb(w,y.tooltipField,o.isTooltipFieldContainsDots());const b=y.tooltipValueGetter;return b?b(In(i,{location:"cell",colDef:o.getColDef(),column:o,rowIndex:e.cellPosition.rowIndex,node:a,data:a.data,value:e.value,valueFormatted:e.valueFormatted})):null},u=yD(i);n||(u&&!e.isCellRenderer()?n=()=>{const p=!!s?.isEditing(e);if(!p&&wD(r,e,this.getLocaleTextFunc()))return!0;if(!o.isTooltipEnabled())return!1;const w=IE(()=>{const b=e.eGui;return b.children.length===0?b:b.querySelector(".ag-cell-value")});return!p&&w()}:n=()=>!s?.isEditing(e));const h={getColumn:()=>o,getColDef:()=>o.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>a,getGui:()=>e.eGui,getLocation:()=>l,getTooltipValue:t!=null?()=>t:c,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(h,r)}setupFullWidthRowTooltip(e,t,n,r){const i={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r},s=this.beans,o=s.context;e&&t.destroyBean(e,o);const a=this.createTooltipFeature(i,s);if(a)return t.createBean(a,o)}setupCellEditorTooltip(e,t){const{beans:n}=this,{context:r}=n,i=t.getValidationElement?.(!0)||!t.isPopup?.()&&e.eGui;if(!i)return;const s={getGui:()=>i,getTooltipValue:()=>wD(n,e,this.getLocaleTextFunc()),getLocation:()=>"cellEditor",shouldDisplayTooltip:()=>{const{editModelSvc:a}=n,l=a?.getRowValidationModel()?.getRowValidationMap(),c=a?.getCellValidationModel()?.getCellValidationMap(),u=!!l&&l.size>0,h=!!c&&c.size>0;return u||h}},o=this.createTooltipFeature(s,n);if(o)return e.createBean(o,r)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=nn(t.tooltipField)||nn(t.tooltipValueGetter)||nn(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},fJ={moduleName:"Tooltip",version:on,beans:[XIe],dynamicBeans:{tooltipFeature:xFe},userComponents:{agTooltipComponent:yFe},dependsOn:[NA],css:[YIe]},oy=class{constructor(e){this.cellValueChanges=e}},CD=class extends oy{constructor(e,t,n,r){super(e),this.initialRange=t,this.finalRange=n,this.ranges=r}},ZIe=10,jz=class{constructor(e){this.actionStack=[],this.maxStackSize=e||ZIe,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},qIe=class extends _t{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.batchEditing=!1,this.bulkEditing=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&Nq(this.activeCellEdit,t),r=this.activeRowEdit!==null&&gEe(this.activeRowEdit,t);if(!(n||r||this.isPasting||this.isRangeInAction))return;const{rowPinned:s,rowIndex:o,column:a,oldValue:l,value:c}=e,u={rowPinned:s,rowIndex:o,columnId:a.getColId(),newValue:c,oldValue:l};this.cellValueChanges.push(u)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new jz(n),this.redoStack=new jz(n),this.addListeners();const r=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:i=>{i.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:r,newColumnsLoaded:r,columnGroupOpened:r,columnRowGroupChanged:r,columnMoved:r,columnPinned:r,columnVisible:r,rowDragEnd:r}),t.whenReady(this,i=>{this.gridBodyCtrl=i.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?.getCurrentStackSize()??0}getCurrentRedoStackSize(){return this.redoStack?.getCurrentStackSize()??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"undoStarted",source:e});const i=this.undoRedo(n,r,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:i})}redo(e){const{eventSvc:t,undoStack:n,redoStack:r}=this;t.dispatchEvent({type:"redoStarted",source:e});const i=this.undoRedo(r,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:i})}undoRedo(e,t,n,r,i){if(!e)return!1;const s=e.pop();return!s||!s.cellValueChanges?!1:(this.processAction(s,o=>o[r],i),s instanceof CD?this.processRange(s.ranges||[s[n]]):this.processCell(s.cellValueChanges),t.push(s),!0)}processAction(e,t,n){e.cellValueChanges.forEach(r=>{const{rowIndex:i,rowPinned:s,columnId:o}=r,a={rowIndex:i,rowPinned:s},l=dp(this.beans,a);l.displayed&&l.setDataValue(o,t(r),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((r,i)=>{if(!r)return;const s=r.startRow,o=r.endRow;i===e.length-1&&(t={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:r.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:r.startColumn,columns:r.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:r}=t,i={rowIndex:n,rowPinned:r},s=dp(this.beans,i),o={rowPinned:t.rowPinned,rowIndex:s.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:r}=e,{colModel:i,focusSvc:s,rangeSvc:o}=this.beans,a=i.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const c={rowIndex:t,column:a,rowPinned:r};s.setFocusedCell({...c,forceBrowserFocus:!0}),o?.setRangeToCell(c)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new oy(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new oy(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new oy(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new CD(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&Mg(n)?e=new CD(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new oy(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1},batchEditingStarted:()=>this.startBigChange("batchEditing"),batchEditingStopped:({changes:e})=>this.stopBigChange("batchEditing",e),bulkEditingStarted:()=>this.startBigChange("bulkEditing"),bulkEditingStopped:({changes:e})=>this.stopBigChange("bulkEditing",e)})}startBigChange(e){this[e]=!0}stopBigChange(e,t){if(!this[e]||(this[e]=!1,t?.length===0))return;const n=new oy(t??[]);this.pushActionsToUndoStack(n),this.cellValueChanges=[]}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},QIe=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;min-height:100%;width:100%}&.ag-cell-editing-error{border-color:var(--ag-invalid-color)!important}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-row.ag-row-editing-invalid .ag-cell-inline-editing){opacity:.8}",JIe={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eEditor",role:"presentation"}]},$Ie=class extends IA{constructor(){super(JIe,[qL]),this.eEditor=Tn}initialiseEditor(e){const t=e.value??void 0,n=this.eEditor;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:i=>this.setAriaLabel(i.selected)})}getValue(){return this.eEditor.getValue()}focusIn(){this.eEditor.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=kA(t,e),r=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eEditor.setInputAriaLabel(`${r} (${n})`)}getValidationElement(e){return e?this.params.eGridCell:this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{getValidationErrors:t}=e,n=this.getValue();return t?t({value:n,internalErrors:null,cellEditorParams:e}):null}},VA=class extends IA{constructor(e){super(),this.cellEditorInput=e,this.eEditor=Tn}initialiseEditor(e){const{cellEditorInput:t}=this;this.setTemplate({tag:"div",cls:"ag-cell-edit-wrapper",children:[t.getTemplate()]},t.getAgComponents());const{eEditor:n}=this,{cellStartedEdit:r,eventKey:i,suppressPreventDefault:s}=e;n.getInputElement().setAttribute("title",""),t.init(n,e);let o,a=!0;r?(this.focusAfterAttached=!0,i===vt.BACKSPACE||i===vt.DELETE?o="":i&&i.length===1?s?a=!1:o=i:(o=t.getStartValue(),i!==vt.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=t.getStartValue()),a&&o!=null&&n.setStartValue(o),this.addGuiEventListener("keydown",l=>{const{key:c}=l;(c===vt.PAGE_UP||c===vt.PAGE_DOWN)&&l.preventDefault()})}afterGuiAttached(){const e=this.getLocaleTextFunc(),t=this.eEditor;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;$0()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():this.cellEditorInput.setCaret?.()}focusIn(){const{eEditor:e}=this,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){return this.cellEditorInput.getValidationErrors()}},eMe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},tMe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return eMe}getAgComponents(){return[gQ]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const t=this.eEditor.getInputElement().valueAsDate,{params:n}=this,{min:r,max:i,getValidationErrors:s}=n;let o=[];const a=this.getLocaleTextFunc();if(t instanceof Date&&!isNaN(t.getTime())){if(r){const l=r instanceof Date?r:new Date(r);if(t<l){const c=l.toLocaleDateString();o.push(a("minDateValidation",`Date must be after ${c}`,[c]))}}if(i){const l=i instanceof Date?i:new Date(i);if(t>l){const c=l.toLocaleDateString();o.push(a("maxDateValidation",`Date must be before ${c}`,[c]))}}}return o.length||(o=null),s?s({value:t,cellEditorParams:n,internalErrors:o}):o}getValue(){const{eEditor:e,params:t}=this,n=e.getDate();return!nn(n)&&!nn(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return _u(e,this.includeTime??!1)}},nMe=class extends VA{constructor(){super(new tMe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},rMe={tag:"ag-input-date-field",ref:"eEditor",cls:"ag-cell-editor"},iMe=class{constructor(e,t){this.getDataTypeService=e,this.getLocaleTextFunc=t}getTemplate(){return rMe}getAgComponents(){return[gQ]}init(e,t){this.eEditor=e,this.params=t;const{min:n,max:r,step:i,colDef:s}=t;n!=null&&e.setMin(n),r!=null&&e.setMax(r),i!=null&&e.setStep(i),this.includeTime=t.includeTime??this.getDataTypeService()?.getDateIncludesTimeFlag?.(s.cellDataType),this.includeTime!=null&&e.setIncludeTime(this.includeTime)}getValidationErrors(){const{eEditor:e,params:t}=this,n=e.getInputElement().value,r=this.formatDate(this.parseDate(n??void 0)),{min:i,max:s,getValidationErrors:o}=t;let a=[];if(r){const l=new Date(r),c=this.getLocaleTextFunc();if(i){const u=new Date(i);if(l<u){const h=u.toLocaleDateString();a.push(c("minDateValidation",`Date must be after ${h}`,[h]))}}if(s){const u=new Date(s);if(l>u){const h=u.toLocaleDateString();a.push(c("maxDateValidation",`Date must be before ${h}`,[h]))}}}return a.length||(a=null),o?o({value:this.getValue(),cellEditorParams:t,internalErrors:a}):a}getValue(){const{params:e,eEditor:t}=this,n=this.formatDate(t.getDate());return!nn(n)&&!nn(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return _u(this.parseDate(this.params.value??void 0)??null,this.includeTime??!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Oc(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):_u(e??null,this.includeTime??!1)??void 0}},sMe=class extends VA{constructor(){super(new iMe(()=>this.beans.dataTypeSvc,()=>this.getLocaleTextFunc()))}},oMe={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eEditor",cls:"ag-large-text-input"}]},aMe=class extends IA{constructor(){super(oMe,[WRe]),this.eEditor=Tn}initialiseEditor(e){const{eEditor:t}=this,{cellStartedEdit:n,eventKey:r,value:i,maxLength:s,cols:o,rows:a}=e;this.focusAfterAttached=n,t.getInputElement().setAttribute("title",""),t.setMaxLength(s||200).setCols(o||60).setRows(a||10);let l;n?(this.focusAfterAttached=!0,r===vt.BACKSPACE||r===vt.DELETE?l="":r&&r.length===1?l=r:(l=i.toString(),r!==vt.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,l=i.toString()),l!=null&&t.setValue(l,!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===vt.LEFT||t===vt.UP||t===vt.RIGHT||t===vt.DOWN||e.shiftKey&&t===vt.ENTER)&&e.stopPropagation()}afterGuiAttached(){const{eEditor:e,focusAfterAttached:t,highlightAllOnFocus:n}=this,r=this.getLocaleTextFunc();e.setInputAriaLabel(r("ariaInputEditor","Input Editor")),t&&(e.getFocusableElement().focus(),n&&e.getInputElement().select())}getValue(){const{eEditor:e,params:t}=this,{value:n}=t,r=e.getValue();return!nn(r)&&!nn(n)?n:t.parseValue(r)}getValidationElement(){return this.eEditor.getInputElement()}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getLocaleTextFunc(),i=this.getValue();let s=[];return typeof i=="string"&&t!=null&&i.length>t&&s.push(r("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:i,internalErrors:s,cellEditorParams:e}):s}},lMe={tag:"ag-input-number-field",ref:"eEditor",cls:"ag-cell-editor"},cMe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return lMe}getAgComponents(){return[jRe]}init(e,t){this.eEditor=e,this.params=t;const{max:n,min:r,precision:i,step:s}=t;n!=null&&e.setMax(n),r!=null&&e.setMin(r),i!=null&&e.setPrecision(i),s!=null&&e.setStep(s);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}getValidationErrors(){const{params:e}=this,{min:t,max:n,getValidationErrors:r}=e,s=this.eEditor.getInputElement().valueAsNumber,o=this.getLocaleTextFunc();let a=[];return typeof s=="number"&&(t!=null&&s<t&&a.push(o("minValueValidation",`Must be greater than or equal to ${t}.`,[String(t)])),n!=null&&s>n&&a.push(o("maxValueValidation",`Must be less than or equal to ${n}.`,[String(n)]))),a.length||(a=null),r?r({value:s,cellEditorParams:e,internalErrors:a}):a}preventStepping(e){(e.key===vt.UP||e.key===vt.DOWN)&&e.preventDefault()}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();if(!nn(n)&&!nn(t.value))return t.value;let r=t.parseValue(n);if(r==null)return r;if(typeof r=="string"){if(r==="")return null;r=Number(r)}return isNaN(r)?null:r}getStartValue(){return this.params.value}setCaret(){$0()&&this.eEditor.getInputElement().focus({preventScroll:!0})}},uMe=class extends VA{constructor(){super(new cMe(()=>this.getLocaleTextFunc()))}},dMe={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eEditor",cls:"ag-cell-editor"}]},hMe=class extends IA{constructor(){super(dMe,[JRe]),this.eEditor=Tn,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}initialiseEditor(e){this.focusAfterAttached=e.cellStartedEdit;const{eEditor:t,valueSvc:n,gos:r}=this,{values:i,value:s,eventKey:o}=e;if(_s(i)){zt(58);return}this.startedByEnter=o!=null?o===vt.ENTER:!1;let a=!1;i.forEach(h=>{const p={value:h},m=n.formatValue(e.column,null,h),y=m!=null;p.text=y?m:h,t.addOption(p),a=a||s===h}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;l!=null&&t.setPickerGap(l),u!=null&&t.setPickerMaxHeight(u),c!=null&&t.setPickerMaxWidth(c),r.get("editType")!=="fullRow"&&this.addManagedListeners(this.eEditor,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eEditor.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eEditor.showPicker()})}focusIn(){this.eEditor.getFocusableElement().focus()}getValue(){return this.eEditor.getValue()}isPopup(){return!1}getValidationElement(){return this.eEditor.getAriaElement()}getValidationErrors(){const{params:e}=this,{values:t,getValidationErrors:n}=e,r=this.getValue();let i=[];if(t&&!t.includes(r)){const s=this.getLocaleTextFunc();i.push(s("invalidSelectionValidation","Invalid selection."))}else i=null;return n?n({value:r,internalErrors:i,cellEditorParams:e}):i}},fMe={tag:"ag-input-text-field",ref:"eEditor",cls:"ag-cell-editor"},pMe=class{constructor(e){this.getLocaleTextFunc=e}getTemplate(){return fMe}getAgComponents(){return[MA]}init(e,t){this.eEditor=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValidationErrors(){const{params:e}=this,{maxLength:t,getValidationErrors:n}=e,r=this.getValue(),i=this.getLocaleTextFunc();let s=[];return t!=null&&typeof r=="string"&&r.length>t&&s.push(i("maxLengthValidation",`Must be ${t} characters or fewer.`,[String(t)])),s.length||(s=null),n?n({value:r,cellEditorParams:e,internalErrors:s}):s}getValue(){const{eEditor:e,params:t}=this,n=e.getValue();return!nn(n)&&!nn(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eEditor,t=e.getValue(),n=nn(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},Kz=class extends VA{constructor(){super(new pMe(()=>this.getLocaleTextFunc()))}};function gMe(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function mMe(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function pJ(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function gJ(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function vMe(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function yMe(e){e.undoRedo?.undo("api")}function wMe(e){e.undoRedo?.redo("api")}function CMe(e){const t=e.editModelSvc?.getEditMap(),n=[];return t?.forEach((r,i)=>{const{rowIndex:s,rowPinned:o}=i;r.forEach((a,l)=>{const{editorValue:c,pendingValue:u,sourceValue:h,state:p}=a,m=Cg(a);let y=c??u;y===_d&&(y=void 0);const w={newValue:y,oldValue:h,state:p,column:l,colId:l.getColId(),colKey:l.getColId(),rowIndex:s,rowPinned:o};(p==="editing"||p==="changed"&&m)&&n.push(w)})}),n}function bMe(e,t=!1){const{editSvc:n}=e;n?.isBatchEditing()?(t?e.editModelSvc?.getEditPositions().forEach(r=>{r.state==="editing"&&n.revertSingleCellEdit(r)}):jm(e,!0),ky(e)):n?.stopEditing(void 0,{cancel:t,source:"api"})}function xMe(e,t){const n=bs(e,t);return e.editSvc?.isEditing(n)??!1}function SMe(e,t){const{key:n,colKey:r,rowIndex:i,rowPinned:s}=t,{editSvc:o,colModel:a}=e,l=a.getCol(r);if(!l){zt(12,{colKey:r});return}const u=dp(e,{rowIndex:i,rowPinned:s||null});if(!u){zt(290,{rowIndex:i,rowPinned:s});return}if(!l.isCellEditable(u))return;s==null&&gJ(e,i),pJ(e,r),o?.startEditing({rowNode:u,column:l},{event:n?new KeyboardEvent("keydown",{key:n}):void 0,source:"api"})}function _Me(e){return e.editSvc?.validateEdit()||null}function EMe(e){return e.undoRedo?.getCurrentUndoStackSize()??0}function TMe(e){return e.undoRedo?.getCurrentRedoStackSize()??0}var RMe={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},AMe=class extends XL{constructor(e){super(RMe),this.params=e}postConstruct(){P0(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=r=>{XF(this.gos,r,t.node,t.column,!0)||t.onKeyDown(r)};this.addManagedElementListeners(e,{keydown:n})}},nR=(e,t=!1)=>{if(e!==void 0)return Cg(e)||t&&e.state==="editing"};function mJ(e,t,n=!1){return nR(e.editModelSvc?.getEdit(t),n)}function vJ(e,t){const{editModelSvc:n}=e,{column:r,rowNode:i}=t;if(e.gos.get("groupTotalRow")&&!i?.footer)return!1;for(const s of i?.allLeafChildren??[])if(nR(n?.getEdit({rowNode:s,column:r}))||nR(n?.getEdit({rowNode:s.pinnedSibling,column:r})))return!0}function yJ(e,{rowNode:t,column:n}){if(t=t.pinnedSibling,!!t)return nR(e.editModelSvc?.getEdit({rowNode:t,column:n}))}var kMe=class extends _t{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}setComp(e){this.cellComp=e,this.applyCellStyles()}applyCellStyles(){const{cellCtrl:e,editSvc:t,beans:n}=this;if(t?.isBatchEditing()&&t.isEditing()){const i=mJ(n,e)||vJ(n,e)||yJ(n,e);this.applyBatchingStyle(i)}else this.applyBatchingStyle(!1);const r=!!this.editModelSvc?.getCellValidationModel().hasCellValidation(this.cellCtrl);this.cellComp.toggleCss("ag-cell-editing-error",r)}applyBatchingStyle(e){this.cellComp.toggleCss("ag-cell-editing",e??!1),this.cellComp.toggleCss("ag-cell-batch-edit",(e&&this.editSvc?.isBatchEditing())??!1)}},PMe=class extends _t{constructor(e,t){super(),this.rowCtrl=e,this.beans=t,this.gos=t.gos,this.editSvc=t.editSvc,this.editModelSvc=t.editModelSvc}applyRowStyles(){const{rowCtrl:e,editModelSvc:t,beans:n}=this;let r=e.rowNode,i=t?.getEditRow(r);const s=this.editModelSvc?.getRowValidationModel().hasRowValidation({rowNode:r});if(!i&&r.pinnedSibling&&(r=r.pinnedSibling,i=t?.getEditRow(r)),i){const o=Array.from(i.keys()).some(a=>{const l={rowNode:r,column:a};return mJ(n,l,!0)||vJ(n,l)||yJ(n,l)});this.applyStyle(s,o);return}this.applyStyle(s)}applyStyle(e=!1,t=!1){const n=this.editSvc?.isBatchEditing()??!1,r=this.gos.get("editType")==="fullRow";this.rowCtrl?.forEachGui(void 0,({rowComp:i})=>{i.toggleCss("ag-row-editing",r&&t),i.toggleCss("ag-row-batch-edit",r&&t&&n),i.toggleCss("ag-row-inline-editing",t),i.toggleCss("ag-row-not-inline-editing",!t),i.toggleCss("ag-row-editing-invalid",r&&t&&e)})}},DMe=({rowModel:e,pinnedRowModel:t,editModelSvc:n},r)=>{const i=new Set;return e.forEachNode(s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("top",s=>r.has(s)&&i.add(s)),t?.forEachPinnedRow("bottom",s=>r.has(s)&&i.add(s)),r.forEach(s=>{i.has(s)||n.removeEdits({rowNode:s})}),i},FMe=({editModelSvc:e},t,n)=>{t.forEach(r=>e?.getEditRow(r)?.forEach((i,s)=>!n.has(s)&&e.removeEdits({rowNode:r,column:s})))},IMe=e=>()=>{const t=new Set(e.colModel.getCols()),n=e.editModelSvc.getEditMap(!0),r=new Set(n.keys());FMe(e,DMe(e,r),t)},MMe=new Set(["undo","redo"]),wJ={paste:"ui",rangeSvc:"ui",fillHandle:"api",cellClear:"api"},OMe=new Set(Object.keys(wJ)),LMe=new Set(["paste","rangeSvc","renderer","cellClear","redo","undo"]),H_={cancel:!0,source:"api"},NMe={cancel:!1,source:"api"},Yv={checkSiblings:!0},JC={force:!0,suppressFlash:!0},BMe=class extends _t{constructor(){super(...arguments),this.beanName="editSvc",this.batch=!1}postConstruct(){const{beans:e}=this;this.model=e.editModelSvc,this.valueSvc=e.valueSvc,this.rangeSvc=e.rangeSvc,this.addManagedPropertyListener("editType",({currentValue:r})=>{this.stopEditing(void 0,H_),this.createStrategy(r)});const t=IMe(e),n=()=>{const r=this.model.getCellValidationModel().getCellValidationMap().size>0,i=this.model.getRowValidationModel().getRowValidationMap().size>0;return r||i?this.stopEditing(void 0,H_):this.isEditing()&&(this.isBatchEditing()?ky(e,this.model.getEditPositions()):this.stopEditing(void 0,NMe)),!1};this.addManagedEventListeners({columnPinned:t,columnVisible:t,columnRowGroupChanged:t,rowGroupOpened:t,pinnedRowsChanged:t,displayedRowsChanged:t,sortChanged:n,filterChanged:n,cellFocused:this.onCellFocused.bind(this)})}isBatchEditing(){return this.batch}setBatchEditing(e){e?(this.batch=!0,this.stopEditing(void 0,H_)):(this.stopEditing(void 0,H_),this.batch=!1)}createStrategy(e){const{beans:t,gos:n,strategy:r}=this,i=e??n.get("editType")??"singleCell";if(r){if(r.beanName===i)return r;this.destroyStrategy()}return this.strategy=this.createOptionalManagedBean(t.registry.createDynamicBean(i,!0))}destroyStrategy(){this.strategy&&(this.strategy.destroy(),this.strategy=this.destroyBean(this.strategy))}shouldStartEditing(e,t,n,r="ui"){return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.shouldStart(e,t,n,r)??null}shouldStopEditing(e,t,n="ui"){return this.strategy?.shouldStop(e,t,n)??null}shouldCancelEditing(e,t,n="ui"){return this.strategy?.shouldCancel(e,t,n)??null}validateEdit(){return TEe(this.beans)}isEditing(e,t){return this.model.hasEdits(e,t??Yv)}isRowEditing(e,t){return(e&&this.model.hasRowEdits(e,t))??!1}startEditing(e,t){const{startedEdit:n=!0,event:r=null,source:i="ui",ignoreEventKey:s=!1}=t;if(this.strategy??(this.strategy=this.createStrategy()),!this.isCellEditable(e,"api"))return;const o=bs(this.beans,e);if(o&&!o.comp){o.onCompAttachedFuncs.push(()=>this.startEditing(e,t));return}const a=this.shouldStartEditing?.(e,r,n,i);if(a===!1&&i!=="api"){this.isEditing(e)&&this.stopEditing();return}!this.batch&&this.shouldStopEditing(e,void 0,i)&&this.stopEditing(void 0,{source:i}),a&&this.isBatchEditing()&&this.dispatchBatchEvent("batchEditingStarted",new Map),this.strategy.start(e,r,i,s)}stopEditing(e,t){const{event:n,cancel:r,source:i="ui",suppressNavigateAfterEdit:s}=t||{},{beans:o,model:a}=this;if(OMe.has(i))return this.isBatchEditing()?(this.bulkRefresh(e),!1):this.stopEditing(e,{...t,source:wJ[i]});if(!(this.isEditing(e)||this.isBatchEditing()&&a.hasEdits(e,Yv))||!this.strategy)return!1;const c=bs(o,e);c&&(c.onEditorAttachedFuncs=[]);let u=a.getEditMap(!0),h=!1;const p=!r&&!!this.shouldStopEditing(e,n,i),m=r&&!!this.shouldCancelEditing(e,n,i);if(p||m){jm(o,!0);const y=a.getEditMap();this.processEdits(y,r),this.strategy?.stop(r,n),this.bulkRefresh(void 0,u),u=y,h||(h=p)}else if(n instanceof KeyboardEvent&&this.batch&&this.strategy?.midBatchInputsAllowed(e)&&this.isEditing(e,{withOpenEditor:!0})){const y=n.key,w=y===vt.ENTER,b=y===vt.ESCAPE,S=y===vt.TAB;(w||S||b)&&(w||S?jm(o,!0):b&&this.revertSingleCellEdit(c),this.isBatchEditing()?this.strategy?.cleanupEditors():ky(o,a.getEditPositions(),{event:n}),n.preventDefault(),this.bulkRefresh(e,u,{suppressFlash:!0}),u=a.getEditMap())}else jm(o,!0),u=a.getEditMap();return h&&e&&this.model.removeEdits(e),!s&&c&&this.navigateAfterEdit(n instanceof KeyboardEvent&&n.shiftKey,c.cellPosition),GF(o),this.model.hasEdits()||(this.model.getCellValidationModel().clearCellValidationMap(),this.model.getRowValidationModel().clearRowValidationMap()),this.bulkRefresh(),m&&this.beans.rowRenderer.refreshRows({rowNodes:Array.from(u.keys())}),this.isBatchEditing()&&(this.beans.rowRenderer.refreshRows({suppressFlash:!0,force:!0}),h&&p&&this.dispatchBatchEvent("batchEditingStopped",u)),h}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const r=e?vt.UP:vt.DOWN;this.beans.navigation?.navigateToNextCell(null,r,t,!1)}}processEdits(e,t=!1){const n=Array.from(e.keys()),{beans:r}=this,i=this.model.getCellValidationModel().getCellValidationMap().size>0||this.model.getRowValidationModel().getRowValidationMap().size>0,s=[];for(const o of n){const a=e.get(o);for(const l of a.keys()){const c=a.get(l),u={rowNode:o,column:l},h=bs(r,u),p=Cg(c),m=h?.comp?.getCellEditor()?.isCancelAfterEnd?.();!t&&!m&&p&&!i&&(this.setNodeDataValue(o,l,c.pendingValue)||s.push(u)),h?.refreshCell(JC)}}s.forEach(o=>{this.model.clearEditValue(o)})}setNodeDataValue(e,t,n,r){const{beans:i}=this,s=bs(i,{rowNode:e,column:t});s&&(s.suppressRefreshCell=!0);const o=e.setDataValue(t,n,"commit");return s&&(s.suppressRefreshCell=!1),r&&s?.refreshCell(JC),o}setEditMap(e,t){this.strategy??(this.strategy=this.createStrategy()),this.strategy?.setEditMap(e,t),this.bulkRefresh(),this.beans.rowRenderer.refreshCells(JC)}dispatchEditValuesChanged({rowNode:e,column:t},n={}){if(!e||!t||!n)return;const{pendingValue:r,sourceValue:i}=n,{rowIndex:s,rowPinned:o,data:a}=e;this.beans.eventSvc.dispatchEvent({type:"cellEditValuesChanged",node:e,rowIndex:s,rowPinned:o,column:t,source:"api",data:a,newValue:r,oldValue:i,value:r,colDef:t.getColDef()})}bulkRefresh(e={},t,n={}){const{beans:r,gos:i}=this,{editModelSvc:s,rowModel:o}=r;Yo(i)&&(e.rowNode&&e.column?this.refCell(e,this.model.getEdit(e),n):t&&s?.getEditMap(!1)?.forEach((a,l)=>{for(const c of a.keys())this.refCell({rowNode:l,column:c},a.get(c),n)}))}refCell({rowNode:e,column:t},n,r={}){const{beans:i,gos:s}=this,o=new Set([e]),a=new Set,l=e.pinnedSibling;l&&o.add(l);const c=e.sibling;c&&a.add(c);let u=e.parent;for(;u;)u.sibling?.footer&&s.get("groupTotalRow")||!u.parent&&u.sibling&&s.get("grandTotalRow")?a.add(u.sibling):a.add(u),u=u.parent;o.forEach(h=>this.dispatchEditValuesChanged({rowNode:h,column:t},n)),o.forEach(h=>bs(i,{rowNode:h,column:t})?.refreshCell(r)),a.forEach(h=>bs(i,{rowNode:h,column:t})?.refreshCell(r))}stopAllEditing(e=!1,t="ui"){this.isEditing()&&this.stopEditing(void 0,{cancel:e,source:t})}isCellEditable(e,t="ui"){const{rowNode:n}=e;if(n.group){if(this.gos.get("treeData")){if(!n.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.strategy??(this.strategy=this.createStrategy()),this.strategy?.isCellEditable(e,t)??!1}cellEditingInvalidCommitBlocks(){return this.gos.get("invalidEditValueMode")==="block"}checkNavWithValidation(e,t,n=!0){if(this.hasValidationErrors(e)){const r=bs(this.beans,e);return this.cellEditingInvalidCommitBlocks()?(t?.preventDefault?.(),n&&(!r?.hasBrowserFocus()&&r?.focusCell(),r?.comp?.getCellEditor()?.focusIn?.()),"block-stop"):(r&&this.revertSingleCellEdit(r),"revert-continue")}return"continue"}revertSingleCellEdit(e,t=!1){const n=bs(this.beans,e);n?.comp?.getCellEditor()&&(ky(this.beans,[e],{silent:!0}),this.model.clearEditValue(e),hw(this.beans,e,{silent:!0}),F0(this.beans),n?.refreshCell(JC),n.rowCtrl.rowEditStyleFeature?.applyRowStyles(),t&&(n?.focusCell(),n?.comp?.getCellEditor()?.focusIn?.()))}hasValidationErrors(e){F0(this.beans);const t=bs(this.beans,e);t&&(t.refreshCell(JC),t.rowCtrl.rowEditStyleFeature?.applyRowStyles());let n=!1;return e?.rowNode?(n||(n=this.model.getRowValidationModel().hasRowValidation({rowNode:e.rowNode})),e.column&&(n||(n=this.model.getCellValidationModel().hasCellValidation({rowNode:e.rowNode,column:e.column})))):(n||(n=this.model.getCellValidationModel().getCellValidationMap().size>0),n||(n=this.model.getRowValidationModel().getRowValidationMap().size>0)),n}moveToNextCell(e,t,n,r="ui"){let i;const s=this.isEditing(),o=s&&this.checkNavWithValidation(void 0,n)==="block-stop";return e instanceof Dy&&s&&(i=this.strategy?.moveToNextEditingCell(e,t,n,r,o)),i===null||(i=i||!!this.beans.focusSvc.focusedHeader,i===!1&&!o&&this.stopEditing()),i}getCellDataValue({rowNode:e,column:t},n=!0){if(!e||!t)return;let r=this.model.getEdit({rowNode:e,column:t});const i=e.pinnedSibling;if(i){const o=this.model.getEdit({rowNode:i,column:t});o&&(r=o)}const s=n?r?.editorValue??r?.pendingValue:r?.pendingValue;return s===_d||!r?this.valueSvc.getValue(t,e,!0,"api"):s}getRowDataValue(e,t){return this.model.getEditRowDataValue(e,t)}addStopEditingWhenGridLosesFocus(e){CEe(this,this.beans,e)}createPopupEditorWrapper(e){return new AMe(e)}setDataValue(e,t,n){if((!this.isEditing()||n==="commit")&&!LMe.has(n))return;const{beans:r}=this;this.strategy??(this.strategy=this.createStrategy());const i=this.isBatchEditing()?"ui":"api";if(!n||MMe.has(n))return VE(r,e,!0,t),this.setNodeDataValue(e.rowNode,e.column,t,!0);const s=this.model.getEdit(e);if(s){if(s.pendingValue===t)return!1;if(s.sourceValue!==t)return VE(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0;if(s.sourceValue===t)return r.editModelSvc?.removeEdits(e),this.dispatchEditValuesChanged(e,{...s,pendingValue:t}),!0}return VE(r,e,!0,t),this.stopEditing(e,{source:i,suppressNavigateAfterEdit:!0}),!0}handleColDefChanged(e){SEe(this.beans,e)}destroy(){this.model.clear(),this.destroyStrategy(),super.destroy()}prepDetailsDuringBatch(e,t){if(!this.batch||!this.model.hasRowEdits(e.rowNode,Yv))return;const{rowNode:r,column:i}=e,{compDetails:s,valueToDisplay:o}=t;if(s){const{params:l}=s;return l.data=this.model.getEditRowDataValue(r,Yv),{compDetails:s}}const a=this.model.getEditRow(e.rowNode,Yv);if(o!==void 0&&a?.has(i))return{valueToDisplay:this.valueSvc.getValue(i,r)}}cleanupEditors(){this.strategy?.cleanupEditors()}dispatchCellEvent(e,t,n,r){this.strategy?.dispatchCellEvent(e,t,n,r)}dispatchRowEvent(e,t){this.strategy?.dispatchRowEvent(e,t)}dispatchBatchEvent(e,t){this.eventSvc.dispatchEvent(this.createBatchEditEvent(e,t))}createBatchEditEvent(e,t){return In(this.gos,{type:e,...e==="batchEditingStopped"?{changes:this.toEventChangeList(t)}:{}})}toEventChangeList(e){return this.model.getEditPositions(e).map(t=>({rowIndex:t.rowNode.rowIndex,rowPinned:t.rowNode.rowPinned,columnId:t.column.getColId(),newValue:t.pendingValue,oldValue:t.sourceValue}))}applyBulkEdit({rowNode:e,column:t},n){if(!n||n.length===0)return;const{beans:r,rangeSvc:i,valueSvc:s}=this;jm(r,!0);const o=this.model.getEditMap(!0),a=o.get(e)?.get(t)?.pendingValue;this.batch||this.eventSvc.dispatchEvent({type:"bulkEditingStarted"}),n.forEach(c=>{if(i?.forEachRowInRange(c,u=>{const h=dp(r,u);if(h===void 0)return;const p=o.get(h)??new Map;for(const m of c.columns)if(m&&this.isCellEditable({rowNode:h,column:m},"api")){const y=s.getValue(m,h,!0,"api");let w=s.parseValue(m,h??null,a,y);Number.isNaN(w)&&(w=null),p.set(m,{editorValue:void 0,pendingValue:w,sourceValue:y,state:"changed"})}p.size>0&&o.set(h,p)}),this.setEditMap(o),this.batch){this.cleanupEditors(),GF(r),this.bulkRefresh();return}this.stopEditing(void 0,{source:"api"}),this.eventSvc.dispatchEvent({type:"bulkEditingStopped",changes:this.toEventChangeList(o)})}),this.bulkRefresh();const l=bs(r,{rowNode:e,column:t});l&&l.focusCell(!0)}createCellStyleFeature(e,t){return new kMe(e,t)}createRowStyleFeature(e,t){return new PMe(e,t)}setEditingCells(e,t){const{beans:n}=this,{colModel:r,valueSvc:i}=n,s=new Map;e.forEach(({colId:o,column:a,colKey:l,rowIndex:c,rowPinned:u,newValue:h,state:p})=>{const m=o?r.getCol(o):l?r.getCol(l):a;if(!m)return;const y=dp(n,{rowIndex:c,rowPinned:u});if(!y)return;const w=i.getValue(m,y,!0,"api");if(!Cg({pendingValue:h,sourceValue:w})&&p!=="editing")return;let b=s.get(y);b||(b=new Map,s.set(y,b)),h===void 0&&(h=_d),b.set(m,{editorValue:void 0,pendingValue:h,sourceValue:w,state:p??"changed"})}),this.setEditMap(s,t)}onCellFocused(e){const t=bs(this.beans,e);if(!t||!this.isEditing(t,Yv))return;const n=this.model.getEdit(t);if(!n||!Cg(n))return;const i=this.getLocaleTextFunc()("ariaPendingChange","Pending Change");this.beans.ariaAnnounce?.announceValue(i,"pendingChange")}allowedFocusTargetOnValidation(e){return bs(this.beans,e)}},CJ=class extends _t{postConstruct(){this.model=this.beans.editModelSvc,this.editSvc=this.beans.editSvc,this.addManagedEventListeners({cellFocused:this.onCellFocusChanged?.bind(this),cellFocusCleared:this.onCellFocusChanged?.bind(this)})}clearEdits(e){this.model.clearEditValue(e)}onCellFocusChanged(e){let t;const n=e.previousParams,{editSvc:r,beans:i}=this,s=e.type==="cellFocused"?e.sourceEvent:null;n&&(t=bs(i,n));const{gos:o,editModelSvc:a}=i,l=e.type==="cellFocusCleared";if(r.isEditing(void 0,{withOpenEditor:!0})){const{column:c,rowIndex:u,rowPinned:h}=e,p={column:c,rowNode:dp(i,{rowIndex:u,rowPinned:h})},m=o.get("invalidEditValueMode")==="block";if(m)return;const y=!m,w=!!a?.getCellValidationModel().hasCellValidation(p),b=y&&w;(n||l?r.stopEditing(void 0,{cancel:b,source:l&&y?"api":void 0,event:s}):!0)||(r.isBatchEditing()?r.cleanupEditors():r.stopEditing(void 0,{source:"api"}))}t?.refreshCell({suppressFlash:!0,force:!0})}isCellEditable({rowNode:e,column:t},n="ui"){return t.isColumnFunc(e,t.getColDef().editable)}stop(e,t){const n=this.model.getEditPositions(),r={all:[],pass:[],fail:[]};if(n.forEach(s=>{if(r.all.push(s),(this.model.getCellValidationModel().getCellValidation(s)?.errorMessages?.length??0)>0){r.fail.push(s);return}r.pass.push(s)}),e)return n.forEach(s=>{XT(this.beans,s),this.model.stop(s)}),!0;const i=this.processValidationResults(r);return i.destroy.length>0&&i.destroy.forEach(s=>{XT(this.beans,s,{event:t}),this.model.stop(s)}),i.keep.length>0&&i.keep.forEach(s=>{const o=bs(this.beans,s);this.editSvc?.cellEditingInvalidCommitBlocks()||o&&this.editSvc.revertSingleCellEdit(o)}),!0}cleanupEditors({rowNode:e}={},t){jm(this.beans,!1);const n=this.model.getEditPositions(),r=[];e?n.forEach(i=>{!e||i.rowNode===e||r.push(i)}):n.forEach(i=>{r.push(i)}),ky(this.beans,r),GF(this.beans,t)}setFocusOutOnEditor(e){e.comp?.getCellEditor()?.focusOut?.()}setFocusInOnEditor(e){const t=e.comp,n=t?.getCellEditor();if(n?.focusIn)n.focusIn();else{const r=this.beans.gos.get("editType")==="fullRow";e.focusCell(r),e.onEditorAttachedFuncs.push(()=>t?.getCellEditor()?.focusIn?.())}}setupEditors(e=this.model.getEditPositions(),t,n,r,i=!1){const s=r instanceof KeyboardEvent&&!i&&r.key||void 0;xEe(this.beans,e,t,s,r,n)}dispatchCellEvent(e,t,n,r){const i=bs(this.beans,e);i&&this.eventSvc.dispatchEvent({...i.createEvent(t??null,n),...r})}dispatchRowEvent(e,t){const n=LL(this.beans,e);n&&this.eventSvc.dispatchEvent(n.createRowEvent(t))}shouldStart({column:e},t,n,r="ui"){if(t instanceof KeyboardEvent&&(t.key===vt.TAB||t.key===vt.ENTER||t.key===vt.F2||t.key===vt.BACKSPACE&&n))return!0;if(t?.shiftKey&&this.beans.rangeSvc?.getCellRanges().length!=0)return!1;const s=e?.getColDef(),o=this.deriveClickCount(s),a=t?.type;return a==="click"&&t?.detail===1&&o===1||a==="dblclick"&&t?.detail===2&&o===2?!0:r==="api"?n??!1:!1}shouldStop(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return r&&n==="api"?!0:r&&n==="ui"?!1:n==="api"?!0:t instanceof KeyboardEvent&&!r?t.key===vt.ENTER:null}shouldCancel(e,t,n="ui"){const r=this.editSvc.isBatchEditing();return!!(t instanceof KeyboardEvent&&!r&&t.key===vt.ESCAPE||r&&n==="api"||n==="api")}setEditMap(e,t){t?.update||this.editSvc.stopEditing(void 0,{cancel:!0,source:"api"});const n=[];if(e.forEach((r,i)=>{r.forEach((s,o)=>{s.state==="editing"&&n.push({...s,rowNode:i,column:o})})}),t?.update&&(e=new Map([...this.model.getEditMap(),...e])),this.model?.setEditMap(e),n.length>0){const r=n.at(-1),i=r.pendingValue===_d?void 0:r.pendingValue;this.start(r,new KeyboardEvent("keydown",{key:i}),"api");const s=bs(this.beans,r);s&&this.setFocusInOnEditor(s)}}deriveClickCount(e){const{gos:t}=this.beans;return t.get("suppressClickEdit")===!0?0:t.get("singleClickEdit")===!0||e?.singleClickEdit?1:2}destroy(){this.cleanupEditors(),super.destroy()}},VMe=class extends CJ{constructor(){super(...arguments),this.beanName="fullRow",this.startedRows=[]}isCellEditable(e,t="ui"){const n=super.isCellEditable(e,t);return n===!0||t==="ui"?n:this.beans.colModel.getCols().some(i=>super.isCellEditable({rowNode:e.rowNode,column:i},t))}shouldStop(e,t,n="ui"){const{rowNode:r}=e||{};if(!LL(this.beans,{rowNode:this.rowNode}))return!0;const s=super.shouldStop({rowNode:this.rowNode},t,n);return s!==null?s:this.rowNode?r!==this.rowNode:!1}midBatchInputsAllowed({rowNode:e}){return e?this.model.hasEdits({rowNode:e}):!1}clearEdits(e){this.model.clearEditValue(e)}start(e,t,n="ui",r){const{rowNode:i}=e;this.rowNode!==i&&super.cleanupEditors(e),this.dispatchRowEvent({rowNode:i},"rowEditingStarted"),this.startedRows.push(i);const s=this.beans.visibleCols.allCols,o=[];s.forEach(a=>{if(!a.isCellEditable(i))return;const l={rowNode:i,column:a};o.push(l),this.model.hasEdits(l)||this.model.start(l)}),this.rowNode=i,this.setupEditors(o,e,!0,t,r)}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){const{rowNode:n}=this;if(n&&!this.model.hasRowEdits(n))return!1;const r=[];return e||this.model.getEditMap().forEach((i,s)=>{if(!(!i||i.size===0)){for(const o of i.values())if(Cg(o)){r.push(s);break}}}),F0(this.beans),!e&&this.editSvc?.checkNavWithValidation({rowNode:n})==="block-stop"?!1:(super.stop(e,t),r.forEach(i=>this.dispatchRowEvent({rowNode:i},"rowValueChanged")),this.cleanupEditors({rowNode:n},!0),this.rowNode=void 0,!0)}onCellFocusChanged(e){const{rowIndex:t}=e,n=e.previousParams;if(n?.rowIndex===t||e.sourceEvent instanceof KeyboardEvent)return;const r=bs(this.beans,n);this.gos.get("invalidEditValueMode")==="block"&&r&&(this.model.getCellValidationModel().getCellValidation(r)||this.model.getRowValidationModel().getRowValidation(r))||super.onCellFocusChanged(e)}cleanupEditors(e={},t){super.cleanupEditors(e,t),this.startedRows.forEach(n=>this.dispatchRowEvent({rowNode:n},"rowEditingStopped")),this.startedRows.length=0}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;this.model.suspend(!0);try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0,skipToNextEditableCell:!1})}finally{this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const a=o.cellPosition,l=e.isCellEditable(),c=o.isCellEditable(),u=a&&s.rowIndex===a.rowIndex&&s.rowPinned===a.rowPinned;l&&this.setFocusOutOnEditor(e),this.restoreEditors();const h=this.gos.get("suppressStartEditOnTab");return c&&!i?h?o.focusCell(!0,n):(o.comp?.getCellEditor()||hw(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o),o.focusCell(!1,n)):(c&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),!u&&!i&&(this.cleanupEditors(o,!0),h?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}restoreEditors(){this.model.getEditMap().forEach((e,t)=>e.forEach(({state:n},r)=>{if(n!=="editing")return;const i=bs(this.beans,{rowNode:t,column:r});i&&!i.comp?.getCellEditor()&&hw(this.beans,i,{silent:!0})}))}destroy(){super.destroy(),this.rowNode=void 0,this.startedRows.length=0}},HMe=class extends CJ{constructor(){super(...arguments),this.beanName="singleCell"}shouldStop(e,t,n="ui"){const r=super.shouldStop(e,t,n);if(r!==null)return r;const{rowNode:i,column:s}=e||{};return(!this.rowNode||!this.column)&&i&&s?null:this.rowNode!==i||this.column!==s}midBatchInputsAllowed(e){return this.model.hasEdits(e)}start(e,t,n="ui",r){(this.rowNode!==e.rowNode||this.column!==e.column)&&super.cleanupEditors(),this.rowNode=e.rowNode,this.column=e.column,this.model.start(e),this.setupEditors([e],e,!0,t,r)}dispatchRowEvent(e,t){}processValidationResults(e){return e.fail.length>0&&this.editSvc.cellEditingInvalidCommitBlocks()?{destroy:[],keep:e.all}:{destroy:e.all,keep:[]}}stop(e,t){return super.stop(e,t),this.rowNode=void 0,this.column=void 0,!0}onCellFocusChanged(e){const{colModel:t,editSvc:n}=this.beans,{rowIndex:r,column:i,rowPinned:s}=e,o=dp(this.beans,{rowIndex:r,rowPinned:s}),a=zF(i),l=t.getCol(a),c=e.previousParams;if(c){const u=zF(c.column);if(c?.rowIndex===r&&u===a&&c?.rowPinned===s)return}n?.isEditing({rowNode:o,column:l},{withOpenEditor:!0})&&e.type==="cellFocused"||super.onCellFocusChanged(e)}moveToNextEditingCell(e,t,n,r="ui",i=!1){const s=e.cellPosition;let o;const a=this.beans.gos.get("editType")==="fullRow";a&&this.model.suspend(!0),i||(e.eGui.focus(),this.editSvc?.stopEditing(e,{source:this.editSvc?.isBatchEditing()?"ui":"api",event:n}));try{o=this.beans.navigation?.findNextCellToFocusOn(s,{backwards:t,startEditing:!0})}finally{a&&this.model.suspend(!1)}if(o===!1)return null;if(o==null)return!1;const l=o.cellPosition,c=e.isCellEditable(),u=o.isCellEditable(),h=l&&s.rowIndex===l.rowIndex&&s.rowPinned===l.rowPinned;c&&!i&&this.setFocusOutOnEditor(e);const p=this.gos.get("suppressStartEditOnTab");return!h&&!i&&(super.cleanupEditors(o,!0),p?o.focusCell(!0,n):this.editSvc.startEditing(o,{startedEdit:!0,event:n,source:r,ignoreEventKey:!0})),u&&!i?(o.focusCell(!1,n),p?o.focusCell(!0,n):o.comp?.getCellEditor()||(hw(this.beans,o,{event:n,cellStartedEdit:!0}),this.setFocusInOnEditor(o))):(u&&i&&this.setFocusInOnEditor(o),o.focusCell(!0,n)),e.rowCtrl?.refreshRow({suppressFlash:!0,force:!0}),!0}destroy(){super.destroy(),this.rowNode=void 0,this.column=void 0}},em={moduleName:"EditCore",version:on,beans:[hEe,BMe],apiFunctions:{getEditingCells:CMe,getCellEditorInstances:bEe,startEditingCell:SMe,stopEditing:bMe,isEditing:xMe,validateEdit:_Me},dynamicBeans:{singleCell:HMe,fullRow:VMe},dependsOn:[NA,fJ],css:[QIe]},zMe={moduleName:"UndoRedoEdit",version:on,beans:[qIe],apiFunctions:{undoCellEditing:yMe,redoCellEditing:wMe,getCurrentUndoSize:EMe,getCurrentRedoSize:TMe},dependsOn:[em]},GMe={moduleName:"TextEditor",version:on,userComponents:{agCellEditor:Kz,agTextCellEditor:Kz},dependsOn:[em]},UMe={moduleName:"NumberEditor",version:on,userComponents:{agNumberCellEditor:{classImp:uMe}},dependsOn:[em]},WMe={moduleName:"DateEditor",version:on,userComponents:{agDateCellEditor:nMe,agDateStringCellEditor:sMe},dependsOn:[em]},jMe={moduleName:"CheckboxEditor",version:on,userComponents:{agCheckboxCellEditor:$Ie},dependsOn:[em]},KMe={moduleName:"SelectEditor",version:on,userComponents:{agSelectCellEditor:hMe},dependsOn:[em]},YMe={moduleName:"LargeTextEditor",version:on,userComponents:{agLargeTextCellEditor:aMe},dependsOn:[em]},XMe={moduleName:"CustomEditor",version:on,dependsOn:[em]},ZMe=class extends _t{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,Ay(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),t_e(e))}createColumns(e,t){const n=()=>{UT(this.beans,this.columns?.tree),this.columns=null},r=e.treeDepth,s=(this.columns?.treeDepth??-1)==r,o=this.generateSelectionCols();if(e_e(o,this.columns?.list??[])&&s)return;n();const{colGroupSvc:l}=this.beans,c=l?.findDepth(e.tree)??0,u=l?.balanceTreeForAutoCols(o,c)??[];this.columns={list:o,tree:u,treeDepth:c,map:{}},t(p=>{if(!p)return null;const m=p.filter(y=>!$g(y));return[...o,...m]})}updateColumns(e){const t=Ay(e.source);this.columns?.list.forEach(n=>{const r=this.createSelectionColDef(e.currentValue);n.setColDef(r,null,t),nh(this.beans,{state:[{...r,colId:n.getColId()}]},t)})}getColumn(e){return this.columns?.list.find(t=>yq(t,e))??null}getColumns(){return this.columns?.list??null}isSelectionColumnEnabled(){const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!s0(e))return!1;const r=(t.autoColSvc?.getColumns()?.length??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&r)return!1;const i=!!Ry(n),s=ME(n);return i||s}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),r=t.get("enableRtl"),{rowSpan:i,spanRows:s,...o}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:r?"right":"left",comparator(a,l,c,u){const h=c.isSelected(),p=u.isSelected();return h===p?0:h?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...o,colId:gq,chartDataType:"excluded"}}generateSelectionCols(){if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;this.gos.validateColDef(e,t,!0);const n=new nv(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const r=t&&typeof t!="string"?Ry(t):void 0,i=e&&typeof e!="string"?Ry(e):void 0,s=r!==i,o=t&&typeof t!="string"?ME(t):void 0,a=e&&typeof e!="string"?ME(e):void 0,l=o!==a,c=BT(e),u=BT(t);(s||l||c!==u)&&this.beans.colModel.refreshAll(n)}destroy(){UT(this.beans,this.columns?.tree),super.destroy()}refreshVisibility(e,t,n){if(!this.columns?.list.length)return;const r=e.length+t.length+n.length;if(r===0)return;const i=this.columns.list[0];if(!i.isVisible())return;const s=()=>{let l;switch(i.pinned){case"left":case!0:l=e;break;case"right":l=n;break;default:l=t}l&&Sd(l,i)};(this.beans.rowNumbersSvc?.getColumn(mq)?2:1)===r&&s()}};function qMe(e,t){if(!t.nodes.every(o=>o.rowPinned&&!m1(o)?(zt(59),!1):o.id===void 0?(zt(60),!1):!0))return;const{nodes:r,source:i,newValue:s}=t;e.selectionSvc?.setNodesSelected({nodes:r,source:i??"api",newValue:s})}function QMe(e,t,n="apiSelectAll"){e.selectionSvc?.selectAllRowNodes({source:n,selectAll:t})}function JMe(e,t,n="apiSelectAll"){e.selectionSvc?.deselectAllRowNodes({source:n,selectAll:t})}function $Me(e,t="apiSelectAllFiltered"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"filtered"})}function eOe(e,t="apiSelectAllFiltered"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"filtered"})}function tOe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.selectAllRowNodes({source:t,selectAll:"currentPage"})}function nOe(e,t="apiSelectAllCurrentPage"){e.selectionSvc?.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function rOe(e){return e.selectionSvc?.getSelectedNodes()??[]}function iOe(e){return e.selectionSvc?.getSelectedRows()??[]}var sOe=class extends zRe{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=VT(e),this.groupSelectsDescendants=zx(e),this.groupSelectsFiltered=zT(e)==="filteredDescendants",this.masterSelectsDetail=XH(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=zx(e),n=VT(e),r=zT(e)==="filteredDescendants";this.masterSelectsDetail=XH(e)==="detail",(t!==this.groupSelectsDescendants||r!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=r,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const r=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return r==null?0:(this.selectionCtx.selectAll=!1,"select"in r?(r.reset?this.resetNodes():this.selectRange(r.deselect,!1,n),this.selectRange(r.select,!0,n)):this.setNodesSelected({nodes:[r.node],newValue:r.newValue,clearSelection:r.clearSelection,keepDescendants:r.keepDescendants,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:r,event:i,source:s,keepDescendants:o=!1}){if(!s0(this.gos)&&e)return zt(132),0;if(r.length===0)return 0;if(r.length>1&&!this.isMultiSelect())return zt(130),0;let a=0;for(let l=0;l<r.length;l++){const c=r[l],u=Xv(c),h=this.groupSelectsFiltered&&u.group;if(u.rowPinned&&!m1(u)){zt(59);continue}if(u.id===void 0){zt(60);continue}h||this.selectRowNode(u,e,i,s)&&(this.detailSelection.delete(u.id),a++),this.groupSelectsDescendants&&u.childrenAfterGroup?.length&&(a+=this.selectChildren(u,e,s))}return n||(r.length===1&&s==="api"&&this.selectionCtx.setRoot(Xv(r[0])),e&&(t||!this.isMultiSelect())&&(a+=this.clearOtherNodes(Xv(r[0]),o,s)),a>0&&(this.updateGroupsFromChildrenSelections(s),this.dispatchSelectionChanged(s))),a}selectRange(e,t,n){let r=0;return e.forEach(i=>{const s=Xv(i);if(s.group&&this.groupSelectsDescendants)return;this.selectRowNode(s,t,void 0,n)&&r++}),r>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),r}selectChildren(e,t,n){const r=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return r?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:r}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>t.data&&e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,r)=>{e(n)&&t.set(r,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:r}=this.beans;if(!Yo(n))return!1;const i=r.rootNode;if(!i)return!1;t||(t=new Kx(!0,i),t.active=!1);let s=!1;return t.forEachChangedNodeDepthFirst(o=>{if(o!==i){const a=this.calculateSelectedFromChildren(o);s=this.selectRowNode(o,a===null?!1:a,void 0,e)||s}}),s}clearOtherNodes(e,t,n){const r=new Map;let i=0;return this.selectedNodes.forEach(s=>{const o=s.id==e.id;if((t?!aOe(e,s):!0)&&!o){const l=this.selectedNodes.get(s.id);i+=this.setNodesSelected({nodes:[l],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),this.groupSelectsDescendants&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const o=this.calculateSelectedFromChildren(s);this.selectRowNode(s,o===null?!1:o,void 0,n)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new M0(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Yo(e))return;const n=t.getTopLevelNodes();if(n===null)return;const r=[];function i(s){for(let o=0,a=s.length;o<a;o++){const l=s[o];l.isSelected()?r.push(l):l.group&&l.childrenAfterGroup&&i(l.childrenAfterGroup)}}return i(n),r}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Yo(this.gos);let r=!1;const i=s=>{const o=this.selectRowNode(Xv(s),!1,void 0,e);r||(r=o)};if(t==="currentPage"||t==="filtered"){if(!n){Ti(102);return}this.getNodesToSelect(t).forEach(i)}else this.selectedNodes.forEach(i),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(e);r||(r=s)}r&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(r=>{this.groupSelectsDescendants&&r.group||(r.isSelected()?t++:r.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return bJ(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[],n=i=>t.push(i);if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){n(i);return}if(!i.expanded&&!i.footer){const s=o=>{n(o),o.childrenAfterFilter?.forEach(s)};s(i);return}this.groupSelectsDescendants||n(i)}),t;const r=this.beans.rowModel;return e==="filtered"?(r.forEachNodeAfterFilter(n),t):(r.forEachNode(n),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,r=t.getFirstRow(),i=t.getLastRow();for(let s=r;s<=i;s++){const o=n.getRow(s);o&&e(o)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!s0(t)){zt(132);return}if(D1e(t)&&!HT(t)){zt(130);return}if(!this.canSelectAll())return;const{source:r,selectAll:i}=e;let s=!1;if(this.getNodesToSelect(i).forEach(o=>{const a=this.selectRowNode(Xv(o),!0,void 0,r);s||(s=a)}),n.selectAll=!0,Yo(t)&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(r);s||(s=o)}s&&this.dispatchSelectionChanged(r)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t,n){if(e||(e=[]),!Array.isArray(e)){Ti(103);return}const r=new Set(e),i=[];this.beans.rowModel.forEachNode(s=>{r.has(s.id)&&i.push(s)}),n&&this.resetNodes(),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e}=this.beans;return!!Yo(e)}updateSelectable(e){const{gos:t,rowModel:n}=this.beans;if(!s0(t))return;const r="selectableChanged",i=e!==void 0,s=Yo(t)&&this.groupSelectsDescendants,o=[],a=l=>{if(i&&!l.group)return;if(s&&l.group){const u=l.childrenAfterGroup?.some(h=>h.selectable)??!1;this.setRowSelectable(l,u,!0);return}!this.updateRowSelectable(l,!0)&&l.isSelected()&&o.push(l)};if(s){if(e===void 0){const l=n.rootNode;e=l?new Kx(!1,l):void 0}e?.forEachChangedNodeDepthFirst(a,!i,!i)}else n.forEachNode(a);o.length&&this.setNodesSelected({nodes:o,newValue:!1,source:r}),!i&&s&&this.updateGroupsFromChildrenSelections?.(r)}updateSelectableAfterGrouping(e){this.updateSelectable(e),this.groupSelectsDescendants&&this.updateGroupsFromChildrenSelections?.("rowGroupChanged",e)&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){if(!this.masterSelectsDetail)return;const n=e.detailNode?.detailGridInfo?.api;if(!n)return;const r=oOe(n);if(e.isSelected()!==r&&this.selectRowNode(e,r,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!r){const s=this.detailSelection.get(e.id)??new Set;for(const o of n.getSelectedNodes())s.add(o.id);this.detailSelection.set(e.id,s)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!HT(t)){zt(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const r=this.detailSelection.get(e.id);if(r){const i=[];for(const s of r){const o=n.getRowNode(s);o&&i.push(o)}n.setNodesSelected({nodes:i,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function Xv(e){return m1(e)?e.pinnedSibling:e.footer?e.sibling:e}function oOe(e){let t=0,n=0;return e.forEachNode(r=>{r.isSelected()?t++:r.selectable&&n++}),bJ(t,n)}function bJ(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}function aOe(e,t){let n=t.parent;for(;n;){if(n===e)return!0;n=n.parent}return!1}var lOe={moduleName:"SharedRowSelection",version:on,beans:[ZMe],apiFunctions:{setNodesSelected:qMe,selectAll:QMe,deselectAll:JMe,selectAllFiltered:$Me,deselectAllFiltered:eOe,selectAllOnCurrentPage:tOe,deselectAllOnCurrentPage:nOe,getSelectedNodes:rOe,getSelectedRows:iOe}},cOe={moduleName:"RowSelection",version:on,rowModels:["clientSide","infinite","viewport"],beans:[sOe],dependsOn:[lOe]};function uOe(e){e.expansionSvc?.expandAll(!0)}function dOe(e){e.expansionSvc?.expandAll(!1)}function hOe(e){const t=bf(e),n=qQ(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function fOe(e,t,n){const r=qQ(e);if(r){if(e.rowGroupColsSvc?.columns.length===0){if(t<0){Ti(238);return}r.setRowCount(t,n);return}Ti(28);return}const i=LA(e);if(i){i.setRowCount(t,n);return}}function pOe(e){return tv(e.gos)?e.rowModel.getBlockStates():e.rowNodeBlockLoader?.getBlockState()??{}}function gOe(e){return e.rowModel.isLastRowIndexKnown()}var mOe={moduleName:"CsrmSsrmSharedApi",version:on,apiFunctions:{expandAll:uOe,collapseAll:dOe,onRowHeightChanged:hOe}},vOe={moduleName:"SsrmInfiniteSharedApi",version:on,apiFunctions:{setRowCount:fOe,getCacheBlockState:pOe,isLastRowIndexKnown:gOe}},yOe=class extends _t{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(r=>{if(!r){Ti(18),t||Ti(20);return}if(this.isGridApi(r))return r;const i=r;return"current"in i?i.current?.api:(i.api||Ti(19),i.api)}).filter(r=>!!r&&!r.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(r=>{n.push(t(r))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":zt(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let r=null;n&&(r=t.getProvidedColGroup(n.getGroupId())),!(n&&!r)&&t.setColumnGroupOpened(r,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let n=null;const r=this.beans,{colResize:i,ctrlsSvc:s,colModel:o}=r;if(t&&(n=o.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const h=e.api.getColumnState().map(p=>({colId:p.colId}));nh(r,{state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const h=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));nh(r,{state:h},"alignedGridChanged")}break;case"columnPinned":{const h=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));nh(r,{state:h},"alignedGridChanged")}break;case"columnResized":{const u=e,h={};a.forEach(p=>{h[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),u.flexColumns?.forEach(p=>{h[p.getId()]&&delete h[p.getId()]}),i?.setColumnWidths(Object.values(h),!1,u.finished,"alignedGridChanged");break}}const c=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(u=>{u.setGridOption("alwaysShowVerticalScroll",c)})}},wOe={moduleName:"AlignedGrids",version:on,beans:[yOe],dependsOn:[RQ]},COe=class extends LRe{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},bD=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function bOe(e){if(_s(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const r=t[n],i=n===0,s=n===e.childrenAfterSort.length-1;r.setFirstChild(i),r.lastChild!==s&&(r.lastChild=s,r.dispatchRowEvent("lastChildChanged")),r.childIndex!==n&&(r.childIndex=n,r.dispatchRowEvent("childIndexChanged"))}}function xJ(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),bOe(e)}var xOe=class extends _t{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),r=nn(n)&&n.length>0,i=r&&!!e.changedRowNodes&&this.gos.get("deltaSort"),s=n.some(({column:o})=>Hh(t.gos)?o.isPrimary()&&o.isRowGroupActive():!!o.getColDef().showRowGroup);this.sort(t,n,r,i,e.changedRowNodes,e.changedPath,s)}sort(e,t,n,r,i,s,o){const{gos:a,colModel:l,rowGroupColsSvc:c,rowNodeSorter:u,rowRenderer:h,showRowGroupCols:p}=e,m=a.get("groupMaintainOrder"),y=l.getCols().some(_=>_.isRowGroupActive()),w=l.isPivotMode(),b=a.getCallback("postSortRows");let S=!1;const E=_=>{const N=w&&_.leafGroup,V=m&&y&&!_.leafGroup&&!o;let M;if(V){const z=c?.columns?.[_.level+1]?.getSort()===null,H=_.childrenAfterAggFilter.slice(0);if(_.childrenAfterSort&&!z){const X={};_.childrenAfterSort.forEach((Q,U)=>{X[Q.id]=U}),H.sort((Q,U)=>(X[Q.id]??0)-(X[U.id]??0))}M=H}else!n||N?M=_.childrenAfterAggFilter.slice(0):r&&i?M=SOe(u,_,i,s,t):M=u.doFullSort(_.childrenAfterAggFilter,t);if(S||(S=_.childrenAfterSort?.[0]!==M[0]),_.childrenAfterSort=M,xJ(_),b){const O={nodes:_.childrenAfterSort};b(O)}};if(s?.forEachChangedNodeDepthFirst(E),S&&this.gos.get("groupHideOpenParents")){const _=p?.getShowRowGroupCols();_?.length&&h.refreshCells({columns:_,force:!0})}}};function SOe(e,t,n,r,i){const s=t.childrenAfterAggFilter,o=t.childrenAfterSort;if(!o)return e.doFullSort(s,i);const a=new Set,l=[],{updates:c,adds:u}=n;for(let p=0,m=s.length;p<m;++p){const y=s[p];c.has(y)||u.has(y)||r&&!r.canSkip(y)?l.push({currentPos:l.length,rowNode:y}):a.add(y.id)}const h=o.filter(p=>a.has(p.id)).map((p,m)=>({currentPos:m,rowNode:p}));return l.sort((p,m)=>e.compareRowNodes(i,p,m)),_Oe(e,i,l,h)}function _Oe(e,t,n,r){const i=[];let s=0,o=0;const a=n.length,l=r.length;for(;s<a&&o<l;){const c=n[s],u=r[o],h=e.compareRowNodes(t,c,u);let p;h<0?(p=c,++s):(p=u,++o),i.push(p.rowNode)}for(;s<a;)i.push(n[s++].rowNode);for(;o<l;)i.push(r[o++].rowNode);return i}var EOe=class extends _t{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.rowDataUpdatedPending=!1,this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=nl(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(r=>!!r);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new M0(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;return cq(e)==="treeNested"&&t.csrmChildrenTreeNodeSvc||t.csrmNodeSvc}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{const n=t.changeSet?.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,r){let i,s=!1;do{i=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(o,n),c=Math.min(a,r);for(let u=l;u<=c;u++){const h=this.getRow(u);if(h.rowHeightEstimated){const p=Ig(this.beans,h);h.setRowHeight(p.height),i=!0,s=!0}}i&&this.setRowTopAndRowIndex()}while(i);return s}onPropChange(e){if(!this.rootNode)return;const t=this.gos,n=new Set(e),r={step:"nothing",changedProps:n},i=n.has("rowData"),s=this.nodeManager,o=this.getNewNodeManager(),a=s!==o||i&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||i)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,zt(1))),a&&(i||(l=s?.extractRowData()??l),s!==o&&(s?.deactivate(),this.nodeManager=o),o.activate(this.rootNode)),l)if(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate"))r.keepRenderedRows=!0,r.animate=!this.gos.get("suppressAnimationFrame"),r.changedRowNodes=new bD,o.setImmutableRowData(r,l);else{r.rowDataUpdated=!0,r.newData=!0;const{selectionSvc:u,pinnedRowModel:h}=this.beans;u?.reset("rowDataChanged"),h?.isManual()&&h.reset(),this.rowNodesCountReady=!0,o.setNewRowData(l)}if(r.rowDataUpdated)r.step="group";else if(r.step==="nothing"){for(const{refreshProps:c,step:u}of this.orderedStages)if(e.some(h=>c.has(h))){r.step=u;break}}r.step!=="nothing"&&this.refreshModel(r)}setRowTopAndRowIndex(){const{beans:e,rowsToDisplay:t}=this,n=e.environment.getDefaultRowHeight();let r=0;const i=new Set,s=il(this.gos,"normal");for(let o=0,a=t.length;o<a;++o){const l=t[o];if(l.id!=null&&i.add(l.id),l.rowHeight==null){const c=Ig(e,l,s,n);l.setRowHeight(c.height,c.estimated)}l.setRowTop(r),l.setRowIndex(o),r+=l.rowHeight}return i}clearRowTopAndRowIndex(e,t){const n=e.active,r=s=>{s&&s.id!=null&&!t.has(s.id)&&s.clearRowTopAndRowIndex()},i=s=>{if(s!==null&&(r(s),r(s.detailNode),r(s.sibling),s.hasChildren()&&s.childrenAfterGroup)){const o=s.level==-1;n&&!o&&!s.expanded||s.childrenAfterGroup.forEach(i)}};i(this.rootNode)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterSort,r=e.sibling&&e.sibling.displayed?1:0;return(n?n.length:0)+r}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:i}=t,s=a=>{let l=i[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:o}=this.beans;return o?o.getTopDisplayIndex(n,e,i,s):s(e)}getTopLevelIndexFromDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let i=this.getRow(e);for(i.footer&&(i=i.sibling);i.parent&&i.parent!==t;)i=i.parent;const s=t.childrenAfterSort?.findIndex(o=>o===i);return s===-1?e:s??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Ty(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Ty(this.gos),r=e.columns.length===0||e.columns.some(i=>i.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:r,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Ty(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new Kx(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:r}=e;return!(!t||n||!r||t.removals.size||t.adds.size)}refreshModel(e){if(!this.rootNode)return;const t=this.beans;let n=!!e.rowDataUpdated;const r=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&n));if(this.started&&n&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.rowDataUpdatedPending||(this.rowDataUpdatedPending=n),!this.started||this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e))return;switch(this.rowDataUpdatedPending&&(this.rowDataUpdatedPending=!1,e.rowDataUpdated=n=!0),this.isRefreshingModel=!0,t.masterDetailSvc?.refreshModel(e),n&&e.step!=="group"&&t.colFilter?.refreshModel(),e.step){case"group":(this.doRowGrouping(e)||n)&&t.colFilter?.refreshModel(),!this.rowCountReady&&this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}));case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(e.changedRowNodes,r);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,i),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){return!this.rootNode?.allLeafChildren?.length||!this.colModel?.ready}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,r=!1;const i=[],s=zx(this.gos);return this.forEachNodeAfterFilterAndSort(o=>{if(r)return;if(n&&(o===t||o===e)&&(r=!0,o.group&&s)){i.push(...o.allLeafChildren);return}if(!n){if(o!==t&&o!==e)return;n=!0}if(!o.group||!s){i.push(o);return}}),i}getTopLevelNodes(){return this.rootNode?.childrenAfterGroup??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,r=t.length-1;if(e<=0)return 0;if(Ei(t).rowTop<=e)return t.length-1;let s=-1,o=-1;for(;;){const a=Math.floor((n+r)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(r=a-1),s===n&&o===r))return a;s=n,o=r}}isRowInPixel(e,t){const n=e.rowTop,r=e.rowTop+e.rowHeight;return n<=t&&r>t}forEachLeafNode(e){this.rootNode?.allLeafChildren?.forEach((t,n)=>e(t,n))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const{colModel:r,rowGroupColsSvc:i}=this.beans;if(!r.isPivotMode())return;if(!i?.columns.length){e(this.rootNode,0);return}const s=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,o=>o.leafGroup?null:o[s])}depthFirstSearchRowNodes(e,t=!1,n=s=>s.childrenAfterGroup,r=this.rootNode,i=0){let s=i;if(!r)return s;const o=r===this.rootNode;o||e(r,s++);const{footerSvc:a}=this.beans;if(r.hasChildren()&&!r.footer){const l=n(r);if(l){s=a?.addTotalRows(s,r,e,t,o,"top")??s;for(const c of l)s=this.depthFirstSearchRowNodes(e,t,n,c,s);return a?.addTotalRows(s,r,e,t,o,"bottom")??s}}return s}doAggregate(e){const t=this.rootNode;t&&this.aggStage?.execute({rowNode:t,changedPath:e})}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),xJ(n)})}doRowGrouping(e){const t=this.rootNode,n=this.groupStage?.execute({rowNode:t,changedRowNodes:e.changedRowNodes,changedPath:e.changedPath,rowNodesOrderChanged:!!e.rowNodesOrderChanged,afterColumnsChanged:!!e.afterColumnsChanged});if(n!==void 0)return n;const r=t.sibling;return t.childrenAfterGroup=t.allLeafChildren,r&&(r.childrenAfterGroup=t.childrenAfterGroup),t.updateHasChildren(),!1}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,QQ(t)},!0)}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){const t=this.nodeManager.getRowNode(e);return typeof t=="object"?t:typeof e=="string"&&e.indexOf(WF)===0?this.groupStage?.getNode(e):void 0}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache?.onDataChanged();const e=[],t=[],n=new bD;let r=!1;this.rowDataTransactionBatch?.forEach(i=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:s,rowsInserted:o}=this.nodeManager.updateRowData(i.rowDataTransaction,n);o&&(r=!0),t.push(s),i.callback&&e.push(i.callback.bind(null,s))}),this.commitTransactions(r,n),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache?.onDataChanged(),this.rowNodesCountReady=!0;const t=new bD,{rowNodeTransaction:n,rowsInserted:r}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(r,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=t?.childrenAfterSort??[];for(const r of n)r.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.beans.rowAutoHeight?.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.orderedStages=GT,this.rowsToDisplay=GT}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function TOe(e){e.expansionSvc?.onGroupExpandedOrCollapsed()}function ROe(e,t){const n=bf(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function AOe(e){return bf(e)?.isEmpty()??!0}function kOe(e,t){bf(e)?.forEachLeafNode(t)}function POe(e,t){bf(e)?.forEachNodeAfterFilter(t)}function DOe(e,t){bf(e)?.forEachNodeAfterFilterAndSort(t)}function FOe(e){if(e.rowAutoHeight?.active){zt(3);return}bf(e)?.resetRowHeights()}function IOe(e,t){return e.frameworkOverrides.wrapIncoming(()=>bf(e)?.updateRowData(t))}function MOe(e,t,n){e.frameworkOverrides.wrapIncoming(()=>bf(e)?.batchUpdateRowData(t,n))}function OOe(e){e.frameworkOverrides.wrapIncoming(()=>bf(e)?.flushAsyncTransactions())}function LOe(e){return e.selectionSvc?.getBestCostNodeSelection()}var NOe={moduleName:"ClientSideRowModel",version:on,rowModels:["clientSide"],beans:[COe,EOe,xOe],dependsOn:[KQ]},BOe={moduleName:"ClientSideRowModelApi",version:on,apiFunctions:{onGroupExpandedOrCollapsed:TOe,refreshClientSideRowModel:ROe,isRowDataEmpty:AOe,forEachLeafNode:kOe,forEachNodeAfterFilter:POe,forEachNodeAfterFilterAndSort:DOe,resetRowHeights:FOe,applyTransaction:IOe,applyTransactionAsync:MOe,flushAsyncTransactions:OOe,getBestCostNodeSelection:LOe},dependsOn:[mOe]},VOe=class extends _t{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:r,skipRowGroups:i,exportRowNumbers:s}=t,o=this.getColumnsToExport({allColumns:n,skipRowGroups:i,columnKeys:r,exportRowNumbers:s});return[this.prepareSession(o),this.prependContent(t),this.exportColumnGroups(t,o),this.exportHeaders(t,o),this.processPinnedTopRows(t,o),this.processRows(t,o),this.processPinnedBottomRows(t,o),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,r){const i=t.shouldRowBeSkipped||(()=>!1),o=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!o,l=this.colModel.isPivotMode()?r.leafGroup:!r.group,c=!!r.footer,u=r.allChildrenCount===1&&r.childrenAfterGroup?.length===1&&k1e(this.gos,r);if(!l&&!c&&(t.skipRowGroups||u||a)||t.onlySelected&&!r.isSelected()||t.skipPinnedTop&&r.rowPinned==="top"||t.skipPinnedBottom&&r.rowPinned==="bottom"||r.stub||r.level===-1&&!l&&!c||i(In(this.gos,{node:r})))return;const m=e.onNewBodyRow(r);if(n.forEach((y,w)=>{m.onColumn(y,w,r)}),t.getCustomContentBelowRow){const y=t.getCustomContentBelowRow(In(this.gos,{node:r}));y&&e.addCustomContent(y)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const r=new Rq,{colGroupSvc:i}=this.beans,s=i?i.createColumnGroups({columns:t,idCreator:r,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(s,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const r=n.onNewHeaderRow();t.forEach((i,s)=>{r.onColumn(i,s,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="top").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedTopRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("top",r),n}}processRows(e,t){return n=>{const r=this.rowModel,i=Yo(this.gos),s=tv(this.gos),o=!i&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,u)=>c.rowIndex-u.rowIndex).map(c=>r.getRow(c.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return i?r.forEachPivotNode(a,!0,l==="filteredAndSorted"):s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a),n;if(e.onlySelectedAllPages||o){const c=this.beans.selectionSvc?.getSelectedNodes()??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?r.forEachNode(a):i||s?r.forEachNodeAfterFilterAndSort(a,!0):r.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const r=t.getSortOptions(),i=(s,o)=>s.rowIndex!=null&&o.rowIndex!=null?s.rowIndex-o.rowIndex:s.level===o.level?s.parent?.id===o.parent?.id?n.compareRowNodes(r,{rowNode:s,currentPos:s.rowIndex??-1},{rowNode:o,currentPos:o.rowIndex??-1}):i(s.parent,o.parent):s.level>o.level?i(s.parent,o):i(s,o.parent);e.sort(i)}processPinnedBottomRows(e,t){return n=>{const r=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(i=>i.rowPinned==="bottom").sort((i,s)=>i.rowIndex-s.rowIndex).map(i=>this.pinnedRowModel?.getPinnedBottomRow(i.rowIndex)).forEach(r):this.pinnedRowModel?.isManual()||this.pinnedRowModel?.forEachPinnedRow("bottom",r),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:r=!1,columnKeys:i}=e,{colModel:s,gos:o,visibleCols:a}=this,l=s.isPivotMode(),c=p=>$g(p)?!1:!wg(p)||r;if(i&&i.length)return s.getColsForKeys(i).filter(c);const u=o.get("treeData");let h=[];return t&&!l?h=s.getCols():h=a.allCols,h=h.filter(p=>c(p)&&(n&&!u?!IL(p):!0)),h}recursivelyAddHeaderGroups(e,t,n){const r=[];e.forEach(i=>{const s=i;s.getChildren&&s.getChildren().forEach(o=>r.push(o))}),e.length>0&&Eo(e[0])&&this.doAddHeaderHeader(t,e,n),r&&r.length>0&&this.recursivelyAddHeaderGroups(r,t,n)}doAddHeaderHeader(e,t,n){const r=e.onNewHeaderGroupingRow();let i=0;t.forEach(s=>{const o=s;let a;n?a=n(In(this.gos,{columnGroup:o})):a=this.beans.colNames.getDisplayNameForColumnGroup(o,"header");const l=o.getLeafColumns().reduce((c,u,h,p)=>{let m=Ei(c);return u.getColumnGroupShow()==="open"?(!m||m[1]!=null)&&(m=[h],c.push(m)):m&&m[1]==null&&(m[1]=h-1),h===p.length-1&&m&&m[1]==null&&(m[1]=h),c},[]);r.onColumn(o,a||"",i++,o.getLeafColumns().length-1,l)})}},HOe={moduleName:"SharedExport",version:on,beans:[VOe]},Yz=`\r
`,zOe=class extends EFe{constructor(e){super(e),this.config=e,this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,Yz),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,r)=>{r!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,r){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(r)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const r=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(r.valueFormatted??r.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(zt(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=Yz),this.isFirstLine=!1}},GOe=class extends _Fe{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){zt(51);return}const t=this.getMergedParams(e),n=this.getData(t),r=new Blob(["\uFEFF",n],{type:"text/plain"}),i=typeof t.fileName=="function"?t.fileName(In(this.gos,{})):t.fileName;TFe(this.getFileName(i),r)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:r,valueSvc:i,gos:s}=this,{processCellCallback:o,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:h}=e;return new zOe({colModel:t,colNames:n,valueSvc:i,gos:s,processCellCallback:o||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:h||",",rowGroupColsSvc:r})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function UOe(e,t){return e.csvCreator?.getDataAsCsv(t)}function WOe(e,t){e.csvCreator?.exportDataAsCsv(t)}var jOe={moduleName:"CsvExport",version:on,beans:[GOe],apiFunctions:{getDataAsCsv:UOe,exportDataAsCsv:WOe},dependsOn:[HOe]},KOe=class extends _t{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:r,rowNodes:i}=this;for(let s=0;s<e;s++){const o=n+s,a=new M0(r);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(t*o),i.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:r}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:r}}}setDataAndId(e,t,n){nn(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(_s(this.params.datasource.getRows)){zt(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:r,filterModel:i},gos:s}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:r,filterModel:i,context:In(s,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((r,i)=>{this.startRow+i<n&&e(r,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((i,s)=>{const o=e.rowData?e.rowData[s]:void 0;!i.id&&i.alreadyRendered&&o&&(t[s]=new M0(n),t[s].setRowIndex(i.rowIndex),t[s].setRowTop(i.rowTop),t[s].setRowHeight(i.rowHeight),i.clearRowTopAndRowIndex()),this.setDataAndId(t[s],o,this.startRow+s)});const r=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,r)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},YOe=2,XOe=class extends _t{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let r=this.blocks[n];if(!r){if(t)return;r=this.createBlock(n)}return r.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new KOe(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(k0(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(o=>o!=e),n=(o,a)=>a.lastAccessed-o.lastAccessed;t.sort(n);const r=this.params.maxBlocksInCache>0,i=r?this.params.maxBlocksInCache-1:null,s=YOe-1;t.forEach((o,a)=>{const l=o.state==="needsLoading"&&a>=s,c=r?a>=i:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(o)||this.isBlockFocused(o))return;this.removeBlockFromCache(o)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:r}=e;return t.rowIndex>=n&&t.rowIndex<r}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:r}=this.params,s=(e.id+1)*n+r;this.rowCount<s&&(this.rowCount=s)}}setRowCount(e,t){this.rowCount=e,nn(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,r)=>n.id-r.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let r=-1,i=!1;const s={value:0};let o=!1;return this.getBlocksInOrder().forEach(l=>{if(!o){if(i&&r+1!==l.id){o=!0;return}r=l.id,l.forEachNode(c=>{const u=c===e||c===t;(i||u)&&n.push(c),u&&(i=!i)},s,this.rowCount)}}),o||i?[]:n}},ZOe=class extends _t{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=o0(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=o0(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){let e;this.cacheParams?e=!Lx(this.cacheParams.sortModel,this.beans.sortSvc?.getSortModel()??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?.getRowNodesInRange(e,t)??[]}reset(){if(!this.datasource)return;uw(this.gos)!=null||this.beans.selectionSvc?.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:r,eventSvc:i,gos:s}=e;this.cacheParams={datasource:this.datasource,filterModel:t?.getFilterModel()??{},sortModel:n?.getSortModel()??[],rowNodeBlockLoader:r,initialRowCount:s.get("infiniteInitialRowCount"),maxBlocksInCache:s.get("maxBlocksInCache"),rowHeight:o0(e),overflowSize:s.get("cacheOverflowSize"),blockSize:s.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new XOe(this.cacheParams)),i.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){this.infiniteCache?.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache?.refreshCache()}purgeCache(){this.infiniteCache?.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?.isLastRowIndexKnown()??!1}setRowCount(e,t){this.infiniteCache?.setRowCount(e,t)}};function qOe(e){LA(e)?.refreshCache()}function QOe(e){LA(e)?.purgeCache()}function JOe(e){return LA(e)?.getRowCount()}var $Oe=class extends _t{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=P1e(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=nl(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Sd(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){k0(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:r}=t.getBlockStateJson();e[n]=r}),e}printCacheStatus(){k0(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},eLe={moduleName:"InfiniteRowModelCore",version:on,rowModels:["infinite"],beans:[ZOe,$Oe]},tLe={moduleName:"InfiniteRowModel",version:on,apiFunctions:{refreshInfiniteCache:qOe,purgeInfiniteCache:QOe,getInfiniteRowCount:JOe},dependsOn:[eLe,vOe]},nLe="",rLe="",iLe={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},sLe=class extends qi{constructor(){super(iLe),this.eValue=Tn,this.eDelta=Tn,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),r=e.formatValue(n),i=nn(r)?r:n,s=t>=0,o=this.eDelta;s?o.textContent=nLe+i:o.textContent=rLe+i,o.classList.toggle("ag-value-change-delta-up",s),o.classList.toggle("ag-value-change-delta-down",!s)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Au(this.eDelta)}refresh(e,t=!1){const{value:n,valueFormatted:r}=e,{eValue:i,lastValue:s,beans:o}=this;if(n===s||(nn(r)?i.textContent=r:nn(n)?i.textContent=n:Au(i),o.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;const a=n&&typeof n=="object"&&"toNumber"in n?n.toNumber():n,l=s&&typeof s=="object"&&"toNumber"in s?s.toNumber():s;if(a===l)return!1;if(typeof a=="number"&&typeof l=="number"){const c=a-l;this.showDelta(e,c)}return s&&i.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},oLe=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",aLe={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},lLe=class extends qi{constructor(){super(aLe),this.eCurrent=Tn,this.refreshCount=0,this.registerCSS(oLe)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,r=To({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=r,r.textContent=n.textContent,this.getGui().insertBefore(r,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let n=e.value;if(_s(n)&&(n=""),n===this.lastValue||this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const r=this.eCurrent;return nn(e.valueFormatted)?r.textContent=e.valueFormatted:nn(e.value)?r.textContent=n:Au(r),!0}},cLe=class extends _t{constructor(){super(...arguments),this.beanName="cellFlashSvc",this.nextAnimationTime=null,this.nextAnimationCycle=null,this.animations={highlight:new Map,"data-changed":new Map}}animateCell(e,t,n=this.beans.gos.get("cellFlashDuration"),r=this.beans.gos.get("cellFadeDuration")){const i=this.animations[t];i.delete(e);const s=Date.now(),o=s+n,a=s+n+r,l={phase:"flash",flashEndTime:o,fadeEndTime:a};i.set(e,l);const c=`ag-cell-${t}`,u=`${c}-animation`,{comp:h,eGui:{style:p}}=e;h.toggleCss(c,!0),h.toggleCss(u,!1),p.removeProperty("transition"),p.removeProperty("transition-delay"),this.nextAnimationTime&&o+15<this.nextAnimationTime&&(clearTimeout(this.nextAnimationCycle),this.nextAnimationCycle=null,this.nextAnimationTime=null),this.nextAnimationCycle||(this.beans.frameworkOverrides.wrapIncoming(()=>{this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),n)}),this.nextAnimationTime=o)}advanceAnimations(){const e=Date.now();let t=null;for(const n of Object.keys(this.animations)){const r=this.animations[n],i=`ag-cell-${n}`,s=`${i}-animation`;for(const[o,a]of r){if(!o.isAlive()||!o.comp){r.delete(o);continue}const{phase:l,flashEndTime:c,fadeEndTime:u}=a,h=l==="flash"?c:u;if(!(e+15>=h)){t=Math.min(h,t??1/0);continue}const{comp:m,eGui:{style:y}}=o;switch(l){case"flash":m.toggleCss(i,!1),m.toggleCss(s,!0),y.transition=`background-color ${u-c}ms`,y.transitionDelay=`${c-e}ms`,t=Math.min(u,t??1/0),a.phase="fade";break;case"fade":m.toggleCss(i,!1),m.toggleCss(s,!1),y.removeProperty("transition"),y.removeProperty("transition-delay"),r.delete(o);break}}}t==null?(this.nextAnimationTime=null,this.nextAnimationCycle=null):t&&(this.nextAnimationCycle=setTimeout(this.advanceAnimations.bind(this),t-e),this.nextAnimationTime=t)}onFlashCells(e,t){if(!e.comp)return;const n=fEe(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t?.flashDuration,t?.fadeDuration)}destroy(){for(const e of Object.keys(this.animations))this.animations[e].clear()}};function uLe(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(r=>n.flashCell(r,t))})}var dLe={moduleName:"HighlightChanges",version:on,beans:[cLe],userComponents:{agAnimateShowChangeCellRenderer:sLe,agAnimateSlideCellRenderer:lLe},apiFunctions:{flashCells:uLe}};function hLe(e){return e.stateSvc?.getState()??{}}function fLe(e,t,n){return e.stateSvc?.setState(t,n)}function Xz(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=pLe(e)}return e.version=on,e}function pLe(e){return e.cellSelection=gLe(e,"rangeSelection"),e}function gLe(e,t){if(e&&typeof e=="object")return e[t]}var mLe=class extends _t{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=nl(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=nl(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=nl(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=Yo(this.gos);const e=Xz(this.gos.get("initialState")??{}),t=e.partialColumnState;delete e.partialColumnState,this.cachedState=e;const n=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>n(()=>this.setupStateOnGridReady(e)));const[r,i,s]=this.addManagedEventListeners({newColumnsLoaded:({source:o})=>{o==="gridInitializing"&&(r(),n(()=>this.setupStateOnColumnsInitialised(e,!!t)))},rowCountReady:()=>{i?.(),n(()=>this.setupStateOnRowCountReady(e))},firstDataRendered:()=>{s?.(),n(()=>this.setupStateOnFirstDataRendered(e))}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setState(e,t){const n=Xz(e);delete n.partialColumnState,this.cachedState=n,this.startSuppressEvents();const r="api",i=t?new Set(t):void 0;this.setGridReadyState(n,r,i),this.setColumnsInitialisedState(n,r,!1,i),this.setRowCountState(n,r,i),setTimeout(()=>{this.isAlive()&&this.setFirstDataRenderedState(n,r,i),this.stopSuppressEvents(r)})}setGridReadyState(e,t,n){t==="api"&&!n?.has("sideBar")&&this.beans.sideBar?.comp?.setState(e.sideBar),this.updateCachedState("sideBar",this.getSideBarState())}setupStateOnGridReady(e){this.setGridReadyState(e,"gridInitializing");const t=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:t,sideBarUpdated:t})}updateColumnAndGroupState(){this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState())}setColumnsInitialisedState(e,t,n,r){this.setColumnState(e,t,n,r),this.setColumnGroupState(e,t,r),this.updateColumnAndGroupState()}setupStateOnColumnsInitialised(e,t){this.setColumnsInitialisedState(e,"gridInitializing",t);const n=r=>()=>this.updateColumnState([r]);this.addManagedEventListeners({columnValueChanged:n("aggregation"),columnMoved:n("columnOrder"),columnPinned:n("columnPinning"),columnResized:n("columnSizing"),columnVisible:n("columnVisibility"),columnPivotChanged:n("pivot"),columnPivotModeChanged:n("pivot"),columnRowGroupChanged:n("rowGroup"),sortChanged:n("sort"),newColumnsLoaded:this.updateColumnAndGroupState.bind(this),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setRowCountState(e,t,n){const{filter:r,rowGroupExpansion:i,rowSelection:s,pagination:o}=e,a=(c,u)=>!n?.has(c)&&(u||t==="api");a("filter",r)&&this.setFilterState(r),a("rowGroupExpansion",i)&&this.setRowGroupExpansionState(i,t),a("rowSelection",s)&&this.setRowSelectionState(s,t),a("pagination",o)&&this.setPaginationState(o,t);const l=this.updateCachedState.bind(this);l("filter",this.getFilterState()),l("rowGroupExpansion",this.getRowGroupExpansionState()),l("rowSelection",this.getRowSelectionState()),l("pagination",this.getPaginationState())}setupStateOnRowCountReady(e){this.setRowCountState(e,"gridInitializing");const t=this.updateCachedState.bind(this),n=()=>{this.updateRowGroupExpansionStateTimer=0,t("rowGroupExpansion",this.getRowGroupExpansionState())},r=()=>t("filter",this.getFilterState()),{gos:i,colFilter:s}=this.beans;this.addManagedEventListeners({filterChanged:r,rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:n,columnRowGroupChanged:n,rowDataUpdated:()=>{(i.get("groupDefaultExpanded")!==0||i.get("isGroupOpenByDefault"))&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(n)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:o=>{(o.newPage||o.newPageSize)&&t("pagination",this.getPaginationState())}}),s&&this.addManagedListeners(s,{filterStateChanged:r})}setFirstDataRenderedState(e,t,n){const{scroll:r,cellSelection:i,focusedCell:s,columnOrder:o,rowPinning:a}=e,l=(h,p)=>!n?.has(h)&&(p||t==="api");l("focusedCell",s)&&this.setFocusedCellState(s),l("cellSelection",i)&&this.setCellSelectionState(i),l("scroll",r)&&this.setScrollState(r),l("rowPinning",a)&&this.setRowPinningState(a),this.setColumnPivotState(!!o?.orderedColIds,t);const c=this.updateCachedState.bind(this);c("sideBar",this.getSideBarState()),c("focusedCell",this.getFocusedCellState());const u=this.getRangeSelectionState();c("rangeSelection",u),c("cellSelection",u),c("scroll",this.getScrollState())}setupStateOnFirstDataRendered(e){this.setFirstDataRenderedState(e,"gridInitializing");const t=this.updateCachedState.bind(this);this.addManagedEventListeners({cellFocused:()=>t("focusedCell",this.getFocusedCellState()),cellSelectionChanged:n=>{if(n.finished){const r=this.getRangeSelectionState();t("rangeSelection",r),t("cellSelection",r)}},bodyScrollEnd:()=>t("scroll",this.getScrollState()),pinnedRowsChanged:()=>t("rowPinning",this.getRowPinningState())})}getColumnState(){const e=this.beans;return pFe(jT(e),e.colModel.isPivotMode())}setColumnState(e,t,n,r){const{sort:i,rowGroup:s,aggregation:o,pivot:a,columnPinning:l,columnVisibility:c,columnSizing:u,columnOrder:h}=e,p=(X,Q)=>!r?.has(X)&&(Q||t==="api"),m={},y=X=>{let Q=m[X];return Q||(Q={colId:X},m[X]=Q,Q)},w={},b=p("sort",i);b&&i?.sortModel.forEach(({colId:X,sort:Q},U)=>{const Z=y(X);Z.sort=Q,Z.sortIndex=U}),(b||!n)&&(w.sort=null,w.sortIndex=null);const S=p("rowGroup",s);S&&s?.groupColIds.forEach((X,Q)=>{const U=y(X);U.rowGroup=!0,U.rowGroupIndex=Q}),(S||!n)&&(w.rowGroup=null,w.rowGroupIndex=null);const E=p("aggregation",o);E&&o?.aggregationModel.forEach(({colId:X,aggFunc:Q})=>{y(X).aggFunc=Q}),(E||!n)&&(w.aggFunc=null);const _=p("pivot",a);_&&(a?.pivotColIds.forEach((X,Q)=>{const U=y(X);U.pivot=!0,U.pivotIndex=Q}),this.gos.updateGridOptions({options:{pivotMode:!!a?.pivotMode},source:t})),(_||!n)&&(w.pivot=null,w.pivotIndex=null);const N=p("columnPinning",l);N&&(l?.leftColIds.forEach(X=>{y(X).pinned="left"}),l?.rightColIds.forEach(X=>{y(X).pinned="right"})),(N||!n)&&(w.pinned=null);const V=p("columnVisibility",c);V&&c?.hiddenColIds.forEach(X=>{y(X).hide=!0}),(V||!n)&&(w.hide=null);const M=p("columnSizing",u);M&&u?.columnSizingModel.forEach(({colId:X,flex:Q,width:U})=>{const Z=y(X);Z.flex=Q??null,Z.width=U}),(M||!n)&&(w.flex=null);const O=h?.orderedColIds,z=!!O?.length&&!r?.has("columnOrder"),H=z?O.map(X=>y(X)):Object.values(m);H.length&&(this.columnStates=H,nh(this.beans,{state:H,applyOrder:z,defaultState:w},t))}setColumnPivotState(e,t){const n=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:s,colGroupSvc:o}=i;if(s?.isPivotResultColsPresent()){if(n){const a=[];for(const l of n)s.getPivotResultCol(l.colId)&&a.push(l);nh(i,{state:a,applyOrder:e},t)}r&&o?.setColumnGroupState(r,t)}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState();return gFe(t)}setColumnGroupState(e,t,n){const r=this.beans.colGroupSvc;if(!r||n?.has("columnGroup")||t!=="api"&&!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const i=new Set(e.columnGroup?.openColumnGroupIds),o=r.getColumnGroupState().map(({groupId:a})=>{const l=i.has(a);return l&&i.delete(a),{groupId:a,open:l}});i.forEach(a=>{o.push({groupId:a,open:!0})}),o.length&&(this.columnGroupStates=o),r.setColumnGroupState(o,t)}getFilterState(){const e=this.beans.filterManager;let t=e?.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=e?.getFilterState(),r=e?.getAdvFilterModel()??void 0;return t||r||n?{filterModel:t,columnFilterState:n,advancedFilterModel:r}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,columnFilterState:r,advancedFilterModel:i}=e??{filterModel:null,columnFilterState:null,advancedFilterModel:null};(n!==void 0||r!==void 0)&&t?.setFilterState(n??null,r??null,"columnFilter"),i!==void 0&&t?.setAdvFilterModel(i??null,"advancedFilter")}getRangeSelectionState(){const e=this.beans.rangeSvc?.getCellRanges().map(t=>{const{id:n,type:r,startRow:i,endRow:s,columns:o,startColumn:a}=t;return{id:n,type:r,startRow:i,endRow:s,colIds:o.map(l=>l.getColId()),startColId:a.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:r,visibleCols:i}=this.beans;if(!Mg(t)||!n)return;const s=[];e?.cellRanges.forEach(o=>{const a=[];if(o.colIds.forEach(c=>{const u=r.getCol(c);u&&a.push(u)}),!a.length)return;let l=r.getCol(o.startColId);if(!l){const c=i.allCols,u=new Set(a);l=c.find(h=>u.has(h))}s.push({...o,columns:a,startColumn:l})}),n.setCellRanges(s)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:n}=e?.getVScrollPosition()??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e??{top:0,left:0},{frameworkOverrides:r,rowRenderer:i,animationFrameSvc:s,ctrlsSvc:o}=this.beans;r.wrapIncoming(()=>{o.get("center").setCenterViewportScrollLeft(n),o.getScrollFeature()?.setVerticalScrollPosition(t),i.redraw({afterScroll:!0}),s?.flushAllFrames()})}getSideBarState(){return this.beans.sideBar?.comp?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:r}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:r}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{focusSvc:t,colModel:n}=this.beans;if(!e){t.clearFocusedCell();return}const{colId:r,rowIndex:i,rowPinned:s}=e;t.setFocusedCell({column:n.getCol(r),rowIndex:i,rowPinned:s,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),r=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!r))return{page:n,pageSize:r}}setPaginationState(e,t){const{pagination:n,gos:r}=this.beans;if(!n)return;const{pageSize:i,page:s}=e??{page:0,pageSize:r.get("paginationPageSize")},o=t==="gridInitializing";i&&!r.get("paginationAutoPageSize")&&n.setPageSize(i,o?"initialState":"pageSizeSelector"),typeof s=="number"&&(o?n.setPage(s):n.goToPage(s))}getRowSelectionState(){const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!t?.toggledNodes?.length?void 0:t}setRowSelectionState(e,t){this.beans.selectionSvc?.setSelectionState(e,t,t==="api")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:r,id:i})=>{r&&i&&n.push(i)}),n.length?{expandedRowGroupIds:n}:void 0}getRowPinningState(){return this.beans.pinnedRowModel?.getPinnedState()}setRowPinningState(e){const t=this.beans.pinnedRowModel;e?t?.setPinnedState(e):t?.reset()}setRowGroupExpansionState(e,t){const n=this.beans.expansionSvc;if(!n)return;const r=e?.expandedRowGroupIds??[];let i;if(t==="api"){const s=this.getRowGroupExpansionState()?.expandedRowGroupIds;if(s?.length){const o=new Set(s);for(const a of r)o.delete(a);i=Array.from(o)}}n.expandRows(r,i)}updateColumnState(e){const t=this.getColumnState();let n=!1;const r=this.cachedState;for(const i of Object.keys(t)){const s=t[i];Lx(s,r[i])||(n=!0)}this.cachedState={...r,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),Lx(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}startSuppressEvents(){this.suppressEvents=!0,this.beans.colAnimation?.setSuppressAnimation(!0)}stopSuppressEvents(e){setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.beans.colAnimation?.setSuppressAnimation(!1),this.dispatchStateUpdateEvent([e]))})}suppressEventsAndDispatchInitEvent(e){this.startSuppressEvents(),e(),this.stopSuppressEvents("gridInitializing")}},vLe={moduleName:"GridState",version:on,beans:[mLe],apiFunctions:{getState:hLe,setState:fLe}};function yLe(e){return e.rowModel.isLastRowIndexKnown()}function wLe(e){return e.pagination?.getPageSize()??100}function CLe(e){return e.pagination?.getCurrentPage()??0}function bLe(e){return e.pagination?.getTotalPages()??1}function xLe(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function SLe(e){e.pagination?.goToNextPage()}function _Le(e){e.pagination?.goToPreviousPage()}function ELe(e){e.pagination?.goToFirstPage()}function TLe(e){e.pagination?.goToLastPage()}function RLe(e,t){e.pagination?.goToPage(t)}var ALe=class extends _t{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const r=Math.max(o0(t),1),i=Math.floor(e/r);t.pagination.setPageSize(i,"autoCalculated")};this.isBodyRendered?nl(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},$C="paginationPageSizeSelector",kLe={tag:"span",cls:"ag-paging-page-size"},PLe=class extends qi{constructor(){super(kLe),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener($C,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Au(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get($C)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const i=this.gos.exists("paginationPageSize"),s=this.gos.get($C)!==!0;zt(94,{pageSizeSet:i,pageSizesSet:s,pageSizeOptions:e,paginationPageSizeOption:t}),s||zt(95,{paginationPageSizeOption:t,paginationPageSizeSelector:$C}),e.unshift("")}const r=String(n?"":t);this.selectPageSizeComp?(rv(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(r,!0)):this.createPageSizeSelectorComp(e,r),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),r=n("pageSizeSelectorLabel","Page Size:"),i=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new JL).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(r).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get($C);return!Array.isArray(t)||!t?.length?e:[...t].sort((n,r)=>n-r)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},DLe={selector:"AG-PAGE-SIZE-SELECTOR",component:PLe},FLe=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:var(--ag-pagination-panel-height);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",ILe=class extends eAe{constructor(){super(),this.btFirst=Tn,this.btPrevious=Tn,this.btNext=Tn,this.btLast=Tn,this.lbRecordCount=Tn,this.lbFirstRowOnPage=Tn,this.lbLastRowOnPage=Tn,this.lbCurrent=Tn,this.lbTotal=Tn,this.pageSizeComp=Tn,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(FLe)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[DLe]);const{btFirst:t,btPrevious:n,btNext:r,btLast:i}=this;this.activateTabIndex([t,n,r,i]),t.insertAdjacentElement("afterbegin",dd(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",dd(e?"next":"previous",this.beans)),r.insertAdjacentElement("afterbegin",dd(e?"previous":"next",this.beans)),i.insertAdjacentElement("afterbegin",dd(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:s=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(s):LEe(this.beans,s),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:r=>{(r.key===vt.ENTER||r.key===vt.SPACE)&&(r.preventDefault(),n())}})}),OEe(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):SFe(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const r=this.isZeroPagesToDisplay(),i=e===n-1;this.nextButtonDisabled=i||r,this.lastButtonDisabled=!t||r||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){$Se(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),r=e?n:null,i=this.pagination.getCurrentPage(),s=this.pagination.getPageSize();let o,a;this.isZeroPagesToDisplay()?o=a=0:(o=s*i+1,a=o+s-1,e&&a>r&&(a=r));const l=o+s-1,c=!e&&n<l,u=this.formatNumber(o);this.lbFirstRowOnPage.textContent=u;let h;const p=this.getLocaleTextFunc();c?h=p("pageLastRowUnknown","?"):h=this.formatNumber(a),this.lbLastRowOnPage.textContent=h;const y=t>0?i+1:0,w=this.formatNumber(y);this.lbCurrent.textContent=w;let b,S;if(e)b=this.formatNumber(t),S=this.formatNumber(r);else{const E=p("more","more");b=E,S=E}this.lbTotal.textContent=b,this.lbRecordCount.textContent=S,this.announceAriaStatus(u,h,S,w,b)}announceAriaStatus(e,t,n,r,i){const s=this.getLocaleTextFunc(),o=s("page","Page"),a=s("to","to"),l=s("of","of"),c=`${e} ${a} ${t} ${l} ${n}`,u=`${o} ${r} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnounce?.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnounce?.announceValue(u,"paginationPage"))}},MLe={selector:"AG-PAGINATION",component:ILe},OLe=class extends _t{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return MLe}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;if(!this.active||t===e||typeof t!="number")return;const{editSvc:n}=this.beans;n?.isEditing()&&(n.isBatchEditing()?n.cleanupEditors():n.stopEditing(void 0,{source:"api"})),this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0})}goToPageWithIndex(e){if(!this.active)return;let t=e;this.paginateChildRows||(t=this.beans.rowModel.getTopLevelIndexFromDisplayedIndex?.(e)??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return nn(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:nn(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:nn(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:nn(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,r=t-1;this.totalPages=Math.floor(r/n)+1,this.adjustCurrentPageIfInvalid();const i=this.currentPage,s=n*i;let o=n*(i+1)-1;if(o>r&&(o=r),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(s),o===r)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,r=e-1;this.totalPages=Math.floor(r/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:r=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:r,keepRenderedRows:t})}},LLe={moduleName:"Pagination",version:on,beans:[OLe,ALe],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:yLe,paginationGetPageSize:wLe,paginationGetCurrentPage:CLe,paginationGetTotalPages:bLe,paginationGetRowCount:xLe,paginationGoToNextPage:SLe,paginationGoToPreviousPage:_Le,paginationGoToFirstPage:ELe,paginationGoToLastPage:TLe,paginationGoToPage:RLe},dependsOn:[NA]};function NLe(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function SJ(e,t,n,r,i){t&&(r&&t.parent&&t.parent.level!==-1&&SJ(e,t.parent,n,r,i),t.setExpanded(n,void 0,i))}function BLe(e,t){return e.rowModel.getRowNode(t)}function VLe(e,t,n,r){e.rowRenderer.addRenderedRowListener(t,n,r)}function HLe(e){return e.rowRenderer.getRenderedNodes()}function zLe(e,t,n){e.rowModel.forEachNode(t,n)}function GLe(e){return e.rowRenderer.firstRenderedRow}function ULe(e){return e.rowRenderer.lastRenderedRow}function WLe(e,t){return e.rowModel.getRow(t)}function jLe(e){return e.rowModel.getRowCount()}var KLe={moduleName:"RowApi",version:on,apiFunctions:{redrawRows:NLe,setRowNodeExpanded:SJ,getRowNode:BLe,addRenderedRowListener:VLe,getRenderedNodes:HLe,forEachNode:zLe,getFirstDisplayedRowIndex:GLe,getLastDisplayedRowIndex:ULe,getDisplayedRowAtIndex:WLe,getDisplayedRowCount:jLe}},YLe={moduleName:"ScrollApi",version:on,apiFunctions:{getVerticalPixelRange:gMe,getHorizontalPixelRange:mMe,ensureColumnVisible:pJ,ensureIndexVisible:gJ,ensureNodeVisible:vMe}};function XLe(e,t,n){if(!t)return;const r=e.ctrlsSvc.getGridBodyCtrl().eGridBody,i=`aria-${t}`;n===null?r.removeAttribute(i):r.setAttribute(i,n)}function ZLe(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function qLe(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function QLe(e){return e.animationFrameSvc?.isQueueEmpty()??!0}function JLe(e){e.animationFrameSvc?.flushAllFrames()}function $Le(e){return{rowHeight:o0(e),headerHeight:y1(e)}}function eNe(e,t={}){const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const o=s.getCellRenderer();o!=null&&n.push(Gx(o))}),t.columns?.length)return n;const r=[],i=tI(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(i&&!nI(s.rowNode,i)||!s.isFullWidth())return;const o=s.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const l=o[a];l!=null&&r.push(Gx(l))}}),[...r,...n]}var tNe={moduleName:"RenderApi",version:on,apiFunctions:{setGridAriaProperty:XLe,refreshCells:ZLe,refreshHeader:qLe,isAnimationFrameQueueEmpty:QLe,flushAllAnimationFrames:JLe,getSizesForCurrentTheme:$Le,getCellRendererInstances:eNe}};function nNe(e,t){typeof t=="number"?e.colAutosize?.sizeColumnsToFit(t,"api"):e.colAutosize?.sizeColumnsToFitGridBody(t)}function _J({colAutosize:e,visibleCols:t},n,r){Array.isArray(n)?e?.autoSizeCols({colKeys:n,skipHeader:r,source:"api"}):e?.autoSizeCols({colKeys:n.colIds??t.allCols,skipHeader:n.skipHeader,defaultMaxWidth:n.defaultMaxWidth,defaultMinWidth:n.defaultMinWidth,columnLimits:n.columnLimits,source:"api"})}function rNe(e,t){t&&typeof t=="object"?_J(e,t):e.colAutosize?.autoSizeAllColumns({source:"api",skipHeader:t})}var iNe=class extends _t{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:r,stopAtGroup:i,defaultMaxWidth:s,defaultMinWidth:o,columnLimits:a=[],source:l="api"}=e,{animationFrameSvc:c,renderStatus:u,colModel:h,autoWidthCalc:p,visibleCols:m}=this.beans;if(c?.flushAllFrames(),this.timesDelayed<5&&u&&!u.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const y=[];let w=-1;const b=Object.fromEntries(a.map(({colId:_,maxWidth:N,minWidth:V})=>[_,{maxWidth:N,minWidth:V}])),S=n??this.gos.get("skipHeaderOnAutoSize"),E=r??S;for(;w!==0;){w=0;const _=[];t.forEach(N=>{if(!N||$1e(N))return;const V=h.getCol(N);if(!V||y.indexOf(V)>=0)return;const M=p.getPreferredWidthForColumn(V,S);if(M>0){const O=b[V.colId]??{};O.minWidth??(O.minWidth=o),O.maxWidth??(O.maxWidth=s);const z=sNe(V,M,O);V.setActualWidth(z,l),y.push(V),w++}_.push(V)}),_.length&&m.refresh(l)}E||this.autoSizeColumnGroupsByColumns(t,l,i),dw(this.eventSvc,y,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:r,ctrlsSvc:i}=this.beans,s=new Set;r.getColsForKeys(e).forEach(c=>{let u=c.getParent();for(;u&&u!=n;)u.isPadding()||s.add(u),u=u.getParent()});let a;const l=[];for(const c of s){for(const u of i.getHeaderRowContainerCtrls())if(a=u.getHeaderCtrlForColumn(c),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e));return}const t=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:t,...e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),r=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",r);const i=new Nm(e);return i.addEventListener("doubleTap",r),()=>{e.removeEventListener("dblclick",r),i.removeEventListener("doubleTap",r),i.destroy()}}addColumnGroupResize(e,t,n){const r=this.gos.get("skipHeaderOnAutoSize"),i=()=>{const s=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||s.push(a.getColId())}),s.length>0&&this.autoSizeCols({colKeys:s,skipHeader:r,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",i),()=>e.removeEventListener("dblclick",i)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:r}=this.beans,i=n.getGridBodyCtrl(),o=i.isVerticalScrollShowing()?r.getScrollbarWidth():0,l=Vx(i.eGridBody)-o;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):zt(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,r){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,r));return}const i={};r&&r?.columnLimits?.forEach(({key:m,...y})=>{i[typeof m=="string"?m:m.getColId()]=y});const s=this.beans.visibleCols.allCols;if(e<=0||!s.length||e===Lf(s)&&s.every(y=>{if(y.colDef.suppressSizeToFit)return!0;const w=i?.[y.getId()],b=w?.minWidth??r?.defaultMinWidth,S=w?.maxWidth??r?.defaultMaxWidth,E=y.getActualWidth();return(b==null||E>=b)&&(S==null||E<=S)}))return;const a=[],l=[];s.forEach(m=>{m.getColDef().suppressSizeToFit===!0?l.push(m):a.push(m)});const c=a.slice(0);let u=!1;const h=m=>{Sd(a,m),l.push(m)};for(a.forEach(m=>{m.resetActualWidth(t);const y=i?.[m.getId()],w=y?.minWidth??r?.defaultMinWidth,b=y?.maxWidth??r?.defaultMaxWidth,S=m.getActualWidth();typeof w=="number"&&S<w?m.setActualWidth(w,t,!0):typeof b=="number"&&S>b&&m.setActualWidth(b,t,!0)});!u;){u=!0;const m=e-Lf(l);if(m<=0)a.forEach(y=>{const w=i?.[y.getId()]?.minWidth??r?.defaultMinWidth;if(typeof w=="number"){y.setActualWidth(w,t,!0);return}y.setActualWidth(y.minWidth,t)});else{const y=m/Lf(a);let w=m;for(let b=a.length-1;b>=0;b--){const S=a[b],E=i?.[S.getId()],_=E?.minWidth??r?.defaultMinWidth,N=E?.maxWidth??r?.defaultMaxWidth,V=S.getMinWidth(),M=S.getMaxWidth(),O=typeof _=="number"&&_>V?_:V,z=typeof N=="number"&&N<M?N:M;let H=Math.round(S.getActualWidth()*y);H<O?(H=O,h(S),u=!1):H>z?(H=z,h(S),u=!1):b===0&&(H=w),S.setActualWidth(H,t,!0),w-=H}}}c.forEach(m=>{m.fireColumnWidthChangedEvent(t)});const p=this.beans.visibleCols;p.setLeftValues(t),p.updateBodyWidths(),!n&&dw(this.eventSvc,c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:r,defaultMaxWidth:i}=e,s=n?.map(({colId:o,minWidth:a,maxWidth:l})=>({key:o,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:r,defaultMaxWidth:i,columnLimits:s})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:n,defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s}=e;setTimeout(()=>{const o={skipHeader:n,source:"autosizeColumns",defaultMaxWidth:r,defaultMinWidth:i,columnLimits:s};t?this.autoSizeCols({colKeys:t,...o}):this.autoSizeAllColumns(o)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function sNe(e,t,n={}){const r=n.minWidth??e.getMinWidth();t<r&&(t=r);const i=n.maxWidth??e.getMaxWidth();return t>i&&(t=i),t}var oNe={moduleName:"ColumnAutoSize",version:on,beans:[iNe],apiFunctions:{sizeColumnsToFit:nNe,autoSizeColumns:_J,autoSizeAllColumns:rNe},dependsOn:[TQ]},aNe=".ag-row-pinned-source{background-color:var(--ag-pinned-source-row-background-color);color:var(--ag-pinned-source-row-text-color);font-weight:var(--ag-pinned-source-row-font-weight)}.ag-row-pinned-manual{background-color:var(--ag-pinned-row-background-color);color:var(--ag-pinned-row-text-color);font-weight:var(--ag-pinned-row-font-weight)}";function lNe(e){return e.pinnedRowModel?.getPinnedTopRowCount()??0}function cNe(e){return e.pinnedRowModel?.getPinnedBottomRowCount()??0}function uNe(e,t){return e.pinnedRowModel?.getPinnedTopRow(t)}function dNe(e,t){return e.pinnedRowModel?.getPinnedBottomRow(t)}function hNe(e,t,n){return e.pinnedRowModel?.forEachPinnedRow(t,n)}var fNe={moduleName:"PinnedRow",version:on,beans:[MRe],css:[aNe],apiFunctions:{getPinnedTopRowCount:lNe,getPinnedBottomRowCount:cNe,getPinnedTopRow:uNe,getPinnedBottomRow:dNe,forEachPinnedRow:hNe},icons:{rowPin:"pin",rowPinTop:"pinned-top",rowPinBottom:"pinned-bottom",rowUnpin:"un-pin"}},pNe=class extends Dy{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,r,i,s,o){this.eWrapper=n,super.setComp(e,t,n,r,i,s,o),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&MZ(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){r1e(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.toggleCss(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(DA(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},gNe=class extends $T{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){const t=this.beans.rowSpanSvc?.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new pNe(t,this,this.beans)}isCorrectCtrlForSpan(e){const t=this.beans.rowSpanSvc?.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},mNe=class extends _t{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,r=this[n],i=r.size,s=this.getAllRelevantRowControls(e),o=new Map;let a=!1;for(const c of s)c.isAlive()&&t?.forEachSpannedColumn(c.rowNode,(u,h)=>{if(o.has(h.firstNode))return;const p=r.get(h.firstNode);if(p){o.set(h.firstNode,p),r.delete(h.firstNode);return}a=!0;const m=new gNe(h.firstNode,this.beans,!1,!1,!1);o.set(h.firstNode,m)});this[n]=o;const l=o.size===i;if(!(!a&&l)){for(const c of r.values())c.destroyFirstPass(!0),c.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t?.getCellSpanByPosition(e);if(!n)return;const r=`${EJ(e.rowPinned)}Ctrls`,i=this[r].get(n.firstNode);if(i)return i.getAllCellCtrls().find(s=>s.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},EJ=e=>e??"center",vNe=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){const e=this.firstNode.__autoHeights?.[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(n=>{n!==this.lastNode&&(t+=n.rowHeight)}),e-t}},yNe=class extends _t{constructor(e){super(),this.column=e}buildCache(e){const{column:t,beans:{gos:n,pinnedRowModel:r,rowModel:i,valueSvc:s,pagination:o}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],c=new Map,u=n.getCallback("isFullWidthRow"),h=a.equals,p=a.spanRows,m=typeof p=="function";let y=null,w=null,b;const S=(_,N)=>{y=_,w=null,b=N},E=_=>{const N=!_.isExpandable()&&!_.group&&!_.detail&&(u?!u({rowNode:_}):!0);if(_.rowIndex==null||!N){S(null,null);return}if(y==null||_.level!==y.level||_.footer||w&&_.rowIndex-1!==w?.getLastNode().rowIndex){S(_,s.getValue(t,_));return}const V=s.getValue(t,_);if(m){const M=In(n,{valueA:b,nodeA:y,valueB:V,nodeB:_,column:t,colDef:a});if(!p(M)){S(_,V);return}}else if(h?!h(b,V):b!==V){S(_,V);return}if(!w){const M=l?.get(y);M?.firstNode===y?(M.reset(),w=M):w=new vNe(t,y),c.set(y,w)}w.addSpannedNode(_),c.set(_,w)};switch(e){case"center":i.forEachDisplayedNode?.(_=>{(!o||o.isRowInPage(_.rowIndex))&&E(_)});break;case"top":r?.forEachPinnedRow("top",E);break;case"bottom":r?.forEachPinnedRow("bottom",E);break}this[`${e}ValueNodeMap`]=c}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${EJ(e.rowPinned)}ValueNodeMap`].get(e)}},wNe=class extends _t{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=nl(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=nl(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this),t=this.buildPinnedCaches.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:t,pinnedRowsChanged:t,rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new yNe(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t?.createCtrls("top"),t?.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t?.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,r=e.column,i=e.rowIndex,s=this.spanningColumns.get(r);if(!s)return;let o;switch(e.rowPinned){case"top":o=t?.getPinnedTopRow(i);break;case"bottom":o=t?.getPinnedBottomRow(i);break;default:o=n.getRow(i)}if(o)return s.getCellSpan(o)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,r]of this.spanningColumns)if(r.isCellSpanning(e)){const i=r.getCellSpan(e);t(n,i)}}destroy(){super.destroy(),this.spanningColumns.clear()}},CNe={moduleName:"CellSpan",version:on,beans:[wNe,mNe]},bNe=class extends _t{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,r=n.cellClassRules,i=this.getCellClassParams(e,n);UL(this.beans.expressionSvc,r===this.cellClassRules?void 0:this.cellClassRules,r,i,s=>t.toggleCss(s,!0),s=>t.toggleCss(s,!1)),this.cellClassRules=r}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let r;if(typeof n=="function"){const i=this.getCellClassParams(e,t);r=n(i)}else r=n;r&&this.cellComp.setUserStyles(r)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,r=this.getCellClassParams(e,n);this.staticClasses.forEach(s=>t.toggleCss(s,!1));const i=this.beans.cellStyles.getStaticCellClasses(n,r);this.staticClasses=i,i.forEach(s=>t.toggleCss(s,!0))}getCellClassParams(e,t){const{value:n,rowNode:r}=this.cellCtrl;return In(this.beans.gos,{value:n,data:r.data,node:r,colDef:t,column:e,rowIndex:r.rowIndex})}},xNe=class extends _t{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,r){UL(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,r),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let r;return typeof n=="function"?r=n(t):r=n,typeof r=="string"&&(r=[r]),r||[]}createCellCustomStyleFeature(e,t){return new bNe(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(i=>{n(i)})}},SNe={moduleName:"CellStyle",version:on,beans:[xNe]},_Ne={moduleName:"RowStyle",version:on,beans:[RTe]};function ENe(e,t){return!!e.colHover?.isHovered(t)}var TNe=class extends _t{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:r,gos:i,element:s,columns:o}=this,a=r.colHover;n??!!i.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(s,{mouseover:a.setMouseOver.bind(a,o),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(c=>c()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},RNe="ag-column-hover",ANe=class extends _t{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const r=()=>{const i=this.isHovered(n);t.toggleCss("ag-column-hover",i)};e.addManagedEventListeners({columnHoverChanged:r}),r()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.toggleCss(RNe,n)}addHeaderFilterColumnHoverListener(e,t,n,r){this.createHoverFeature(e,[n],r);const i=()=>{const s=this.isHovered(n);t.toggleCss("ag-column-hover",s)};e.addManagedEventListeners({columnHoverChanged:i}),i()}createHoverFeature(e,t,n){e.createManagedBean(new TNe(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},kNe={moduleName:"ColumnHover",version:on,beans:[ANe],apiFunctions:{isColumnHovered:ENe}},PNe=class extends _t{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){this.wrapSvc=this.beans.frameworkOverrides.createGlobalEventListenerWrapper?.()}addEventListener(e,t){const n=this.wrapSvc?.wrap(e,t)??t,r=!UE.has(e),i=r?this.asyncListeners:this.syncListeners;i.has(e)||i.set(e,new Set),i.get(e).add(n),this.eventSvc.addEventListener(e,n,r)}removeEventListener(e,t){const n=this.wrapSvc?.unwrap(e,t)??t,i=!!this.asyncListeners.get(e)?.delete(n);i||this.syncListeners.get(e)?.delete(n),this.eventSvc.removeEventListener(e,n,i)}addGlobalListener(e){const t=this.wrapSvc?.wrapGlobal(e)??e,n=(s,o)=>{UE.has(s)&&t(s,o)},r=(s,o)=>{UE.has(s)||t(s,o)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:r});const i=this.eventSvc;i.addGlobalListener(n,!1),i.addGlobalListener(r,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:r}=this,i=n?.unwrapGlobal(e)??e;if(r.has(i)){const{syncListener:o,asyncListener:a}=r.get(i);t.removeGlobalListener(o,!1),t.removeGlobalListener(a,!0),r.delete(e)}else this.syncGlobalListeners.delete(i),t.removeGlobalListener(i,!1)}destroyEventListeners(e,t){e.forEach((n,r)=>{n.forEach(i=>this.eventSvc.removeEventListener(r,i,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:r})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(r,!0)}),e.clear()}};function DNe(e,t,n){e.apiEventSvc?.addEventListener(t,n)}function FNe(e,t,n){e.apiEventSvc?.removeEventListener(t,n)}function INe(e,t){e.apiEventSvc?.addGlobalListener(t)}function MNe(e,t){e.apiEventSvc?.removeGlobalListener(t)}var ONe={moduleName:"EventApi",version:on,apiFunctions:{addEventListener:DNe,addGlobalListener:INe,removeEventListener:FNe,removeGlobalListener:MNe},beans:[PNe]},LNe={moduleName:"Locale",version:on,beans:[fFe]},NNe=class extends _t{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=nl(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:r}=this.beans,i=e.autoHeightCols;let s=!1;const o=a=>{const l=a.__autoHeights;let c=Ig(this.beans,a).height;for(const u of i){let h=l?.[u.getColId()];const p=n?.getCellSpan(u,a);if(p){if(p.getLastNode()!==a)continue;if(h=n?.getCellSpan(u,a)?.getLastNodeAutoHeight(),!h)return}if(h==null){if(this.colSpanSkipCell(u,a))continue;return}c=Math.max(h,c)}c!==a.rowHeight&&(a.setRowHeight(c),s=!0)};r?.forEachPinnedRow?.("top",o),r?.forEachPinnedRow?.("bottom",o),t.forEachDisplayedNode?.(o),s&&t.onRowHeightChanged?.()}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const r=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,r!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:r,visibleCols:i}=this.beans;if(!n.colSpanActive)return!1;let s=[];switch(e.getPinned()){case"left":s=i.getLeftColsForRow(t);break;case"right":s=i.getRightColsForRow(t);break;case null:s=r.getColsWithinViewport(t);break}return!s.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const r=t.parentElement,{rowNode:i,column:s}=e,o=this.beans,a=u=>{if(this.beans.editSvc?.isEditing(e)||!e.isAlive()||!n.isAlive())return;const{paddingTop:h,paddingBottom:p,borderBottomWidth:m,borderTopWidth:y}=ev(r),w=h+p+m+y,S=t.offsetHeight+w;if(u<5){const E=Aa(o),_=!E||!E.contains(t),N=S==0;if(_||N){window.setTimeout(()=>a(u+1),0);return}}this.setRowAutoHeight(i,S,s)},l=()=>a(0);l();const c=vp(o,t,l);return n.addDestroyFunc(()=>{c(),this.setRowAutoHeight(i,void 0,s)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}areRowsMeasured(){if(!this.active)return!0;const e=this.beans.rowRenderer.getAllRowCtrls();let t=null;for(const{rowNode:n}of e)if((!t||this.beans.colModel.colSpanActive)&&(t=this.beans.colViewport.getColsWithinViewport(n).filter(i=>i.isAutoHeight())),t.length!==0){if(!n.__autoHeights)return!1;for(const r of t){const i=n.__autoHeights[r.getColId()];if(!i||n.rowHeight<i)return!1}}return!0}},BNe={moduleName:"RowAutoHeight",version:on,beans:[NNe]},VNe={moduleName:"AllCommunity",version:on,dependsOn:[NOe,jOe,tLe,BFe,GMe,UMe,WMe,jMe,KMe,YMe,XMe,zMe,zIe,GIe,UIe,HIe,jIe,KIe,vLe,wOe,LLe,RQ,KLe,YLe,tNe,oNe,MAe,fNe,cOe,Z2e,SNe,kNe,_Ne,ONe,J2e,dLe,fJ,LNe,BNe,IAe,BOe,CNe]},zl=Ve.createContext({}),TJ=Ve.createContext("default"),w1=(e,t,n,r)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(c=>{if(l){t.destroyBean(c);return}o=c,a=o.getGui(),n.appendChild(a),Zz(r,o)}),()=>{l=!0,o&&(a?.parentElement?.removeChild(a),t.destroyBean(o),r&&Zz(r,void 0))}},Zz=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const n=e;n.current=t}},ad=(...e)=>e.filter(n=>n!=null&&n!=="").join(" "),hd=class RJ{constructor(...t){this.classesMap={},t.forEach(n=>{this.classesMap[n]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const i=new RJ;return i.classesMap={...this.classesMap},i.classesMap[t]=n,i}toString(){return Object.keys(this.classesMap).filter(n=>this.classesMap[n]).join(" ")}},Hw=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,n=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===n()},oI=Ve.version?.split(".")[0],AJ=oI==="16"||oI==="17";function HNe(){return oI==="19"}var WE=!1;function zNe(e){return WE||setTimeout(()=>WE=!1,0),WE=!0,e()}var Zx=(e,t)=>{!AJ&&e&&!WE?Hf.flushSync(t):t()},GNe=e=>{AJ?e():Ve.startTransition(e)};function UNe(e,t,n){return Ve.useSyncExternalStore?Ve.useSyncExternalStore(e,t):n}function rR(e,t,n){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(n||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const r=[],i=[],s=new Map,o=new Map;for(let a=0;a<t.length;a++){const l=t[a];o.set(l.instanceId,l)}for(let a=0;a<e.length;a++){const l=e[a];s.set(l.instanceId,l),o.has(l.instanceId)&&r.push(l)}for(let a=0;a<t.length;a++){const l=t[a],c=l.instanceId;s.has(c)||i.push(l)}return r.length===e.length&&i.length===0?e:r.length===0&&i.length===t.length?t:r.length===0?i:i.length===0?r:[...r,...i]}var kJ=I.forwardRef((e,t)=>{const{registry:n,context:r}=I.useContext(zl),i=I.useRef(null),s=I.useRef(null),o=I.useRef(null),a=I.useRef(null),l=I.useRef(null),c=I.useRef(),[u,h]=I.useState(),[p,m]=I.useState(),[y,w]=I.useState(),[b,S]=I.useState(()=>new hd),[E,_]=I.useState(()=>new hd("ag-hidden")),[N,V]=I.useState(()=>new hd("ag-hidden")),[M,O]=I.useState(()=>new hd("ag-invisible"));I.useImperativeHandle(t,()=>({refresh(){return!1}})),I.useLayoutEffect(()=>w1(u,r,s.current),[u]);const z=I.useCallback(ue=>{if(i.current=ue,!ue){c.current=r.destroyBean(c.current);return}const Pe={setInnerRenderer:(W,re)=>{h(W),w(re)},setChildCount:W=>m(W),toggleCss:(W,re)=>S(te=>te.setClass(W,re)),setContractedDisplayed:W=>V(re=>re.setClass("ag-hidden",!W)),setExpandedDisplayed:W=>_(re=>re.setClass("ag-hidden",!W)),setCheckboxVisible:W=>O(re=>re.setClass("ag-invisible",!W)),setCheckboxSpacing:W=>O(re=>re.setClass("ag-group-checkbox-spacing",W))},ye=n.createDynamicBean("groupCellRendererCtrl",!0);ye&&(c.current=r.createBean(ye),c.current.init(Pe,ue,o.current,a.current,l.current,kJ,e))},[]),H=I.useMemo(()=>`ag-cell-wrapper ${b.toString()}`,[b]),X=I.useMemo(()=>`ag-group-expanded ${E.toString()}`,[E]),Q=I.useMemo(()=>`ag-group-contracted ${N.toString()}`,[N]),U=I.useMemo(()=>`ag-group-checkbox ${M.toString()}`,[M]),Z=u?.componentFromFramework,q=Z?u.componentClass:void 0,me=u==null&&y!=null,se=Nw(y);return Ve.createElement("span",{className:H,ref:z,...e.colDef?{}:{role:c.current?.getCellAriaRole()}},Ve.createElement("span",{className:X,ref:a}),Ve.createElement("span",{className:Q,ref:l}),Ve.createElement("span",{className:U,ref:o}),Ve.createElement("span",{className:"ag-group-value",ref:s},me?se:Z?Ve.createElement(q,{...u.params}):null),Ve.createElement("span",{className:"ag-group-child-count"},p))}),qz=kJ,uN=I.createContext({setMethods:()=>{}}),WNe=e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:r,setMethods:i}=e,[{key:s,...o},a]=I.useState(t);return I.useEffect(()=>{n(l=>a(l))},[]),Ve.createElement(uN.Provider,{value:{setMethods:i}},Ve.createElement(r,{key:s,...o}))},jNe=I.memo(WNe),KNe=0;function Qz(){return`agPortalKey_${++KNe}`}var PJ=class{constructor(e,t,n,r){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=n,this.suppressFallbackMethods=!!r,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Qz(),this.portalKey=Qz(),this.instanceCreated=this.isStatelessComponent()?Xr.resolve(!1):new Xr(i=>{this.resolveInstanceCreated=i})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),n=document.createElement(t||"div");return n.classList.add("ag-react-container"),e.reactContainer=n,n}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const n=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!n){setTimeout(()=>this.callMethod(e,t));return}const r=n[e];if(r)return r.apply(n,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new Xr(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Tw.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return I.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const n=this[`${e}Component`];if(!this.suppressFallbackMethods&&n)return n.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function HA(e,t,n){e.forEach(r=>{const i=t[r];i&&(n[r]=i)})}var Pu=class extends PJ{constructor(){super(...arguments),this.awaitUpdateCallback=new Xr(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=jNe}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:n=>this.setMethods(n),addUpdateCallback:n=>{this.updateCallback=()=>(n(this.getProps()),new Xr(r=>{setTimeout(()=>{r()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,HA(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Xr(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},YNe=class extends Pu{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},XNe=class extends Pu{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},ZNe=class extends Pu{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:n,shake:r}=this;return e.label=t,e.icon=n,e.shake=r,e}},qNe=class extends Pu{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new Xr(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const t=new Xr(n=>{this.resolveFilterPassCallback=n});this.setModel(e).then(()=>{t.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},QNe=class extends Pu{constructor(){super(...arguments),this.awaitSetMethodsCallback=new Xr(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function DJ(e,t){e.parentFilterInstance(n=>{(n.setModel(t)||Xr.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var JNe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=n=>this.updateModel(n)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){HA(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),DJ(this.floatingFilterParams,e)}},$Ne=class extends Pu{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),DJ(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},e4e=class extends Pu{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},t4e=class extends Pu{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},n4e=class extends Pu{refresh(e){this.sourceParams=e,this.refreshProps()}},r4e=class extends Pu{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},i4e=class extends Pu{refresh(e){this.sourceParams=e,this.refreshProps()}},s4e=class extends Pu{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},o4e=class extends Pu{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function dN(){zt(231)}var a4e=1e3,l4e=class{constructor(e,t,n){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=n||a4e}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,n){this.portals=[...this.portals,e],this.waitForInstance(t,n),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,n=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-n>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){Zx(!0,()=>this.refresher()),e.rendered()&&t(e);return}window.setTimeout(()=>{this.waitForInstance(e,t,n)})}}},c4e=({ctrl:e})=>{const t=e.isAlive(),{context:n}=I.useContext(zl),r=t?e.column.getColId():void 0,[i,s]=I.useState(),[o,a]=I.useState(),l=I.useRef(),c=I.useRef(null),u=I.useRef(null),h=I.useRef(null),p=I.useRef(),m=I.useRef();t&&!m.current&&(m.current=new g1(()=>c.current));const y=I.useCallback(E=>{if(c.current=E,l.current=E?n.createBean(new Bw):n.destroyBean(l.current),!E||!e.isAlive())return;const _=()=>{const V=e.getSelectAllGui();V&&(u.current?.insertAdjacentElement("afterend",V),l.current.addDestroyFunc(()=>V.remove()))},N={setWidth:V=>{c.current&&(c.current.style.width=V)},toggleCss:(V,M)=>m.current.toggleCss(V,M),setUserStyles:V=>a(V),setAriaSort:V=>{c.current&&(V?o1e(c.current,V):a1e(c.current))},setUserCompDetails:V=>s(V),getUserCompInstance:()=>p.current||void 0,refreshSelectAllGui:_,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(N,E,u.current,h.current,l.current),_()},[]);I.useLayoutEffect(()=>w1(i,n,h.current,p),[i]),I.useEffect(()=>{e.setDragSource(c.current)},[i]);const w=I.useMemo(()=>!!(i?.componentFromFramework&&Hw(i.componentClass)),[i]),b=i?.componentFromFramework,S=i?.componentClass;return Ve.createElement("div",{ref:y,style:o,className:"ag-header-cell","col-id":r,role:"columnheader"},Ve.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),Ve.createElement("div",{ref:h,className:"ag-header-cell-comp-wrapper",role:"presentation"},b?w?Ve.createElement(S,{...i.params}):Ve.createElement(S,{...i.params,ref:p}):null))},u4e=I.memo(c4e),d4e=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){HA(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},h4e=({ctrl:e})=>{const{context:t,gos:n}=I.useContext(zl),[r,i]=I.useState(),[s,o]=I.useState(()=>new hd("ag-header-cell","ag-floating-filter")),[a,l]=I.useState(()=>new hd),[c,u]=I.useState(()=>new hd("ag-floating-filter-button","ag-hidden")),[h,p]=I.useState("false"),[m,y]=I.useState(),[,w]=I.useState(1),b=I.useRef(),S=I.useRef(null),E=I.useRef(null),_=I.useRef(null),N=I.useRef(null),V=I.useRef(),M=I.useRef(),O=W=>{W!=null&&V.current&&V.current(W)},z=I.useCallback(W=>{if(S.current=W,b.current=W?t.createBean(new Bw):t.destroyBean(b.current),!W||!e.isAlive())return;M.current=new Xr(te=>{V.current=te});const re={toggleCss:(te,J)=>o(ce=>ce.setClass(te,J)),setUserStyles:te=>i(te),addOrRemoveBodyCssClass:(te,J)=>l(ce=>ce.setClass(te,J)),setButtonWrapperDisplayed:te=>{u(J=>J.setClass("ag-hidden",!te)),p(te?"false":"true")},setWidth:te=>{S.current&&(S.current.style.width=te)},setCompDetails:te=>y(te),getFloatingFilterComp:()=>M.current?M.current:null,setMenuIcon:te=>N.current?.appendChild(te)};e.setComp(re,W,N.current,E.current,b.current)},[]);I.useLayoutEffect(()=>w1(m,t,E.current,O),[m]);const H=I.useMemo(()=>s.toString(),[s]),X=I.useMemo(()=>a.toString(),[a]),Q=I.useMemo(()=>c.toString(),[c]),U=I.useMemo(()=>!!(m&&m.componentFromFramework&&Hw(m.componentClass)),[m]),Z=I.useMemo(()=>n.get("reactiveCustomComponents"),[]),q=I.useMemo(()=>n.get("enableFilterHandlers"),[]),[me,se]=I.useState();I.useEffect(()=>{if(m?.componentFromFramework)if(Z){const W=q?d4e:JNe,re=new W(m.params,()=>w(te=>te+1));O(re),se(re)}else dN()},[m]);const ue=me?.getProps(),Pe=m?.componentFromFramework,ye=m?.componentClass;return Ve.createElement("div",{ref:z,style:r,className:H,role:"gridcell"},Ve.createElement("div",{ref:E,className:X,role:"presentation"},Pe?Z?ue&&Ve.createElement(uN.Provider,{value:{setMethods:W=>me.setMethods(W)}},Ve.createElement(ye,{...ue})):Ve.createElement(ye,{...m.params,ref:U?()=>{}:O}):null),Ve.createElement("div",{ref:_,"aria-hidden":h,className:Q,role:"presentation"},Ve.createElement("button",{ref:N,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},f4e=I.memo(h4e),p4e=({ctrl:e})=>{const{context:t}=I.useContext(zl),[n,r]=I.useState(),[i,s]=I.useState(()=>new hd),[o,a]=I.useState(()=>new hd),[l,c]=I.useState("false"),[u,h]=I.useState(),[p,m]=I.useState(),y=I.useMemo(()=>e.column.getUniqueId(),[]),w=I.useRef(),b=I.useRef(null),S=I.useRef(null),E=I.useRef(null),_=I.useRef(),N=I.useCallback(X=>{if(b.current=X,w.current=X?t.createBean(new Bw):t.destroyBean(w.current),!X||!e.isAlive())return;const Q={setWidth:U=>{b.current&&(b.current.style.width=U)},toggleCss:(U,Z)=>s(q=>q.setClass(U,Z)),setUserStyles:U=>r(U),setHeaderWrapperHidden:U=>{const Z=E.current;Z&&(U?Z.style.setProperty("display","none"):Z.style.removeProperty("display"))},setHeaderWrapperMaxHeight:U=>{const Z=E.current;Z&&(U!=null?Z.style.setProperty("max-height",`${U}px`):Z.style.removeProperty("max-height"),Z.classList.toggle("ag-header-cell-comp-wrapper-limited-height",U!=null))},setUserCompDetails:U=>m(U),setResizableDisplayed:U=>{a(Z=>Z.setClass("ag-hidden",!U)),c(U?"false":"true")},setAriaExpanded:U=>h(U),getUserCompInstance:()=>_.current||void 0};e.setComp(Q,X,S.current,E.current,w.current)},[]);I.useLayoutEffect(()=>w1(p,t,E.current),[p]),I.useEffect(()=>{b.current&&e.setDragSource(b.current)},[p]);const V=I.useMemo(()=>!!(p?.componentFromFramework&&Hw(p.componentClass)),[p]),M=I.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),O=I.useMemo(()=>"ag-header-cell-resize "+o.toString(),[o]),z=p?.componentFromFramework,H=p?.componentClass;return Ve.createElement("div",{ref:N,style:n,className:M,"col-id":y,role:"columnheader","aria-expanded":u},Ve.createElement("div",{ref:E,className:"ag-header-cell-comp-wrapper",role:"presentation"},z?V?Ve.createElement(H,{...p.params}):Ve.createElement(H,{...p.params,ref:_}):null),Ve.createElement("div",{ref:S,"aria-hidden":l,className:O}))},g4e=I.memo(p4e),m4e=({ctrl:e})=>{const{context:t}=I.useContext(zl),{topOffset:n,rowHeight:r}=I.useMemo(()=>e.getTopAndHeight(),[]),[i,s]=I.useState(e.getAriaRowIndex()),o=e.headerRowClass,[a,l]=I.useState(()=>r+"px"),[c,u]=I.useState(()=>n+"px"),h=I.useRef([]),[p,m]=I.useState(()=>e.getUpdatedHeaderCtrls()),y=I.useRef(),w=I.useRef(null),b=I.useCallback(_=>{if(w.current=_,y.current=_?t.createBean(new Bw):t.destroyBean(y.current),!_)return;const N={setHeight:V=>l(V),setTop:V=>u(V),setHeaderCtrls:(V,M,O)=>{const z=h.current,H=rR(z,V,M);H!==z&&(h.current=H,Zx(O,()=>m(H)))},setWidth:V=>{w.current&&(w.current.style.width=V)},setRowIndex:V=>{s(V)}};e.setComp(N,y.current,!1)},[]),S=I.useMemo(()=>({height:a,top:c}),[a,c]),E=I.useCallback(_=>{switch(e.type){case"group":return Ve.createElement(g4e,{ctrl:_,key:_.instanceId});case"filter":return Ve.createElement(f4e,{ctrl:_,key:_.instanceId});default:return Ve.createElement(u4e,{ctrl:_,key:_.instanceId})}},[]);return Ve.createElement("div",{ref:b,className:o,role:"row",style:S,"aria-rowindex":i},p.map(E))},v4e=I.memo(m4e),y4e=({pinned:e})=>{const[t,n]=I.useState(!0),[r,i]=I.useState([]),{context:s}=I.useContext(zl),o=I.useRef(null),a=I.useRef(null),l=I.useRef(),c=e==="left",u=e==="right",h=!c&&!u,p=I.useCallback(w=>{if(o.current=w,l.current=w?s.createBean(new dRe(e)):s.destroyBean(l.current),!w)return;const b={setDisplayed:n,setCtrls:S=>i(S),setCenterWidth:S=>{a.current&&(a.current.style.width=S)},setViewportScrollLeft:S=>{o.current&&(o.current.scrollLeft=S)},setPinnedContainerWidth:S=>{o.current&&(o.current.style.width=S,o.current.style.minWidth=S,o.current.style.maxWidth=S)}};l.current.setComp(b,o.current)},[]),m=t?"":"ag-hidden",y=()=>r.map(w=>Ve.createElement(v4e,{ctrl:w,key:w.instanceId}));return c?Ve.createElement("div",{ref:p,className:"ag-pinned-left-header "+m,"aria-hidden":!t,role:"rowgroup"},y()):u?Ve.createElement("div",{ref:p,className:"ag-pinned-right-header "+m,"aria-hidden":!t,role:"rowgroup"},y()):h?Ve.createElement("div",{ref:p,className:"ag-header-viewport "+m,role:"presentation",tabIndex:-1},Ve.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},y())):null},xD=I.memo(y4e),w4e=()=>{const[e,t]=I.useState(()=>new hd),[n,r]=I.useState(),{context:i}=I.useContext(zl),s=I.useRef(null),o=I.useRef(),a=I.useCallback(u=>{if(s.current=u,o.current=u?i.createBean(new aRe):i.destroyBean(o.current),!u)return;const h={toggleCss:(p,m)=>t(y=>y.setClass(p,m)),setHeightAndMinHeight:p=>r(p)};o.current.setComp(h,u,u)},[]),l=I.useMemo(()=>"ag-header "+e.toString(),[e]),c=I.useMemo(()=>({height:n,minHeight:n}),[n]);return Ve.createElement("div",{ref:a,className:l,style:c,role:"presentation"},Ve.createElement(xD,{pinned:"left"}),Ve.createElement(xD,{pinned:null}),Ve.createElement(xD,{pinned:"right"}))},C4e=I.memo(w4e),b4e=(e,t)=>{I.useEffect(()=>{const n=t.current;if(n){const r=n.parentElement;if(r){const i=document.createComment(e);return r.insertBefore(i,n),()=>{r.removeChild(i)}}}},[e])},zm=b4e,x4e=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Xr(n=>{this.resolveInstanceCreated=n}),this.onValueChange=n=>this.updateValue(n),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){HA(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},S4e=e=>{const t=I.useRef(e),n=I.useRef(),r=I.useRef(!1),i=I.useRef(!1),[,s]=I.useState(0);r.current&&(i.current=!0),I.useEffect(()=>(r.current||(n.current=t.current(),r.current=!0),s(o=>o+1),()=>{i.current&&n.current?.()}),[])},_4e=e=>{const[t,n]=I.useState(),r=I.useContext(zl),{context:i,popupSvc:s,gos:o,editSvc:a}=r,{editDetails:l,cellCtrl:c,eParentCell:u}=e;return S4e(()=>{const{compDetails:h}=l,p=o.get("stopEditingWhenCellsLoseFocus"),m=i.createBean(a.createPopupEditorWrapper(h.params)),y=m.getGui();if(e.jsChildComp){const V=e.jsChildComp.getGui();V&&y.appendChild(V)}const{column:w,rowNode:b}=c,S={column:w,rowNode:b,type:"popupCellEditor",eventSource:u,ePopup:y,position:l.popupPosition,keepWithinBounds:!0},E=s?.positionPopupByComponent.bind(s,S),_=s?.addPopup({modal:p,eChild:y,closeOnEsc:!0,closedCallback:()=>{c.onPopupEditorClosed()},anchorToElement:u,positionCallback:E,ariaOwns:u}),N=_?_.hideFunc:void 0;return n(m),e.jsChildComp?.afterGuiAttached?.(),()=>{N?.(),i.destroyBean(m)}}),I.useLayoutEffect(()=>()=>{c.isCellFocused()&&t?.getGui().contains(js(r))&&u.focus({preventScroll:!0})},[t]),t&&e.wrappedContent?Tw.createPortal(e.wrappedContent,t.getGui()):null},Jz=I.memo(_4e),E4e=(e,t,n)=>{const{compProxy:r}=e;n(r);const i=r.getProps(),s=Hw(t);return Ve.createElement(uN.Provider,{value:{setMethods:o=>r.setMethods(o)}},s?Ve.createElement(t,{...i}):Ve.createElement(t,{...i,ref:o=>r.setRef(o)}))},$z=(e,t,n)=>e.compProxy?E4e(e,t,n):Ve.createElement(t,{...e.compDetails.params,ref:n}),T4e=(e,t,n,r,i)=>{const s=e.compDetails,o=s.componentClass,a=s.componentFromFramework&&!e.popup,l=s.componentFromFramework&&e.popup,c=!s.componentFromFramework&&e.popup;return a?$z(e,o,t):l?Ve.createElement(Jz,{editDetails:e,cellCtrl:r,eParentCell:n,wrappedContent:$z(e,o,t)}):c&&i?Ve.createElement(Jz,{editDetails:e,cellCtrl:r,eParentCell:n,jsChildComp:i}):null},R4e=(e,t,n,r,i,s)=>{const{context:o}=I.useContext(zl),a=I.useCallback(()=>{const l=i.current;if(!l)return;const c=l.getGui();c&&c.parentElement&&c.parentElement.removeChild(c),o.destroyBean(l),i.current=void 0},[]);I.useEffect(()=>{const l=e!=null,c=e?.compDetails&&!e.compDetails.componentFromFramework,u=t&&n==null;if(!(l&&c&&!u)){a();return}const p=e.compDetails;if(i.current){const y=i.current,b=y.refresh!=null&&e.force==!1?y.refresh(p.params):!1;if(b===!0||b===void 0)return;a()}p.newAgStackInstance().then(y=>{if(!y)return;const w=y.getGui();if(!w)return;(t?n:s.current).appendChild(w),i.current=y})},[e,t,r]),I.useEffect(()=>a,[])},FJ=R4e,A4e=({cellCtrl:e,parent:t})=>{const n=I.useRef(),r=I.useMemo(()=>{const{loadingComp:i}=e.getDeferLoadingCellRenderer();return i?{value:void 0,compDetails:i,force:!1}:void 0},[e]);if(FJ(r,!1,void 0,1,n,t),r?.compDetails?.componentFromFramework){const i=r.compDetails.componentClass;return Ve.createElement(i,{...r.compDetails.params})}return Ve.createElement(Ve.Fragment,null)},k4e=({cellCtrl:e,printLayout:t,editingCell:n})=>{const r=I.useContext(zl),{context:i}=r,{column:{colIdSanitised:s},instanceId:o}=e,a=I.useRef(),[l,c]=I.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[u,h]=I.useState(),[p,m]=I.useState(1),[y,w]=I.useState(),[b,S]=I.useState(!1),[E,_]=I.useState(!1),[N,V]=I.useState(!1),[M,O]=I.useState(),z=I.useMemo(()=>e.isForceWrapper(),[e]),H=I.useMemo(()=>e.getCellAriaRole(),[e]),X=I.useRef(null),Q=I.useRef(null),U=I.useRef(null),Z=I.useRef(),q=I.useRef(),me=I.useRef(),se=I.useRef([]),ue=I.useRef(),[Pe,ye]=I.useState(0),W=I.useCallback(ne=>{ue.current=ne,ye(Ge=>Ge+1)},[]),re=l!=null&&(b||N||E)&&(u==null||!!u.popup),te=z||re,J=I.useCallback(ne=>{if(q.current=ne,ne){const Ge=ne.isCancelBeforeStart&&ne.isCancelBeforeStart();setTimeout(()=>{Ge?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(ne))})}},[e]),ce=I.useRef();ce.current||(ce.current=new g1(()=>X.current)),FJ(l,te,ue.current,Pe,Z,X);const fe=I.useRef();I.useLayoutEffect(()=>{const ne=fe.current,Ge=l;if(fe.current=l,ne==null||ne.compDetails==null||Ge==null||Ge.compDetails==null)return;const Me=ne.compDetails,ve=Ge.compDetails;if(Me.componentClass!=ve.componentClass||U.current?.refresh==null)return;U.current.refresh(ve.params)!=!0&&m(Le=>Le+1)},[l]),I.useLayoutEffect(()=>{if(!(u&&!u.compDetails.componentFromFramework))return;const Ge=u.compDetails,Me=u.popup===!0,ve=Ge.newAgStackInstance();return ve.then(xe=>{if(!xe)return;const Le=xe.getGui();J(xe),Me||((z?me:X).current?.appendChild(Le),xe.afterGuiAttached&&xe.afterGuiAttached()),O(xe)}),()=>{ve.then(xe=>{const Le=xe.getGui();e.disableEditorTooltipFeature(),i.destroyBean(xe),J(void 0),O(void 0),Le?.parentElement?.removeChild(Le)})}},[u]);const De=I.useCallback(ne=>{if(me.current=ne,!ne){se.current.forEach(Me=>Me()),se.current=[];return}const Ge=Me=>{if(Me){const ve=Me.getGui();ne.insertAdjacentElement("afterbegin",ve),se.current.push(()=>{i.destroyBean(Me),up(ve)})}return Me};if(b){const Me=e.createSelectionCheckbox();Ge(Me)}N&&Ge(e.createDndSource()),E&&Ge(e.createRowDragComp())},[e,i,N,E,b]),at=I.useCallback(()=>{const ne=!e.isCellSpanning()||Q.current,Ge=X.current;if(a.current=Ge?i.createBean(new Bw):i.destroyBean(a.current),!Ge||!ne||!e)return;const Me={toggleCss:(xe,Le)=>ce.current.toggleCss(xe,Le),setUserStyles:xe=>w(xe),getFocusableElement:()=>X.current,setIncludeSelection:xe=>S(xe),setIncludeRowDrag:xe=>_(xe),setIncludeDndSource:xe=>V(xe),getCellEditor:()=>q.current||null,getCellRenderer:()=>U.current??Z.current,getParentOfValue:()=>ue.current??me.current??X.current,setRenderDetails:(xe,Le,Je)=>{const nt=()=>{c(Be=>Be?.compDetails!==xe||Be?.value!==Le||Be?.force!==Je?{value:Le,compDetails:xe,force:Je}:Be)};if(xe?.params?.deferRender&&!e.rowNode.group){const{loadingComp:Be,onReady:gt}=e.getDeferLoadingCellRenderer();if(Be){c({value:void 0,compDetails:Be,force:!1}),gt.then(()=>GNe(nt));return}}nt()},setEditDetails:(xe,Le,Je,nt)=>{if(xe){let Be;xe.componentFromFramework&&(nt?Be=new x4e(xe.params,()=>m(gt=>gt+1)):dN()),h({compDetails:xe,popup:Le,popupPosition:Je,compProxy:Be}),Le||c(void 0)}else e.hasBrowserFocus()&&Me.getFocusableElement().focus({preventScroll:!0}),h(gt=>{gt?.compProxy&&(q.current=void 0)})},refreshEditStyles:(xe,Le)=>{if(!X.current)return;const{current:Je}=ce;Je.toggleCss("ag-cell-value",!te),Je.toggleCss("ag-cell-inline-editing",!!xe&&!Le),Je.toggleCss("ag-cell-popup-editing",!!xe&&!!Le),Je.toggleCss("ag-cell-not-inline-editing",!xe||!!Le)}},ve=me.current||void 0;e.setComp(Me,Ge,Q.current??void 0,ve,t,n,a.current)},[]),je=I.useCallback(ne=>{X.current=ne,at()},[]),qe=I.useCallback(ne=>{Q.current=ne,at()},[]),et=I.useMemo(()=>!!(l?.compDetails?.componentFromFramework&&Hw(l.compDetails.componentClass)),[l]);I.useLayoutEffect(()=>{if(!X.current)return;const{current:ne}=ce;ne.toggleCss("ag-cell-value",!te),ne.toggleCss("ag-cell-inline-editing",!!u&&!u.popup),ne.toggleCss("ag-cell-popup-editing",!!u&&!!u.popup),ne.toggleCss("ag-cell-not-inline-editing",!u||!!u.popup)});const Et=()=>{const{compDetails:ne,value:Ge}=l;if(!ne)return Ge?.toString?.()??Ge;if(ne.componentFromFramework){const Me=ne.componentClass;return Ve.createElement(I.Suspense,{fallback:Ve.createElement(A4e,{cellCtrl:e,parent:X})},et?Ve.createElement(Me,{...ne.params,key:p}):Ve.createElement(Me,{...ne.params,key:p,ref:U}))}},Se=()=>{const ne=()=>l==null?null:te?Ve.createElement("span",{role:"presentation",id:`cell-${o}`,className:"ag-cell-value",ref:W},Et()):Et(),Ge=Me=>T4e(Me,J,X.current,e,M);return u!=null?u.popup?Ve.createElement(Ve.Fragment,null,ne(),Ge(u)):Ge(u):ne()},$t=()=>Ve.createElement("div",{ref:je,style:y,role:H,"col-id":s},te?Ve.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:De},Se()):Se());return e.isCellSpanning()?Ve.createElement("div",{ref:qe,className:"ag-spanned-cell-wrapper",role:"presentation"},$t()):$t()},P4e=I.memo(k4e),D4e=({rowCtrl:e,containerType:t})=>{const{context:n,gos:r,editSvc:i}=I.useContext(zl),s=I.useContext(TJ)==="default",o=I.useRef(),a=I.useRef(e.getDomOrder()),l=e.isFullWidth(),c=e.rowNode.displayed,[u,h]=I.useState(()=>c?e.rowNode.getRowIndexString():null),[p,m]=I.useState(()=>e.rowId),[y,w]=I.useState(()=>e.businessKey),[b,S]=I.useState(()=>e.rowStyles),E=I.useRef(null),[_,N]=I.useState(()=>null),[V,M]=I.useState(),[O,z]=I.useState(()=>c?e.getInitialRowTop(t):void 0),[H,X]=I.useState(()=>c?e.getInitialTransform(t):void 0),Q=I.useRef(null),U=I.useRef(),Z=I.useRef(!1),[q,me]=I.useState(0);I.useEffect(()=>{if(Z.current||!V||q>10)return;const qe=Q.current?.firstChild;qe?(e.setupDetailRowAutoHeight(qe),Z.current=!0):me(et=>et+1)},[V,q]);const se=I.useRef();se.current||(se.current=new g1(()=>Q.current));const ue=I.useRef(()=>{}),Pe=I.useCallback(qe=>(ue.current=qe,()=>{ue.current=()=>{}}),[]),ye=UNe(Pe,()=>E.current,[]),W=s?ye:_,re=I.useCallback(qe=>{if(Q.current=qe,o.current=qe?n.createBean(new Bw):n.destroyBean(o.current),!qe){e.unsetComp(t);return}if(!e.isAlive())return;const et={setTop:z,setTransform:X,toggleCss:(Et,Se)=>se.current.toggleCss(Et,Se),setDomOrder:Et=>a.current=Et,setRowIndex:h,setRowId:m,setRowBusinessKey:w,setUserStyles:S,setCellCtrls:(Et,Se)=>{const $t=E.current,ne=rR($t,Et,a.current);ne!==$t&&(E.current=ne,s?ue.current():Zx(Se,()=>N(ne)))},showFullWidth:Et=>M(Et),getFullWidthCellRenderer:()=>U.current,refreshFullWidth:Et=>De.current?(M(Se=>({...Se,params:Et()})),!0):!U.current||!U.current.refresh?!1:U.current.refresh(Et())};e.setComp(et,qe,t,o.current)},[]);I.useLayoutEffect(()=>w1(V,n,Q.current,U),[V]);const te=I.useMemo(()=>{const qe={top:O,transform:H};return Object.assign(qe,b),qe},[O,H,b]),J=l&&V?.componentFromFramework,ce=!l&&W!=null,fe=I.useMemo(()=>!!(V?.componentFromFramework&&Hw(V.componentClass)),[V]),De=I.useRef(!1);I.useEffect(()=>{De.current=fe&&!!V&&!!r.get("reactiveCustomComponents")},[fe,V]);const at=()=>W?.map(qe=>Ve.createElement(P4e,{cellCtrl:qe,editingCell:i?.isEditing(qe,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:qe.instanceId})),je=()=>{const qe=V.componentClass;return fe?Ve.createElement(qe,{...V.params}):Ve.createElement(qe,{...V.params,ref:U})};return Ve.createElement("div",{ref:re,role:"row",style:te,"row-index":u,"row-id":p,"row-business-key":y},ce?at():J?je():null)},e8=I.memo(D4e),F4e=({name:e})=>{const{context:t,gos:n}=I.useContext(zl),r=I.useMemo(()=>v1(e),[e]),i=I.useRef(null),s=I.useRef(null),o=I.useRef(null),a=I.useRef([]),l=I.useRef([]),[c,u]=I.useState(()=>[]),h=!!n.get("enableCellSpan")&&!!r.getSpannedRowCtrls,p=I.useRef([]),m=I.useRef([]),[y,w]=I.useState(()=>[]),b=I.useRef(!1),S=I.useRef(),E=I.useMemo(()=>ad("ag-viewport",iQ(e)),[e]),_=I.useMemo(()=>ad(GE(e)),[e]),N=I.useMemo(()=>ad("ag-spanning-container",VTe(e)),[e]),V=r.type==="center"||h,M=V?i:s;zm(" AG Row Container "+e+" ",M);const O=I.useCallback(()=>{const me=!V||i.current!=null,se=s.current!=null,ue=!h||o.current!=null;return me&&se&&ue},[]),z=I.useCallback(()=>i.current==null&&s.current==null&&o.current==null,[]),H=I.useCallback(()=>{if(z()&&(S.current=t.destroyBean(S.current)),O()){const me=Pe=>{const ye=rR(l.current,a.current,b.current);ye!==l.current&&(l.current=ye,Zx(Pe,()=>u(ye)))},se=Pe=>{const ye=rR(m.current,p.current,b.current);ye!==m.current&&(m.current=ye,Zx(Pe,()=>w(ye)))},ue={setHorizontalScroll:Pe=>{i.current&&(i.current.scrollLeft=Pe)},setViewportHeight:Pe=>{i.current&&(i.current.style.height=Pe)},setRowCtrls:({rowCtrls:Pe,useFlushSync:ye})=>{const W=!!ye&&a.current.length>0&&Pe.length>0;a.current=Pe,me(W)},setSpannedRowCtrls:(Pe,ye)=>{const W=!!ye&&p.current.length>0&&Pe.length>0;p.current=Pe,se(W)},setDomOrder:Pe=>{b.current!=Pe&&(b.current=Pe,me(!1))},setContainerWidth:Pe=>{s.current&&(s.current.style.width=Pe)},setOffsetTop:Pe=>{s.current&&(s.current.style.transform=`translateY(${Pe})`)}};S.current=t.createBean(new ZTe(e)),S.current.setComp(ue,s.current,o.current??void 0,i.current)}},[O,z]),X=I.useCallback(me=>{s.current=me,H()},[H]),Q=I.useCallback(me=>{o.current=me,H()},[H]),U=I.useCallback(me=>{i.current=me,H()},[H]),Z=()=>Ve.createElement("div",{className:_,ref:X,role:"rowgroup"},c.map(me=>Ve.createElement(e8,{rowCtrl:me,containerType:r.type,key:me.instanceId})));if(!V)return Z();const q=()=>Ve.createElement("div",{className:N,ref:Q,role:"rowgroup"},y.map(me=>Ve.createElement(e8,{rowCtrl:me,containerType:r.type,key:me.instanceId})));return Ve.createElement("div",{className:E,ref:U,role:"presentation"},Z(),h?q():null)},I4e=I.memo(F4e),M4e=()=>{const e=I.useContext(zl),{context:t,overlays:n}=e,[r,i]=I.useState(""),[s,o]=I.useState(0),[a,l]=I.useState(0),[c,u]=I.useState("0px"),[h,p]=I.useState("0px"),[m,y]=I.useState("100%"),[w,b]=I.useState("0px"),[S,E]=I.useState("0px"),[_,N]=I.useState("100%"),[V,M]=I.useState(!0),[O,z]=I.useState(!0),[H,X]=I.useState(null),[Q,U]=I.useState(""),[Z,q]=I.useState(null),[me,se]=I.useState("ag-layout-normal"),ue=I.useRef();ue.current||(ue.current=new g1(()=>Pe.current));const Pe=I.useRef(null),ye=I.useRef(null),W=I.useRef(null),re=I.useRef(null),te=I.useRef(null),J=I.useRef(null),ce=I.useRef(null),fe=I.useRef([]),De=I.useRef([]);zm(" AG Grid Body ",Pe),zm(" AG Pinned Top ",ye),zm(" AG Sticky Top ",W),zm(" AG Middle ",J),zm(" AG Pinned Bottom ",ce);const at=I.useCallback(nt=>{if(Pe.current=nt,!nt){fe.current=t.destroyBeans(fe.current),De.current.forEach(yt=>yt()),De.current=[];return}if(!t)return;const Be=(yt,Gt)=>{yt.appendChild(Gt),De.current.push(()=>yt.removeChild(Gt))},gt=yt=>{const Gt=t.createBean(new yt);return fe.current.push(Gt),Gt},Mt=(yt,Gt,qt)=>{Be(yt,document.createComment(qt)),Be(yt,gt(Gt).getGui())};Mt(nt,tRe," AG Fake Horizontal Scroll ");const At=n?.getOverlayWrapperCompClass();At&&Mt(nt,At," AG Overlay Wrapper "),te.current&&Mt(te.current,rRe," AG Fake Vertical Scroll ");const Ie={setRowAnimationCssOnBodyViewport:i,setColumnCount:yt=>{Pe.current&&i1e(Pe.current,yt)},setRowCount:yt=>{Pe.current&&n1e(Pe.current,yt)},setTopHeight:o,setBottomHeight:l,setStickyTopHeight:u,setStickyTopTop:p,setStickyTopWidth:y,setTopInvisible:M,setBottomInvisible:z,setColumnMovingCss:(yt,Gt)=>ue.current.toggleCss(yt,Gt),updateLayoutClasses:se,setAlwaysVerticalScrollClass:X,setPinnedTopBottomOverflowY:U,setCellSelectableCss:(yt,Gt)=>q(Gt?yt:null),setBodyViewportWidth:yt=>{J.current&&(J.current.style.width=yt)},registerBodyViewportResizeListener:yt=>{if(J.current){const Gt=vp(e,J.current,yt);De.current.push(()=>Gt())}},setStickyBottomHeight:b,setStickyBottomBottom:E,setStickyBottomWidth:N,setGridRootRole:yt=>nt.setAttribute("role",yt)},it=t.createBean(new $Te);fe.current.push(it),it.setComp(Ie,nt,J.current,ye.current,ce.current,W.current,re.current)},[]),je=I.useMemo(()=>ad("ag-root","ag-unselectable",me),[me]),qe=I.useMemo(()=>ad("ag-body-viewport",r,me,H,Z),[r,me,H,Z]),et=I.useMemo(()=>ad("ag-body",me),[me]),Et=I.useMemo(()=>ad("ag-floating-top",V?"ag-invisible":null,Z),[Z,V]),Se=I.useMemo(()=>ad("ag-sticky-top",Z),[Z]),$t=I.useMemo(()=>ad("ag-sticky-bottom",w==="0px"?"ag-invisible":null,Z),[Z,w]),ne=I.useMemo(()=>ad("ag-floating-bottom",O?"ag-invisible":null,Z),[Z,O]),Ge=I.useMemo(()=>({height:s,minHeight:s,overflowY:Q}),[s,Q]),Me=I.useMemo(()=>({height:c,top:h,width:m}),[c,h,m]),ve=I.useMemo(()=>({height:w,bottom:S,width:_}),[w,S,_]),xe=I.useMemo(()=>({height:a,minHeight:a,overflowY:Q}),[a,Q]),Le=nt=>Ve.createElement(I4e,{name:nt,key:`${nt}-container`}),Je=({section:nt,children:Be,className:gt,style:Mt})=>Ve.createElement("div",{ref:nt,className:gt,role:"presentation",style:Mt},Be.map(Le));return Ve.createElement("div",{ref:at,className:je},Ve.createElement(C4e,null),Je({section:ye,className:Et,style:Ge,children:["topLeft","topCenter","topRight","topFullWidth"]}),Ve.createElement("div",{className:et,ref:te,role:"presentation"},Je({section:J,className:qe,children:["left","center","right","fullWidth"]})),Je({section:W,className:Se,style:Me,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Je({section:re,className:$t,style:ve,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Je({section:ce,className:ne,style:xe,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},O4e=I.memo(M4e),L4e=(e,t)=>{const{children:n,eFocusableElement:r,onTabKeyDown:i,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:o,isEmpty:a}=e,{context:l}=I.useContext(zl),c=I.useRef(null),u=I.useRef(null),h=I.useRef(),p=S=>{const E=S==null?void 0:parseInt(S,10).toString();[c,u].forEach(_=>{E===void 0?_.current?.removeAttribute("tabindex"):_.current?.setAttribute("tabindex",E)})};I.useImperativeHandle(t,()=>({forceFocusOutOfContainer(S){h.current?.forceFocusOutOfContainer(S)}}));const m=I.useCallback(()=>{const S=c.current,E=u.current;if(!S&&!E){h.current=l.destroyBean(h.current);return}if(S&&E){const _={setTabIndex:p};h.current=l.createBean(new mQ({comp:_,eTopGuard:S,eBottomGuard:E,eFocusableElement:r,onTabKeyDown:i,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:N=>s.focusInnerElement(N),isEmpty:a}))}},[]),y=I.useCallback(S=>{c.current=S,m()},[m]),w=I.useCallback(S=>{u.current=S,m()},[m]),b=S=>{const E=S==="top"?Fy.TAB_GUARD_TOP:Fy.TAB_GUARD_BOTTOM;return Ve.createElement("div",{className:`${Fy.TAB_GUARD} ${E}`,role:"presentation",ref:S==="top"?y:w})};return Ve.createElement(Ve.Fragment,null,b("top"),n,b("bottom"))},N4e=I.forwardRef(L4e),B4e=I.memo(N4e),V4e=({context:e})=>{const[t,n]=I.useState(""),[r,i]=I.useState(""),[s,o]=I.useState(null),[a,l]=I.useState(null),[c,u]=I.useState(!1),[h,p]=I.useState(),m=I.useRef(),y=I.useRef(null),w=I.useRef(),[b,S]=I.useState(null),E=I.useRef(()=>{}),_=I.useRef(),N=I.useRef([]),V=I.useCallback(()=>{},[]),M=I.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);zm(" AG Grid ",y);const O=I.useCallback(Z=>{if(y.current=Z,m.current=Z?e.createBean(new oAe):e.destroyBean(m.current),!Z||e.isDestroyed())return;const q=m.current;E.current=q.focusInnerElement.bind(q);const me={destroyGridUi:()=>{},setRtlClass:n,forceFocusOutOfContainer:se=>{if(!se&&_.current?.isDisplayed()){_.current.forceFocusOutOfContainer(se);return}w.current?.forceFocusOutOfContainer(se)},updateLayoutClasses:i,getFocusableContainers:()=>{const se=[],ue=y.current?.querySelector(".ag-root");return ue&&se.push({getGui:()=>ue}),N.current.forEach(Pe=>{Pe.isDisplayed()&&se.push(Pe)}),se},setCursor:o,setUserSelect:l};q.setComp(me,Z,Z),u(!0)},[]);I.useEffect(()=>{const Z=m.current,q=y.current;if(!h||!M||!Z||!b||!q||e.isDestroyed())return;const me=[],{watermarkSelector:se,paginationSelector:ue,sideBarSelector:Pe,statusBarSelector:ye,gridHeaderDropZonesSelector:W}=Z.getOptionalSelectors(),re=[];if(W){const J=e.createBean(new W.component),ce=J.getGui();q.insertAdjacentElement("afterbegin",ce),re.push(ce),me.push(J)}if(Pe){const J=e.createBean(new Pe.component),ce=J.getGui(),fe=b.querySelector(".ag-tab-guard-bottom");fe&&(fe.insertAdjacentElement("beforebegin",ce),re.push(ce)),me.push(J),N.current.push(J)}const te=J=>{const ce=e.createBean(new J),fe=ce.getGui();return q.insertAdjacentElement("beforeend",fe),re.push(fe),me.push(ce),ce};if(ye&&te(ye.component),ue){const J=te(ue.component);_.current=J,N.current.push(J)}return se&&te(se.component),()=>{e.destroyBeans(me),re.forEach(J=>{J.parentElement?.removeChild(J)})}},[h,b,M]);const z=I.useMemo(()=>ad("ag-root-wrapper",t,r),[t,r]),H=I.useMemo(()=>ad("ag-root-wrapper-body","ag-focus-managed",r),[r]),X=I.useMemo(()=>({userSelect:a??"",WebkitUserSelect:a??"",cursor:s??""}),[a,s]),Q=I.useCallback(Z=>{w.current=Z,p(Z!==null)},[]),U=I.useCallback(()=>!m.current?.isFocusable(),[]);return Ve.createElement("div",{ref:O,className:z,style:X,role:"presentation"},Ve.createElement("div",{className:H,ref:S,role:"presentation"},c&&b&&M&&Ve.createElement(zl.Provider,{value:M},Ve.createElement(B4e,{ref:Q,eFocusableElement:b,onTabKeyDown:V,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:U},Ve.createElement(O4e,null)))))},H4e=I.memo(V4e),z4e=class extends _t{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},IJ={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},G4e={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...IJ},MJ=new Set(Object.keys(G4e)),U4e=new Set(Object.keys(IJ)),OJ=e=>{const t=I.useRef(),n=I.useRef(null),r=I.useRef(null),i=I.useRef([]),s=I.useRef([]),o=I.useRef(e),a=I.useRef(),l=I.useRef(),c=I.useRef(!1),[u,h]=I.useState(void 0),[,p]=I.useState(0),m=I.useCallback(S=>{if(n.current=S,!S){i.current.forEach(Q=>Q()),i.current.length=0;return}const E=e.modules||[];r.current||(r.current=new l4e(()=>p(Q=>Q+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push(()=>{r.current?.destroy(),r.current=null}));const _=B1e(e.gridOptions,e,Object.keys(e).filter(Q=>!MJ.has(Q))),N=()=>{if(c.current){const Q=()=>a.current?.shouldQueueUpdates()?void 0:s.current.shift();let U=Q();for(;U;)U(),U=Q()}},V=new Y4e(N);a.current=V;const M=new z4e,O={providedBeanInstances:{frameworkCompWrapper:new j4e(r.current,_),renderStatus:M},modules:E,frameworkOverrides:V,setThemeOnGridDiv:!0},z=Q=>{h(Q),Q.createBean(M),i.current.push(()=>{Q.destroy()}),Q.getBean("ctrlsSvc").whenReady({addDestroyFunc:U=>{i.current.push(U)}},()=>{if(Q.isDestroyed())return;const U=t.current;U&&e.passGridApi?.(U)})},H=Q=>{Q.getBean("ctrlsSvc").whenReady({addDestroyFunc:U=>{i.current.push(U)}},()=>{s.current.forEach(U=>U()),s.current.length=0,c.current=!0})},X=new hFe;_.gridId??(_.gridId=l.current),t.current=X.create(S,_,z,H,O),i.current.push(()=>{t.current=void 0}),t.current&&(l.current=t.current.getGridId())},[]),y=I.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),w=I.useCallback(S=>{c.current&&!a.current?.shouldQueueUpdates()?S():s.current.push(S)},[]);I.useEffect(()=>{const S=W4e(o.current,e);o.current=e,w(()=>{t.current&&V1e(S,t.current)})},[e]);const b=!Ve.useSyncExternalStore||OE(e,"renderingMode")==="legacy"?"legacy":"default";return Ve.createElement("div",{style:y,className:e.className,ref:m},Ve.createElement(TJ.Provider,{value:b},u&&!u.isDestroyed()?Ve.createElement(H4e,{context:u}):null,r.current?.getPortals()??null))};function W4e(e,t){const n={};return Object.keys(t).forEach(r=>{if(MJ.has(r)){U4e.has(r)&&zt(274,{prop:r});return}const i=t[r];e[r]!==i&&(n[r]=i)}),n}var j4e=class extends mFe{constructor(e,t){super(),this.parent=e,this.gridOptions=t}createWrapper(e,t){const n=this.gridOptions;if(OE(n,"reactiveCustomComponents")){const o=(a=>{switch(a){case"filter":return OE(n,"enableFilterHandlers")?QNe:qNe;case"floatingFilterComponent":return OE(n,"enableFilterHandlers")?e4e:$Ne;case"dateComponent":return XNe;case"dragAndDropImageComponent":return ZNe;case"loadingOverlayComponent":return n4e;case"noRowsOverlayComponent":return i4e;case"statusPanel":return s4e;case"toolPanel":return o4e;case"menuItem":return r4e;case"cellRenderer":return YNe;case"innerHeaderComponent":return t4e}})(t.name);if(o)return new o(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":dN();break}const i=!t.cellRenderer&&t.name!=="toolPanel";return new PJ(e,this.parent,t,i)}},K4e=I.forwardRef((e,t)=>{const n=I.useContext(zl),{registry:r,context:i,gos:s,rowModel:o}=n,[a,l]=I.useState(()=>new hd),[c,u]=I.useState(()=>new hd),[h,p]=I.useState(),[m,y]=I.useState(),w=I.useRef(),b=I.useRef(null),S=I.useRef(),E=I.useMemo(()=>sEe(e.api.getGridId(),h?.rowModelType??"clientSide"),[e]),_=I.useMemo(()=>a.toString()+" ag-details-row",[a]),N=I.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&I.useImperativeHandle(t,()=>({refresh(){return w.current?.refresh()??!1}})),e.template&&zt(230);const V=I.useCallback(O=>{if(b.current=O,!O){w.current=i.destroyBean(w.current),S.current?.();return}const z={toggleCss:(X,Q)=>l(U=>U.setClass(X,Q)),toggleDetailGridCss:(X,Q)=>u(U=>U.setClass(X,Q)),setDetailGrid:X=>p(X),setRowData:X=>y(X),getGui:()=>b.current},H=r.createDynamicBean("detailCellRendererCtrl",!0);if(H&&(i.createBean(H),H.init(z,e),w.current=H,s.get("detailRowAutoHeight"))){const X=()=>{if(b.current==null)return;const Q=b.current.clientHeight;Q!=null&&Q>0&&setTimeout(()=>{e.node.setRowHeight(Q),(Yo(s)||tv(s))&&o.onRowHeightChanged()},0)};S.current=vp(n,O,X),X()}},[]),M=I.useCallback(O=>{w.current?.registerDetailWithMaster(O)},[]);return Ve.createElement("div",{className:_,ref:V},h&&Ve.createElement(OJ,{className:N,...h,modules:E,rowData:m,passGridApi:M}))}),Y4e=class extends vQ{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:qz,agGroupRowRenderer:qz,agDetailCellRenderer:K4e},this.wrapIncoming=(t,n)=>n==="ensureVisible"?zNe(t):t()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return HNe()}},X4e=class extends I.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Ve.createElement(OJ,{...this.props,passGridApi:this.setGridApi})}};const zA=d1(e=>({users:[],setUsers:t=>e({users:t}),addUser:t=>e(n=>({users:[...n.users,t]})),showForm:!1,setShowForm:t=>e({showForm:t})})),hN=I.createContext({});function fN(e){const t=I.useRef(null);return t.current===null&&(t.current=e()),t.current}const pN=typeof window<"u",LJ=pN?I.useLayoutEffect:I.useEffect,GA=I.createContext(null);function gN(e,t){e.indexOf(t)===-1&&e.push(t)}function mN(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const hp=(e,t,n)=>n>t?t:n<e?e:n;let vN=()=>{};const fp={},NJ=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function BJ(e){return typeof e=="object"&&e!==null}const VJ=e=>/^0[^.\s]+$/u.test(e);function yN(e){let t;return()=>(t===void 0&&(t=e()),t)}const gd=e=>e,Z4e=(e,t)=>n=>t(e(n)),C1=(...e)=>e.reduce(Z4e),qx=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class wN{constructor(){this.subscriptions=[]}add(t){return gN(this.subscriptions,t),()=>mN(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uf=e=>e*1e3,df=e=>e/1e3;function HJ(e,t){return t?e*(1e3/t):0}const zJ=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,q4e=1e-7,Q4e=12;function J4e(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=zJ(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>q4e&&++a<Q4e);return o}function b1(e,t,n,r){if(e===t&&n===r)return gd;const i=s=>J4e(s,0,1,e,n);return s=>s===0||s===1?s:zJ(i(s),t,r)}const GJ=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,UJ=e=>t=>1-e(1-t),WJ=b1(.33,1.53,.69,.99),CN=UJ(WJ),jJ=GJ(CN),KJ=e=>(e*=2)<1?.5*CN(e):.5*(2-Math.pow(2,-10*(e-1))),bN=e=>1-Math.sin(Math.acos(e)),YJ=UJ(bN),XJ=GJ(bN),$4e=b1(.42,0,1,1),eBe=b1(0,0,.58,1),ZJ=b1(.42,0,.58,1),tBe=e=>Array.isArray(e)&&typeof e[0]!="number",qJ=e=>Array.isArray(e)&&typeof e[0]=="number",nBe={linear:gd,easeIn:$4e,easeInOut:ZJ,easeOut:eBe,circIn:bN,circInOut:XJ,circOut:YJ,backIn:CN,backInOut:jJ,backOut:WJ,anticipate:KJ},rBe=e=>typeof e=="string",t8=e=>{if(qJ(e)){vN(e.length===4);const[t,n,r,i]=e;return b1(t,n,r,i)}else if(rBe(e))return nBe[e];return e},z_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iBe(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){o.has(u)&&(c.schedule(u),e()),u(a)}const c={schedule:(u,h=!1,p=!1)=>{const y=p&&i?n:r;return h&&o.add(u),y.has(u)||y.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const sBe=40;function QJ(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=z_.reduce((_,N)=>(_[N]=iBe(s),_),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:h,preRender:p,render:m,postRender:y}=o,w=()=>{const _=fp.useManualTiming?i.timestamp:performance.now();n=!1,fp.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,sBe),1)),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),h.process(i),p.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(w))},b=()=>{n=!0,r=!0,i.isProcessing||e(w)};return{schedule:z_.reduce((_,N)=>{const V=o[N];return _[N]=(M,O=!1,z=!1)=>(n||b(),V.schedule(M,O,z)),_},{}),cancel:_=>{for(let N=0;N<z_.length;N++)o[z_[N]].cancel(_)},state:i,steps:o}}const{schedule:Os,cancel:Lg,state:Za,steps:SD}=QJ(typeof requestAnimationFrame<"u"?requestAnimationFrame:gd,!0);let jE;function oBe(){jE=void 0}const Rc={now:()=>(jE===void 0&&Rc.set(Za.isProcessing||fp.useManualTiming?Za.timestamp:performance.now()),jE),set:e=>{jE=e,queueMicrotask(oBe)}},JJ=e=>t=>typeof t=="string"&&t.startsWith(e),xN=JJ("--"),aBe=JJ("var(--"),SN=e=>aBe(e)?lBe.test(e.split("/*")[0].trim()):!1,lBe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zw={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qx={...zw,transform:e=>hp(0,1,e)},G_={...zw,default:1},Xb=e=>Math.round(e*1e5)/1e5,_N=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cBe(e){return e==null}const uBe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,EN=(e,t)=>n=>!!(typeof n=="string"&&uBe.test(n)&&n.startsWith(e)||t&&!cBe(n)&&Object.prototype.hasOwnProperty.call(n,t)),$J=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(_N);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},dBe=e=>hp(0,255,e),_D={...zw,transform:e=>Math.round(dBe(e))},Ym={test:EN("rgb","red"),parse:$J("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+_D.transform(e)+", "+_D.transform(t)+", "+_D.transform(n)+", "+Xb(Qx.transform(r))+")"};function hBe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const aI={test:EN("#"),parse:hBe,transform:Ym.transform},x1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),eg=x1("deg"),hf=x1("%"),tr=x1("px"),fBe=x1("vh"),pBe=x1("vw"),n8={...hf,parse:e=>hf.parse(e)/100,transform:e=>hf.transform(e*100)},dy={test:EN("hsl","hue"),parse:$J("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+hf.transform(Xb(t))+", "+hf.transform(Xb(n))+", "+Xb(Qx.transform(r))+")"},jo={test:e=>Ym.test(e)||aI.test(e)||dy.test(e),parse:e=>Ym.test(e)?Ym.parse(e):dy.test(e)?dy.parse(e):aI.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ym.transform(e):dy.transform(e),getAnimatableNone:e=>{const t=jo.parse(e);return t.alpha=0,jo.transform(t)}},gBe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mBe(e){return isNaN(e)&&typeof e=="string"&&(e.match(_N)?.length||0)+(e.match(gBe)?.length||0)>0}const e$="number",t$="color",vBe="var",yBe="var(",r8="${}",wBe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jx(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(wBe,l=>(jo.test(l)?(r.color.push(s),i.push(t$),n.push(jo.parse(l))):l.startsWith(yBe)?(r.var.push(s),i.push(vBe),n.push(l)):(r.number.push(s),i.push(e$),n.push(parseFloat(l))),++s,r8)).split(r8);return{values:n,split:a,indexes:r,types:i}}function n$(e){return Jx(e).values}function r$(e){const{split:t,types:n}=Jx(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===e$?s+=Xb(i[o]):a===t$?s+=jo.transform(i[o]):s+=i[o]}return s}}const CBe=e=>typeof e=="number"?0:jo.test(e)?jo.getAnimatableNone(e):e;function bBe(e){const t=n$(e);return r$(e)(t.map(CBe))}const Ng={test:mBe,parse:n$,createTransformer:r$,getAnimatableNone:bBe};function ED(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function xBe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=ED(l,a,e+1/3),s=ED(l,a,e),o=ED(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function iR(e,t){return n=>n>0?t:e}const Hs=(e,t,n)=>e+(t-e)*n,TD=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},SBe=[aI,Ym,dy],_Be=e=>SBe.find(t=>t.test(e));function i8(e){const t=_Be(e);if(!t)return!1;let n=t.parse(e);return t===dy&&(n=xBe(n)),n}const s8=(e,t)=>{const n=i8(e),r=i8(t);if(!n||!r)return iR(e,t);const i={...n};return s=>(i.red=TD(n.red,r.red,s),i.green=TD(n.green,r.green,s),i.blue=TD(n.blue,r.blue,s),i.alpha=Hs(n.alpha,r.alpha,s),Ym.transform(i))},lI=new Set(["none","hidden"]);function EBe(e,t){return lI.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function TBe(e,t){return n=>Hs(e,t,n)}function TN(e){return typeof e=="number"?TBe:typeof e=="string"?SN(e)?iR:jo.test(e)?s8:kBe:Array.isArray(e)?i$:typeof e=="object"?jo.test(e)?s8:RBe:iR}function i$(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>TN(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function RBe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=TN(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function ABe(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}const kBe=(e,t)=>{const n=Ng.createTransformer(t),r=Jx(e),i=Jx(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?lI.has(e)&&!i.values.length||lI.has(t)&&!r.values.length?EBe(e,t):C1(i$(ABe(r,i),i.values),n):iR(e,t)};function s$(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Hs(e,t,n):TN(e)(e,t)}const PBe=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Os.update(t,n),stop:()=>Lg(t),now:()=>Za.isProcessing?Za.timestamp:Rc.now()}},o$=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sR=2e4;function RN(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<sR;)t+=n,r=e.next(t);return t>=sR?1/0:t}function DBe(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(RN(r),sR);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:df(i)}}const FBe=5;function a$(e,t,n){const r=Math.max(t-FBe,0);return HJ(n-e(r),t-r)}const ro={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},RD=.001;function IBe({duration:e=ro.duration,bounce:t=ro.bounce,velocity:n=ro.velocity,mass:r=ro.mass}){let i,s,o=1-t;o=hp(ro.minDamping,ro.maxDamping,o),e=hp(ro.minDuration,ro.maxDuration,df(e)),o<1?(i=c=>{const u=c*o,h=u*e,p=u-n,m=cI(c,o),y=Math.exp(-h);return RD-p/m*y},s=c=>{const h=c*o*e,p=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*e,y=Math.exp(-h),w=cI(Math.pow(c,2),o);return(-i(c)+RD>0?-1:1)*((p-m)*y)/w}):(i=c=>{const u=Math.exp(-c*e),h=(c-n)*e+1;return-RD+u*h},s=c=>{const u=Math.exp(-c*e),h=(n-c)*(e*e);return u*h});const a=5/e,l=OBe(i,s,a);if(e=uf(e),isNaN(l))return{stiffness:ro.stiffness,damping:ro.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const MBe=12;function OBe(e,t,n){let r=n;for(let i=1;i<MBe;i++)r=r-e(r)/t(r);return r}function cI(e,t){return e*Math.sqrt(1-t*t)}const LBe=["duration","bounce"],NBe=["stiffness","damping","mass"];function o8(e,t){return t.some(n=>e[n]!==void 0)}function BBe(e){let t={velocity:ro.velocity,stiffness:ro.stiffness,damping:ro.damping,mass:ro.mass,isResolvedFromDuration:!1,...e};if(!o8(e,NBe)&&o8(e,LBe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*hp(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ro.mass,stiffness:i,damping:s}}else{const n=IBe(e);t={...t,...n,mass:ro.mass},t.isResolvedFromDuration=!0}return t}function oR(e=ro.visualDuration,t=ro.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:h,velocity:p,isResolvedFromDuration:m}=BBe({...n,velocity:-df(n.velocity||0)}),y=p||0,w=c/(2*Math.sqrt(l*u)),b=o-s,S=df(Math.sqrt(l/u)),E=Math.abs(b)<5;r||(r=E?ro.restSpeed.granular:ro.restSpeed.default),i||(i=E?ro.restDelta.granular:ro.restDelta.default);let _;if(w<1){const V=cI(S,w);_=M=>{const O=Math.exp(-w*S*M);return o-O*((y+w*S*b)/V*Math.sin(V*M)+b*Math.cos(V*M))}}else if(w===1)_=V=>o-Math.exp(-S*V)*(b+(y+S*b)*V);else{const V=S*Math.sqrt(w*w-1);_=M=>{const O=Math.exp(-w*S*M),z=Math.min(V*M,300);return o-O*((y+w*S*b)*Math.sinh(z)+V*b*Math.cosh(z))/V}}const N={calculatedDuration:m&&h||null,next:V=>{const M=_(V);if(m)a.done=V>=h;else{let O=V===0?y:0;w<1&&(O=V===0?uf(y):a$(_,V,M));const z=Math.abs(O)<=r,H=Math.abs(o-M)<=i;a.done=z&&H}return a.value=a.done?o:M,a},toString:()=>{const V=Math.min(RN(N),sR),M=o$(O=>N.next(V*O).value,V,30);return V+"ms "+M},toTransition:()=>{}};return N}oR.applyToOptions=e=>{const t=DBe(e,100,oR);return e.ease=t.ease,e.duration=uf(t.duration),e.type="keyframes",e};function uI({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=e[0],p={done:!1,value:h},m=z=>a!==void 0&&z<a||l!==void 0&&z>l,y=z=>a===void 0?l:l===void 0||Math.abs(a-z)<Math.abs(l-z)?a:l;let w=n*t;const b=h+w,S=o===void 0?b:o(b);S!==b&&(w=S-h);const E=z=>-w*Math.exp(-z/r),_=z=>S+E(z),N=z=>{const H=E(z),X=_(z);p.done=Math.abs(H)<=c,p.value=p.done?S:X};let V,M;const O=z=>{m(p.value)&&(V=z,M=oR({keyframes:[p.value,y(p.value)],velocity:a$(_,z,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return O(0),{calculatedDuration:null,next:z=>{let H=!1;return!M&&V===void 0&&(H=!0,N(z),O(z)),V!==void 0&&z>=V?M.next(z-V):(!H&&N(z),p)}}}function VBe(e,t,n){const r=[],i=n||fp.mix||s$,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||gd:t;a=C1(l,a)}r.push(a)}return r}function HBe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(vN(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=VBe(t,r,i),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const p=qx(e[h],e[h+1],u);return a[h](p)};return n?u=>c(hp(e[0],e[s-1],u)):c}function zBe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=qx(0,t,r);e.push(Hs(n,1,i))}}function GBe(e){const t=[0];return zBe(t,e.length-1),t}function UBe(e,t){return e.map(n=>n*t)}function WBe(e,t){return e.map(()=>t||ZJ).splice(0,e.length-1)}function Zb({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=tBe(r)?r.map(t8):t8(r),s={done:!1,value:t[0]},o=UBe(n&&n.length===t.length?n:GBe(t),e),a=HBe(o,t,{ease:Array.isArray(i)?i:WBe(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const jBe=e=>e!==null;function AN(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(jBe),a=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const KBe={decay:uI,inertia:uI,tween:Zb,keyframes:Zb,spring:oR};function l$(e){typeof e.type=="string"&&(e.type=KBe[e.type])}class kN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const YBe=e=>e/100;class PN extends kN{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Rc.now()&&this.tick(Rc.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;l$(t);const{type:n=Zb,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Zb;l!==Zb&&typeof a[0]!="number"&&(this.mixKeyframes=C1(YBe,s$(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=RN(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:h,repeatType:p,repeatDelay:m,type:y,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const S=this.currentTime-c*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,N=r;if(h){const z=Math.min(this.currentTime,i)/a;let H=Math.floor(z),X=z%1;!X&&z>=1&&(X=1),X===1&&H--,H=Math.min(H,h+1),!!(H%2)&&(p==="reverse"?(X=1-X,m&&(X-=m/a)):p==="mirror"&&(N=o)),_=hp(0,1,X)*a}const V=E?{done:!1,value:u[0]}:N.next(_);s&&(V.value=s(V.value));let{done:M}=V;!E&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return O&&y!==uI&&(V.value=AN(u,this.options,b,this.speed)),w&&w(V.value),O&&this.finish(),V}then(t,n){return this.finished.then(t,n)}get duration(){return df(this.calculatedDuration)}get time(){return df(this.currentTime)}set time(t){t=uf(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Rc.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=df(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=PBe,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rc.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function XBe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Xm=e=>e*180/Math.PI,dI=e=>{const t=Xm(Math.atan2(e[1],e[0]));return hI(t)},ZBe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:dI,rotateZ:dI,skewX:e=>Xm(Math.atan(e[1])),skewY:e=>Xm(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hI=e=>(e=e%360,e<0&&(e+=360),e),a8=dI,l8=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),c8=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qBe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:l8,scaleY:c8,scale:e=>(l8(e)+c8(e))/2,rotateX:e=>hI(Xm(Math.atan2(e[6],e[5]))),rotateY:e=>hI(Xm(Math.atan2(-e[2],e[0]))),rotateZ:a8,rotate:a8,skewX:e=>Xm(Math.atan(e[4])),skewY:e=>Xm(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fI(e){return e.includes("scale")?1:0}function pI(e,t){if(!e||e==="none")return fI(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=qBe,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ZBe,i=a}if(!i)return fI(t);const s=r[t],o=i[1].split(",").map(JBe);return typeof s=="function"?s(o):o[s]}const QBe=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return pI(n,t)};function JBe(e){return parseFloat(e.trim())}const Gw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Uw=new Set(Gw),u8=e=>e===zw||e===tr,$Be=new Set(["x","y","z"]),e3e=Gw.filter(e=>!$Be.has(e));function t3e(e){const t=[];return e3e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const u0={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>pI(t,"x"),y:(e,{transform:t})=>pI(t,"y")};u0.translateX=u0.x;u0.translateY=u0.y;const d0=new Set;let gI=!1,mI=!1,vI=!1;function c$(){if(mI){const e=Array.from(d0).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=t3e(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{r.getValue(s)?.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}mI=!1,gI=!1,d0.forEach(e=>e.complete(vI)),d0.clear()}function u$(){d0.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(mI=!0)})}function n3e(){vI=!0,u$(),c$(),vI=!1}class DN{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(d0.add(this),gI||(gI=!0,Os.read(u$),Os.resolveKeyframes(c$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}XBe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),d0.delete(this)}cancel(){this.state==="scheduled"&&(d0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const r3e=e=>e.startsWith("--");function i3e(e,t,n){r3e(t)?e.style.setProperty(t,n):e.style[t]=n}const s3e=yN(()=>window.ScrollTimeline!==void 0),o3e={};function a3e(e,t){const n=yN(e);return()=>o3e[t]??n()}const d$=a3e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sb=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,d8={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sb([0,.65,.55,1]),circOut:Sb([.55,0,1,.45]),backIn:Sb([.31,.01,.66,-.59]),backOut:Sb([.33,1.53,.69,.99])};function h$(e,t){if(e)return typeof e=="function"?d$()?o$(e,t):"ease-out":qJ(e)?Sb(e):Array.isArray(e)?e.map(n=>h$(n,t)||d8.easeOut):d8[e]}function l3e(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const h=h$(a,i);Array.isArray(h)&&(u.easing=h);const p={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),e.animate(u,p)}function f$(e){return typeof e=="function"&&"applyToOptions"in e}function c3e({type:e,...t}){return f$(e)&&d$()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class u3e extends kN{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,vN(typeof t.type!="string");const c=c3e(t);this.animation=l3e(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=AN(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):i3e(n,r,u),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return df(Number(t))}get time(){return df(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=uf(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&s3e()?(this.animation.timeline=t,gd):n(this)}}const p$={anticipate:KJ,backInOut:jJ,circInOut:XJ};function d3e(e){return e in p$}function h3e(e){typeof e.ease=="string"&&d3e(e.ease)&&(e.ease=p$[e.ease])}const h8=10;class f3e extends u3e{constructor(t){h3e(t),l$(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new PN({...o,autoplay:!1}),l=uf(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-h8).value,a.sample(l).value,h8),a.stop()}}const f8=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ng.test(e)||e==="0")&&!e.startsWith("url("));function p3e(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function g3e(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=f8(i,t),a=f8(s,t);return!o||!a?!1:p3e(e)||(n==="spring"||f$(n))&&r}function yI(e){e.duration=0,e.type}const m3e=new Set(["opacity","clipPath","filter","transform"]),v3e=yN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function y3e(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return v3e()&&n&&m3e.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const w3e=40;class C3e extends kN{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Rc.now();const p={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...h},m=u?.KeyframeResolver||DN;this.keyframeResolver=new m(a,(y,w,b)=>this.onKeyframesResolved(y,w,p,!b),l,c,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Rc.now(),g3e(t,s,o,a)||((fp.instantAnimations||!l)&&u?.(AN(t,r,n)),t[0]=t[t.length-1],yI(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>w3e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!c&&y3e(p)?new f3e({...p,element:p.motionValue.owner.current}):new PN(p);m.finished.then(()=>this.notifyFinished()).catch(gd),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),n3e()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const b3e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x3e(e){const t=b3e.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function g$(e,t,n=1){const[r,i]=x3e(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return NJ(o)?parseFloat(o):o}return SN(i)?g$(i,t,n+1):i}function FN(e,t){return e?.[t]??e?.default??e}const m$=new Set(["width","height","top","left","right","bottom",...Gw]),S3e={test:e=>e==="auto",parse:e=>e},v$=e=>t=>t.test(e),y$=[zw,tr,hf,eg,pBe,fBe,S3e],p8=e=>y$.find(v$(e));function _3e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||VJ(e):!0}const E3e=new Set(["brightness","contrast","saturate","opacity"]);function T3e(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(_N)||[];if(!r)return e;const i=n.replace(r,"");let s=E3e.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const R3e=/\b([a-z-]*)\(.*?\)/gu,wI={...Ng,getAnimatableNone:e=>{const t=e.match(R3e);return t?t.map(T3e).join(" "):e}},g8={...zw,transform:Math.round},A3e={rotate:eg,rotateX:eg,rotateY:eg,rotateZ:eg,scale:G_,scaleX:G_,scaleY:G_,scaleZ:G_,skew:eg,skewX:eg,skewY:eg,distance:tr,translateX:tr,translateY:tr,translateZ:tr,x:tr,y:tr,z:tr,perspective:tr,transformPerspective:tr,opacity:Qx,originX:n8,originY:n8,originZ:tr},IN={borderWidth:tr,borderTopWidth:tr,borderRightWidth:tr,borderBottomWidth:tr,borderLeftWidth:tr,borderRadius:tr,radius:tr,borderTopLeftRadius:tr,borderTopRightRadius:tr,borderBottomRightRadius:tr,borderBottomLeftRadius:tr,width:tr,maxWidth:tr,height:tr,maxHeight:tr,top:tr,right:tr,bottom:tr,left:tr,padding:tr,paddingTop:tr,paddingRight:tr,paddingBottom:tr,paddingLeft:tr,margin:tr,marginTop:tr,marginRight:tr,marginBottom:tr,marginLeft:tr,backgroundPositionX:tr,backgroundPositionY:tr,...A3e,zIndex:g8,fillOpacity:Qx,strokeOpacity:Qx,numOctaves:g8},k3e={...IN,color:jo,backgroundColor:jo,outlineColor:jo,fill:jo,stroke:jo,borderColor:jo,borderTopColor:jo,borderRightColor:jo,borderBottomColor:jo,borderLeftColor:jo,filter:wI,WebkitFilter:wI},w$=e=>k3e[e];function C$(e,t){let n=w$(e);return n!==wI&&(n=Ng),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const P3e=new Set(["auto","none","0"]);function D3e(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!P3e.has(s)&&Jx(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=C$(n,i)}class F3e extends DN{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),SN(c))){const u=g$(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!m$.has(r)||t.length!==2)return;const[i,s]=t,o=p8(i),a=p8(s);if(o!==a)if(u8(o)&&u8(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else u0[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||_3e(t[i]))&&r.push(i);r.length&&D3e(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=u0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=u0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}function I3e(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const b$=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function x$(e){return BJ(e)&&"offsetHeight"in e}const m8=30,M3e=e=>!isNaN(parseFloat(e));class O3e{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Rc.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Rc.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=M3e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wN);const r=this.events[t].add(n);return t==="change"?()=>{r(),Os.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Rc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>m8)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,m8);return HJ(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gw(e,t){return new O3e(e,t)}const{schedule:MN}=QJ(queueMicrotask,!1),Xd={x:!1,y:!1};function S$(){return Xd.x||Xd.y}function L3e(e){return e==="x"||e==="y"?Xd[e]?null:(Xd[e]=!0,()=>{Xd[e]=!1}):Xd.x||Xd.y?null:(Xd.x=Xd.y=!0,()=>{Xd.x=Xd.y=!1})}function _$(e,t){const n=I3e(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function v8(e){return!(e.pointerType==="touch"||S$())}function N3e(e,t,n={}){const[r,i,s]=_$(e,n),o=a=>{if(!v8(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=h=>{v8(h)&&(c(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const E$=(e,t)=>t?e===t?!0:E$(e,t.parentElement):!1,ON=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,B3e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function V3e(e){return B3e.has(e.tagName)||e.tabIndex!==-1}const KE=new WeakSet;function y8(e){return t=>{t.key==="Enter"&&e(t)}}function AD(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const H3e=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=y8(()=>{if(KE.has(n))return;AD(n,"down");const i=y8(()=>{AD(n,"up")}),s=()=>AD(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function w8(e){return ON(e)&&!S$()}function z3e(e,t,n={}){const[r,i,s]=_$(e,n),o=a=>{const l=a.currentTarget;if(!w8(a))return;KE.add(l);const c=t(l,a),u=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),KE.has(l)&&KE.delete(l),w8(m)&&typeof c=="function"&&c(m,{success:y})},h=m=>{u(m,l===window||l===document||n.useGlobalTarget||E$(l,m.target))},p=m=>{u(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),x$(a)&&(a.addEventListener("focus",c=>H3e(c,i)),!V3e(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function T$(e){return BJ(e)&&"ownerSVGElement"in e}function G3e(e){return T$(e)&&e.tagName==="svg"}const Ml=e=>!!(e&&e.getVelocity),U3e=[...y$,jo,Ng],W3e=e=>U3e.find(v$(e)),LN=I.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class j3e extends I.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=x$(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function K3e({children:e,isPresent:t,anchorX:n,root:r}){const i=I.useId(),s=I.useRef(null),o=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=I.useContext(LN);return I.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:h,right:p}=o.current;if(t||!s.current||!l||!c)return;const m=n==="left"?`left: ${h}`:`right: ${p}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");a&&(y.nonce=a);const w=r??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[t]),B.jsx(j3e,{isPresent:t,childRef:s,sizeRef:o,children:I.cloneElement(e,{ref:s})})}const Y3e=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=fN(X3e),u=I.useId();let h=!0,p=I.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:m=>{c.set(m,!0);for(const y of c.values())if(!y)return;r&&r()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,r]);return s&&h&&(p={...p}),I.useMemo(()=>{c.forEach((m,y)=>c.set(y,!1))},[n]),I.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(e=B.jsx(K3e,{isPresent:n,anchorX:a,root:l,children:e})),B.jsx(GA.Provider,{value:p,children:e})};function X3e(){return new Map}function R$(e=!0){const t=I.useContext(GA);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=I.useId();I.useEffect(()=>{if(e)return i(s)},[e]);const o=I.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const U_=e=>e.key||"";function C8(e){const t=[];return I.Children.forEach(e,n=>{I.isValidElement(n)&&t.push(n)}),t}const YE=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=R$(o),h=I.useMemo(()=>C8(e),[e]),p=o&&!c?[]:h.map(U_),m=I.useRef(!0),y=I.useRef(h),w=fN(()=>new Map),[b,S]=I.useState(h),[E,_]=I.useState(h);LJ(()=>{m.current=!1,y.current=h;for(let M=0;M<E.length;M++){const O=U_(E[M]);p.includes(O)?w.delete(O):w.get(O)!==!0&&w.set(O,!1)}},[E,p.length,p.join("-")]);const N=[];if(h!==b){let M=[...h];for(let O=0;O<E.length;O++){const z=E[O],H=U_(z);p.includes(H)||(M.splice(O,0,z),N.push(z))}return s==="wait"&&N.length&&(M=N),_(C8(M)),S(h),null}const{forceRender:V}=I.useContext(hN);return B.jsx(B.Fragment,{children:E.map(M=>{const O=U_(M),z=o&&!c?!1:h===E||p.includes(O),H=()=>{if(w.has(O))w.set(O,!0);else return;let X=!0;w.forEach(Q=>{Q||(X=!1)}),X&&(V?.(),_(y.current),o&&u?.(),r&&r())};return B.jsx(Y3e,{isPresent:z,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:z?void 0:H,anchorX:a,children:M},O)})})},A$=I.createContext({strict:!1}),b8={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mw={};for(const e in b8)mw[e]={isEnabled:t=>b8[e].some(n=>!!t[n])};function Z3e(e){for(const t in e)mw[t]={...mw[t],...e[t]}}const q3e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function aR(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||q3e.has(e)}let k$=e=>!aR(e);function Q3e(e){typeof e=="function"&&(k$=t=>t.startsWith("on")?!aR(t):e(t))}try{Q3e(require("@emotion/is-prop-valid").default)}catch{}function J3e(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(k$(i)||n===!0&&aR(i)||!t&&!aR(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const UA=I.createContext({});function WA(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function $x(e){return typeof e=="string"||Array.isArray(e)}const NN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],BN=["initial",...NN];function jA(e){return WA(e.animate)||BN.some(t=>$x(e[t]))}function P$(e){return!!(jA(e)||e.variants)}function $3e(e,t){if(jA(e)){const{initial:n,animate:r}=e;return{initial:n===!1||$x(n)?n:void 0,animate:$x(r)?r:void 0}}return e.inherit!==!1?t:{}}function eVe(e){const{initial:t,animate:n}=$3e(e,I.useContext(UA));return I.useMemo(()=>({initial:t,animate:n}),[x8(t),x8(n)])}function x8(e){return Array.isArray(e)?e.join(" "):e}const eS={};function tVe(e){for(const t in e)eS[t]=e[t],xN(t)&&(eS[t].isCSSVariable=!0)}function D$(e,{layout:t,layoutId:n}){return Uw.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!eS[e]||e==="opacity")}const nVe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rVe=Gw.length;function iVe(e,t,n){let r="",i=!0;for(let s=0;s<rVe;s++){const o=Gw[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=b$(a,IN[o]);if(!l){i=!1;const u=nVe[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function VN(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Uw.has(l)){o=!0;continue}else if(xN(l)){i[l]=c;continue}else{const u=b$(c,IN[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=iVe(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const HN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F$(e,t,n){for(const r in t)!Ml(t[r])&&!D$(r,n)&&(e[r]=t[r])}function sVe({transformTemplate:e},t){return I.useMemo(()=>{const n=HN();return VN(n,t,e),Object.assign({},n.vars,n.style)},[t])}function oVe(e,t){const n=e.style||{},r={};return F$(r,n,e),Object.assign(r,sVe(e,t)),r}function aVe(e,t){const n={},r=oVe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const lVe={offset:"stroke-dashoffset",array:"stroke-dasharray"},cVe={offset:"strokeDashoffset",array:"strokeDasharray"};function uVe(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?lVe:cVe;e[s.offset]=tr.transform(-r);const o=tr.transform(t),a=tr.transform(n);e[s.array]=`${o} ${a}`}function I$(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(VN(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=u?.transformBox??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&uVe(h,i,s,o,!1)}const M$=()=>({...HN(),attrs:{}}),O$=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dVe(e,t,n,r){const i=I.useMemo(()=>{const s=M$();return I$(s,t,O$(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};F$(s,e.style,e),i.style={...s,...i.style}}return i}const hVe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zN(e){return typeof e!="string"||e.includes("-")?!1:!!(hVe.indexOf(e)>-1||/[A-Z]/u.test(e))}function fVe(e,t,n,{latestValues:r},i,s=!1){const a=(zN(e)?dVe:aVe)(t,r,i,e),l=J3e(t,typeof e=="string",s),c=e!==I.Fragment?{...l,...a,ref:n}:{},{children:u}=t,h=I.useMemo(()=>Ml(u)?u.get():u,[u]);return I.createElement(e,{...c,children:h})}function S8(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function GN(e,t,n,r){if(typeof t=="function"){const[i,s]=S8(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=S8(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function XE(e){return Ml(e)?e.get():e}function pVe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:gVe(n,r,i,e),renderState:t()}}function gVe(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=XE(s[p]);let{initial:o,animate:a}=e;const l=jA(e),c=P$(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;if(h&&typeof h!="boolean"&&!WA(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const y=GN(e,p[m]);if(y){const{transitionEnd:w,transition:b,...S}=y;for(const E in S){let _=S[E];if(Array.isArray(_)){const N=u?_.length-1:0;_=_[N]}_!==null&&(i[E]=_)}for(const E in w)i[E]=w[E]}}}return i}const L$=e=>(t,n)=>{const r=I.useContext(UA),i=I.useContext(GA),s=()=>pVe(e,t,r,i);return n?s():fN(s)};function UN(e,t,n){const{style:r}=e,i={};for(const s in r)(Ml(r[s])||t.style&&Ml(t.style[s])||D$(s,e)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const mVe=L$({scrapeMotionValuesFromProps:UN,createRenderState:HN});function N$(e,t,n){const r=UN(e,t,n);for(const i in e)if(Ml(e[i])||Ml(t[i])){const s=Gw.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const vVe=L$({scrapeMotionValuesFromProps:N$,createRenderState:M$}),yVe=Symbol.for("motionComponentSymbol");function hy(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wVe(e,t,n){return I.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):hy(n)&&(n.current=r))},[t])}const WN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CVe="framerAppearId",B$="data-"+WN(CVe),V$=I.createContext({});function bVe(e,t,n,r,i){const{visualElement:s}=I.useContext(UA),o=I.useContext(A$),a=I.useContext(GA),l=I.useContext(LN).reducedMotion,c=I.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,h=I.useContext(V$);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&xVe(c.current,n,i,h);const p=I.useRef(!1);I.useInsertionEffect(()=>{u&&p.current&&u.update(n,a)});const m=n[B$],y=I.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return LJ(()=>{u&&(p.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),y.current&&u.animationState&&u.animationState.animateChanges())}),I.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1),u.enteringChildren=void 0)}),u}function xVe(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:H$(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&hy(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function H$(e){if(e)return e.options.allowProjection!==!1?e.projection:H$(e.parent)}function kD(e,{forwardMotionProps:t=!1}={},n,r){n&&Z3e(n);const i=zN(e)?vVe:mVe;function s(a,l){let c;const u={...I.useContext(LN),...a,layoutId:SVe(a)},{isStatic:h}=u,p=eVe(a),m=i(a,h);if(!h&&pN){_Ve();const y=EVe(u);c=y.MeasureLayout,p.visualElement=bVe(e,m,u,r,y.ProjectionNode)}return B.jsxs(UA.Provider,{value:p,children:[c&&p.visualElement?B.jsx(c,{visualElement:p.visualElement,...u}):null,fVe(e,a,wVe(m,p.visualElement,l),m,h,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=I.forwardRef(s);return o[yVe]=e,o}function SVe({layoutId:e}){const t=I.useContext(hN).id;return t&&e!==void 0?t+"-"+e:e}function _Ve(e,t){I.useContext(A$).strict}function EVe(e){const{drag:t,layout:n}=mw;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function TVe(e,t){if(typeof Proxy>"u")return kD;const n=new Map,r=(s,o)=>kD(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,kD(o,void 0,e,t)),n.get(o))})}function z$({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function RVe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AVe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function PD(e){return e===void 0||e===1}function CI({scale:e,scaleX:t,scaleY:n}){return!PD(e)||!PD(t)||!PD(n)}function Bm(e){return CI(e)||G$(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function G$(e){return _8(e.x)||_8(e.y)}function _8(e){return e&&e!=="0%"}function lR(e,t,n){const r=e-n,i=t*r;return n+i}function E8(e,t,n,r,i){return i!==void 0&&(e=lR(e,i,r)),lR(e,n,r)+t}function bI(e,t=0,n=1,r,i){e.min=E8(e.min,t,n,r,i),e.max=E8(e.max,t,n,r,i)}function U$(e,{x:t,y:n}){bI(e.x,t.translate,t.scale,t.originPoint),bI(e.y,n.translate,n.scale,n.originPoint)}const T8=.999999999999,R8=1.0000000000001;function kVe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&py(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,U$(e,o)),r&&Bm(s.latestValues)&&py(e,s.latestValues))}t.x<R8&&t.x>T8&&(t.x=1),t.y<R8&&t.y>T8&&(t.y=1)}function fy(e,t){e.min=e.min+t,e.max=e.max+t}function A8(e,t,n,r,i=.5){const s=Hs(e.min,e.max,i);bI(e,t,n,s,r)}function py(e,t){A8(e.x,t.x,t.scaleX,t.scale,t.originX),A8(e.y,t.y,t.scaleY,t.scale,t.originY)}function W$(e,t){return z$(AVe(e.getBoundingClientRect(),t))}function PVe(e,t,n){const r=W$(e,n),{scroll:i}=t;return i&&(fy(r.x,i.offset.x),fy(r.y,i.offset.y)),r}const k8=()=>({translate:0,scale:1,origin:0,originPoint:0}),gy=()=>({x:k8(),y:k8()}),P8=()=>({min:0,max:0}),bo=()=>({x:P8(),y:P8()}),xI={current:null},j$={current:!1};function DVe(){if(j$.current=!0,!!pN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xI.current=e.matches;e.addEventListener("change",t),t()}else xI.current=!1}const FVe=new WeakMap;function IVe(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Ml(i))e.addValue(r,i);else if(Ml(s))e.addValue(r,gw(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,gw(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const D8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MVe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=DN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Rc.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Os.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=jA(n),this.isVariantNode=P$(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in h){const m=h[p];l[p]!==void 0&&Ml(m)&&m.set(l[p])}}mount(t){this.current=t,FVe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),j$.current||DVe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xI.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lg(this.notifyUpdate),Lg(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Uw.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Os.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mw){const n=mw[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bo()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D8.length;r++){const i=D8[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=IVe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=gw(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(NJ(r)||VJ(r))?r=parseFloat(r):!W3e(r)&&Ng.test(n)&&(r=C$(t,n)),this.setBaseTarget(t,Ml(r)?r.get():r)),Ml(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=GN(this.props,n,this.presenceContext?.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ml(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wN),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){MN.render(this.render)}}class K$ extends MVe{constructor(){super(...arguments),this.KeyframeResolver=F3e}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ml(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Y$(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i?.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function OVe(e){return window.getComputedStyle(e)}class LVe extends K${constructor(){super(...arguments),this.type="html",this.renderInstance=Y$}readValueFromInstance(t,n){if(Uw.has(n))return this.projection?.isProjecting?fI(n):QBe(t,n);{const r=OVe(t),i=(xN(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return W$(t,n)}build(t,n,r){VN(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return UN(t,n,r)}}const X$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NVe(e,t,n,r){Y$(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(X$.has(i)?i:WN(i),t.attrs[i])}class BVe extends K${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bo}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Uw.has(n)){const r=w$(n);return r&&r.default||0}return n=X$.has(n)?n:WN(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return N$(t,n,r)}build(t,n,r){I$(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){NVe(t,n,r,i)}mount(t){this.isSVGTag=O$(t.tagName),super.mount(t)}}const VVe=(e,t)=>zN(e)?new BVe(t):new LVe(t,{allowProjection:e!==I.Fragment});function Oy(e,t,n){const r=e.getProps();return GN(r,t,n!==void 0?n:r.custom,e)}const SI=e=>Array.isArray(e);function HVe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,gw(n))}function zVe(e){return SI(e)?e[e.length-1]||0:e}function GVe(e,t){const n=Oy(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=zVe(s[o]);HVe(e,o,a)}}function UVe(e){return!!(Ml(e)&&e.add)}function _I(e,t){const n=e.getValue("willChange");if(UVe(n))return n.add(t);if(!n&&fp.WillChange){const r=new fp.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Z$(e){return e.props[B$]}const WVe=e=>e!==null;function jVe(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(WVe),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const KVe={type:"spring",stiffness:500,damping:25,restSpeed:10},YVe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),XVe={type:"keyframes",duration:.8},ZVe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qVe=(e,{keyframes:t})=>t.length>2?XVe:Uw.has(e)?e.startsWith("scale")?YVe(t[1]):KVe:ZVe;function QVe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const jN=(e,t,n,r={},i,s)=>o=>{const a=FN(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-uf(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};QVe(a)||Object.assign(u,qVe(e,u)),u.duration&&(u.duration=uf(u.duration)),u.repeatDelay&&(u.repeatDelay=uf(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(yI(u),u.delay===0&&(h=!0)),(fp.instantAnimations||fp.skipAnimations)&&(h=!0,yI(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,h&&!s&&t.get()!==void 0){const p=jVe(u.keyframes,a);if(p!==void 0){Os.update(()=>{u.onUpdate(p),u.onComplete()});return}}return a.isSync?new PN(u):new C3e(u)};function JVe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function q$(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const h=e.getValue(u,e.latestValues[u]??null),p=a[u];if(p===void 0||c&&JVe(c,u))continue;const m={delay:n,...FN(s||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===y&&!m.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const S=Z$(e);if(S){const E=window.MotionHandoffAnimation(S,u,Os);E!==null&&(m.startTime=E,w=!0)}}_I(e,u),h.start(jN(u,h,p,e.shouldReduceMotion&&m$.has(u)?{type:!1}:m,e,w));const b=h.animation;b&&l.push(b)}return o&&Promise.all(l).then(()=>{Os.update(()=>{o&&GVe(e,o)})}),l}function Q$(e,t,n,r=0,i=1){const s=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}function EI(e,t,n={}){const r=Oy(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(q$(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=i;return $Ve(e,t,l,c,u,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function $Ve(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(EI(l,t,{...o,delay:n+(typeof r=="function"?0:r)+Q$(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function e5e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>EI(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=EI(e,t,n);else{const i=typeof t=="function"?Oy(e,t,n.custom):t;r=Promise.all(q$(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function J$(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const t5e=BN.length;function $$(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?$$(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<t5e;n++){const r=BN[n],i=e.props[r];($x(i)||i===!1)&&(t[r]=i)}return t}const n5e=[...NN].reverse(),r5e=NN.length;function i5e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>e5e(e,n,r)))}function s5e(e){let t=i5e(e),n=F8(),r=!0;const i=l=>(c,u)=>{const h=Oy(e,u,l==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:p,transitionEnd:m,...y}=h;c={...c,...y,...m}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,u=$$(e.parent)||{},h=[],p=new Set;let m={},y=1/0;for(let b=0;b<r5e;b++){const S=n5e[b],E=n[S],_=c[S]!==void 0?c[S]:u[S],N=$x(_),V=S===l?E.isActive:null;V===!1&&(y=b);let M=_===u[S]&&_!==c[S]&&N;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...m},!E.isActive&&V===null||!_&&!E.prevProp||WA(_)||typeof _=="boolean")continue;const O=o5e(E.prevProp,_);let z=O||S===l&&E.isActive&&!M&&N||b>y&&N,H=!1;const X=Array.isArray(_)?_:[_];let Q=X.reduce(i(S),{});V===!1&&(Q={});const{prevResolvedValues:U={}}=E,Z={...U,...Q},q=ue=>{z=!0,p.has(ue)&&(H=!0,p.delete(ue)),E.needsAnimating[ue]=!0;const Pe=e.getValue(ue);Pe&&(Pe.liveStyle=!1)};for(const ue in Z){const Pe=Q[ue],ye=U[ue];if(m.hasOwnProperty(ue))continue;let W=!1;SI(Pe)&&SI(ye)?W=!J$(Pe,ye):W=Pe!==ye,W?Pe!=null?q(ue):p.add(ue):Pe!==void 0&&p.has(ue)?q(ue):E.protectedKeys[ue]=!0}E.prevProp=_,E.prevResolvedValues=Q,E.isActive&&(m={...m,...Q}),r&&e.blockInitialAnimation&&(z=!1);const me=M&&O;z&&(!me||H)&&h.push(...X.map(ue=>{const Pe={type:S};if(typeof ue=="string"&&r&&!me&&e.manuallyAnimateOnMount&&e.parent){const{parent:ye}=e,W=Oy(ye,ue);if(ye.enteringChildren&&W){const{delayChildren:re}=W.transition||{};Pe.delay=Q$(ye.enteringChildren,e,re)}}return{animation:ue,options:Pe}}))}if(p.size){const b={};if(typeof c.initial!="boolean"){const S=Oy(e,Array.isArray(c.initial)?c.initial[0]:c.initial);S&&S.transition&&(b.transition=S.transition)}p.forEach(S=>{const E=e.getBaseTarget(S),_=e.getValue(S);_&&(_.liveStyle=!0),b[S]=E??null}),h.push({animation:b})}let w=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(h):Promise.resolve()}function a(l,c){if(n[l].isActive===c)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(l,c)),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=F8(),r=!0}}}function o5e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!J$(t,e):!1}function Dm(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function F8(){return{animate:Dm(!0),whileInView:Dm(),whileHover:Dm(),whileTap:Dm(),whileDrag:Dm(),whileFocus:Dm(),exit:Dm()}}class tm{constructor(t){this.isMounted=!1,this.node=t}update(){}}class a5e extends tm{constructor(t){super(t),t.animationState||(t.animationState=s5e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();WA(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let l5e=0;class c5e extends tm{constructor(){super(...arguments),this.id=l5e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const u5e={animation:{Feature:a5e},exit:{Feature:c5e}};function tS(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function S1(e){return{point:{x:e.pageX,y:e.pageY}}}const d5e=e=>t=>ON(t)&&e(t,S1(t));function qb(e,t,n,r){return tS(e,t,d5e(n),r)}const eee=1e-4,h5e=1-eee,f5e=1+eee,tee=.01,p5e=0-tee,g5e=0+tee;function oc(e){return e.max-e.min}function m5e(e,t,n){return Math.abs(e-t)<=n}function I8(e,t,n,r=.5){e.origin=r,e.originPoint=Hs(t.min,t.max,e.origin),e.scale=oc(n)/oc(t),e.translate=Hs(n.min,n.max,e.origin)-e.originPoint,(e.scale>=h5e&&e.scale<=f5e||isNaN(e.scale))&&(e.scale=1),(e.translate>=p5e&&e.translate<=g5e||isNaN(e.translate))&&(e.translate=0)}function Qb(e,t,n,r){I8(e.x,t.x,n.x,r?r.originX:void 0),I8(e.y,t.y,n.y,r?r.originY:void 0)}function M8(e,t,n){e.min=n.min+t.min,e.max=e.min+oc(t)}function v5e(e,t,n){M8(e.x,t.x,n.x),M8(e.y,t.y,n.y)}function O8(e,t,n){e.min=t.min-n.min,e.max=e.min+oc(t)}function Jb(e,t,n){O8(e.x,t.x,n.x),O8(e.y,t.y,n.y)}function rd(e){return[e("x"),e("y")]}const nee=({current:e})=>e?e.ownerDocument.defaultView:null,L8=(e,t)=>Math.abs(e-t);function y5e(e,t){const n=L8(e.x,t.x),r=L8(e.y,t.y);return Math.sqrt(n**2+r**2)}class ree{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=FD(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=y5e(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:w}=p,{timestamp:b}=Za;this.history.push({...w,timestamp:b});const{onStart:S,onMove:E}=this.handlers;m||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=DD(m,this.transformPagePoint),Os.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=FD(p.type==="pointercancel"?this.lastMoveEventInfo:DD(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,S),w&&w(p,S)},!ON(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const a=S1(t),l=DD(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Za;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,FD(l,this.history)),this.removeListeners=C1(qb(this.contextWindow,"pointermove",this.handlePointerMove),qb(this.contextWindow,"pointerup",this.handlePointerUp),qb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lg(this.updatePoint)}}function DD(e,t){return t?{point:t(e.point)}:e}function N8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function FD({point:e},t){return{point:e,delta:N8(e,iee(t)),offset:N8(e,w5e(t)),velocity:C5e(t,.1)}}function w5e(e){return e[0]}function iee(e){return e[e.length-1]}function C5e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=iee(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>uf(t)));)n--;if(!r)return{x:0,y:0};const s=df(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function b5e(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Hs(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Hs(n,e,r.max):Math.min(e,n)),e}function B8(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function x5e(e,{top:t,left:n,bottom:r,right:i}){return{x:B8(e.x,n,i),y:B8(e.y,t,r)}}function V8(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function S5e(e,t){return{x:V8(e.x,t.x),y:V8(e.y,t.y)}}function _5e(e,t){let n=.5;const r=oc(e),i=oc(t);return i>r?n=qx(t.min,t.max-r,e.min):r>i&&(n=qx(e.min,e.max-i,t.min)),hp(0,1,n)}function E5e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const TI=.35;function T5e(e=TI){return e===!1?e=0:e===!0&&(e=TI),{x:H8(e,"left","right"),y:H8(e,"top","bottom")}}function H8(e,t,n){return{min:z8(e,t),max:z8(e,n)}}function z8(e,t){return typeof e=="number"?e:e[t]||0}const R5e=new WeakMap;class A5e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bo(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(S1(h).point)},o=(h,p)=>{const{drag:m,dragPropagation:y,onDragStart:w}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=L3e(m),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rd(S=>{let E=this.getAxisMotionValue(S).get()||0;if(hf.test(E)){const{projection:_}=this.visualElement;if(_&&_.layout){const N=_.layout.layoutBox[S];N&&(E=oc(N)*(parseFloat(E)/100))}}this.originPoint[S]=E}),w&&Os.postRender(()=>w(h,p)),_I(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:w,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:S}=p;if(y&&this.currentDirection===null){this.currentDirection=k5e(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),b&&b(h,p)},l=(h,p)=>{this.latestPointerEvent=h,this.latestPanInfo=p,this.stop(h,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>rd(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ree(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:nee(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Os.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!W_(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=b5e(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&hy(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=x5e(r.layoutBox,t):this.constraints=!1,this.elastic=T5e(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&rd(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=E5e(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hy(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=PVe(r,i.root,this.visualElement.getTransformPagePoint());let o=S5e(i.layout.layoutBox,s);if(n){const a=n(RVe(o));this.hasMutatedConstraints=!!a,a&&(o=z$(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=rd(u=>{if(!W_(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?t[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return _I(this.visualElement,t),r.start(jN(t,r,0,n,this.visualElement,!1))}stopAnimation(){rd(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rd(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){rd(n=>{const{drag:r}=this.getProps();if(!W_(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Hs(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hy(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};rd(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=_5e({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rd(o=>{if(!W_(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Hs(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;R5e.set(this.visualElement,this);const t=this.visualElement.current,n=qb(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hy(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Os.read(r);const o=tS(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(rd(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=TI,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function W_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function k5e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class P5e extends tm{constructor(t){super(t),this.removeGroupControls=gd,this.removeListeners=gd,this.controls=new A5e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gd}unmount(){this.removeGroupControls(),this.removeListeners()}}const G8=e=>(t,n)=>{e&&Os.postRender(()=>e(t,n))};class D5e extends tm{constructor(){super(...arguments),this.removePointerDownListener=gd}onPointerDown(t){this.session=new ree(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nee(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:G8(t),onStart:G8(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Os.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=qb(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ZE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function U8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const eb={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(tr.test(e))e=parseFloat(e);else return e;const n=U8(e,t.target.x),r=U8(e,t.target.y);return`${n}% ${r}%`}},F5e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ng.parse(e);if(i.length>5)return r;const s=Ng.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=Hs(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};let ID=!1;class I5e extends I.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;tVe(M5e),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),ID&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ZE.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,ID=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Os.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),MN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;ID=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function see(e){const[t,n]=R$(),r=I.useContext(hN);return B.jsx(I5e,{...e,layoutGroup:r,switchLayoutGroup:I.useContext(V$),isPresent:t,safeToRemove:n})}const M5e={borderRadius:{...eb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eb,borderTopRightRadius:eb,borderBottomLeftRadius:eb,borderBottomRightRadius:eb,boxShadow:F5e};function O5e(e,t,n){const r=Ml(e)?e:gw(e);return r.start(jN("",r,t,n)),r.animation}const L5e=(e,t)=>e.depth-t.depth;class N5e{constructor(){this.children=[],this.isDirty=!1}add(t){gN(this.children,t),this.isDirty=!0}remove(t){mN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(L5e),this.isDirty=!1,this.children.forEach(t)}}function B5e(e,t){const n=Rc.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Lg(r),e(s-t))};return Os.setup(r,!0),()=>Lg(r)}const oee=["TopLeft","TopRight","BottomLeft","BottomRight"],V5e=oee.length,W8=e=>typeof e=="string"?parseFloat(e):e,j8=e=>typeof e=="number"||tr.test(e);function H5e(e,t,n,r,i,s){i?(e.opacity=Hs(0,n.opacity??1,z5e(r)),e.opacityExit=Hs(t.opacity??1,0,G5e(r))):s&&(e.opacity=Hs(t.opacity??1,n.opacity??1,r));for(let o=0;o<V5e;o++){const a=`border${oee[o]}Radius`;let l=K8(t,a),c=K8(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||j8(l)===j8(c)?(e[a]=Math.max(Hs(W8(l),W8(c),r),0),(hf.test(c)||hf.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Hs(t.rotate||0,n.rotate||0,r))}function K8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const z5e=aee(0,.5,YJ),G5e=aee(.5,.95,gd);function aee(e,t,n){return r=>r<e?0:r>t?1:n(qx(e,t,r))}function Y8(e,t){e.min=t.min,e.max=t.max}function Zu(e,t){Y8(e.x,t.x),Y8(e.y,t.y)}function X8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Z8(e,t,n,r,i){return e-=t,e=lR(e,1/n,r),i!==void 0&&(e=lR(e,1/i,r)),e}function U5e(e,t=0,n=1,r=.5,i,s=e,o=e){if(hf.test(t)&&(t=parseFloat(t),t=Hs(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Hs(s.min,s.max,r);e===s&&(a-=t),e.min=Z8(e.min,t,n,a,i),e.max=Z8(e.max,t,n,a,i)}function q8(e,t,[n,r,i],s,o){U5e(e,t[n],t[r],t[i],t.scale,s,o)}const W5e=["x","scaleX","originX"],j5e=["y","scaleY","originY"];function Q8(e,t,n,r){q8(e.x,t,W5e,n?n.x:void 0,r?r.x:void 0),q8(e.y,t,j5e,n?n.y:void 0,r?r.y:void 0)}function J8(e){return e.translate===0&&e.scale===1}function lee(e){return J8(e.x)&&J8(e.y)}function $8(e,t){return e.min===t.min&&e.max===t.max}function K5e(e,t){return $8(e.x,t.x)&&$8(e.y,t.y)}function eG(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cee(e,t){return eG(e.x,t.x)&&eG(e.y,t.y)}function tG(e){return oc(e.x)/oc(e.y)}function nG(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Y5e{constructor(){this.members=[]}add(t){gN(this.members,t),t.scheduleRender()}remove(t){if(mN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X5e(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:h,rotateY:p,skewX:m,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const MD=["","X","Y","Z"],Z5e=1e3;let q5e=0;function OD(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function uee(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Z$(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Os,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&uee(r)}function dee({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t?.()){this.id=q5e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($5e),this.nodes.forEach(r6e),this.nodes.forEach(i6e),this.nodes.forEach(e6e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new N5e)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new wN),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=T$(o)&&!G3e(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,h=0;const p=()=>this.root.updateBlockedByResize=!1;Os.read(()=>{h=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==h&&(h=m,this.root.updateBlockedByResize=!0,u&&u(),u=B5e(p,250),ZE.hasAnimatedSinceResize&&(ZE.hasAnimatedSinceResize=!1,this.nodes.forEach(sG)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||c6e,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=c.getProps(),S=!this.targetLayout||!cee(this.targetLayout,m),E=!h&&p;if(this.options.layoutRoot||this.resumeFrom||E||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...FN(y,"layout"),onPlay:w,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,E)}else h||sG(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s6e),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uee(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rG);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iG);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(n6e),this.nodes.forEach(Q5e),this.nodes.forEach(J5e)):this.nodes.forEach(iG),this.clearAllSnapshots();const a=Rc.now();Za.delta=hp(0,1e3/60,a-Za.timestamp),Za.timestamp=a,Za.isProcessing=!0,SD.update.process(Za),SD.preRender.process(Za),SD.render.process(Za),Za.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,MN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(t6e),this.sharedNodes.forEach(o6e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Os.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Os.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!oc(this.snapshot.measuredBox.x)&&!oc(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bo(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lee(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Bm(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),u6e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return bo();const a=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(d6e))){const{scroll:c}=this.root;c&&(fy(a.x,c.offset.x),fy(a.y,c.offset.y))}return a}removeElementScroll(o){const a=bo();if(Zu(a,o),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;c!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&Zu(a,o),fy(a.x,u.offset.x),fy(a.y,u.offset.y))}return a}applyTransform(o,a=!1){const l=bo();Zu(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&py(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Bm(u.latestValues)&&py(l,u.latestValues)}return Bm(this.latestValues)&&py(l,this.latestValues),l}removeTransform(o){const a=bo();Zu(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Bm(c.latestValues))continue;CI(c.latestValues)&&c.updateSnapshot();const u=bo(),h=c.measurePageBox();Zu(u,h),Q8(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Bm(this.latestValues)&&Q8(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Za.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=Za.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bo(),this.relativeTargetOrigin=bo(),Jb(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Zu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bo(),this.targetWithTransforms=bo()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v5e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zu(this.target,this.layout.layoutBox),U$(this.target,this.targetDelta)):Zu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bo(),this.relativeTargetOrigin=bo(),Jb(this.relativeTargetOrigin,this.target,p.target),Zu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||CI(this.parent.latestValues)||G$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Za.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Zu(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;kVe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=bo());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X8(this.prevProjectionDelta.x,this.projectionDelta.x),X8(this.prevProjectionDelta.y,this.projectionDelta.y)),Qb(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!nG(this.projectionDelta.x,this.prevProjectionDelta.x)||!nG(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gy(),this.projectionDelta=gy(),this.projectionDeltaWithTransform=gy()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=gy();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=bo(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,b=this.getStack(),S=!b||b.members.length<=1,E=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(l6e));this.animationProgress=0;let _;this.mixTargetDelta=N=>{const V=N/1e3;oG(h.x,o.x,V),oG(h.y,o.y,V),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jb(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),a6e(this.relativeTarget,this.relativeTargetOrigin,p,V),_&&K5e(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=bo()),Zu(_,this.relativeTarget)),w&&(this.animationValues=u,H5e(u,c,this.latestValues,V,E,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Lg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Os.update(()=>{ZE.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gw(0)),this.currentAnimation=O5e(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Z5e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&hee(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||bo();const h=oc(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const p=oc(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Zu(a,l),py(a,u),Qb(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Y5e),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&OD("z",o,c,this.animationValues);for(let u=0;u<MD.length;u++)OD(`rotate${MD[u]}`,o,c,this.animationValues),OD(`skew${MD[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=XE(a?.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=XE(a?.pointerEvents)||""),this.hasProjected&&!Bm(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=X5e(this.projectionDeltaWithTransform,this.treeScale,u);l&&(h=l(u,h)),o.transform=h;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in eS){if(u[y]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:S}=eS[y],E=h==="none"?u[y]:w(u[y],c);if(b){const _=b.length;for(let N=0;N<_;N++)o[b[N]]=E}else S?this.options.visualElement.renderState.vars[y]=E:o[y]=E}this.options.layoutId&&(o.pointerEvents=c===this?XE(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(rG),this.root.sharedNodes.clear()}}}function Q5e(e){e.updateLayout()}function J5e(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?rd(u=>{const h=s?t.measuredBox[u]:t.layoutBox[u],p=oc(h);h.min=n[u].min,h.max=h.min+p}):hee(i,t.layoutBox,n)&&rd(u=>{const h=s?t.measuredBox[u]:t.layoutBox[u],p=oc(n[u]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+p)});const o=gy();Qb(o,n,t.layoutBox);const a=gy();s?Qb(a,e.applyTransform(r,!0),t.measuredBox):Qb(a,n,t.layoutBox);const l=!lee(o);let c=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:p}=u;if(h&&p){const m=bo();Jb(m,t.layoutBox,h.layoutBox);const y=bo();Jb(y,n,p.layoutBox),cee(m,y)||(c=!0),u.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function $5e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function e6e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function t6e(e){e.clearSnapshot()}function rG(e){e.clearMeasurements()}function iG(e){e.isLayoutDirty=!1}function n6e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sG(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function r6e(e){e.resolveTargetDelta()}function i6e(e){e.calcProjection()}function s6e(e){e.resetSkewAndRotation()}function o6e(e){e.removeLeadSnapshot()}function oG(e,t,n){e.translate=Hs(t.translate,0,n),e.scale=Hs(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function aG(e,t,n,r){e.min=Hs(t.min,n.min,r),e.max=Hs(t.max,n.max,r)}function a6e(e,t,n,r){aG(e.x,t.x,n.x,r),aG(e.y,t.y,n.y,r)}function l6e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const c6e={duration:.45,ease:[.4,0,.1,1]},lG=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cG=lG("applewebkit/")&&!lG("chrome/")?Math.round:gd;function uG(e){e.min=cG(e.min),e.max=cG(e.max)}function u6e(e){uG(e.x),uG(e.y)}function hee(e,t,n){return e==="position"||e==="preserve-aspect"&&!m5e(tG(t),tG(n),.2)}function d6e(e){return e!==e.root&&e.scroll?.wasRoot}const h6e=dee({attachResizeListener:(e,t)=>tS(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),LD={current:void 0},fee=dee({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!LD.current){const e=new h6e({});e.mount(window),e.setOptions({layoutScroll:!0}),LD.current=e}return LD.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),f6e={pan:{Feature:D5e},drag:{Feature:P5e,ProjectionNode:fee,MeasureLayout:see}};function dG(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Os.postRender(()=>s(t,S1(t)))}class p6e extends tm{mount(){const{current:t}=this.node;t&&(this.unmount=N3e(t,(n,r)=>(dG(this.node,r,"Start"),i=>dG(this.node,i,"End"))))}unmount(){}}class g6e extends tm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=C1(tS(this.node.current,"focus",()=>this.onFocus()),tS(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hG(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Os.postRender(()=>s(t,S1(t)))}class m6e extends tm{mount(){const{current:t}=this.node;t&&(this.unmount=z3e(t,(n,r)=>(hG(this.node,r,"Start"),(i,{success:s})=>hG(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const RI=new WeakMap,ND=new WeakMap,v6e=e=>{const t=RI.get(e.target);t&&t(e)},y6e=e=>{e.forEach(v6e)};function w6e({root:e,...t}){const n=e||document;ND.has(n)||ND.set(n,{});const r=ND.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(y6e,{root:e,...t})),r[i]}function C6e(e,t,n){const r=w6e(t);return RI.set(e,n),r.observe(e),()=>{RI.delete(e),r.unobserve(e)}}const b6e={some:0,all:1};class x6e extends tm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:b6e[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),p=c?u:h;p&&p(l)};return C6e(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(S6e(t,n))&&this.startObserver()}unmount(){}}function S6e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _6e={inView:{Feature:x6e},tap:{Feature:m6e},focus:{Feature:g6e},hover:{Feature:p6e}},E6e={layout:{ProjectionNode:fee,MeasureLayout:see}},T6e={...u5e,..._6e,...f6e,...E6e},Ly=TVe(T6e,VVe),R6e=({showEditModal:e,setShowEditModal:t,userId:n})=>{const{users:r,setUsers:i}=zA(),s=r.find(m=>m.id===n),[o,a]=I.useState("idle"),[l,c]=I.useState(s?.isActive??!1);I.useEffect(()=>{s&&c(s.isActive)},[s]);const u=m=>{switch(m){case Ln.ADMINISTRATOR:return"Administrador";case Ln.TEACHER:return"Profesor";case Ln.STUDENT:return"Estudiante";default:return m}},h=m=>{switch(m){case Ln.ADMINISTRATOR:return"bg-danger";case Ln.TEACHER:return"bg-primary";case Ln.STUDENT:return"bg-success";default:return"bg-secondary"}},p=async m=>{if(s){a("updating"),c(m);try{await Wxe(n,m),i(r.map(y=>y.id===n?{...y,isActive:m}:y)),a("success"),setTimeout(()=>{a("idle")},3e3)}catch(y){console.error("Error al actualizar usuario:",y),a("error"),c(!m),setTimeout(()=>{a("idle")},4e3)}}};return s?B.jsxs(Yi,{show:e,onHide:()=>t(!1),centered:!0,children:[B.jsx(Yi.Header,{closeButton:!0,children:B.jsx(Yi.Title,{children:"Editar Usuario"})}),B.jsxs(Yi.Body,{children:[B.jsxs(YE,{mode:"wait",children:[o==="updating"&&B.jsx(Ly.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:B.jsxs(qd,{variant:"info",className:"d-flex align-items-center mb-3",children:[B.jsx(Ope,{size:18,className:"me-2 spinning"}),B.jsx("span",{children:"Actualizando estado del usuario..."})]})}),o==="success"&&B.jsx(Ly.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:B.jsxs(qd,{variant:"success",className:"d-flex align-items-center mb-3",children:[B.jsx(q2,{size:18,className:"me-2"}),B.jsx("span",{children:"Estado actualizado exitosamente"})]})}),o==="error"&&B.jsx(Ly.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:B.jsxs(qd,{variant:"danger",className:"d-flex align-items-center mb-3",children:[B.jsx(fpe,{size:18,className:"me-2"}),B.jsx("span",{children:"Error al actualizar el estado del usuario"})]})})]}),B.jsxs(ar,{children:[B.jsxs(ar.Group,{className:"mb-3",children:[B.jsx(ar.Label,{className:"text-muted small",children:"Nombre completo"}),B.jsxs(rc,{children:[B.jsx(rc.Text,{children:B.jsx(JR,{size:18,className:"text-muted"})}),B.jsx(ar.Control,{type:"text",value:s.name,readOnly:!0,disabled:!0})]})]}),B.jsxs(ar.Group,{className:"mb-3",children:[B.jsx(ar.Label,{className:"text-muted small",children:"Correo electrnico"}),B.jsxs(rc,{children:[B.jsx(rc.Text,{children:B.jsx(CK,{size:18,className:"text-muted"})}),B.jsx(ar.Control,{type:"email",value:s.email,readOnly:!0,disabled:!0})]})]}),B.jsxs(ar.Group,{className:"mb-3",children:[B.jsx(ar.Label,{className:"text-muted small",children:"Rol"}),B.jsxs(rc,{children:[B.jsx(rc.Text,{children:B.jsx(ege,{size:18,className:"text-muted"})}),B.jsx(ar.Control,{type:"text",value:u(s.role),readOnly:!0,disabled:!0}),B.jsx(rc.Text,{children:B.jsx("span",{className:`badge ${h(s.role)}`,children:u(s.role)})})]})]}),B.jsx(ar.Group,{className:"mb-3",children:B.jsxs("div",{className:"d-flex justify-content-between align-items-center p-3 border rounded bg-light",children:[B.jsxs("div",{className:"d-flex align-items-center",children:[l?B.jsx(q2,{size:20,className:"text-success me-2"}):B.jsx(yK,{size:20,className:"text-danger me-2"}),B.jsxs("div",{children:[B.jsx("div",{className:"fw-bold",children:"Estado del Usuario"}),B.jsx("small",{className:"text-muted",children:l?"Usuario activo":"Usuario inactivo"})]})]}),B.jsx(ar.Check,{type:"switch",id:"user-active-switch",checked:l,onChange:m=>p(m.target.checked),disabled:o==="updating",style:{transform:"scale(1.3)"}})]})})]})]}),B.jsx(Yi.Footer,{children:B.jsx(hi,{variant:"secondary",onClick:()=>t(!1),children:"Cerrar"})}),B.jsx("style",{children:`
        .spinning {
          animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]}):null},A6e=()=>B.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center h-100 w-100 bg-white",style:{minHeight:"200px"},children:[B.jsx(Ll,{animation:"border",variant:"primary",style:{width:"3rem",height:"3rem"}}),B.jsx("div",{className:"mt-3 text-primary fw-bold",style:{fontSize:"1.1rem"},children:"Actualizando lista..."}),B.jsx("small",{className:"text-muted",children:"Por favor, espera un momento"})]}),pee=({showRole:e=!0,title:t="Gestin de Usuarios",placeholder:n="Buscar usuarios...",useStore:r=!0,userLabel:i="usuario",actionsColumn:s}={})=>{const o=I.useRef(null),a=zA(),[l,c]=I.useState([]),[u,h]=I.useState(""),[p,m]=I.useState(!0),[y,w]=I.useState(!1),[b,S]=I.useState(!1),[E,_]=I.useState(null),[N,V]=I.useState("all"),M=r?a.users:l,O=r?a.setUsers:c;I.useEffect(()=>{if(p)return;w(!0);const Z=setTimeout(()=>{w(!1)},500);return()=>clearTimeout(Z)},[N,p]);const z=I.useMemo(()=>N==="all"?M:M.filter(Z=>N==="active"?Z.isActive:!Z.isActive),[M,N]),H=I.useCallback(Z=>{Z.api.sizeColumnsToFit()},[]),X=I.useMemo(()=>{const Z=[{field:"name",headerName:"Nombre",flex:2,minWidth:150,sortable:!0,filter:!0,cellStyle:{fontWeight:"500"}},{field:"email",headerName:"Correo Electrnico",flex:3,minWidth:200,sortable:!0,filter:!0}];return e&&Z.push({field:"role",headerName:"Rol",flex:1,minWidth:120,sortable:!0,filter:!0,cellRenderer:q=>{const me=q.value,se=me==="TEACHER"?"badge bg-primary":"badge bg-success",ue=me==="TEACHER"?"Profesor":"Estudiante";return B.jsx("span",{className:se,children:ue})}}),Z.push({field:"isActive",headerName:"Estado",flex:1,minWidth:120,sortable:!0,filter:!0,cellRenderer:q=>{const me=q.value;return B.jsx("div",{className:"d-flex align-items-center gap-2",children:me?B.jsx(B.Fragment,{children:B.jsx("span",{className:"badge bg-success",children:"Activo"})}):B.jsx(B.Fragment,{children:B.jsx("span",{className:"badge bg-secondary",children:"Inactivo"})})})},cellStyle:{display:"flex",alignItems:"center",fontSize:"14px"}}),Z.push({headerName:s&&s.headerName||"Acciones",flex:1,minWidth:100,sortable:!1,filter:!1,cellRenderer:q=>s?s.cellRenderer({data:q.data}):B.jsx(Yfe,{placement:"top",overlay:B.jsx(pK,{children:"Editar usuario"}),children:B.jsx(hi,{variant:"outline-primary",size:"sm",onClick:()=>{_(q.data),S(!0)},className:"d-flex align-items-center",children:B.jsx(Wpe,{size:16})})}),cellStyle:{display:"flex",alignItems:"center",justifyContent:"center"}}),Z},[e,s]),Q={sortable:!0,filter:!0,resizable:!0,cellStyle:{display:"flex",alignItems:"center",fontSize:"14px"}},U=I.useCallback(Z=>{const q=Z.target.value;h(q)},[]);return I.useEffect(()=>{if(m(!0),r&&M.length>0){m(!1);return}xL().then(Z=>{if(Z.length===0){m(!1);return}O(Z),m(!1)}).catch(()=>{m(!1)})},[r,M.length,O]),B.jsxs(Zy,{fluid:!0,className:"p-0",children:[B.jsxs(ei,{className:"shadow-sm border-0",children:[B.jsxs(ei.Header,{className:"bg-white border-bottom",children:[B.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[B.jsxs("div",{className:"d-flex align-items-center",children:[B.jsx(Kf,{size:24,className:"text-primary me-2"}),B.jsxs("div",{children:[B.jsx("h5",{className:"mb-0 fw-bold",children:t}),B.jsxs("small",{className:"text-muted",children:[z.length," ",i,z.length!==1?"s":""," ",N==="all"?"registrado"+(z.length!==1?"s":""):N==="active"?"activo"+(z.length!==1?"s":""):"inactivo"+(z.length!==1?"s":"")]})]})]}),B.jsx("div",{style:{width:"300px"},children:B.jsxs(rc,{className:"search-input-group",children:[B.jsx(rc.Text,{className:"bg-light border-end-0",children:B.jsx(uO,{size:16,className:"text-muted"})}),B.jsx(ar.Control,{type:"text",placeholder:n,value:u,onChange:U,className:"border-start-0 ps-2",style:{boxShadow:"none",borderColor:"#dee2e6"}})]})})]}),B.jsxs("div",{className:"d-flex gap-2",children:[B.jsx(hi,{variant:N==="all"?"primary":"outline-secondary",size:"sm",onClick:()=>V("all"),children:"Todos"}),B.jsxs(hi,{variant:N==="active"?"success":"outline-success",size:"sm",onClick:()=>V("active"),className:"d-flex align-items-center gap-1",children:[B.jsx(q2,{size:16}),"Activos"]}),B.jsxs(hi,{variant:N==="inactive"?"secondary":"outline-secondary",size:"sm",onClick:()=>V("inactive"),className:"d-flex align-items-center gap-1",children:[B.jsx(yK,{size:16}),"Inactivos"]})]})]}),B.jsx(ei.Body,{className:"p-0",children:B.jsx("div",{className:"ag-theme-alpine",style:{height:"600px",width:"100%"},children:B.jsx(X4e,{ref:o,rowData:z,columnDefs:X,defaultColDef:Q,onGridReady:H,quickFilterText:u,animateRows:!0,rowSelection:"multiple",rowHeight:50,headerHeight:45,suppressCellFocus:!0,suppressRowHoverHighlight:!1,domLayout:"normal",suppressMovableColumns:!0,loading:p||y,loadingOverlayComponent:A6e,autoSizeStrategy:{type:"fitGridWidth",defaultMinWidth:100}})})})]}),B.jsx(R6e,{showEditModal:b,setShowEditModal:S,userId:E?.id??""})]})},k6e=({onSubmit:e})=>{const{addUser:t,setShowForm:n}=zA(),[r,i]=I.useState(!1),[s,o]=I.useState({id:"",name:"",email:"",role:Ln.STUDENT,isActive:!0}),[a,l]=I.useState(!1),[c,u]=I.useState(null),[h,p]=I.useState(!1),m=async w=>{if(w.preventDefault(),w.currentTarget.checkValidity()===!1)w.stopPropagation();else{i(!0);const S={...s};S.email.includes("@")||(S.email=`${S.email}@mail.com`),e(S).then(({user:E,password:_})=>{t(E),l(!0),u(_),_r.success("Usuario creado correctamente",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"colored",transition:_Z})}).catch(E=>{_r.error(EZ(E),{position:"top-right",autoClose:1500,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})}).finally(()=>{i(!1)})}},y=w=>{const{name:b,value:S}=w.target;o({...s,[b]:S})};return B.jsxs(ar,{noValidate:!0,validated:a,onSubmit:m,className:"p-2",children:[B.jsxs(ew,{className:"g-3",children:[B.jsx(Qh,{xs:12,children:B.jsx(ar.Group,{controlId:"formUserName",children:B.jsxs(rc,{hasValidation:!0,children:[B.jsx(rc.Text,{children:B.jsx(JR,{size:18,className:"text-muted"})}),B.jsxs(uT,{label:"Nombre completo",children:[B.jsx(ar.Control,{type:"text",name:"name",placeholder:"Nombre completo",value:s.name,onChange:y,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),B.jsx(ar.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre."})]})]})})}),B.jsx(Qh,{xs:12,children:B.jsx(ar.Group,{controlId:"formUserEmail",children:B.jsxs(rc,{hasValidation:!0,children:[B.jsx(rc.Text,{children:B.jsx(CK,{size:18,className:"text-muted"})}),B.jsxs(uT,{label:"Usuario o correo electrnico",children:[B.jsx(ar.Control,{type:"text",name:"email",placeholder:"Usuario o correo electrnico",value:s.email,onChange:y,required:!0,style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),B.jsx(ar.Control.Feedback,{type:"invalid",children:"Por favor, introduce un nombre de usuario o correo."})]})]})})})]}),B.jsxs(qd,{variant:"info",className:"mt-4 d-flex align-items-center",children:[B.jsx(Dpe,{size:24,className:"me-3"}),B.jsxs("div",{children:[B.jsx(qd.Heading,{as:"h6",className:"mb-1 fw-bold",children:"Generacin de Contrasea"}),B.jsx("p",{className:"mb-0 small",children:"La contrasea se generar automticamente de forma aleatoria. Se mostrar despus de crear el usuario."})]})]}),B.jsx("div",{className:"d-grid mt-4",children:B.jsx(hi,{variant:"primary",type:"submit",size:"lg",disabled:r,children:r?B.jsx(Ll,{animation:"border",size:"sm",className:"me-2"}):B.jsxs(B.Fragment,{children:[B.jsx(Zpe,{size:16,className:"me-2"}),"Crear Usuario"]})})}),c&&B.jsxs(qd,{variant:"success",className:"mt-4",children:[B.jsx(qd.Heading,{as:"h6",className:"mb-3 fw-bold",children:"Usuario creado exitosamente"}),B.jsxs("div",{className:"mb-3",children:[B.jsx(ar.Label,{className:"fw-bold small text-muted",children:"Contrasea generada:"}),B.jsxs(rc,{children:[B.jsx(ar.Control,{type:"text",value:c,readOnly:!0,className:"fw-bold text-success",style:{fontSize:"1.1rem"}}),B.jsx(hi,{variant:"outline-secondary",onClick:()=>{navigator.clipboard.writeText(c),p(!0),setTimeout(()=>{p(!1)},2e3)},children:h?B.jsx(lpe,{size:18,className:"text-success"}):B.jsx(wpe,{size:18})})]})]}),B.jsx("div",{className:"d-flex gap-2",children:B.jsx(hi,{variant:"primary",onClick:()=>{n(!1),u(null),o({id:"",name:"",email:"",role:Ln.STUDENT,isActive:!0}),l(!1)},children:"Cerrar"})})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var cR={};cR.version="0.18.5";var gee=1252,P6e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],KN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},YN=function(e){P6e.indexOf(e)!=-1&&(gee=KN[0]=e)};function D6e(){YN(1252)}var $d=function(e){YN(e)};function XN(){$d(1200),D6e()}function fG(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function F6e(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function mee(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var _b=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?F6e(e.slice(2)):t==254&&n==255?mee(e.slice(2)):t==65279?e.slice(1):e},j_=function(t){return String.fromCharCode(t)},pG=function(t){return String.fromCharCode(t)},nS,hg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function rS(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0,l=0,c=0;c<e.length;)n=e.charCodeAt(c++),s=n>>2,r=e.charCodeAt(c++),o=(n&3)<<4|r>>4,i=e.charCodeAt(c++),a=(r&15)<<2|i>>6,l=i&63,isNaN(r)?a=l=64:isNaN(i)&&(l=64),t+=hg.charAt(s)+hg.charAt(o)+hg.charAt(a)+hg.charAt(l);return t}function ku(e){var t="",n=0,r=0,i=0,s=0,o=0,a=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=hg.indexOf(e.charAt(c++)),o=hg.indexOf(e.charAt(c++)),n=s<<2|o>>4,t+=String.fromCharCode(n),a=hg.indexOf(e.charAt(c++)),r=(o&15)<<4|a>>2,a!==64&&(t+=String.fromCharCode(r)),l=hg.indexOf(e.charAt(c++)),i=(a&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var kr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),wp=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Bg(e){return kr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function gG(e){return kr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var pu=function(t){return kr?wp(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function KA(e){if(typeof ArrayBuffer>"u")return pu(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function nm(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function I6e(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function ZN(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return ZN(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var ka=kr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:wp(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function M6e(e){for(var t=[],n=0,r=e.length+250,i=Bg(e.length+255),s=0;s<e.length;++s){var o=e.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=e.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|a>>6&15|(o&3)<<4,i[n++]=128|a&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(t.push(i.slice(0,n)),n=0,i=Bg(65535),r=65530)}return t.push(i.slice(0,n)),ka(t)}var cc=/\u0000/g,Eb=/[\u0001-\u0006]/g;function Ny(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function eh(e,t){var n=""+e;return n.length>=t?n:io("0",t-n.length)+n}function qN(e,t){var n=""+e;return n.length>=t?n:io(" ",t-n.length)+n}function uR(e,t){var n=""+e;return n.length>=t?n:n+io(" ",t-n.length)}function O6e(e,t){var n=""+Math.round(e);return n.length>=t?n:io("0",t-n.length)+n}function L6e(e,t){var n=""+e;return n.length>=t?n:io("0",t-n.length)+n}var mG=Math.pow(2,32);function Zv(e,t){if(e>mG||e<-mG)return O6e(e,t);var n=Math.round(e);return L6e(n,t)}function dR(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var vG=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],BD=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function N6e(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Xn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},yG={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},B6e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function hR(e,t,n){for(var r=e<0?-1:1,i=e*r,s=0,o=1,a=0,l=1,c=0,u=0,h=Math.floor(i);c<t&&(h=Math.floor(i),a=h*o+s,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),s=o,o=a,l=c,c=u;if(u>t&&(c>t?(u=l,a=s):(u=c,a=o)),!n)return[0,r*a,u];var p=Math.floor(r*a/u);return[p,r*a-p*u,u]}function Zm(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),s=0,o=[],a={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),o=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=W6e(l,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var vee=new Date(1899,11,31,0,0,0),V6e=vee.getTime(),H6e=new Date(1900,2,1,0,0,0);function yee(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=H6e&&(n+=1440*60*1e3),(n-(V6e+(e.getTimezoneOffset()-vee.getTimezoneOffset())*6e4))/(1440*60*1e3)}function QN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function z6e(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function G6e(e){var t=e<0?12:11,n=QN(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function U6e(e){var t=QN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function iS(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=G6e(e):t===10?n=e.toFixed(10).substr(0,12):n=U6e(e),QN(z6e(n.toUpperCase()))}function O0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):iS(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ed(14,yee(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function W6e(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function j6e(e,t,n,r){var i="",s=0,o=0,a=n.y,l,c=0;switch(e){case 98:a=n.y+543;case 121:switch(t.length){case 1:case 2:l=a%100,c=2;break;default:l=a%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=n.m,c=t.length;break;case 3:return BD[n.m-1][1];case 5:return BD[n.m-1][0];default:return BD[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=n.d,c=t.length;break;case 3:return vG[n.q][0];default:return vG[n.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?eh(n.S,t.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),t==="s"?s===0?"0":""+s/o:(i=eh(s,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=a,c=1;break}var u=c>0?eh(l,c):"";return u}function fg(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var wee=/%/g;function K6e(e,t,n){var r=t.replace(wee,""),i=t.length-r.length;return Qf(e,r,n*Math.pow(10,2*i))+io("%",i)}function Y6e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Qf(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function Cee(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Cee(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var bee=/# (\?+)( ?)\/( ?)(\d+)/;function X6e(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),s=Math.floor(i/r),o=i-s*r,a=r;return n+(s===0?"":""+s)+" "+(o===0?io(" ",e[1].length+1+e[4].length):qN(o,e[1].length)+e[2]+"/"+e[3]+eh(a,e[4].length))}function Z6e(e,t,n){return n+(t===0?"":""+t)+io(" ",e[1].length+2+e[4].length)}var xee=/^#*0*\.([0#]+)/,See=/\).*[0#]/,_ee=/\(###\) ###\\?-####/;function tc(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function wG(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function CG(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function q6e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Q6e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ju(e,t,n){if(e.charCodeAt(0)===40&&!t.match(See)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ju("n",r,n):"("+Ju("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return Y6e(e,t,n);if(t.indexOf("%")!==-1)return K6e(e,t,n);if(t.indexOf("E")!==-1)return Cee(t,n);if(t.charCodeAt(0)===36)return"$"+Ju(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Zv(l,t.length);if(t.match(/^[#?]+$/))return i=Zv(n,0),i==="0"&&(i=""),i.length>t.length?i:tc(t.substr(0,t.length-i.length))+i;if(s=t.match(bee))return X6e(s,l,c);if(t.match(/^#+0+$/))return c+Zv(l,t.length-t.indexOf("0"));if(s=t.match(xee))return i=wG(n,s[1].length).replace(/^([^\.]+)$/,"$1."+tc(s[1])).replace(/\.$/,"."+tc(s[1])).replace(/\.(\d*)$/,function(y,w){return"."+w+io("0",tc(s[1]).length-w.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+wG(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+fg(Zv(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ju(e,t,-n):fg(""+(Math.floor(n)+q6e(n,s[1].length)))+"."+eh(CG(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ju(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ny(Ju(e,t.replace(/[\\-]/g,""),n)),o=0,Ny(Ny(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(_ee))return i=Ju(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=hR(l,Math.pow(10,o)-1,!1),i=""+c,u=Qf("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=uR(a[2],o),u.length<s[4].length&&(u=tc(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=hR(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?qN(a[1],o)+s[2]+"/"+s[3]+uR(a[2],o):io(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=Zv(n,0),t.length<=i.length?i:tc(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,p=t.length-i.length-h;return tc(t.substr(0,h)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return o=CG(n,s[1].length),n<0?"-"+Ju(e,t,-n):fg(Q6e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?eh(0,3-y.length):"")+y})+"."+eh(o,s[1].length);switch(t){case"###,##0.00":return Ju(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=fg(Zv(l,0));return m!=="0"?c+m:"";case"###,###.00":return Ju(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ju(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function J6e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return Qf(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function $6e(e,t,n){var r=t.replace(wee,""),i=t.length-r.length;return Qf(e,r,n*Math.pow(10,2*i))+io("%",i)}function Eee(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+Eee(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(t/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Ih(e,t,n){if(e.charCodeAt(0)===40&&!t.match(See)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ih("n",r,n):"("+Ih("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return J6e(e,t,n);if(t.indexOf("%")!==-1)return $6e(e,t,n);if(t.indexOf("E")!==-1)return Eee(t,n);if(t.charCodeAt(0)===36)return"$"+Ih(e,t.substr(t.charAt(1)==" "?2:1),n);var i,s,o,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+eh(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:tc(t.substr(0,t.length-i.length))+i;if(s=t.match(bee))return Z6e(s,l,c);if(t.match(/^#+0+$/))return c+eh(l,t.length-t.indexOf("0"));if(s=t.match(xee))return i=(""+n).replace(/^([^\.]+)$/,"$1."+tc(s[1])).replace(/\.$/,"."+tc(s[1])),i=i.replace(/\.(\d*)$/,function(y,w){return"."+w+io("0",tc(s[1]).length-w.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+fg(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ih(e,t,-n):fg(""+n)+"."+io("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ih(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ny(Ih(e,t.replace(/[\\-]/g,""),n)),o=0,Ny(Ny(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return o<i.length?i.charAt(o++):y==="0"?"0":""}));if(t.match(_ee))return i=Ih(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=hR(l,Math.pow(10,o)-1,!1),i=""+c,u=Qf("n",s[1],a[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=uR(a[2],o),u.length<s[4].length&&(u=tc(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=hR(l,Math.pow(10,o)-1,!0),c+(a[0]||(a[1]?"":"0"))+" "+(a[1]?qN(a[1],o)+s[2]+"/"+s[3]+uR(a[2],o):io(" ",2*o+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:tc(t.substr(0,t.length-i.length))+i;if(s=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var h=t.indexOf(".")-o,p=t.length-i.length-h;return tc(t.substr(0,h)+i+t.substr(t.length-p))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Ih(e,t,-n):fg(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?eh(0,3-y.length):"")+y})+"."+eh(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=fg(""+l);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return Ih(e,t.slice(0,t.lastIndexOf(".")),n)+tc(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Qf(e,t,n){return(n|0)===n?Ih(e,t,n):Ju(e,t,n)}function eHe(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Tee=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ww(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":dR(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(Tee))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function tHe(e,t,n,r){for(var i=[],s="",o=0,a="",l="t",c,u,h,p="H";o<e.length;)switch(a=e.charAt(o)){case"G":if(!dR(e,o))throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(h=e.charCodeAt(++o))!==34&&o<e.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++o;break;case"\\":var m=e.charAt(++o),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(c==null&&(c=Zm(t,n,e.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},l=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Zm(t,n),c==null))return"";for(s=a;++o<e.length&&e.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&l.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=p),i[i.length]={t:a,v:s},l=a;break;case"A":case"a":case"":var w={t:a,v:a};if(c==null&&(c=Zm(t,n)),e.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(w.v=c.H>=12?"P":"A"),w.t="T",p="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(w.v=c.H>=12?"PM":"AM"),w.t="T",o+=5,p="h"):e.substr(o,5).toUpperCase()==="/"?(c!=null&&(w.v=c.H>=12?"":""),w.t="T",o+=5,p="h"):(w.t="t",++o),c==null&&w.t==="T")return"";i[i.length]=w,l=a;break;case"[":for(s=a;e.charAt(o++)!=="]"&&o<e.length;)s+=e.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Tee)){if(c==null&&(c=Zm(t,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ww(e)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=a;++o<e.length&&(a=e.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<e.length&&"0#?.,E+-%".indexOf(a=e.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;e.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},l=a;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)s+=e.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+e);i[i.length]={t:"t",v:a},++o;break}var b=0,S=0,E;for(o=i.length-1,l="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,l="h",b<1&&(b=1);break;case"s":(E=i[o].v.match(/\.0+$/))&&(S=Math.max(S,E[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":l=i[o].t;break;case"m":l==="s"&&(i[o].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[o].v.match(/[Hh]/)&&(b=1),b<2&&i[o].v.match(/[Mm]/)&&(b=2),b<3&&i[o].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",N;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=j6e(i[o].t.charCodeAt(0),i[o].v,c,S),i[o].t="t";break;case"n":case"?":for(N=o+1;i[N]!=null&&((a=i[N].t)==="?"||a==="D"||(a===" "||a==="t")&&i[N+1]!=null&&(i[N+1].t==="?"||i[N+1].t==="t"&&i[N+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[N].v==="/"||i[N].v===" "&&i[N+1]!=null&&i[N+1].t=="?"));)i[o].v+=i[N].v,i[N]={v:"",t:";"},++N;_+=i[o].v,o=N-1;break;case"G":i[o].t="t",i[o].v=O0(t,n);break}var V="",M,O;if(_.length>0){_.charCodeAt(0)==40?(M=t<0&&_.charCodeAt(0)===45?-t:t,O=Qf("n",_,M)):(M=t<0&&r>1?-t:t,O=Qf("n",_,M),M<0&&i[0]&&i[0].t=="t"&&(O=O.substr(1),i[0].v="-"+i[0].v)),N=O.length-1;var z=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){z=o;break}var H=i.length;if(z===i.length&&O.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(N>=i[o].v.length-1?(N-=i[o].v.length,i[o].v=O.substr(N+1,i[o].v.length)):N<0?i[o].v="":(i[o].v=O.substr(0,N+1),N=-1),i[o].t="t",H=o);N>=0&&H<i.length&&(i[H].v=O.substr(0,N+1)+i[H].v)}else if(z!==i.length&&O.indexOf("E")===-1){for(N=O.indexOf(".")-1,o=z;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(u=i[o].v.indexOf(".")>-1&&o===z?i[o].v.indexOf(".")-1:i[o].v.length-1,V=i[o].v.substr(u+1);u>=0;--u)N>=0&&(i[o].v.charAt(u)==="0"||i[o].v.charAt(u)==="#")&&(V=O.charAt(N--)+V);i[o].v=V,i[o].t="t",H=o}for(N>=0&&H<i.length&&(i[H].v=O.substr(0,N+1)+i[H].v),N=O.indexOf(".")+1,o=z;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==z)){for(u=i[o].v.indexOf(".")>-1&&o===z?i[o].v.indexOf(".")+1:0,V=i[o].v.substr(0,u);u<i[o].v.length;++u)N<O.length&&(V+=O.charAt(N++));i[o].v=V,i[o].t="t",H=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(M=r>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=Qf(i[o].t,i[o].v,M),i[o].t="t");var X="";for(o=0;o!==i.length;++o)i[o]!=null&&(X+=i[o].v);return X}var bG=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function xG(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function nHe(e,t){var n=eHe(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(bG),a=n[1].match(bG);return xG(t,o)?[r,n[0]]:xG(t,a)?[r,n[1]]:[r,n[o!=null&&a!=null?2:1]]}return[r,s]}function Ed(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Xn)[e],r==null&&(r=n.table&&n.table[yG[e]]||Xn[yG[e]]),r==null&&(r=B6e[e]||"General");break}if(dR(r,0))return O0(t,n);t instanceof Date&&(t=yee(t,n.date1904));var i=nHe(r,t);if(dR(i[1]))return O0(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return tHe(i[1],t,n,i[0])}function Jf(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(Xn[n]==null){t<0&&(t=n);continue}if(Xn[n]==e){t=n;break}}t<0&&(t=391)}return Xn[t]=e,t}function YA(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Jf(e[t],t)}function jw(){Xn=N6e()}var rHe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Ree=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function iHe(e){var t=typeof e=="number"?Xn[e]:e;return t=t.replace(Ree,"(\\d+)"),new RegExp("^"+t+"$")}function sHe(e,t,n){var r=-1,i=-1,s=-1,o=-1,a=-1,l=-1;(t.match(Ree)||[]).forEach(function(h,p){var m=parseInt(n[p+1],10);switch(h.toLowerCase().charAt(0)){case"y":r=m;break;case"d":s=m;break;case"h":o=m;break;case"s":l=m;break;case"m":o>=0?a=m:i=m;break}}),l>=0&&a==-1&&i>=0&&(a=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return o==-1&&a==-1&&l==-1?c:r==-1&&i==-1&&s==-1?u:c+"T"+u}var oHe=function(){var e={};e.version="1.2.0";function t(){for(var O=0,z=new Array(256),H=0;H!=256;++H)O=H,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,z[H]=O;return typeof Int32Array<"u"?new Int32Array(z):z}var n=t();function r(O){var z=0,H=0,X=0,Q=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(X=0;X!=256;++X)Q[X]=O[X];for(X=0;X!=256;++X)for(H=O[X],z=256+X;z<4096;z+=256)H=Q[z]=H>>>8^O[H&255];var U=[];for(X=1;X!=16;++X)U[X-1]=typeof Int32Array<"u"?Q.subarray(X*256,X*256+256):Q.slice(X*256,X*256+256);return U}var i=r(n),s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],p=i[7],m=i[8],y=i[9],w=i[10],b=i[11],S=i[12],E=i[13],_=i[14];function N(O,z){for(var H=z^-1,X=0,Q=O.length;X<Q;)H=H>>>8^n[(H^O.charCodeAt(X++))&255];return~H}function V(O,z){for(var H=z^-1,X=O.length-15,Q=0;Q<X;)H=_[O[Q++]^H&255]^E[O[Q++]^H>>8&255]^S[O[Q++]^H>>16&255]^b[O[Q++]^H>>>24]^w[O[Q++]]^y[O[Q++]]^m[O[Q++]]^p[O[Q++]]^h[O[Q++]]^u[O[Q++]]^c[O[Q++]]^l[O[Q++]]^a[O[Q++]]^o[O[Q++]]^s[O[Q++]]^n[O[Q++]];for(X+=15;Q<X;)H=H>>>8^n[(H^O[Q++])&255];return~H}function M(O,z){for(var H=z^-1,X=0,Q=O.length,U=0,Z=0;X<Q;)U=O.charCodeAt(X++),U<128?H=H>>>8^n[(H^U)&255]:U<2048?(H=H>>>8^n[(H^(192|U>>6&31))&255],H=H>>>8^n[(H^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,Z=O.charCodeAt(X++)&1023,H=H>>>8^n[(H^(240|U>>8&7))&255],H=H>>>8^n[(H^(128|U>>2&63))&255],H=H>>>8^n[(H^(128|Z>>6&15|(U&3)<<4))&255],H=H>>>8^n[(H^(128|Z&63))&255]):(H=H>>>8^n[(H^(224|U>>12&15))&255],H=H>>>8^n[(H^(128|U>>6&63))&255],H=H>>>8^n[(H^(128|U&63))&255]);return~H}return e.table=n,e.bstr=N,e.buf=V,e.str=M,e}(),Hn=function(){var t={};t.version="1.2.1";function n(he,Te){for(var be=he.split("/"),Ce=Te.split("/"),Ee=0,Fe=0,Xe=Math.min(be.length,Ce.length);Ee<Xe;++Ee){if(Fe=be[Ee].length-Ce[Ee].length)return Fe;if(be[Ee]!=Ce[Ee])return be[Ee]<Ce[Ee]?-1:1}return be.length-Ce.length}function r(he){if(he.charAt(he.length-1)=="/")return he.slice(0,-1).indexOf("/")===-1?he:r(he.slice(0,-1));var Te=he.lastIndexOf("/");return Te===-1?he:he.slice(0,Te+1)}function i(he){if(he.charAt(he.length-1)=="/")return i(he.slice(0,-1));var Te=he.lastIndexOf("/");return Te===-1?he:he.slice(Te+1)}function s(he,Te){typeof Te=="string"&&(Te=new Date(Te));var be=Te.getHours();be=be<<6|Te.getMinutes(),be=be<<5|Te.getSeconds()>>>1,he.write_shift(2,be);var Ce=Te.getFullYear()-1980;Ce=Ce<<4|Te.getMonth()+1,Ce=Ce<<5|Te.getDate(),he.write_shift(2,Ce)}function o(he){var Te=he.read_shift(2)&65535,be=he.read_shift(2)&65535,Ce=new Date,Ee=be&31;be>>>=5;var Fe=be&15;be>>>=4,Ce.setMilliseconds(0),Ce.setFullYear(be+1980),Ce.setMonth(Fe-1),Ce.setDate(Ee);var Xe=Te&31;Te>>>=5;var ht=Te&63;return Te>>>=6,Ce.setHours(Te),Ce.setMinutes(ht),Ce.setSeconds(Xe<<1),Ce}function a(he){Ja(he,0);for(var Te={},be=0;he.l<=he.length-4;){var Ce=he.read_shift(2),Ee=he.read_shift(2),Fe=he.l+Ee,Xe={};switch(Ce){case 21589:be=he.read_shift(1),be&1&&(Xe.mtime=he.read_shift(4)),Ee>5&&(be&2&&(Xe.atime=he.read_shift(4)),be&4&&(Xe.ctime=he.read_shift(4))),Xe.mtime&&(Xe.mt=new Date(Xe.mtime*1e3));break}he.l=Fe,Te[Ce]=Xe}return Te}var l;function c(){return l||(l={})}function u(he,Te){if(he[0]==80&&he[1]==75)return Ni(he,Te);if((he[0]|32)==109&&(he[1]|32)==105)return Qe(he,Te);if(he.length<512)throw new Error("CFB file size "+he.length+" < 512");var be=3,Ce=512,Ee=0,Fe=0,Xe=0,ht=0,Ke=0,$e=[],ut=he.slice(0,512);Ja(ut,0);var Ot=h(ut);switch(be=Ot[0],be){case 3:Ce=512;break;case 4:Ce=4096;break;case 0:if(Ot[1]==0)return Ni(he,Te);default:throw new Error("Major Version: Expected 3 or 4 saw "+be)}Ce!==512&&(ut=he.slice(0,Ce),Ja(ut,28));var Wt=he.slice(0,Ce);p(ut,be);var jt=ut.read_shift(4,"i");if(be===3&&jt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+jt);ut.l+=4,Xe=ut.read_shift(4,"i"),ut.l+=4,ut.chk("00100000","Mini Stream Cutoff Size: "),ht=ut.read_shift(4,"i"),Ee=ut.read_shift(4,"i"),Ke=ut.read_shift(4,"i"),Fe=ut.read_shift(4,"i");for(var Ut=-1,Xt=0;Xt<109&&(Ut=ut.read_shift(4,"i"),!(Ut<0));++Xt)$e[Xt]=Ut;var pn=m(he,Ce);b(Ke,Fe,pn,Ce,$e);var sr=E(pn,Xe,$e,Ce);sr[Xe].name="!Directory",Ee>0&&ht!==Z&&(sr[ht].name="!MiniFAT"),sr[$e[0]].name="!FAT",sr.fat_addrs=$e,sr.ssz=Ce;var Kn={},dn=[],hr=[],Vi=[];_(Xe,sr,pn,dn,Ee,Kn,hr,ht),y(hr,Vi,dn),dn.shift();var Ai={FileIndex:hr,FullPaths:Vi};return Te&&Te.raw&&(Ai.raw={header:Wt,sectors:pn}),Ai}function h(he){if(he[he.l]==80&&he[he.l+1]==75)return[0,0];he.chk(q,"Header Signature: "),he.l+=16;var Te=he.read_shift(2,"u");return[he.read_shift(2,"u"),Te]}function p(he,Te){var be=9;switch(he.l+=2,be=he.read_shift(2)){case 9:if(Te!=3)throw new Error("Sector Shift: Expected 9 saw "+be);break;case 12:if(Te!=4)throw new Error("Sector Shift: Expected 12 saw "+be);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+be)}he.chk("0600","Mini Sector Shift: "),he.chk("000000000000","Reserved: ")}function m(he,Te){for(var be=Math.ceil(he.length/Te)-1,Ce=[],Ee=1;Ee<be;++Ee)Ce[Ee-1]=he.slice(Ee*Te,(Ee+1)*Te);return Ce[be-1]=he.slice(be*Te),Ce}function y(he,Te,be){for(var Ce=0,Ee=0,Fe=0,Xe=0,ht=0,Ke=be.length,$e=[],ut=[];Ce<Ke;++Ce)$e[Ce]=ut[Ce]=Ce,Te[Ce]=be[Ce];for(;ht<ut.length;++ht)Ce=ut[ht],Ee=he[Ce].L,Fe=he[Ce].R,Xe=he[Ce].C,$e[Ce]===Ce&&(Ee!==-1&&$e[Ee]!==Ee&&($e[Ce]=$e[Ee]),Fe!==-1&&$e[Fe]!==Fe&&($e[Ce]=$e[Fe])),Xe!==-1&&($e[Xe]=Ce),Ee!==-1&&Ce!=$e[Ce]&&($e[Ee]=$e[Ce],ut.lastIndexOf(Ee)<ht&&ut.push(Ee)),Fe!==-1&&Ce!=$e[Ce]&&($e[Fe]=$e[Ce],ut.lastIndexOf(Fe)<ht&&ut.push(Fe));for(Ce=1;Ce<Ke;++Ce)$e[Ce]===Ce&&(Fe!==-1&&$e[Fe]!==Fe?$e[Ce]=$e[Fe]:Ee!==-1&&$e[Ee]!==Ee&&($e[Ce]=$e[Ee]));for(Ce=1;Ce<Ke;++Ce)if(he[Ce].type!==0){if(ht=Ce,ht!=$e[ht])do ht=$e[ht],Te[Ce]=Te[ht]+"/"+Te[Ce];while(ht!==0&&$e[ht]!==-1&&ht!=$e[ht]);$e[Ce]=-1}for(Te[0]+="/",Ce=1;Ce<Ke;++Ce)he[Ce].type!==2&&(Te[Ce]+="/")}function w(he,Te,be){for(var Ce=he.start,Ee=he.size,Fe=[],Xe=Ce;be&&Ee>0&&Xe>=0;)Fe.push(Te.slice(Xe*U,Xe*U+U)),Ee-=U,Xe=Gm(be,Xe*4);return Fe.length===0?Rt(0):ka(Fe).slice(0,he.size)}function b(he,Te,be,Ce,Ee){var Fe=Z;if(he===Z){if(Te!==0)throw new Error("DIFAT chain shorter than expected")}else if(he!==-1){var Xe=be[he],ht=(Ce>>>2)-1;if(!Xe)return;for(var Ke=0;Ke<ht&&(Fe=Gm(Xe,Ke*4))!==Z;++Ke)Ee.push(Fe);b(Gm(Xe,Ce-4),Te-1,be,Ce,Ee)}}function S(he,Te,be,Ce,Ee){var Fe=[],Xe=[];Ee||(Ee=[]);var ht=Ce-1,Ke=0,$e=0;for(Ke=Te;Ke>=0;){Ee[Ke]=!0,Fe[Fe.length]=Ke,Xe.push(he[Ke]);var ut=be[Math.floor(Ke*4/Ce)];if($e=Ke*4&ht,Ce<4+$e)throw new Error("FAT boundary crossed: "+Ke+" 4 "+Ce);if(!he[ut])break;Ke=Gm(he[ut],$e)}return{nodes:Fe,data:MG([Xe])}}function E(he,Te,be,Ce){var Ee=he.length,Fe=[],Xe=[],ht=[],Ke=[],$e=Ce-1,ut=0,Ot=0,Wt=0,jt=0;for(ut=0;ut<Ee;++ut)if(ht=[],Wt=ut+Te,Wt>=Ee&&(Wt-=Ee),!Xe[Wt]){Ke=[];var Ut=[];for(Ot=Wt;Ot>=0;){Ut[Ot]=!0,Xe[Ot]=!0,ht[ht.length]=Ot,Ke.push(he[Ot]);var Xt=be[Math.floor(Ot*4/Ce)];if(jt=Ot*4&$e,Ce<4+jt)throw new Error("FAT boundary crossed: "+Ot+" 4 "+Ce);if(!he[Xt]||(Ot=Gm(he[Xt],jt),Ut[Ot]))break}Fe[Wt]={nodes:ht,data:MG([Ke])}}return Fe}function _(he,Te,be,Ce,Ee,Fe,Xe,ht){for(var Ke=0,$e=Ce.length?2:0,ut=Te[he].data,Ot=0,Wt=0,jt;Ot<ut.length;Ot+=128){var Ut=ut.slice(Ot,Ot+128);Ja(Ut,64),Wt=Ut.read_shift(2),jt=i4(Ut,0,Wt-$e),Ce.push(jt);var Xt={name:jt,type:Ut.read_shift(1),color:Ut.read_shift(1),L:Ut.read_shift(4,"i"),R:Ut.read_shift(4,"i"),C:Ut.read_shift(4,"i"),clsid:Ut.read_shift(16),state:Ut.read_shift(4,"i"),start:0,size:0},pn=Ut.read_shift(2)+Ut.read_shift(2)+Ut.read_shift(2)+Ut.read_shift(2);pn!==0&&(Xt.ct=N(Ut,Ut.l-8));var sr=Ut.read_shift(2)+Ut.read_shift(2)+Ut.read_shift(2)+Ut.read_shift(2);sr!==0&&(Xt.mt=N(Ut,Ut.l-8)),Xt.start=Ut.read_shift(4,"i"),Xt.size=Ut.read_shift(4,"i"),Xt.size<0&&Xt.start<0&&(Xt.size=Xt.type=0,Xt.start=Z,Xt.name=""),Xt.type===5?(Ke=Xt.start,Ee>0&&Ke!==Z&&(Te[Ke].name="!StreamData")):Xt.size>=4096?(Xt.storage="fat",Te[Xt.start]===void 0&&(Te[Xt.start]=S(be,Xt.start,Te.fat_addrs,Te.ssz)),Te[Xt.start].name=Xt.name,Xt.content=Te[Xt.start].data.slice(0,Xt.size)):(Xt.storage="minifat",Xt.size<0?Xt.size=0:Ke!==Z&&Xt.start!==Z&&Te[Ke]&&(Xt.content=w(Xt,Te[Ke].data,(Te[ht]||{}).data))),Xt.content&&Ja(Xt.content,0),Fe[jt]=Xt,Xe.push(Xt)}}function N(he,Te){return new Date((du(he,Te+4)/1e7*Math.pow(2,32)+du(he,Te)/1e7-11644473600)*1e3)}function V(he,Te){return c(),u(l.readFileSync(he),Te)}function M(he,Te){var be=Te&&Te.type;switch(be||kr&&Buffer.isBuffer(he)&&(be="buffer"),be||"base64"){case"file":return V(he,Te);case"base64":return u(pu(ku(he)),Te);case"binary":return u(pu(he),Te)}return u(he,Te)}function O(he,Te){var be=Te||{},Ce=be.root||"Root Entry";if(he.FullPaths||(he.FullPaths=[]),he.FileIndex||(he.FileIndex=[]),he.FullPaths.length!==he.FileIndex.length)throw new Error("inconsistent CFB structure");he.FullPaths.length===0&&(he.FullPaths[0]=Ce+"/",he.FileIndex[0]={name:Ce,type:5}),be.CLSID&&(he.FileIndex[0].clsid=be.CLSID),z(he)}function z(he){var Te="Sh33tJ5";if(!Hn.find(he,"/"+Te)){var be=Rt(4);be[0]=55,be[1]=be[3]=50,be[2]=54,he.FileIndex.push({name:Te,type:2,content:be,size:4,L:69,R:69,C:69}),he.FullPaths.push(he.FullPaths[0]+Te),H(he)}}function H(he,Te){O(he);for(var be=!1,Ce=!1,Ee=he.FullPaths.length-1;Ee>=0;--Ee){var Fe=he.FileIndex[Ee];switch(Fe.type){case 0:Ce?be=!0:(he.FileIndex.pop(),he.FullPaths.pop());break;case 1:case 2:case 5:Ce=!0,isNaN(Fe.R*Fe.L*Fe.C)&&(be=!0),Fe.R>-1&&Fe.L>-1&&Fe.R==Fe.L&&(be=!0);break;default:be=!0;break}}if(!(!be&&!Te)){var Xe=new Date(1987,1,19),ht=0,Ke=Object.create?Object.create(null):{},$e=[];for(Ee=0;Ee<he.FullPaths.length;++Ee)Ke[he.FullPaths[Ee]]=!0,he.FileIndex[Ee].type!==0&&$e.push([he.FullPaths[Ee],he.FileIndex[Ee]]);for(Ee=0;Ee<$e.length;++Ee){var ut=r($e[Ee][0]);Ce=Ke[ut],Ce||($e.push([ut,{name:i(ut).replace("/",""),type:1,clsid:se,ct:Xe,mt:Xe,content:null}]),Ke[ut]=!0)}for($e.sort(function(jt,Ut){return n(jt[0],Ut[0])}),he.FullPaths=[],he.FileIndex=[],Ee=0;Ee<$e.length;++Ee)he.FullPaths[Ee]=$e[Ee][0],he.FileIndex[Ee]=$e[Ee][1];for(Ee=0;Ee<$e.length;++Ee){var Ot=he.FileIndex[Ee],Wt=he.FullPaths[Ee];if(Ot.name=i(Wt).replace("/",""),Ot.L=Ot.R=Ot.C=-(Ot.color=1),Ot.size=Ot.content?Ot.content.length:0,Ot.start=0,Ot.clsid=Ot.clsid||se,Ee===0)Ot.C=$e.length>1?1:-1,Ot.size=0,Ot.type=5;else if(Wt.slice(-1)=="/"){for(ht=Ee+1;ht<$e.length&&r(he.FullPaths[ht])!=Wt;++ht);for(Ot.C=ht>=$e.length?-1:ht,ht=Ee+1;ht<$e.length&&r(he.FullPaths[ht])!=r(Wt);++ht);Ot.R=ht>=$e.length?-1:ht,Ot.type=1}else r(he.FullPaths[Ee+1]||"")==r(Wt)&&(Ot.R=Ee+1),Ot.type=2}}}function X(he,Te){var be=Te||{};if(be.fileType=="mad")return lt(he,be);switch(H(he),be.fileType){case"zip":return Bi(he,be)}var Ce=function(jt){for(var Ut=0,Xt=0,pn=0;pn<jt.FileIndex.length;++pn){var sr=jt.FileIndex[pn];if(sr.content){var Kn=sr.content.length;Kn>0&&(Kn<4096?Ut+=Kn+63>>6:Xt+=Kn+511>>9)}}for(var dn=jt.FullPaths.length+3>>2,hr=Ut+7>>3,Vi=Ut+127>>7,Ai=hr+Xt+dn+Vi,vr=Ai+127>>7,ur=vr<=109?0:Math.ceil((vr-109)/127);Ai+vr+ur+127>>7>vr;)ur=++vr<=109?0:Math.ceil((vr-109)/127);var Pn=[1,ur,vr,Vi,dn,Xt,Ut,0];return jt.FileIndex[0].size=Ut<<6,Pn[7]=(jt.FileIndex[0].start=Pn[0]+Pn[1]+Pn[2]+Pn[3]+Pn[4]+Pn[5])+(Pn[6]+7>>3),Pn}(he),Ee=Rt(Ce[7]<<9),Fe=0,Xe=0;{for(Fe=0;Fe<8;++Fe)Ee.write_shift(1,me[Fe]);for(Fe=0;Fe<8;++Fe)Ee.write_shift(2,0);for(Ee.write_shift(2,62),Ee.write_shift(2,3),Ee.write_shift(2,65534),Ee.write_shift(2,9),Ee.write_shift(2,6),Fe=0;Fe<3;++Fe)Ee.write_shift(2,0);for(Ee.write_shift(4,0),Ee.write_shift(4,Ce[2]),Ee.write_shift(4,Ce[0]+Ce[1]+Ce[2]+Ce[3]-1),Ee.write_shift(4,0),Ee.write_shift(4,4096),Ee.write_shift(4,Ce[3]?Ce[0]+Ce[1]+Ce[2]-1:Z),Ee.write_shift(4,Ce[3]),Ee.write_shift(-4,Ce[1]?Ce[0]-1:Z),Ee.write_shift(4,Ce[1]),Fe=0;Fe<109;++Fe)Ee.write_shift(-4,Fe<Ce[2]?Ce[1]+Fe:-1)}if(Ce[1])for(Xe=0;Xe<Ce[1];++Xe){for(;Fe<236+Xe*127;++Fe)Ee.write_shift(-4,Fe<Ce[2]?Ce[1]+Fe:-1);Ee.write_shift(-4,Xe===Ce[1]-1?Z:Xe+1)}var ht=function(jt){for(Xe+=jt;Fe<Xe-1;++Fe)Ee.write_shift(-4,Fe+1);jt&&(++Fe,Ee.write_shift(-4,Z))};for(Xe=Fe=0,Xe+=Ce[1];Fe<Xe;++Fe)Ee.write_shift(-4,ue.DIFSECT);for(Xe+=Ce[2];Fe<Xe;++Fe)Ee.write_shift(-4,ue.FATSECT);ht(Ce[3]),ht(Ce[4]);for(var Ke=0,$e=0,ut=he.FileIndex[0];Ke<he.FileIndex.length;++Ke)ut=he.FileIndex[Ke],ut.content&&($e=ut.content.length,!($e<4096)&&(ut.start=Xe,ht($e+511>>9)));for(ht(Ce[6]+7>>3);Ee.l&511;)Ee.write_shift(-4,ue.ENDOFCHAIN);for(Xe=Fe=0,Ke=0;Ke<he.FileIndex.length;++Ke)ut=he.FileIndex[Ke],ut.content&&($e=ut.content.length,!(!$e||$e>=4096)&&(ut.start=Xe,ht($e+63>>6)));for(;Ee.l&511;)Ee.write_shift(-4,ue.ENDOFCHAIN);for(Fe=0;Fe<Ce[4]<<2;++Fe){var Ot=he.FullPaths[Fe];if(!Ot||Ot.length===0){for(Ke=0;Ke<17;++Ke)Ee.write_shift(4,0);for(Ke=0;Ke<3;++Ke)Ee.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)Ee.write_shift(4,0);continue}ut=he.FileIndex[Fe],Fe===0&&(ut.start=ut.size?ut.start-1:Z);var Wt=Fe===0&&be.root||ut.name;if($e=2*(Wt.length+1),Ee.write_shift(64,Wt,"utf16le"),Ee.write_shift(2,$e),Ee.write_shift(1,ut.type),Ee.write_shift(1,ut.color),Ee.write_shift(-4,ut.L),Ee.write_shift(-4,ut.R),Ee.write_shift(-4,ut.C),ut.clsid)Ee.write_shift(16,ut.clsid,"hex");else for(Ke=0;Ke<4;++Ke)Ee.write_shift(4,0);Ee.write_shift(4,ut.state||0),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(4,0),Ee.write_shift(4,ut.start),Ee.write_shift(4,ut.size),Ee.write_shift(4,0)}for(Fe=1;Fe<he.FileIndex.length;++Fe)if(ut=he.FileIndex[Fe],ut.size>=4096)if(Ee.l=ut.start+1<<9,kr&&Buffer.isBuffer(ut.content))ut.content.copy(Ee,Ee.l,0,ut.size),Ee.l+=ut.size+511&-512;else{for(Ke=0;Ke<ut.size;++Ke)Ee.write_shift(1,ut.content[Ke]);for(;Ke&511;++Ke)Ee.write_shift(1,0)}for(Fe=1;Fe<he.FileIndex.length;++Fe)if(ut=he.FileIndex[Fe],ut.size>0&&ut.size<4096)if(kr&&Buffer.isBuffer(ut.content))ut.content.copy(Ee,Ee.l,0,ut.size),Ee.l+=ut.size+63&-64;else{for(Ke=0;Ke<ut.size;++Ke)Ee.write_shift(1,ut.content[Ke]);for(;Ke&63;++Ke)Ee.write_shift(1,0)}if(kr)Ee.l=Ee.length;else for(;Ee.l<Ee.length;)Ee.write_shift(1,0);return Ee}function Q(he,Te){var be=he.FullPaths.map(function(Ke){return Ke.toUpperCase()}),Ce=be.map(function(Ke){var $e=Ke.split("/");return $e[$e.length-(Ke.slice(-1)=="/"?2:1)]}),Ee=!1;Te.charCodeAt(0)===47?(Ee=!0,Te=be[0].slice(0,-1)+Te):Ee=Te.indexOf("/")!==-1;var Fe=Te.toUpperCase(),Xe=Ee===!0?be.indexOf(Fe):Ce.indexOf(Fe);if(Xe!==-1)return he.FileIndex[Xe];var ht=!Fe.match(Eb);for(Fe=Fe.replace(cc,""),ht&&(Fe=Fe.replace(Eb,"!")),Xe=0;Xe<be.length;++Xe)if((ht?be[Xe].replace(Eb,"!"):be[Xe]).replace(cc,"")==Fe||(ht?Ce[Xe].replace(Eb,"!"):Ce[Xe]).replace(cc,"")==Fe)return he.FileIndex[Xe];return null}var U=64,Z=-2,q="d0cf11e0a1b11ae1",me=[208,207,17,224,161,177,26,225],se="00000000000000000000000000000000",ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Z,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Pe(he,Te,be){c();var Ce=X(he,be);l.writeFileSync(Te,Ce)}function ye(he){for(var Te=new Array(he.length),be=0;be<he.length;++be)Te[be]=String.fromCharCode(he[be]);return Te.join("")}function W(he,Te){var be=X(he,Te);switch(Te&&Te.type||"buffer"){case"file":return c(),l.writeFileSync(Te.filename,be),be;case"binary":return typeof be=="string"?be:ye(be);case"base64":return rS(typeof be=="string"?be:ye(be));case"buffer":if(kr)return Buffer.isBuffer(be)?be:wp(be);case"array":return typeof be=="string"?pu(be):be}return be}var re;function te(he){try{var Te=he.InflateRaw,be=new Te;if(be._processChunk(new Uint8Array([3,0]),be._finishFlushFlag),be.bytesRead)re=he;else throw new Error("zlib does not expose bytesRead")}catch(Ce){console.error("cannot use native zlib: "+(Ce.message||Ce))}}function J(he,Te){if(!re)return fi(he,Te);var be=re.InflateRaw,Ce=new be,Ee=Ce._processChunk(he.slice(he.l),Ce._finishFlushFlag);return he.l+=Ce.bytesRead,Ee}function ce(he){return re?re.deflateRawSync(he):qt(he)}var fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],De=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],at=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function je(he){var Te=(he<<1|he<<11)&139536|(he<<5|he<<15)&558144;return(Te>>16|Te>>8|Te)&255}for(var qe=typeof Uint8Array<"u",et=qe?new Uint8Array(256):[],Et=0;Et<256;++Et)et[Et]=je(Et);function Se(he,Te){var be=et[he&255];return Te<=8?be>>>8-Te:(be=be<<8|et[he>>8&255],Te<=16?be>>>16-Te:(be=be<<8|et[he>>16&255],be>>>24-Te))}function $t(he,Te){var be=Te&7,Ce=Te>>>3;return(he[Ce]|(be<=6?0:he[Ce+1]<<8))>>>be&3}function ne(he,Te){var be=Te&7,Ce=Te>>>3;return(he[Ce]|(be<=5?0:he[Ce+1]<<8))>>>be&7}function Ge(he,Te){var be=Te&7,Ce=Te>>>3;return(he[Ce]|(be<=4?0:he[Ce+1]<<8))>>>be&15}function Me(he,Te){var be=Te&7,Ce=Te>>>3;return(he[Ce]|(be<=3?0:he[Ce+1]<<8))>>>be&31}function ve(he,Te){var be=Te&7,Ce=Te>>>3;return(he[Ce]|(be<=1?0:he[Ce+1]<<8))>>>be&127}function xe(he,Te,be){var Ce=Te&7,Ee=Te>>>3,Fe=(1<<be)-1,Xe=he[Ee]>>>Ce;return be<8-Ce||(Xe|=he[Ee+1]<<8-Ce,be<16-Ce)||(Xe|=he[Ee+2]<<16-Ce,be<24-Ce)||(Xe|=he[Ee+3]<<24-Ce),Xe&Fe}function Le(he,Te,be){var Ce=Te&7,Ee=Te>>>3;return Ce<=5?he[Ee]|=(be&7)<<Ce:(he[Ee]|=be<<Ce&255,he[Ee+1]=(be&7)>>8-Ce),Te+3}function Je(he,Te,be){var Ce=Te&7,Ee=Te>>>3;return be=(be&1)<<Ce,he[Ee]|=be,Te+1}function nt(he,Te,be){var Ce=Te&7,Ee=Te>>>3;return be<<=Ce,he[Ee]|=be&255,be>>>=8,he[Ee+1]=be,Te+8}function Be(he,Te,be){var Ce=Te&7,Ee=Te>>>3;return be<<=Ce,he[Ee]|=be&255,be>>>=8,he[Ee+1]=be&255,he[Ee+2]=be>>>8,Te+16}function gt(he,Te){var be=he.length,Ce=2*be>Te?2*be:Te+5,Ee=0;if(be>=Te)return he;if(kr){var Fe=gG(Ce);if(he.copy)he.copy(Fe);else for(;Ee<he.length;++Ee)Fe[Ee]=he[Ee];return Fe}else if(qe){var Xe=new Uint8Array(Ce);if(Xe.set)Xe.set(he);else for(;Ee<be;++Ee)Xe[Ee]=he[Ee];return Xe}return he.length=Ce,he}function Mt(he){for(var Te=new Array(he),be=0;be<he;++be)Te[be]=0;return Te}function At(he,Te,be){var Ce=1,Ee=0,Fe=0,Xe=0,ht=0,Ke=he.length,$e=qe?new Uint16Array(32):Mt(32);for(Fe=0;Fe<32;++Fe)$e[Fe]=0;for(Fe=Ke;Fe<be;++Fe)he[Fe]=0;Ke=he.length;var ut=qe?new Uint16Array(Ke):Mt(Ke);for(Fe=0;Fe<Ke;++Fe)$e[Ee=he[Fe]]++,Ce<Ee&&(Ce=Ee),ut[Fe]=0;for($e[0]=0,Fe=1;Fe<=Ce;++Fe)$e[Fe+16]=ht=ht+$e[Fe-1]<<1;for(Fe=0;Fe<Ke;++Fe)ht=he[Fe],ht!=0&&(ut[Fe]=$e[ht+16]++);var Ot=0;for(Fe=0;Fe<Ke;++Fe)if(Ot=he[Fe],Ot!=0)for(ht=Se(ut[Fe],Ce)>>Ce-Ot,Xe=(1<<Ce+4-Ot)-1;Xe>=0;--Xe)Te[ht|Xe<<Ot]=Ot&15|Fe<<4;return Ce}var Ie=qe?new Uint16Array(512):Mt(512),it=qe?new Uint16Array(32):Mt(32);if(!qe){for(var yt=0;yt<512;++yt)Ie[yt]=0;for(yt=0;yt<32;++yt)it[yt]=0}(function(){for(var he=[],Te=0;Te<32;Te++)he.push(5);At(he,it,32);var be=[];for(Te=0;Te<=143;Te++)be.push(8);for(;Te<=255;Te++)be.push(9);for(;Te<=279;Te++)be.push(7);for(;Te<=287;Te++)be.push(8);At(be,Ie,288)})();var Gt=function(){for(var Te=qe?new Uint8Array(32768):[],be=0,Ce=0;be<at.length-1;++be)for(;Ce<at[be+1];++Ce)Te[Ce]=be;for(;Ce<32768;++Ce)Te[Ce]=29;var Ee=qe?new Uint8Array(259):[];for(be=0,Ce=0;be<De.length-1;++be)for(;Ce<De[be+1];++Ce)Ee[Ce]=be;function Fe(ht,Ke){for(var $e=0;$e<ht.length;){var ut=Math.min(65535,ht.length-$e),Ot=$e+ut==ht.length;for(Ke.write_shift(1,+Ot),Ke.write_shift(2,ut),Ke.write_shift(2,~ut&65535);ut-- >0;)Ke[Ke.l++]=ht[$e++]}return Ke.l}function Xe(ht,Ke){for(var $e=0,ut=0,Ot=qe?new Uint16Array(32768):[];ut<ht.length;){var Wt=Math.min(65535,ht.length-ut);if(Wt<10){for($e=Le(Ke,$e,+(ut+Wt==ht.length)),$e&7&&($e+=8-($e&7)),Ke.l=$e/8|0,Ke.write_shift(2,Wt),Ke.write_shift(2,~Wt&65535);Wt-- >0;)Ke[Ke.l++]=ht[ut++];$e=Ke.l*8;continue}$e=Le(Ke,$e,+(ut+Wt==ht.length)+2);for(var jt=0;Wt-- >0;){var Ut=ht[ut];jt=(jt<<5^Ut)&32767;var Xt=-1,pn=0;if((Xt=Ot[jt])&&(Xt|=ut&-32768,Xt>ut&&(Xt-=32768),Xt<ut))for(;ht[Xt+pn]==ht[ut+pn]&&pn<250;)++pn;if(pn>2){Ut=Ee[pn],Ut<=22?$e=nt(Ke,$e,et[Ut+1]>>1)-1:(nt(Ke,$e,3),$e+=5,nt(Ke,$e,et[Ut-23]>>5),$e+=3);var sr=Ut<8?0:Ut-4>>2;sr>0&&(Be(Ke,$e,pn-De[Ut]),$e+=sr),Ut=Te[ut-Xt],$e=nt(Ke,$e,et[Ut]>>3),$e-=3;var Kn=Ut<4?0:Ut-2>>1;Kn>0&&(Be(Ke,$e,ut-Xt-at[Ut]),$e+=Kn);for(var dn=0;dn<pn;++dn)Ot[jt]=ut&32767,jt=(jt<<5^ht[ut])&32767,++ut;Wt-=pn-1}else Ut<=143?Ut=Ut+48:$e=Je(Ke,$e,1),$e=nt(Ke,$e,et[Ut]),Ot[jt]=ut&32767,++ut}$e=nt(Ke,$e,0)-1}return Ke.l=($e+7)/8|0,Ke.l}return function(Ke,$e){return Ke.length<8?Fe(Ke,$e):Xe(Ke,$e)}}();function qt(he){var Te=Rt(50+Math.floor(he.length*1.1)),be=Gt(he,Te);return Te.slice(0,be)}var mn=qe?new Uint16Array(32768):Mt(32768),cr=qe?new Uint16Array(32768):Mt(32768),fn=qe?new Uint16Array(128):Mt(128),Pr=1,Kr=1;function xn(he,Te){var be=Me(he,Te)+257;Te+=5;var Ce=Me(he,Te)+1;Te+=5;var Ee=Ge(he,Te)+4;Te+=4;for(var Fe=0,Xe=qe?new Uint8Array(19):Mt(19),ht=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,$e=qe?new Uint8Array(8):Mt(8),ut=qe?new Uint8Array(8):Mt(8),Ot=Xe.length,Wt=0;Wt<Ee;++Wt)Xe[fe[Wt]]=Fe=ne(he,Te),Ke<Fe&&(Ke=Fe),$e[Fe]++,Te+=3;var jt=0;for($e[0]=0,Wt=1;Wt<=Ke;++Wt)ut[Wt]=jt=jt+$e[Wt-1]<<1;for(Wt=0;Wt<Ot;++Wt)(jt=Xe[Wt])!=0&&(ht[Wt]=ut[jt]++);var Ut=0;for(Wt=0;Wt<Ot;++Wt)if(Ut=Xe[Wt],Ut!=0){jt=et[ht[Wt]]>>8-Ut;for(var Xt=(1<<7-Ut)-1;Xt>=0;--Xt)fn[jt|Xt<<Ut]=Ut&7|Wt<<3}var pn=[];for(Ke=1;pn.length<be+Ce;)switch(jt=fn[ve(he,Te)],Te+=jt&7,jt>>>=3){case 16:for(Fe=3+$t(he,Te),Te+=2,jt=pn[pn.length-1];Fe-- >0;)pn.push(jt);break;case 17:for(Fe=3+ne(he,Te),Te+=3;Fe-- >0;)pn.push(0);break;case 18:for(Fe=11+ve(he,Te),Te+=7;Fe-- >0;)pn.push(0);break;default:pn.push(jt),Ke<jt&&(Ke=jt);break}var sr=pn.slice(0,be),Kn=pn.slice(be);for(Wt=be;Wt<286;++Wt)sr[Wt]=0;for(Wt=Ce;Wt<30;++Wt)Kn[Wt]=0;return Pr=At(sr,mn,286),Kr=At(Kn,cr,30),Te}function rr(he,Te){if(he[0]==3&&!(he[1]&3))return[Bg(Te),2];for(var be=0,Ce=0,Ee=gG(Te||1<<18),Fe=0,Xe=Ee.length>>>0,ht=0,Ke=0;(Ce&1)==0;){if(Ce=ne(he,be),be+=3,Ce>>>1)Ce>>1==1?(ht=9,Ke=5):(be=xn(he,be),ht=Pr,Ke=Kr);else{be&7&&(be+=8-(be&7));var $e=he[be>>>3]|he[(be>>>3)+1]<<8;if(be+=32,$e>0)for(!Te&&Xe<Fe+$e&&(Ee=gt(Ee,Fe+$e),Xe=Ee.length);$e-- >0;)Ee[Fe++]=he[be>>>3],be+=8;continue}for(;;){!Te&&Xe<Fe+32767&&(Ee=gt(Ee,Fe+32767),Xe=Ee.length);var ut=xe(he,be,ht),Ot=Ce>>>1==1?Ie[ut]:mn[ut];if(be+=Ot&15,Ot>>>=4,(Ot>>>8&255)===0)Ee[Fe++]=Ot;else{if(Ot==256)break;Ot-=257;var Wt=Ot<8?0:Ot-4>>2;Wt>5&&(Wt=0);var jt=Fe+De[Ot];Wt>0&&(jt+=xe(he,be,Wt),be+=Wt),ut=xe(he,be,Ke),Ot=Ce>>>1==1?it[ut]:cr[ut],be+=Ot&15,Ot>>>=4;var Ut=Ot<4?0:Ot-2>>1,Xt=at[Ot];for(Ut>0&&(Xt+=xe(he,be,Ut),be+=Ut),!Te&&Xe<jt&&(Ee=gt(Ee,jt+100),Xe=Ee.length);Fe<jt;)Ee[Fe]=Ee[Fe-Xt],++Fe}}}return Te?[Ee,be+7>>>3]:[Ee.slice(0,Fe),be+7>>>3]}function fi(he,Te){var be=he.slice(he.l||0),Ce=rr(be,Te);return he.l+=Ce[1],Ce[0]}function Qi(he,Te){if(he)typeof console<"u"&&console.error(Te);else throw new Error(Te)}function Ni(he,Te){var be=he;Ja(be,0);var Ce=[],Ee=[],Fe={FileIndex:Ce,FullPaths:Ee};O(Fe,{root:Te.root});for(var Xe=be.length-4;(be[Xe]!=80||be[Xe+1]!=75||be[Xe+2]!=5||be[Xe+3]!=6)&&Xe>=0;)--Xe;be.l=Xe+4,be.l+=4;var ht=be.read_shift(2);be.l+=6;var Ke=be.read_shift(4);for(be.l=Ke,Xe=0;Xe<ht;++Xe){be.l+=20;var $e=be.read_shift(4),ut=be.read_shift(4),Ot=be.read_shift(2),Wt=be.read_shift(2),jt=be.read_shift(2);be.l+=8;var Ut=be.read_shift(4),Xt=a(be.slice(be.l+Ot,be.l+Ot+Wt));be.l+=Ot+Wt+jt;var pn=be.l;be.l=Ut+4,is(be,$e,ut,Fe,Xt),be.l=pn}return Fe}function is(he,Te,be,Ce,Ee){he.l+=2;var Fe=he.read_shift(2),Xe=he.read_shift(2),ht=o(he);if(Fe&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=he.read_shift(4),$e=he.read_shift(4),ut=he.read_shift(4),Ot=he.read_shift(2),Wt=he.read_shift(2),jt="",Ut=0;Ut<Ot;++Ut)jt+=String.fromCharCode(he[he.l++]);if(Wt){var Xt=a(he.slice(he.l,he.l+Wt));(Xt[21589]||{}).mt&&(ht=Xt[21589].mt),((Ee||{})[21589]||{}).mt&&(ht=Ee[21589].mt)}he.l+=Wt;var pn=he.slice(he.l,he.l+$e);switch(Xe){case 8:pn=J(he,ut);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Xe)}var sr=!1;Fe&8&&(Ke=he.read_shift(4),Ke==134695760&&(Ke=he.read_shift(4),sr=!0),$e=he.read_shift(4),ut=he.read_shift(4)),$e!=Te&&Qi(sr,"Bad compressed size: "+Te+" != "+$e),ut!=be&&Qi(sr,"Bad uncompressed size: "+be+" != "+ut),Dt(Ce,jt,pn,{unsafe:!0,mt:ht})}function Bi(he,Te){var be=Te||{},Ce=[],Ee=[],Fe=Rt(1),Xe=be.compression?8:0,ht=0,Ke=0,$e=0,ut=0,Ot=0,Wt=he.FullPaths[0],jt=Wt,Ut=he.FileIndex[0],Xt=[],pn=0;for(Ke=1;Ke<he.FullPaths.length;++Ke)if(jt=he.FullPaths[Ke].slice(Wt.length),Ut=he.FileIndex[Ke],!(!Ut.size||!Ut.content||jt=="Sh33tJ5")){var sr=ut,Kn=Rt(jt.length);for($e=0;$e<jt.length;++$e)Kn.write_shift(1,jt.charCodeAt($e)&127);Kn=Kn.slice(0,Kn.l),Xt[Ot]=oHe.buf(Ut.content,0);var dn=Ut.content;Xe==8&&(dn=ce(dn)),Fe=Rt(30),Fe.write_shift(4,67324752),Fe.write_shift(2,20),Fe.write_shift(2,ht),Fe.write_shift(2,Xe),Ut.mt?s(Fe,Ut.mt):Fe.write_shift(4,0),Fe.write_shift(-4,Xt[Ot]),Fe.write_shift(4,dn.length),Fe.write_shift(4,Ut.content.length),Fe.write_shift(2,Kn.length),Fe.write_shift(2,0),ut+=Fe.length,Ce.push(Fe),ut+=Kn.length,Ce.push(Kn),ut+=dn.length,Ce.push(dn),Fe=Rt(46),Fe.write_shift(4,33639248),Fe.write_shift(2,0),Fe.write_shift(2,20),Fe.write_shift(2,ht),Fe.write_shift(2,Xe),Fe.write_shift(4,0),Fe.write_shift(-4,Xt[Ot]),Fe.write_shift(4,dn.length),Fe.write_shift(4,Ut.content.length),Fe.write_shift(2,Kn.length),Fe.write_shift(2,0),Fe.write_shift(2,0),Fe.write_shift(2,0),Fe.write_shift(2,0),Fe.write_shift(4,0),Fe.write_shift(4,sr),pn+=Fe.l,Ee.push(Fe),pn+=Kn.length,Ee.push(Kn),++Ot}return Fe=Rt(22),Fe.write_shift(4,101010256),Fe.write_shift(2,0),Fe.write_shift(2,0),Fe.write_shift(2,Ot),Fe.write_shift(2,Ot),Fe.write_shift(4,pn),Fe.write_shift(4,ut),Fe.write_shift(2,0),ka([ka(Ce),ka(Ee),Fe])}var gs={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function As(he,Te){if(he.ctype)return he.ctype;var be=he.name||"",Ce=be.match(/\.([^\.]+)$/);return Ce&&gs[Ce[1]]||Te&&(Ce=(be=Te).match(/[\.\\]([^\.\\])+$/),Ce&&gs[Ce[1]])?gs[Ce[1]]:"application/octet-stream"}function da(he){for(var Te=rS(he),be=[],Ce=0;Ce<Te.length;Ce+=76)be.push(Te.slice(Ce,Ce+76));return be.join(`\r
`)+`\r
`}function qo(he){var Te=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function($e){var ut=$e.charCodeAt(0).toString(16).toUpperCase();return"="+(ut.length==1?"0"+ut:ut)});Te=Te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Te.charAt(0)==`
`&&(Te="=0D"+Te.slice(1)),Te=Te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var be=[],Ce=Te.split(`\r
`),Ee=0;Ee<Ce.length;++Ee){var Fe=Ce[Ee];if(Fe.length==0){be.push("");continue}for(var Xe=0;Xe<Fe.length;){var ht=76,Ke=Fe.slice(Xe,Xe+ht);Ke.charAt(ht-1)=="="?ht--:Ke.charAt(ht-2)=="="?ht-=2:Ke.charAt(ht-3)=="="&&(ht-=3),Ke=Fe.slice(Xe,Xe+ht),Xe+=ht,Xe<Fe.length&&(Ke+="="),be.push(Ke)}}return be.join(`\r
`)}function Ci(he){for(var Te=[],be=0;be<he.length;++be){for(var Ce=he[be];be<=he.length&&Ce.charAt(Ce.length-1)=="=";)Ce=Ce.slice(0,Ce.length-1)+he[++be];Te.push(Ce)}for(var Ee=0;Ee<Te.length;++Ee)Te[Ee]=Te[Ee].replace(/[=][0-9A-Fa-f]{2}/g,function(Fe){return String.fromCharCode(parseInt(Fe.slice(1),16))});return pu(Te.join(`\r
`))}function Ne(he,Te,be){for(var Ce="",Ee="",Fe="",Xe,ht=0;ht<10;++ht){var Ke=Te[ht];if(!Ke||Ke.match(/^\s*$/))break;var $e=Ke.match(/^(.*?):\s*([^\s].*)$/);if($e)switch($e[1].toLowerCase()){case"content-location":Ce=$e[2].trim();break;case"content-type":Fe=$e[2].trim();break;case"content-transfer-encoding":Ee=$e[2].trim();break}}switch(++ht,Ee.toLowerCase()){case"base64":Xe=pu(ku(Te.slice(ht).join("")));break;case"quoted-printable":Xe=Ci(Te.slice(ht));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ee)}var ut=Dt(he,Ce.slice(be.length),Xe,{unsafe:!0});Fe&&(ut.ctype=Fe)}function Qe(he,Te){if(ye(he.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var be=Te&&Te.root||"",Ce=(kr&&Buffer.isBuffer(he)?he.toString("binary"):ye(he)).split(`\r
`),Ee=0,Fe="";for(Ee=0;Ee<Ce.length;++Ee)if(Fe=Ce[Ee],!!/^Content-Location:/i.test(Fe)&&(Fe=Fe.slice(Fe.indexOf("file")),be||(be=Fe.slice(0,Fe.lastIndexOf("/")+1)),Fe.slice(0,be.length)!=be))for(;be.length>0&&(be=be.slice(0,be.length-1),be=be.slice(0,be.lastIndexOf("/")+1),Fe.slice(0,be.length)!=be););var Xe=(Ce[1]||"").match(/boundary="(.*?)"/);if(!Xe)throw new Error("MAD cannot find boundary");var ht="--"+(Xe[1]||""),Ke=[],$e=[],ut={FileIndex:Ke,FullPaths:$e};O(ut);var Ot,Wt=0;for(Ee=0;Ee<Ce.length;++Ee){var jt=Ce[Ee];jt!==ht&&jt!==ht+"--"||(Wt++&&Ne(ut,Ce.slice(Ot,Ee),be),Ot=Ee)}return ut}function lt(he,Te){var be=Te||{},Ce=be.boundary||"SheetJS";Ce="------="+Ce;for(var Ee=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Ce.slice(2)+'"',"","",""],Fe=he.FullPaths[0],Xe=Fe,ht=he.FileIndex[0],Ke=1;Ke<he.FullPaths.length;++Ke)if(Xe=he.FullPaths[Ke].slice(Fe.length),ht=he.FileIndex[Ke],!(!ht.size||!ht.content||Xe=="Sh33tJ5")){Xe=Xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pn){return"_x"+pn.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pn){return"_u"+pn.charCodeAt(0).toString(16)+"_"});for(var $e=ht.content,ut=kr&&Buffer.isBuffer($e)?$e.toString("binary"):ye($e),Ot=0,Wt=Math.min(1024,ut.length),jt=0,Ut=0;Ut<=Wt;++Ut)(jt=ut.charCodeAt(Ut))>=32&&jt<128&&++Ot;var Xt=Ot>=Wt*4/5;Ee.push(Ce),Ee.push("Content-Location: "+(be.root||"file:///C:/SheetJS/")+Xe),Ee.push("Content-Transfer-Encoding: "+(Xt?"quoted-printable":"base64")),Ee.push("Content-Type: "+As(ht,Xe)),Ee.push(""),Ee.push(Xt?qo(ut):da(ut))}return Ee.push(Ce+`--\r
`),Ee.join(`\r
`)}function Pt(he){var Te={};return O(Te,he),Te}function Dt(he,Te,be,Ce){var Ee=Ce&&Ce.unsafe;Ee||O(he);var Fe=!Ee&&Hn.find(he,Te);if(!Fe){var Xe=he.FullPaths[0];Te.slice(0,Xe.length)==Xe?Xe=Te:(Xe.slice(-1)!="/"&&(Xe+="/"),Xe=(Xe+Te).replace("//","/")),Fe={name:i(Te),type:2},he.FileIndex.push(Fe),he.FullPaths.push(Xe),Ee||Hn.utils.cfb_gc(he)}return Fe.content=be,Fe.size=be?be.length:0,Ce&&(Ce.CLSID&&(Fe.clsid=Ce.CLSID),Ce.mt&&(Fe.mt=Ce.mt),Ce.ct&&(Fe.ct=Ce.ct)),Fe}function ln(he,Te){O(he);var be=Hn.find(he,Te);if(be){for(var Ce=0;Ce<he.FileIndex.length;++Ce)if(he.FileIndex[Ce]==be)return he.FileIndex.splice(Ce,1),he.FullPaths.splice(Ce,1),!0}return!1}function an(he,Te,be){O(he);var Ce=Hn.find(he,Te);if(Ce){for(var Ee=0;Ee<he.FileIndex.length;++Ee)if(he.FileIndex[Ee]==Ce)return he.FileIndex[Ee].name=i(be),he.FullPaths[Ee]=be,!0}return!1}function Tt(he){H(he,!0)}return t.find=Q,t.read=M,t.parse=u,t.write=W,t.writeFile=Pe,t.utils={cfb_new:Pt,cfb_add:Dt,cfb_del:ln,cfb_mov:an,cfb_gc:Tt,ReadShift:$b,CheckField:Zee,prep_blob:Ja,bconcat:ka,use_zlib:te,_deflateRaw:qt,_inflateRaw:fi,consts:ue},t}();function aHe(e){return typeof e=="string"?KA(e):Array.isArray(e)?I6e(e):e}function _1(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=KA(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?Kh(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var i=new Blob([aHe(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=nm(t)),a.write(t),a.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function lHe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function lo(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function SG(e,t){for(var n=[],r=lo(e),i=0;i!==r.length;++i)n[e[r[i]][t]]==null&&(n[e[r[i]][t]]=r[i]);return n}function XA(e){for(var t=[],n=lo(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function ZA(e){for(var t=[],n=lo(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function cHe(e){for(var t=[],n=lo(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var fR=new Date(1899,11,30,0,0,0);function ua(e,t){var n=e.getTime(),r=fR.getTime()+(e.getTimezoneOffset()-fR.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var Aee=new Date,uHe=fR.getTime()+(Aee.getTimezoneOffset()-fR.getTimezoneOffset())*6e4,_G=Aee.getTimezoneOffset();function qA(e){var t=new Date;return t.setTime(e*24*60*60*1e3+uHe),t.getTimezoneOffset()!==_G&&t.setTime(t.getTime()+(t.getTimezoneOffset()-_G)*6e4),t}function dHe(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[s],10)}return t}var EG=new Date("2017-02-19T19:06:09.000Z"),kee=isNaN(EG.getFullYear())?new Date("2/19/17"):EG,hHe=kee.getFullYear()==2017;function Es(e,t){var n=new Date(e);if(hHe)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(kee.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function L0(e,t){if(kr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Kh(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Kh(mee(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Kh(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Kh(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function Ts(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Ts(e[n]));return t}function io(e,t){for(var n="";n.length<t;)n+=e;return n}function rh(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var fHe=["january","february","march","april","may","june","july","august","september","october","november","december"];function vw(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&fHe.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var pHe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],a=1;a<s.length;++a)o.push(i),o.push(s[a]);return o}}();function Pee(e){return e?e.content&&e.type?L0(e.content,!0):e.data?_b(e.data):e.asNodeBuffer&&kr?_b(e.asNodeBuffer().toString("binary")):e.asBinary?_b(e.asBinary()):e._data&&e._data.getContent?_b(L0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function Dee(e){if(!e)return null;if(e.data)return fG(e.data);if(e.asNodeBuffer&&kr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?fG(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function gHe(e){return e&&e.name.slice(-4)===".bin"?Dee(e):Pee(e)}function id(e,t){for(var n=e.FullPaths||lo(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return e.files?e.files[n[s]]:e.FileIndex[s]}return null}function JN(e,t){var n=id(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function Go(e,t,n){if(!n)return gHe(JN(e,t));if(!t)return null;try{return Go(e,t)}catch{return null}}function gu(e,t,n){if(!n)return Pee(JN(e,t));if(!t)return null;try{return gu(e,t)}catch{return null}}function mHe(e,t,n){return Dee(JN(e,t))}function TG(e){for(var t=e.FullPaths||lo(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function Sr(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return kr?r=wp(n):r=M6e(n),Hn.utils.cfb_add(e,t,r)}Hn.utils.cfb_add(e,t,n)}else e.file(t,n)}function $N(){return Hn.utils.cfb_new()}function Fee(e,t){switch(t.type){case"base64":return Hn.read(e,{type:"base64"});case"binary":return Hn.read(e,{type:"binary"});case"buffer":case"array":return Hn.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Tb(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var Ao=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,vHe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,RG=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,yHe=/<[^>]*>/g,Gl=Ao.match(RG)?RG:yHe,wHe=/<\w*:/,CHe=/<(\/?)\w+:/;function nr(e,t,n){for(var r={},i=0,s=0;i!==e.length&&!((s=e.charCodeAt(i))===32||s===10||s===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var o=e.match(vHe),a=0,l="",c=0,u="",h="",p=1;if(o)for(c=0;c!=o.length;++c){for(h=o[c],s=0;s!=h.length&&h.charCodeAt(s)!==61;++s);for(u=h.slice(0,s).trim();h.charCodeAt(s+1)==32;)++s;for(p=(i=h.charCodeAt(s+1))==34||i==39?1:0,l=h.slice(s+1+p,h.length-p),a=0;a!=u.length&&u.charCodeAt(a)!==58;++a);if(a===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),r[u]=l,r[u.toLowerCase()]=l;else{var m=(a===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(a+1);if(r[m]&&u.slice(a-3,a)=="ext")continue;r[m]=l,r[m.toLowerCase()]=l}}return r}function xf(e){return e.replace(CHe,"<$1")}var Iee={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},e4=XA(Iee),si=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(e,function(a,l){return Iee[a]||String.fromCharCode(parseInt(l,a.indexOf("x")>-1?16:10))||a}).replace(t,function(a,l){return String.fromCharCode(parseInt(l,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}}(),t4=/[&<>'"]/g,bHe=/[\u0000-\u0008\u000b-\u001f]/g;function Li(e){var t=e+"";return t.replace(t4,function(n){return e4[n]}).replace(bHe,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function AG(e){return Li(e).replace(/ /g,"_x0020_")}var Mee=/[\u0000-\u001f]/g;function n4(e){var t=e+"";return t.replace(t4,function(n){return e4[n]}).replace(/\n/g,"<br/>").replace(Mee,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function xHe(e){var t=e+"";return t.replace(t4,function(n){return e4[n]}).replace(Mee,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}var kG=function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}}();function SHe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function xs(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function VD(e){for(var t="",n=0,r=0,i=0,s=0,o=0,a=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=e.charCodeAt(n++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(a&1023))}return t}function PG(e){var t=Bg(2*e.length),n,r,i=1,s=0,o=0,a;for(r=0;r<e.length;r+=i)i=1,(a=e.charCodeAt(r))<128?n=a:a<224?(n=(a&31)*64+(e.charCodeAt(r+1)&63),i=2):a<240?(n=(a&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(a&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(t[s++]=o&255,t[s++]=o>>>8,o=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function DG(e){return wp(e,"binary").toString("utf8")}var K_="foo bar baz",Zi=kr&&(DG(K_)==VD(K_)&&DG||PG(K_)==VD(K_)&&PG)||VD,Kh=kr?function(e){return wp(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},sS=function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}}(),Oee=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}}(),_He=function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}}(),EHe=/<\/?(?:vt:)?variant>/g,THe=/<(?:vt:)([^>]*)>([\s\S]*)</;function FG(e,t){var n=nr(e),r=e.match(_He(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(EHe,"").match(THe);o&&i.push({v:Zi(o[2]),t:o[1]})}),i}var Lee=/(^\s|\s$|\n)/;function tl(e,t){return"<"+e+(t.match(Lee)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function oS(e){return lo(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function tn(e,t,n){return"<"+e+(n!=null?oS(n):"")+(t!=null?(t.match(Lee)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function AI(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function RHe(e,t){switch(typeof e){case"string":var n=tn("vt:lpwstr",Li(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return tn((e|0)==e?"vt:i4":"vt:r8",Li(String(e)));case"boolean":return tn("vt:bool",e?"true":"false")}if(e instanceof Date)return tn("vt:filetime",AI(e));throw new Error("Unable to serialize "+e)}function r4(e){if(kr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Zi(nm(ZN(e)));throw new Error("Bad input format: expected Buffer or string")}var aS=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,la={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ov=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],uu={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function AHe(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,s=5;s>=0;--s)i=i*256+e[t+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function kHe(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,s=0,o=r?-t:t;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(t)?26985:0);for(var a=0;a<=5;++a,s/=256)e[n+a]=s&255;e[n+6]=(i&15)<<4|s&15,e[n+7]=i>>4|r}var IG=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,s=e[0][r].length;i<s;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},MG=kr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:wp(t)})):IG(e)}:IG,OG=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Wf(e,i)));return r.join("").replace(cc,"")},i4=kr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(cc,""):OG(e,t,n)}:OG,LG=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},Nee=kr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):LG(e,t,n)}:LG,NG=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(ay(e,i)));return r.join("")},E1=kr?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):NG(t,n,r)}:NG,Bee=function(e,t){var n=du(e,t);return n>0?E1(e,t+4,t+4+n-1):""},Vee=Bee,Hee=function(e,t){var n=du(e,t);return n>0?E1(e,t+4,t+4+n-1):""},zee=Hee,Gee=function(e,t){var n=2*du(e,t);return n>0?E1(e,t+4,t+4+n-1):""},Uee=Gee,Wee=function(t,n){var r=du(t,n);return r>0?i4(t,n+4,n+4+r):""},jee=Wee,Kee=function(e,t){var n=du(e,t);return n>0?E1(e,t+4,t+4+n):""},Yee=Kee,Xee=function(e,t){return AHe(e,t)},pR=Xee,s4=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};kr&&(Vee=function(t,n){if(!Buffer.isBuffer(t))return Bee(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},zee=function(t,n){if(!Buffer.isBuffer(t))return Hee(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},Uee=function(t,n){if(!Buffer.isBuffer(t))return Gee(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},jee=function(t,n){if(!Buffer.isBuffer(t))return Wee(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},Yee=function(t,n){if(!Buffer.isBuffer(t))return Kee(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},pR=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):Xee(t,n)},s4=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var ay=function(e,t){return e[t]},Wf=function(e,t){return e[t+1]*256+e[t]},PHe=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},du=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Gm=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},DHe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function $b(e,t){var n="",r,i,s=[],o,a,l,c;switch(t){case"dbcs":if(c=this.l,kr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)n+=String.fromCharCode(Wf(this,c)),c+=2;e*=2;break;case"utf8":n=E1(this,this.l,this.l+e);break;case"utf16le":e*=2,n=i4(this,this.l,this.l+e);break;case"wstr":return $b.call(this,e,"dbcs");case"lpstr-ansi":n=Vee(this,this.l),e=4+du(this,this.l);break;case"lpstr-cp":n=zee(this,this.l),e=4+du(this,this.l);break;case"lpwstr":n=Uee(this,this.l),e=4+2*du(this,this.l);break;case"lpp4":e=4+du(this,this.l),n=jee(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+du(this,this.l),n=Yee(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(o=ay(this,this.l+e++))!==0;)s.push(j_(o));n=s.join("");break;case"_wstr":for(e=0,n="";(o=Wf(this,this.l+e))!==0;)s.push(j_(o)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=ay(this,c),this.l=c+1,a=$b.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(j_(Wf(this,c))),c+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return o=ay(this,c),this.l=c+1,a=$b.call(this,e-l,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(j_(ay(this,c))),c+=1}n=s.join("");break;default:switch(e){case 1:return r=ay(this,this.l),this.l++,r;case 2:return r=(t==="i"?PHe:Wf)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?Gm:DHe)(this,this.l),this.l+=4,r):(i=du(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=pR(this,this.l):i=pR([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=Nee(this,this.l,e);break}}return this.l+=e,n}var FHe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},IHe=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},MHe=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function OHe(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)MHe(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,FHe(this,t,this.l);break;case 8:if(r=8,n==="f"){kHe(this,t,this.l);break}case 16:break;case-4:r=4,IHe(this,t,this.l);break}return this.l+=r,this}function Zee(e,t){var n=Nee(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Ja(e,t){e.l=t,e.read_shift=$b,e.chk=Zee,e.write_shift=OHe}function Vl(e,t){e.l+=t}function Rt(e){var t=Bg(e);return Ja(t,0),t}function Cp(e,t,n){if(e){var r,i,s;Ja(e,e.l||0);for(var o=e.length,a=0,l=0;e.l<o;){a=e.read_shift(1),a&128&&(a=(a&127)+((e.read_shift(1)&127)<<7));var c=fS[a]||fS[65535];for(r=e.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=e.read_shift(1))&127)<<7*i;l=e.l+s;var u=c.f&&c.f(e,s,n);if(e.l=l,t(u,c,a))return}}}function Fc(){var e=[],t=kr?256:2048,n=function(c){var u=Rt(c);return Ja(u,0),u},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,t)))},o=function(){return i(),ka(e)},a=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:a,end:o,_bufs:e}}function Ht(e,t,n,r){var i=+t,s;if(!isNaN(i)){r||(r=fS[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=e.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&s4(n)&&e.push(n)}}function ex(e,t,n){var r=Ts(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function BG(e,t,n){var r=Ts(e);return r.s=ex(r.s,t.s,n),r.e=ex(r.e,t.s,n),r}function tx(e,t){if(e.cRel&&e.c<0)for(e=Ts(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ts(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Jn(e);return!e.cRel&&e.cRel!=null&&(n=BHe(n)),!e.rRel&&e.rRel!=null&&(n=LHe(n)),n}function HD(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Gs(e.s.c)+":"+(e.e.cRel?"":"$")+Gs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Ro(e.s.r)+":"+(e.e.rRel?"":"$")+Ro(e.e.r):tx(e.s,t.biff)+":"+tx(e.e,t.biff)}function o4(e){return parseInt(NHe(e),10)-1}function Ro(e){return""+(e+1)}function LHe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function NHe(e){return e.replace(/\$(\d+)$/,"$1")}function a4(e){for(var t=VHe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Gs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function BHe(e){return e.replace(/^([A-Z])/,"$$$1")}function VHe(e){return e.replace(/^\$([A-Z])/,"$1")}function HHe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Us(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function Jn(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Lc(e){var t=e.indexOf(":");return t==-1?{s:Us(e),e:Us(e)}:{s:Us(e.slice(0,t)),e:Us(e.slice(t+1))}}function wr(e,t){return typeof t>"u"||typeof t=="number"?wr(e.s,e.e):(typeof e!="string"&&(e=Jn(e)),typeof t!="string"&&(t=Jn(t)),e==t?e:e+":"+t)}function oi(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=e.length;for(n=0;r<s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===s||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=s&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function VG(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ed(e.z,n?ua(t):t)}catch{}try{return e.w=Ed((e.XF||{}).numFmtId||(n?14:0),n?ua(t):t)}catch{return""+t}}function pp(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?bp[e.v]||e.v:t==null?VG(e,e.v):VG(e,t))}function rm(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function qee(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,s=e||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Us(r.origin):r.origin;o=l.r,a=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=oi(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),o==-1&&(c.e.r=o=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[h].length;++p)if(!(typeof t[h][p]>"u")){var m={v:t[h][p]},y=o+h,w=a+p;if(c.s.r>y&&(c.s.r=y),c.s.c>w&&(c.s.c=w),c.e.r<y&&(c.e.r=y),c.e.c<w&&(c.e.c=w),t[h][p]&&typeof t[h][p]=="object"&&!Array.isArray(t[h][p])&&!(t[h][p]instanceof Date))m=t[h][p];else if(Array.isArray(m.v)&&(m.f=t[h][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||Xn[14],r.cellDates?(m.t="d",m.w=Ed(m.z,ua(m.v))):(m.t="n",m.v=ua(m.v),m.w=Ed(m.z,m.v))):m.t="s";if(i)s[y]||(s[y]=[]),s[y][w]&&s[y][w].z&&(m.z=s[y][w].z),s[y][w]=m;else{var b=Jn({c:w,r:y});s[b]&&s[b].z&&(m.z=s[b].z),s[b]=m}}}return c.s.c<1e7&&(s["!ref"]=wr(c)),s}function Kw(e,t){return qee(null,e,t)}function zHe(e){return e.read_shift(4,"i")}function ih(e,t){return t||(t=Rt(4)),t.write_shift(4,e),t}function Ol(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Pa(e,t){var n=!1;return t==null&&(n=!0,t=Rt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function GHe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function UHe(e,t){return t||(t=Rt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function l4(e,t){var n=e.l,r=e.read_shift(1),i=Ol(e),s=[],o={t:i,h:i};if((r&1)!==0){for(var a=e.read_shift(4),l=0;l!=a;++l)s.push(GHe(e));o.r=s}else o.r=[{ich:0,ifnt:0}];return e.l=n+t,o}function WHe(e,t){var n=!1;return t==null&&(n=!0,t=Rt(15+4*e.t.length)),t.write_shift(1,0),Pa(e.t,t),n?t.slice(0,t.l):t}var jHe=l4;function KHe(e,t){var n=!1;return t==null&&(n=!0,t=Rt(23+4*e.t.length)),t.write_shift(1,1),Pa(e.t,t),t.write_shift(4,1),UHe({},t),n?t.slice(0,t.l):t}function Ad(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function av(e,t){return t==null&&(t=Rt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function lv(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function cv(e,t){return t==null&&(t=Rt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var YHe=Ol,Qee=Pa;function c4(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function gR(e,t){var n=!1;return t==null&&(n=!0,t=Rt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var XHe=Ol,kI=c4,u4=gR;function d4(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?pR([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Gm(t,0)>>2;return n?i/100:i}function Jee(e,t){t==null&&(t=Rt(4));var n=0,r=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?i:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function $ee(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function ZHe(e,t){return t||(t=Rt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var uv=$ee,Yw=ZHe;function Il(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function N0(e,t){return(t||Rt(8)).write_shift(8,e,"f")}function qHe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),s=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),l=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var c=h0[i];c&&(t.rgb=cS(c));break;case 2:t.rgb=cS([o,a,l]);break;case 3:t.theme=i;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function mR(e,t){if(t||(t=Rt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function QHe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function JHe(e,t){t||(t=Rt(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}function ete(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function $He(e){return ete(e,1)}function eze(e){return ete(e,2)}var h4=2,Sc=3,Y_=11,HG=12,vR=19,X_=64,tze=65,nze=71,rze=4108,ize=4126,Ta=80,tte=81,sze=[Ta,tte],PI={1:{n:"CodePage",t:h4},2:{n:"Category",t:Ta},3:{n:"PresentationFormat",t:Ta},4:{n:"ByteCount",t:Sc},5:{n:"LineCount",t:Sc},6:{n:"ParagraphCount",t:Sc},7:{n:"SlideCount",t:Sc},8:{n:"NoteCount",t:Sc},9:{n:"HiddenCount",t:Sc},10:{n:"MultimediaClipCount",t:Sc},11:{n:"ScaleCrop",t:Y_},12:{n:"HeadingPairs",t:rze},13:{n:"TitlesOfParts",t:ize},14:{n:"Manager",t:Ta},15:{n:"Company",t:Ta},16:{n:"LinksUpToDate",t:Y_},17:{n:"CharacterCount",t:Sc},19:{n:"SharedDoc",t:Y_},22:{n:"HyperlinksChanged",t:Y_},23:{n:"AppVersion",t:Sc,p:"version"},24:{n:"DigSig",t:tze},26:{n:"ContentType",t:Ta},27:{n:"ContentStatus",t:Ta},28:{n:"Language",t:Ta},29:{n:"Version",t:Ta},255:{},2147483648:{n:"Locale",t:vR},2147483651:{n:"Behavior",t:vR},1919054434:{}},DI={1:{n:"CodePage",t:h4},2:{n:"Title",t:Ta},3:{n:"Subject",t:Ta},4:{n:"Author",t:Ta},5:{n:"Keywords",t:Ta},6:{n:"Comments",t:Ta},7:{n:"Template",t:Ta},8:{n:"LastAuthor",t:Ta},9:{n:"RevNumber",t:Ta},10:{n:"EditTime",t:X_},11:{n:"LastPrinted",t:X_},12:{n:"CreatedDate",t:X_},13:{n:"ModifiedDate",t:X_},14:{n:"PageCount",t:Sc},15:{n:"WordCount",t:Sc},16:{n:"CharCount",t:Sc},17:{n:"Thumbnail",t:nze},18:{n:"Application",t:Ta},19:{n:"DocSecurity",t:Sc},255:{},2147483648:{n:"Locale",t:vR},2147483651:{n:"Behavior",t:vR},1919054434:{}},zG={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},oze=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function aze(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var lze=aze([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),h0=Ts(lze),bp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},nte={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},FI={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Z_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function f4(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cze(e){var t=f4();if(!e||!e.match)return t;var n={};if((e.match(Gl)||[]).forEach(function(r){var i=nr(r);switch(i[0].replace(wHe,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[FI[i.ContentType]]!==void 0&&t[FI[i.ContentType]].push(i.PartName);break}}),t.xmlns!==la.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}function rte(e,t){var n=cHe(FI),r=[],i;r[r.length]=Ao,r[r.length]=tn("Types",null,{xmlns:la.CT,"xmlns:xsd":la.xsd,"xmlns:xsi":la.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return tn("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){e[l]&&e[l].length>0&&(i=e[l][0],r[r.length]=tn("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Z_[l][t.bookType]||Z_[l].xlsx}))},o=function(l){(e[l]||[]).forEach(function(c){r[r.length]=tn("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Z_[l][t.bookType]||Z_[l].xlsx})})},a=function(l){(e[l]||[]).forEach(function(c){r[r.length]=tn("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Or={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function lS(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function nx(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(Gl)||[]).forEach(function(i){var s=nr(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var a=s.TargetMode==="External"?s.Target:Tb(s.Target,t);n[a]=o,r[s.Id]=o}}),n["!id"]=r,n}function By(e){var t=[Ao,tn("Relationships",null,{xmlns:la.RELS})];return lo(e["!id"]).forEach(function(n){t[t.length]=tn("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Oi(e,t,n,r,i,s){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,[Or.HLINK,Or.XPATH,Or.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var uze="application/vnd.oasis.opendocument.spreadsheet";function dze(e,t){for(var n=r4(e),r,i;r=aS.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=nr(r[0],!1),i.path=="/"&&i.type!==uze)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}function hze(e){var t=[Ao];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function GG(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function fze(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function pze(e){var t=[Ao];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(GG(e[n][0],e[n][1])),t.push(fze("",e[n][0]));return t.push(GG("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function ite(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+cR.version+"</meta:generator></office:meta></office:document-meta>"}var md=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],gze=function(){for(var e=new Array(md.length),t=0;t<md.length;++t){var n=md[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e}();function ste(e){var t={};e=Zi(e);for(var n=0;n<md.length;++n){var r=md[n],i=e.match(gze[n]);i!=null&&i.length>0&&(t[r[1]]=si(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=Es(t[r[1]]))}return t}function zD(e,t,n,r,i){i[e]!=null||t==null||t===""||(i[e]=t,t=Li(t),r[r.length]=n?tn(e,t,n):tl(e,t))}function ote(e,t){var n=t||{},r=[Ao,tn("cp:coreProperties",null,{"xmlns:cp":la.CORE_PROPS,"xmlns:dc":la.dc,"xmlns:dcterms":la.dcterms,"xmlns:dcmitype":la.dcmitype,"xmlns:xsi":la.xsi})],i={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&zD("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:AI(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),e.ModifiedDate!=null&&zD("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:AI(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=md.length;++s){var o=md[s],a=n.Props&&n.Props[o[1]]!=null?n.Props[o[1]]:e?e[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&zD(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var f0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ate=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function lte(e,t,n,r){var i=[];if(typeof e=="string")i=FG(e,r);else for(var s=0;s<e.length;++s)i=i.concat(e[s].map(function(u){return{v:u}}));var o=typeof t=="string"?FG(t,r).map(function(u){return u.v}):t,a=0,l=0;if(o.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=l,n.SheetNames=o.slice(a,a+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=l,n.DefinedNames=o.slice(a,a+l);break;case"Charts":case"Diagramme":n.Chartsheets=l,n.ChartNames=o.slice(a,a+l);break}a+=l}}function mze(e,t,n){var r={};return t||(t={}),e=Zi(e),f0.forEach(function(i){var s=(e.match(sS(i[0]))||[])[1];switch(i[2]){case"string":s&&(t[i[1]]=si(s));break;case"bool":t[i[1]]=s==="true";break;case"raw":var o=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&lte(r.HeadingPairs,r.TitlesOfParts,t,n),t}function cte(e){var t=[],n=tn;return e||(e={}),e.Application="SheetJS",t[t.length]=Ao,t[t.length]=tn("Properties",null,{xmlns:la.EXT_PROPS,"xmlns:vt":la.vt}),f0.forEach(function(r){if(e[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Li(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false";break}i!==void 0&&(t[t.length]=n(r[0],i))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+Li(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var vze=/<[^>]+>[^<]*/g;function yze(e,t){var n={},r="",i=e.match(vze);if(i)for(var s=0;s!=i.length;++s){var o=i[s],a=nr(o);switch(a[0]){case"<?xml":break;case"<Properties":break;case"<property":r=si(a.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var l=o.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=si(u);break;case"bool":n[r]=xs(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(u,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(u);break;case"filetime":case"date":n[r]=Es(u);break;case"cy":case"error":n[r]=si(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,l)}}else if(o.slice(0,2)!=="</"){if(t.WTF)throw new Error(o)}}}return n}function ute(e){var t=[Ao,tn("Properties",null,{xmlns:la.CUST_PROPS,"xmlns:vt":la.vt})];if(!e)return t.join("");var n=1;return lo(e).forEach(function(i){++n,t[t.length]=tn("property",RHe(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Li(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var II={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},GD;function wze(e,t,n){GD||(GD=XA(II)),t=GD[t]||t,e[t]=n}function Cze(e,t){var n=[];return lo(II).map(function(r){for(var i=0;i<md.length;++i)if(md[i][1]==r)return md[i];for(i=0;i<f0.length;++i)if(f0[i][1]==r)return f0[i];throw r}).forEach(function(r){if(e[r[1]]!=null){var i=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(tl(II[r[1]]||r[1],i))}}),tn("DocumentProperties",n.join(""),{xmlns:uu.o})}function bze(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&lo(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var o=0;o<md.length;++o)if(s==md[o][1])return;for(o=0;o<f0.length;++o)if(s==f0[o][1])return;for(o=0;o<n.length;++o)if(s==n[o])return;var a=e[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a=String(a),i.push(tn(AG(s),a,{"dt:dt":l}))}}),t&&lo(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var o=t[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(tn(AG(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+uu.o+'">'+i.join("")+"</"+r+">"}function p4(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function xze(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=Rt(8);return o.write_shift(4,r),o.write_shift(4,i),o}function dte(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function hte(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function fte(e,t,n){return t===31?hte(e):dte(e,t,n)}function MI(e,t,n){return fte(e,t,n===!1?0:4)}function Sze(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return fte(e,t,0)}function _ze(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace(cc,""),e.l-i&2&&(e.l+=2)}return n}function Eze(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace(cc,"");return n}function Tze(e){var t=e.l,n=yR(e,tte);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=yR(e,Sc);return[n,r]}function Rze(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push(Tze(e));return n}function UG(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var s=e.read_shift(4),o=e.read_shift(4);r[s]=e.read_shift(o,t===1200?"utf16le":"utf8").replace(cc,"").replace(Eb,"!"),t===1200&&o%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function pte(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function Aze(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function yR(e,t,n){var r=e.read_shift(2),i,s=n||{};if(e.l+=2,t!==HG&&r!==t&&sze.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===HG?r:t){case 2:return i=e.read_shift(2,"i"),s.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return dte(e,r,4).replace(cc,"");case 31:return hte(e);case 64:return p4(e);case 65:return pte(e);case 71:return Aze(e);case 80:return MI(e,r,!s.raw).replace(cc,"");case 81:return Sze(e,r).replace(cc,"");case 4108:return Rze(e);case 4126:case 4127:return r==4127?_ze(e):Eze(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function WG(e,t){var n=Rt(4),r=Rt(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=Rt(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=xze(t);break;case 31:case 80:for(r=Rt(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ka([n,r])}function jG(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0,a=0,l=-1,c={};for(o=0;o!=i;++o){var u=e.read_shift(4),h=e.read_shift(4);s[o]=[u,h+n]}s.sort(function(E,_){return E[1]-_[1]});var p={};for(o=0;o!=i;++o){if(e.l!==s[o][1]){var m=!0;if(o>0&&t)switch(t[s[o-1][0]].t){case 2:e.l+2===s[o][1]&&(e.l+=2,m=!1);break;case 80:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break;case 4108:e.l<=s[o][1]&&(e.l=s[o][1],m=!1);break}if((!t||o==0)&&e.l<=s[o][1]&&(m=!1,e.l=s[o][1]),m)throw new Error("Read Error: Expected address "+s[o][1]+" at "+e.l+" :"+o)}if(t){var y=t[s[o][0]];if(p[y.n]=yR(e,y.t,{raw:!0}),y.p==="version"&&(p[y.n]=String(p[y.n]>>16)+"."+("0000"+String(p[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(p[y.n]){case 0:p[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:$d(a=p[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[y.n])}}else if(s[o][0]===1){if(a=p.CodePage=yR(e,h4),$d(a),l!==-1){var w=e.l;e.l=s[l][1],c=UG(e,a),e.l=w}}else if(s[o][0]===0){if(a===0){l=o,e.l=s[o+1][1];continue}c=UG(e,a)}else{var b=c[s[o][0]],S;switch(e[e.l]){case 65:e.l+=4,S=pte(e);break;case 30:e.l+=4,S=MI(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,S=MI(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,S=e.read_shift(4,"i");break;case 19:e.l+=4,S=e.read_shift(4);break;case 5:e.l+=4,S=e.read_shift(8,"f");break;case 11:e.l+=4,S=Co(e,4);break;case 64:e.l+=4,S=Es(p4(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[b]=S}}return e.l=n+r,p}var gte=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function kze(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function KG(e,t,n){var r=Rt(8),i=[],s=[],o=8,a=0,l=Rt(8),c=Rt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),o+=8+l.length,!t){c=Rt(8),c.write_shift(4,0),i.unshift(c);var u=[Rt(4)];for(u[0].write_shift(4,e.length),a=0;a<e.length;++a){var h=e[a][0];for(l=Rt(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,a+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=ka(u),s.unshift(l),o+=8+l.length}for(a=0;a<e.length;++a)if(!(t&&!t[e[a][0]])&&!(gte.indexOf(e[a][0])>-1||ate.indexOf(e[a][0])>-1)&&e[a][1]!=null){var p=e[a][1],m=0;if(t){m=+t[e[a][0]];var y=n[m];if(y.p=="version"&&typeof p=="string"){var w=p.split(".");p=(+w[0]<<16)+(+w[1]||0)}l=WG(y.t,p)}else{var b=kze(p);b==-1&&(b=31,p=String(p)),l=WG(b,p)}s.push(l),c=Rt(8),c.write_shift(4,t?m:2+a),i.push(c),o+=8+l.length}var S=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,S),S+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),ka([r].concat(i).concat(s))}function YG(e,t,n){var r=e.content;if(!r)return{};Ja(r,0);var i,s,o,a,l=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),u=r.read_shift(16);if(u!==Hn.utils.consts.HEADER_CLSID&&u!==n)throw new Error("Bad PropertySet CLSID "+u);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),a=r.read_shift(4),i===1&&a!==r.l)throw new Error("Length mismatch: "+a+" !== "+r.l);i===2&&(o=r.read_shift(16),l=r.read_shift(4));var h=jG(r,t),p={SystemIdentifier:c};for(var m in h)p[m]=h[m];if(p.FMTID=s,i===1)return p;if(l-r.l==2&&(r.l+=2),r.l!==l)throw new Error("Length mismatch 2: "+r.l+" !== "+l);var y;try{y=jG(r,null)}catch{}for(m in y)p[m]=y[m];return p.FMTID=[s,o],p}function XG(e,t,n,r,i,s){var o=Rt(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,Hn.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var l=KG(e,n,r);if(a.push(l),i){var c=KG(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+l.length),a.push(c)}return ka(a)}function Qp(e,t){return e.read_shift(t),null}function Pze(e,t){t||(t=Rt(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function Dze(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function Co(e,t){return e.read_shift(t)===1}function nc(e,t){return t||(t=Rt(2)),t.write_shift(2,+!!e),t}function Uo(e){return e.read_shift(2,"u")}function od(e,t){return t||(t=Rt(2)),t.write_shift(2,e),t}function mte(e,t){return Dze(e,t,Uo)}function Fze(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function vte(e,t,n){return n||(n=Rt(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function T1(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?e.read_shift(r,i):"";return o}function Ize(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,a,l={};i&&(o=e.read_shift(2)),r&&(a=e.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return i&&(e.l+=4*o),r&&(e.l+=a),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Mze(e){var t=e.t||"",n=Rt(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Rt(2*t.length);r.write_shift(2*t.length,t,"utf16le");var i=[n,r];return ka(i)}function B0(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function R1(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):B0(e,r,n)}function dv(e,t,n){if(n.biff>5)return R1(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function yte(e,t,n){return n||(n=Rt(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function Oze(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function Lze(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace(cc,"");return r&&(e.l+=24),i}function Nze(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=e.read_shift(s>>1,"utf16le").replace(cc,"");return n+o}function Bze(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return Lze(e);case"0303000000000000c000000000000046":return Nze(e);default:throw new Error("Unsupported Moniker "+n)}}function q_(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace(cc,""):"";return n}function ZG(e,t){t||(t=Rt(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function Vze(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var s,o,a,l,c="",u,h;i&16&&(s=q_(e,n-e.l)),i&128&&(o=q_(e,n-e.l)),(i&257)===257&&(a=q_(e,n-e.l)),(i&257)===1&&(l=Bze(e,n-e.l)),i&8&&(c=q_(e,n-e.l)),i&32&&(u=e.read_shift(16)),i&64&&(h=p4(e)),e.l=n;var p=o||a||l||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return u&&(m.guid=u),h&&(m.time=h),s&&(m.Tooltip=s),m}function Hze(e){var t=Rt(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(n=0;n<o.length;++n)t.write_shift(4,o[n]);if(s==28)r=r.slice(1),ZG(r,t);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));var a=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)t.write_shift(2,a.charCodeAt(n));t.write_shift(2,0),s&8&&ZG(i>-1?r.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<o.length;++n)t.write_shift(1,parseInt(o[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,r.charCodeAt(n+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function wte(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function Cte(e,t){var n=wte(e);return n[3]=0,n}function Sf(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function V0(e,t,n,r){return r||(r=Rt(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function zze(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function Gze(e,t,n){return t===0?"":dv(e,t,n)}function Uze(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),s=e.read_shift(r,"i"),o=e.read_shift(r,"i");return[i,s,o]}function bte(e){var t=e.read_shift(2),n=d4(e);return[t,n]}function Wze(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=T1(e,t,n),s=e.read_shift(2);if(r-=e.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return e.l+=s,i}function QA(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function xte(e,t){return t||(t=Rt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function Ste(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var jze=Ste;function _te(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function Kze(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Yze(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Tl(e){e.l+=2,e.l+=e.read_shift(2)}var Xze={0:Tl,4:Tl,5:Tl,6:Tl,7:Yze,8:Tl,9:Tl,10:Tl,11:Tl,12:Tl,13:Kze,14:Tl,15:Tl,16:Tl,17:Tl,18:Tl,19:Tl,20:Tl,21:_te};function Zze(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(Xze[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function Q_(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function g4(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Rt(i);return s.write_shift(2,r),s.write_shift(2,t),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function qze(e,t){return t===0||e.read_shift(2),1200}function Qze(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=dv(e,0,n);return e.read_shift(t+r-e.l),i}function Jze(e,t){var n=!t||t.biff==8,r=Rt(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function $ze(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function e8e(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=T1(e,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function t8e(e,t){var n=!t||t.biff>=8?2:1,r=Rt(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function n8e(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),s=[],o=0;o!=i&&e.l<n;++o)s.push(Ize(e));return s.Count=r,s.Unique=i,s}function r8e(e,t){var n=Rt(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],i=0;i<e.length;++i)r[i]=Mze(e[i]);var s=ka([n].concat(r));return s.parts=[n.length].concat(r.map(function(o){return o.length})),s}function i8e(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function s8e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function o8e(e){var t=zze(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function a8e(e){return e.read_shift(2),e.read_shift(4)}function qG(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function l8e(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:a,Selected:l,TabRatio:c}}function c8e(){var e=Rt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function u8e(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function d8e(e){var t=Rt(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function h8e(){}function f8e(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=T1(e,0,n),r}function p8e(e,t){var n=e.name||"Arial",r=t&&t.biff==5,i=r?15+n.length:16+2*n.length,s=Rt(i);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function g8e(e){var t=Sf(e);return t.isst=e.read_shift(4),t}function m8e(e,t,n,r){var i=Rt(10);return V0(e,t,r,i),i.write_shift(4,n),i}function v8e(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=Sf(e);n.biff==2&&e.l++;var s=R1(e,r-e.l,n);return i.val=s,i}function y8e(e,t,n,r,i){var s=!i||i.biff==8,o=Rt(8+ +s+(1+s)*n.length);return V0(e,t,r,o),o.write_shift(2,n.length),s&&o.write_shift(1,1),o.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),o}function w8e(e,t,n){var r=e.read_shift(2),i=dv(e,0,n);return[r,i]}function C8e(e,t,n,r){var i=n&&n.biff==5;r||(r=Rt(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var b8e=dv;function QG(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,s=e.read_shift(i),o=e.read_shift(i),a=e.read_shift(2),l=e.read_shift(2);return e.l=r,{s:{r:s,c:a},e:{r:o,c:l}}}function x8e(e,t){var n=t.biff==8||!t.biff?4:2,r=Rt(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function S8e(e){var t=e.read_shift(2),n=e.read_shift(2),r=bte(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function _8e(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(bte(e));if(e.l!==n)throw new Error("MulRK read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function E8e(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),s=[];e.l<n;)s.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var o=e.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function T8e(e,t,n,r){var i={},s=e.read_shift(4),o=e.read_shift(4),a=e.read_shift(4),l=e.read_shift(2);return i.patternType=oze[a>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=a&127,i.icvBottom=a>>7&127,i.icvDiag=a>>14&127,i.dgDiag=a>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function R8e(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=T8e(e,t,r.fStyle,n),r}function JG(e,t,n,r){var i=n&&n.biff==5;r||(r=Rt(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function A8e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function k8e(e){var t=Rt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function $G(e,t,n){var r=Sf(e);(n.biff==2||t==9)&&++e.l;var i=Fze(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function P8e(e,t,n,r,i,s){var o=Rt(8);return V0(e,t,r,o),vte(n,s,o),o}function D8e(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Sf(e),i=Il(e);return r.val=i,r}function F8e(e,t,n,r){var i=Rt(14);return V0(e,t,r,i),N0(n,i),i}var eU=Gze;function I8e(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=B0(e,s),a=[];r>e.l;)a.push(R1(e));return[s,i,o,a]}function tU(e,t,n){var r=e.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=Wze(e,t-2,n)),s.body=i||e.read_shift(t-2),typeof i=="string"&&(s.Name=i),s}var M8e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function nU(e,t,n){var r=e.l+t,i=e.read_shift(2),s=e.read_shift(1),o=e.read_shift(1),a=e.read_shift(n&&n.biff==2?1:2),l=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),l=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=B0(e,o,n);i&32&&(c=M8e[c.charCodeAt(0)]);var u=r-e.l;n&&n.biff==2&&--u;var h=r==e.l||a===0||!(u>0)?[]:ZWe(e,u,n,a);return{chKey:s,Name:c,itab:l,rgce:h}}function Ete(e,t,n){if(n.biff<8)return O8e(e,t,n);for(var r=[],i=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push(Uze(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function O8e(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=T1(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function L8e(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),s=B0(e,r,n),o=B0(e,i,n);return[s,o]}function N8e(e,t,n){var r=Ste(e);e.l++;var i=e.read_shift(1);return t-=8,[qWe(e,t,n),i,r]}function rU(e,t,n){var r=jze(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,YWe(e,t,n)]}function B8e(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function V8e(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),a=dv(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},a,o,s]}}function H8e(e,t,n){return V8e(e,t,n)}function z8e(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(QA(e));return n}function G8e(e){var t=Rt(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)xte(e[n],t);return t}function U8e(e,t,n){if(n&&n.biff<8)return j8e(e,t,n);var r=_te(e),i=Zze(e,t-22,r[1]);return{cmo:r,ft:i}}var W8e={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function j8e(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var o=[];return o.push((W8e[r]||Vl)(e,t,n)),{cmo:[i,r,s],ft:o}}function K8e(e,t,n){var r=e.l,i="";try{e.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:o=Oze(e,6,n);var a=e.read_shift(2);e.read_shift(2),Uo(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],h=B0(e,e.lens[c+1]-e.lens[c]-1);if(i+=h,i.length>=(u?a:2*a))break}if(i.length!==a&&i.length!==a*2)throw new Error("cchText: "+a+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function Y8e(e,t){var n=QA(e);e.l+=16;var r=Vze(e,t-24);return[n,r]}function X8e(e){var t=Rt(24),n=Us(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return ka([t,Hze(e[1])])}function Z8e(e,t){e.read_shift(2);var n=QA(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace(cc,""),[n,r]}function q8e(e){var t=e[1].Tooltip,n=Rt(10+2*(t.length+1));n.write_shift(2,2048);var r=Us(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}function Q8e(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=zG[n]||n,n=e.read_shift(2),t[1]=zG[n]||n,t}function J8e(e){return e||(e=Rt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function $8e(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Cte(e));return n}function eGe(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(Cte(e));return n}function tGe(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Tte(e,t,n){if(!n.cellStyles)return Vl(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(r),l=e.read_shift(2);r==2&&(e.l+=2);var c={s:i,e:s,w:o,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function nGe(e,t){var n=Rt(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function rGe(e,t){var n={};return t<32||(e.l+=16,n.header=Il(e),n.footer=Il(e),e.l+=2),n}function iGe(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}function sGe(e){for(var t=Rt(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}var oGe=Sf,aGe=mte,lGe=R1;function cGe(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function uGe(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Sf(e);++e.l;var i=dv(e,t-7,n);return r.t="str",r.val=i,r}function dGe(e){var t=Sf(e);++e.l;var n=Il(e);return t.t="n",t.val=n,t}function hGe(e,t,n){var r=Rt(15);return D1(r,e,t),r.write_shift(8,n,"f"),r}function fGe(e){var t=Sf(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function pGe(e,t,n){var r=Rt(9);return D1(r,e,t),r.write_shift(2,n),r}function gGe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function mGe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function vGe(e,t,n){var r=e.l+t,i=Sf(e),s=e.read_shift(2),o=B0(e,s,n);return e.l=r,i.t="str",i.val=o,i}var yGe=[2,3,48,49,131,139,140,245],OI=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=XA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(a,l){var c=[],u=Bg(1);switch(l.type){case"base64":u=pu(ku(a));break;case"binary":u=pu(a);break;case"buffer":case"array":u=a;break}Ja(u,0);var h=u.read_shift(1),p=!!(h&136),m=!1,y=!1;switch(h){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var w=0,b=521;h==2&&(w=u.read_shift(2)),u.l+=3,h!=2&&(w=u.read_shift(4)),w>1048576&&(w=1e6),h!=2&&(b=u.read_shift(2));var S=u.read_shift(2),E=l.codepage||1252;h!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(E=e[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var _=[],N={},V=Math.min(u.length,h==2?521:b-10-(m?264:0)),M=y?32:11;u.l<V&&u[u.l]!=13;)switch(N={},N.name=nS.utils.decode(E,u.slice(u.l,u.l+M)).replace(/[\u0000\r\n].*$/g,""),u.l+=M,N.type=String.fromCharCode(u.read_shift(1)),h!=2&&!y&&(N.offset=u.read_shift(4)),N.len=u.read_shift(1),h==2&&(N.offset=u.read_shift(2)),N.dec=u.read_shift(1),N.name.length&&_.push(N),h!=2&&(u.l+=y?13:14),N.type){case"B":(!m||N.len!=8)&&l.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var O=0,z=0;for(c[0]=[],z=0;z!=_.length;++z)c[0][z]=_[z].name;for(;w-- >0;){if(u[u.l]===42){u.l+=S;continue}for(++u.l,c[++O]=[],z=0,z=0;z!=_.length;++z){var H=u.slice(u.l,u.l+_[z].len);u.l+=_[z].len,Ja(H,0);var X=nS.utils.decode(E,H);switch(_[z].type){case"C":X.trim().length&&(c[O][z]=X.replace(/\s+$/,""));break;case"D":X.length===8?c[O][z]=new Date(+X.slice(0,4),+X.slice(4,6)-1,+X.slice(6,8)):c[O][z]=X;break;case"F":c[O][z]=parseFloat(X.trim());break;case"+":case"I":c[O][z]=y?H.read_shift(-4,"i")^2147483648:H.read_shift(4,"i");break;case"L":switch(X.trim().toUpperCase()){case"Y":case"T":c[O][z]=!0;break;case"N":case"F":c[O][z]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+X+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));c[O][z]="##MEMO##"+(y?parseInt(X.trim(),10):H.read_shift(4));break;case"N":X=X.replace(/\u0000/g,"").trim(),X&&X!="."&&(c[O][z]=+X||0);break;case"@":c[O][z]=new Date(H.read_shift(-8,"f")-621356832e5);break;case"T":c[O][z]=new Date((H.read_shift(4)-2440588)*864e5+H.read_shift(4));break;case"Y":c[O][z]=H.read_shift(4,"i")/1e4+H.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[O][z]=-H.read_shift(-8,"f");break;case"B":if(m&&_[z].len==8){c[O][z]=H.read_shift(8,"f");break}case"G":case"P":H.l+=_[z].len;break;case"0":if(_[z].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[z].type)}}}if(h!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function r(a,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Kw(n(a,c),c);return u["!cols"]=c.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete c.DBF,u}function i(a,l){try{return rm(r(a,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,l){var c=l||{};if(+c.codepage>=0&&$d(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Fc(),h=bR(a,{header:1,raw:!0,cellDates:!0}),p=h[0],m=h.slice(1),y=a["!cols"]||[],w=0,b=0,S=0,E=1;for(w=0;w<p.length;++w){if(((y[w]||{}).DBF||{}).name){p[w]=y[w].DBF.name,++S;continue}if(p[w]!=null){if(++S,typeof p[w]=="number"&&(p[w]=p[w].toString(10)),typeof p[w]!="string")throw new Error("DBF Invalid column name "+p[w]+" |"+typeof p[w]+"|");if(p.indexOf(p[w])!==w){for(b=0;b<1024;++b)if(p.indexOf(p[w]+"_"+b)==-1){p[w]+="_"+b;break}}}}var _=oi(a["!ref"]),N=[],V=[],M=[];for(w=0;w<=_.e.c-_.s.c;++w){var O="",z="",H=0,X=[];for(b=0;b<m.length;++b)m[b][w]!=null&&X.push(m[b][w]);if(X.length==0||p[w]==null){N[w]="?";continue}for(b=0;b<X.length;++b){switch(typeof X[b]){case"number":z="B";break;case"string":z="C";break;case"boolean":z="L";break;case"object":z=X[b]instanceof Date?"D":"C";break;default:z="C"}H=Math.max(H,String(X[b]).length),O=O&&O!=z?"C":z}H>250&&(H=250),z=((y[w]||{}).DBF||{}).type,z=="C"&&y[w].DBF.len>H&&(H=y[w].DBF.len),O=="B"&&z=="N"&&(O="N",M[w]=y[w].DBF.dec,H=y[w].DBF.len),V[w]=O=="C"||z=="N"?H:s[O]||0,E+=V[w],N[w]=O}var Q=u.next(32);for(Q.write_shift(4,318902576),Q.write_shift(4,m.length),Q.write_shift(2,296+32*S),Q.write_shift(2,E),w=0;w<4;++w)Q.write_shift(4,0);for(Q.write_shift(4,0|(+t[gee]||3)<<8),w=0,b=0;w<p.length;++w)if(p[w]!=null){var U=u.next(32),Z=(p[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,Z,"sbcs"),U.write_shift(1,N[w]=="?"?"C":N[w],"sbcs"),U.write_shift(4,b),U.write_shift(1,V[w]||s[N[w]]||0),U.write_shift(1,M[w]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),b+=V[w]||s[N[w]]||0}var q=u.next(264);for(q.write_shift(4,13),w=0;w<65;++w)q.write_shift(4,0);for(w=0;w<m.length;++w){var me=u.next(E);for(me.write_shift(1,0),b=0;b<p.length;++b)if(p[b]!=null)switch(N[b]){case"L":me.write_shift(1,m[w][b]==null?63:m[w][b]?84:70);break;case"B":me.write_shift(8,m[w][b]||0,"f");break;case"N":var se="0";for(typeof m[w][b]=="number"&&(se=m[w][b].toFixed(M[b]||0)),S=0;S<V[b]-se.length;++S)me.write_shift(1,32);me.write_shift(1,se,"sbcs");break;case"D":m[w][b]?(me.write_shift(4,("0000"+m[w][b].getFullYear()).slice(-4),"sbcs"),me.write_shift(2,("00"+(m[w][b].getMonth()+1)).slice(-2),"sbcs"),me.write_shift(2,("00"+m[w][b].getDate()).slice(-2),"sbcs")):me.write_shift(8,"00000000","sbcs");break;case"C":var ue=String(m[w][b]!=null?m[w][b]:"").slice(0,V[b]);for(me.write_shift(1,ue,"sbcs"),S=0;S<V[b]-ue.length;++S)me.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),Rte=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+lo(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,m){var y=e[m];return typeof y=="number"?pG(y):y},r=function(p,m,y){var w=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return w==59?p:pG(w)};e["|"]=254;function i(p,m){switch(m.type){case"base64":return s(ku(p),m);case"binary":return s(p,m);case"buffer":return s(kr&&Buffer.isBuffer(p)?p.toString("binary"):nm(p),m);case"array":return s(L0(p),m)}throw new Error("Unrecognized type "+m.type)}function s(p,m){var y=p.split(/[\n\r]+/),w=-1,b=-1,S=0,E=0,_=[],N=[],V=null,M={},O=[],z=[],H=[],X=0,Q;for(+m.codepage>=0&&$d(+m.codepage);S!==y.length;++S){X=0;var U=y[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),Z=U.replace(/;;/g,"\0").split(";").map(function(fe){return fe.replace(/\u0000/g,";")}),q=Z[0],me;if(U.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Z[1].charAt(0)=="P"&&N.push(U.slice(3).replace(/;;/g,";"));break;case"C":var se=!1,ue=!1,Pe=!1,ye=!1,W=-1,re=-1;for(E=1;E<Z.length;++E)switch(Z[E].charAt(0)){case"A":break;case"X":b=parseInt(Z[E].slice(1))-1,ue=!0;break;case"Y":for(w=parseInt(Z[E].slice(1))-1,ue||(b=0),Q=_.length;Q<=w;++Q)_[Q]=[];break;case"K":me=Z[E].slice(1),me.charAt(0)==='"'?me=me.slice(1,me.length-1):me==="TRUE"?me=!0:me==="FALSE"?me=!1:isNaN(rh(me))?isNaN(vw(me).getDate())||(me=Es(me)):(me=rh(me),V!==null&&Ww(V)&&(me=qA(me))),se=!0;break;case"E":ye=!0;var te=Vy(Z[E].slice(1),{r:w,c:b});_[w][b]=[_[w][b],te];break;case"S":Pe=!0,_[w][b]=[_[w][b],"S5S"];break;case"G":break;case"R":W=parseInt(Z[E].slice(1))-1;break;case"C":re=parseInt(Z[E].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}if(se&&(_[w][b]&&_[w][b].length==2?_[w][b][0]=me:_[w][b]=me,V=null),Pe){if(ye)throw new Error("SYLK shared formula cannot have own formula");var J=W>-1&&_[W][re];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");_[w][b][1]=jte(J[1],{r:w-W,c:b-re})}break;case"F":var ce=0;for(E=1;E<Z.length;++E)switch(Z[E].charAt(0)){case"X":b=parseInt(Z[E].slice(1))-1,++ce;break;case"Y":for(w=parseInt(Z[E].slice(1))-1,Q=_.length;Q<=w;++Q)_[Q]=[];break;case"M":X=parseInt(Z[E].slice(1))/20;break;case"F":break;case"G":break;case"P":V=N[parseInt(Z[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(H=Z[E].slice(1).split(" "),Q=parseInt(H[0],10);Q<=parseInt(H[1],10);++Q)X=parseInt(H[2],10),z[Q-1]=X===0?{hidden:!0}:{wch:X},Vg(z[Q-1]);break;case"C":b=parseInt(Z[E].slice(1))-1,z[b]||(z[b]={});break;case"R":w=parseInt(Z[E].slice(1))-1,O[w]||(O[w]={}),X>0?(O[w].hpt=X,O[w].hpx=ww(X)):X===0&&(O[w].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}ce<1&&(V=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+U)}}return O.length>0&&(M["!rows"]=O),z.length>0&&(M["!cols"]=z),m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),[_,M]}function o(p,m){var y=i(p,m),w=y[0],b=y[1],S=Kw(w,m);return lo(b).forEach(function(E){S[E]=b[E]}),S}function a(p,m){return rm(o(p,m),m)}function l(p,m,y,w){var b="C;Y"+(y+1)+";X"+(w+1)+";K";switch(p.t){case"n":b+=p.v||0,p.f&&!p.F&&(b+=";E"+b4(p.f,{r:y,c:w}));break;case"b":b+=p.v?"TRUE":"FALSE";break;case"e":b+=p.w||p.v;break;case"d":b+='"'+(p.w||p.v)+'"';break;case"s":b+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function c(p,m){m.forEach(function(y,w){var b="F;W"+(w+1)+" "+(w+1)+" ";y.hidden?b+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=uS(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=dS(y.wpx)),typeof y.wch=="number"&&(b+=Math.round(y.wch))),b.charAt(b.length-1)!=" "&&p.push(b)})}function u(p,m){m.forEach(function(y,w){var b="F;";y.hidden?b+="M0;":y.hpt?b+="M"+20*y.hpt+";":y.hpx&&(b+="M"+20*hS(y.hpx)+";"),b.length>2&&p.push(b+"R"+(w+1))})}function h(p,m){var y=["ID;PWXL;N;E"],w=[],b=oi(p["!ref"]),S,E=Array.isArray(p),_=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&c(y,p["!cols"]),p["!rows"]&&u(y,p["!rows"]),y.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var N=b.s.r;N<=b.e.r;++N)for(var V=b.s.c;V<=b.e.c;++V){var M=Jn({r:N,c:V});S=E?(p[N]||[])[V]:p[M],!(!S||S.v==null&&(!S.f||S.F))&&w.push(l(S,p,N,V))}return y.join(_)+_+w.join(_)+_+"E"+_}return{to_workbook:a,to_sheet:o,from_sheet:h}}(),Ate=function(){function e(s,o){switch(o.type){case"base64":return t(ku(s),o);case"binary":return t(s,o);case"buffer":return t(kr&&Buffer.isBuffer(s)?s.toString("binary"):nm(s),o);case"array":return t(L0(s),o)}throw new Error("Unrecognized type "+o.type)}function t(s,o){for(var a=s.split(`
`),l=-1,c=-1,u=0,h=[];u!==a.length;++u){if(a[u].trim()==="BOT"){h[++l]=[],c=0;continue}if(!(l<0)){var p=a[u].trim().split(","),m=p[0],y=p[1];++u;for(var w=a[u]||"";(w.match(/["]/g)||[]).length&1&&u<a.length-1;)w+=`
`+a[++u];switch(w=w.trim(),+m){case-1:if(w==="BOT"){h[++l]=[],c=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?h[l][c]=!0:w==="FALSE"?h[l][c]=!1:isNaN(rh(y))?isNaN(vw(y).getDate())?h[l][c]=y:h[l][c]=Es(y):h[l][c]=rh(y),++c;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),h[l][c++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(h=h.slice(0,o.sheetRows)),h}function n(s,o){return Kw(e(s,o),o)}function r(s,o){return rm(n(s,o),o)}var i=function(){var s=function(l,c,u,h,p){l.push(c),l.push(u+","+h),l.push('"'+p.replace(/"/g,'""')+'"')},o=function(l,c,u,h){l.push(c+","+u),l.push(c==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var c=[],u=oi(l["!ref"]),h,p=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){o(c,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var w=Jn({r:m,c:y});if(h=p?(l[m]||[])[y]:l[w],!h){o(c,1,0,"");continue}switch(h.t){case"n":var b=h.w;!b&&h.v!=null&&(b=h.v),b==null?h.f&&!h.F?o(c,1,0,"="+h.f):o(c,1,0,""):o(c,0,b,"V");break;case"b":o(c,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Ed(h.z||Xn[14],ua(Es(h.v)))),o(c,0,h.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var S=`\r
`,E=c.join(S);return E}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),kte=function(){function e(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(h,p){for(var m=h.split(`
`),y=-1,w=-1,b=0,S=[];b!==m.length;++b){var E=m[b].trim().split(":");if(E[0]==="cell"){var _=Us(E[1]);if(S.length<=_.r)for(y=S.length;y<=_.r;++y)S[y]||(S[y]=[]);switch(y=_.r,w=_.c,E[2]){case"t":S[y][w]=e(E[3]);break;case"v":S[y][w]=+E[3];break;case"vtf":var N=E[E.length-1];case"vtc":switch(E[3]){case"nl":S[y][w]=!!+E[4];break;default:S[y][w]=+E[4];break}E[2]=="vtf"&&(S[y][w]=[S[y][w],N])}}}return p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),S}function r(h,p){return Kw(n(h,p),p)}function i(h,p){return rm(r(h,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(h){if(!h||!h["!ref"])return"";for(var p=[],m=[],y,w="",b=Lc(h["!ref"]),S=Array.isArray(h),E=b.s.r;E<=b.e.r;++E)for(var _=b.s.c;_<=b.e.c;++_)if(w=Jn({r:E,c:_}),y=S?(h[E]||[])[_]:h[w],!(!y||y.v==null||y.t==="z")){switch(m=["cell",w,"t"],y.t){case"s":case"str":m.push(t(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=t(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var N=ua(Es(y.v));m[2]="vtc",m[3]="nd",m[4]=""+N,m[5]=y.w||Ed(y.z||Xn[14],N);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function u(h){return[s,o,a,o,c(h),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:u}}(),yw=function(){function e(u,h,p,m,y){y.raw?h[p][m]=u:u===""||(u==="TRUE"?h[p][m]=!0:u==="FALSE"?h[p][m]=!1:isNaN(rh(u))?isNaN(vw(u).getDate())?h[p][m]=u:h[p][m]=Es(u):h[p][m]=rh(u))}function t(u,h){var p=h||{},m=[];if(!u||u.length===0)return m;for(var y=u.split(/[\r\n]/),w=y.length-1;w>=0&&y[w].length===0;)--w;for(var b=10,S=0,E=0;E<=w;++E)S=y[E].indexOf(" "),S==-1?S=y[E].length:S++,b=Math.max(b,S);for(E=0;E<=w;++E){m[E]=[];var _=0;for(e(y[E].slice(0,b).trim(),m,E,_,p),_=1;_<=(y[E].length-b)/10+1;++_)e(y[E].slice(b+(_-1)*10,b+_*10).trim(),m,E,_,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(u){for(var h={},p=!1,m=0,y=0;m<u.length;++m)(y=u.charCodeAt(m))==34?p=!p:!p&&y in n&&(h[y]=(h[y]||0)+1);y=[];for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&y.push([h[m],m]);if(!y.length){h=r;for(m in h)Object.prototype.hasOwnProperty.call(h,m)&&y.push([h[m],m])}return y.sort(function(w,b){return w[0]-b[0]||r[w[1]]-r[b[1]]}),n[y.pop()[1]]||44}function s(u,h){var p=h||{},m="",y=p.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=i(u.slice(0,1024)):p&&p.FS?m=p.FS:m=i(u.slice(0,1024));var b=0,S=0,E=0,_=0,N=0,V=m.charCodeAt(0),M=!1,O=0,z=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var H=p.dateNF!=null?iHe(p.dateNF):null;function X(){var Q=u.slice(_,N),U={};if(Q.charAt(0)=='"'&&Q.charAt(Q.length-1)=='"'&&(Q=Q.slice(1,-1).replace(/""/g,'"')),Q.length===0)U.t="z";else if(p.raw)U.t="s",U.v=Q;else if(Q.trim().length===0)U.t="s",U.v=Q;else if(Q.charCodeAt(0)==61)Q.charCodeAt(1)==34&&Q.charCodeAt(Q.length-1)==34?(U.t="s",U.v=Q.slice(2,-1).replace(/""/g,'"')):I9e(Q)?(U.t="n",U.f=Q.slice(1)):(U.t="s",U.v=Q);else if(Q=="TRUE")U.t="b",U.v=!0;else if(Q=="FALSE")U.t="b",U.v=!1;else if(!isNaN(E=rh(Q)))U.t="n",p.cellText!==!1&&(U.w=Q),U.v=E;else if(!isNaN(vw(Q).getDate())||H&&Q.match(H)){U.z=p.dateNF||Xn[14];var Z=0;H&&Q.match(H)&&(Q=sHe(Q,p.dateNF,Q.match(H)||[]),Z=1),p.cellDates?(U.t="d",U.v=Es(Q,Z)):(U.t="n",U.v=ua(Es(Q,Z))),p.cellText!==!1&&(U.w=Ed(U.z,U.v instanceof Date?ua(U.v):U.v)),p.cellNF||delete U.z}else U.t="s",U.v=Q;if(U.t=="z"||(p.dense?(y[b]||(y[b]=[]),y[b][S]=U):y[Jn({c:S,r:b})]=U),_=N+1,z=u.charCodeAt(_),w.e.c<S&&(w.e.c=S),w.e.r<b&&(w.e.r=b),O==V)++S;else if(S=0,++b,p.sheetRows&&p.sheetRows<=b)return!0}e:for(;N<u.length;++N)switch(O=u.charCodeAt(N)){case 34:z===34&&(M=!M);break;case V:case 10:case 13:if(!M&&X())break e;break}return N-_>0&&X(),y["!ref"]=wr(w),y}function o(u,h){return!(h&&h.PRN)||h.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,h):Kw(t(u,h),h)}function a(u,h){var p="",m=h.type=="string"?[0,0,0,0]:k4(u,h);switch(h.type){case"base64":p=ku(u);break;case"binary":p=u;break;case"buffer":h.codepage==65001?p=u.toString("utf8"):h.codepage&&typeof nS<"u"||(p=kr&&Buffer.isBuffer(u)?u.toString("binary"):nm(u));break;case"array":p=L0(u);break;case"string":p=u;break;default:throw new Error("Unrecognized type "+h.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=Zi(p.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?p=Zi(p):h.type=="binary"&&typeof nS<"u",p.slice(0,19)=="socialcalc:version:"?kte.to_sheet(h.type=="string"?p:Zi(p),h):o(p,h)}function l(u,h){return rm(a(u,h),h)}function c(u){for(var h=[],p=oi(u["!ref"]),m,y=Array.isArray(u),w=p.s.r;w<=p.e.r;++w){for(var b=[],S=p.s.c;S<=p.e.c;++S){var E=Jn({r:w,c:S});if(m=y?(u[w]||[])[S]:u[E],!m||m.v==null){b.push("          ");continue}for(var _=(m.w||(pp(m),m.w)||"").slice(0,10);_.length<10;)_+=" ";b.push(_+(S===0?" ":""))}h.push(b.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:a,from_sheet:c}}();function wGe(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=Rte.to_workbook(e,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return yw.to_workbook(e,t)}}var p0=function(){function e(te,J,ce){if(te){Ja(te,te.l||0);for(var fe=ce.Enum||W;te.l<te.length;){var De=te.read_shift(2),at=fe[De]||fe[65535],je=te.read_shift(2),qe=te.l+je,et=at.f&&at.f(te,je,ce);if(te.l=qe,J(et,at,De))return}}}function t(te,J){switch(J.type){case"base64":return n(pu(ku(te)),J);case"binary":return n(pu(te),J);case"buffer":case"array":return n(te,J)}throw"Unsupported type "+J.type}function n(te,J){if(!te)return te;var ce=J||{},fe=ce.dense?[]:{},De="Sheet1",at="",je=0,qe={},et=[],Et=[],Se={s:{r:0,c:0},e:{r:0,c:0}},$t=ce.sheetRows||0;if(te[2]==0&&(te[3]==8||te[3]==9)&&te.length>=16&&te[14]==5&&te[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(te[2]==2)ce.Enum=W,e(te,function(ve,xe,Le){switch(Le){case 0:ce.vers=ve,ve>=4096&&(ce.qpro=!0);break;case 6:Se=ve;break;case 204:ve&&(at=ve);break;case 222:at=ve;break;case 15:case 51:ce.qpro||(ve[1].v=ve[1].v.slice(1));case 13:case 14:case 16:Le==14&&(ve[2]&112)==112&&(ve[2]&15)>1&&(ve[2]&15)<15&&(ve[1].z=ce.dateNF||Xn[14],ce.cellDates&&(ve[1].t="d",ve[1].v=qA(ve[1].v))),ce.qpro&&ve[3]>je&&(fe["!ref"]=wr(Se),qe[De]=fe,et.push(De),fe=ce.dense?[]:{},Se={s:{r:0,c:0},e:{r:0,c:0}},je=ve[3],De=at||"Sheet"+(je+1),at="");var Je=ce.dense?(fe[ve[0].r]||[])[ve[0].c]:fe[Jn(ve[0])];if(Je){Je.t=ve[1].t,Je.v=ve[1].v,ve[1].z!=null&&(Je.z=ve[1].z),ve[1].f!=null&&(Je.f=ve[1].f);break}ce.dense?(fe[ve[0].r]||(fe[ve[0].r]=[]),fe[ve[0].r][ve[0].c]=ve[1]):fe[Jn(ve[0])]=ve[1];break}},ce);else if(te[2]==26||te[2]==14)ce.Enum=re,te[2]==14&&(ce.qpro=!0,te.l=0),e(te,function(ve,xe,Le){switch(Le){case 204:De=ve;break;case 22:ve[1].v=ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ve[3]>je&&(fe["!ref"]=wr(Se),qe[De]=fe,et.push(De),fe=ce.dense?[]:{},Se={s:{r:0,c:0},e:{r:0,c:0}},je=ve[3],De="Sheet"+(je+1)),$t>0&&ve[0].r>=$t)break;ce.dense?(fe[ve[0].r]||(fe[ve[0].r]=[]),fe[ve[0].r][ve[0].c]=ve[1]):fe[Jn(ve[0])]=ve[1],Se.e.c<ve[0].c&&(Se.e.c=ve[0].c),Se.e.r<ve[0].r&&(Se.e.r=ve[0].r);break;case 27:ve[14e3]&&(Et[ve[14e3][0]]=ve[14e3][1]);break;case 1537:Et[ve[0]]=ve[1],ve[0]==je&&(De=ve[1]);break}},ce);else throw new Error("Unrecognized LOTUS BOF "+te[2]);if(fe["!ref"]=wr(Se),qe[at||De]=fe,et.push(at||De),!Et.length)return{SheetNames:et,Sheets:qe};for(var ne={},Ge=[],Me=0;Me<Et.length;++Me)qe[et[Me]]?(Ge.push(Et[Me]||et[Me]),ne[Et[Me]]=qe[Et[Me]]||qe[et[Me]]):(Ge.push(Et[Me]),ne[Et[Me]]={"!ref":"A1"});return{SheetNames:Ge,Sheets:ne}}function r(te,J){var ce=J||{};if(+ce.codepage>=0&&$d(+ce.codepage),ce.type=="string")throw new Error("Cannot write WK1 to JS string");var fe=Fc(),De=oi(te["!ref"]),at=Array.isArray(te),je=[];rn(fe,0,s(1030)),rn(fe,6,l(De));for(var qe=Math.min(De.e.r,8191),et=De.s.r;et<=qe;++et)for(var Et=Ro(et),Se=De.s.c;Se<=De.e.c;++Se){et===De.s.r&&(je[Se]=Gs(Se));var $t=je[Se]+Et,ne=at?(te[et]||[])[Se]:te[$t];if(!(!ne||ne.t=="z"))if(ne.t=="n")(ne.v|0)==ne.v&&ne.v>=-32768&&ne.v<=32767?rn(fe,13,m(et,Se,ne.v)):rn(fe,14,w(et,Se,ne.v));else{var Ge=pp(ne);rn(fe,15,h(et,Se,Ge.slice(0,239)))}}return rn(fe,1),fe.end()}function i(te,J){var ce=J||{};if(+ce.codepage>=0&&$d(+ce.codepage),ce.type=="string")throw new Error("Cannot write WK3 to JS string");var fe=Fc();rn(fe,0,o(te));for(var De=0,at=0;De<te.SheetNames.length;++De)(te.Sheets[te.SheetNames[De]]||{})["!ref"]&&rn(fe,27,ye(te.SheetNames[De],at++));var je=0;for(De=0;De<te.SheetNames.length;++De){var qe=te.Sheets[te.SheetNames[De]];if(!(!qe||!qe["!ref"])){for(var et=oi(qe["!ref"]),Et=Array.isArray(qe),Se=[],$t=Math.min(et.e.r,8191),ne=et.s.r;ne<=$t;++ne)for(var Ge=Ro(ne),Me=et.s.c;Me<=et.e.c;++Me){ne===et.s.r&&(Se[Me]=Gs(Me));var ve=Se[Me]+Ge,xe=Et?(qe[ne]||[])[Me]:qe[ve];if(!(!xe||xe.t=="z"))if(xe.t=="n")rn(fe,23,X(ne,Me,je,xe.v));else{var Le=pp(xe);rn(fe,22,O(ne,Me,je,Le.slice(0,239)))}}++je}}return rn(fe,1),fe.end()}function s(te){var J=Rt(2);return J.write_shift(2,te),J}function o(te){var J=Rt(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var ce=0,fe=0,De=0,at=0;at<te.SheetNames.length;++at){var je=te.SheetNames[at],qe=te.Sheets[je];if(!(!qe||!qe["!ref"])){++De;var et=Lc(qe["!ref"]);ce<et.e.r&&(ce=et.e.r),fe<et.e.c&&(fe=et.e.c)}}return ce>8191&&(ce=8191),J.write_shift(2,ce),J.write_shift(1,De),J.write_shift(1,fe),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function a(te,J,ce){var fe={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&ce.qpro?(fe.s.c=te.read_shift(1),te.l++,fe.s.r=te.read_shift(2),fe.e.c=te.read_shift(1),te.l++,fe.e.r=te.read_shift(2),fe):(fe.s.c=te.read_shift(2),fe.s.r=te.read_shift(2),J==12&&ce.qpro&&(te.l+=2),fe.e.c=te.read_shift(2),fe.e.r=te.read_shift(2),J==12&&ce.qpro&&(te.l+=2),fe.s.c==65535&&(fe.s.c=fe.e.c=fe.s.r=fe.e.r=0),fe)}function l(te){var J=Rt(8);return J.write_shift(2,te.s.c),J.write_shift(2,te.s.r),J.write_shift(2,te.e.c),J.write_shift(2,te.e.r),J}function c(te,J,ce){var fe=[{c:0,r:0},{t:"n",v:0},0,0];return ce.qpro&&ce.vers!=20768?(fe[0].c=te.read_shift(1),fe[3]=te.read_shift(1),fe[0].r=te.read_shift(2),te.l+=2):(fe[2]=te.read_shift(1),fe[0].c=te.read_shift(2),fe[0].r=te.read_shift(2)),fe}function u(te,J,ce){var fe=te.l+J,De=c(te,J,ce);if(De[1].t="s",ce.vers==20768){te.l++;var at=te.read_shift(1);return De[1].v=te.read_shift(at,"utf8"),De}return ce.qpro&&te.l++,De[1].v=te.read_shift(fe-te.l,"cstr"),De}function h(te,J,ce){var fe=Rt(7+ce.length);fe.write_shift(1,255),fe.write_shift(2,J),fe.write_shift(2,te),fe.write_shift(1,39);for(var De=0;De<fe.length;++De){var at=ce.charCodeAt(De);fe.write_shift(1,at>=128?95:at)}return fe.write_shift(1,0),fe}function p(te,J,ce){var fe=c(te,J,ce);return fe[1].v=te.read_shift(2,"i"),fe}function m(te,J,ce){var fe=Rt(7);return fe.write_shift(1,255),fe.write_shift(2,J),fe.write_shift(2,te),fe.write_shift(2,ce,"i"),fe}function y(te,J,ce){var fe=c(te,J,ce);return fe[1].v=te.read_shift(8,"f"),fe}function w(te,J,ce){var fe=Rt(13);return fe.write_shift(1,255),fe.write_shift(2,J),fe.write_shift(2,te),fe.write_shift(8,ce,"f"),fe}function b(te,J,ce){var fe=te.l+J,De=c(te,J,ce);if(De[1].v=te.read_shift(8,"f"),ce.qpro)te.l=fe;else{var at=te.read_shift(2);N(te.slice(te.l,te.l+at),De),te.l+=at}return De}function S(te,J,ce){var fe=J&32768;return J&=-32769,J=(fe?te:0)+(J>=8192?J-16384:J),(fe?"":"$")+(ce?Gs(J):Ro(J))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(te,J){Ja(te,0);for(var ce=[],fe=0,De="",at="",je="",qe="";te.l<te.length;){var et=te[te.l++];switch(et){case 0:ce.push(te.read_shift(8,"f"));break;case 1:at=S(J[0].c,te.read_shift(2),!0),De=S(J[0].r,te.read_shift(2),!1),ce.push(at+De);break;case 2:{var Et=S(J[0].c,te.read_shift(2),!0),Se=S(J[0].r,te.read_shift(2),!1);at=S(J[0].c,te.read_shift(2),!0),De=S(J[0].r,te.read_shift(2),!1),ce.push(Et+Se+":"+at+De)}break;case 3:if(te.l<te.length){console.error("WK1 premature formula end");return}break;case 4:ce.push("("+ce.pop()+")");break;case 5:ce.push(te.read_shift(2));break;case 6:{for(var $t="";et=te[te.l++];)$t+=String.fromCharCode(et);ce.push('"'+$t.replace(/"/g,'""')+'"')}break;case 8:ce.push("-"+ce.pop());break;case 23:ce.push("+"+ce.pop());break;case 22:ce.push("NOT("+ce.pop()+")");break;case 20:case 21:qe=ce.pop(),je=ce.pop(),ce.push(["AND","OR"][et-20]+"("+je+","+qe+")");break;default:if(et<32&&_[et])qe=ce.pop(),je=ce.pop(),ce.push(je+_[et]+qe);else if(E[et]){if(fe=E[et][1],fe==69&&(fe=te[te.l++]),fe>ce.length){console.error("WK1 bad formula parse 0x"+et.toString(16)+":|"+ce.join("|")+"|");return}var ne=ce.slice(-fe);ce.length-=fe,ce.push(E[et][0]+"("+ne.join(",")+")")}else return et<=7?console.error("WK1 invalid opcode "+et.toString(16)):et<=24?console.error("WK1 unsupported op "+et.toString(16)):et<=30?console.error("WK1 invalid opcode "+et.toString(16)):et<=115?console.error("WK1 unsupported function opcode "+et.toString(16)):console.error("WK1 unrecognized opcode "+et.toString(16))}}ce.length==1?J[1].f=""+ce[0]:console.error("WK1 bad formula parse |"+ce.join("|")+"|")}function V(te){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=te.read_shift(2),J[3]=te[te.l++],J[0].c=te[te.l++],J}function M(te,J){var ce=V(te);return ce[1].t="s",ce[1].v=te.read_shift(J-4,"cstr"),ce}function O(te,J,ce,fe){var De=Rt(6+fe.length);De.write_shift(2,te),De.write_shift(1,ce),De.write_shift(1,J),De.write_shift(1,39);for(var at=0;at<fe.length;++at){var je=fe.charCodeAt(at);De.write_shift(1,je>=128?95:je)}return De.write_shift(1,0),De}function z(te,J){var ce=V(te);ce[1].v=te.read_shift(2);var fe=ce[1].v>>1;if(ce[1].v&1)switch(fe&7){case 0:fe=(fe>>3)*5e3;break;case 1:fe=(fe>>3)*500;break;case 2:fe=(fe>>3)/20;break;case 3:fe=(fe>>3)/200;break;case 4:fe=(fe>>3)/2e3;break;case 5:fe=(fe>>3)/2e4;break;case 6:fe=(fe>>3)/16;break;case 7:fe=(fe>>3)/64;break}return ce[1].v=fe,ce}function H(te,J){var ce=V(te),fe=te.read_shift(4),De=te.read_shift(4),at=te.read_shift(2);if(at==65535)return fe===0&&De===3221225472?(ce[1].t="e",ce[1].v=15):fe===0&&De===3489660928?(ce[1].t="e",ce[1].v=42):ce[1].v=0,ce;var je=at&32768;return at=(at&32767)-16446,ce[1].v=(1-je*2)*(De*Math.pow(2,at+32)+fe*Math.pow(2,at)),ce}function X(te,J,ce,fe){var De=Rt(14);if(De.write_shift(2,te),De.write_shift(1,ce),De.write_shift(1,J),fe==0)return De.write_shift(4,0),De.write_shift(4,0),De.write_shift(2,65535),De;var at=0,je=0,qe=0,et=0;return fe<0&&(at=1,fe=-fe),je=Math.log2(fe)|0,fe/=Math.pow(2,je-31),et=fe>>>0,(et&2147483648)==0&&(fe/=2,++je,et=fe>>>0),fe-=et,et|=2147483648,et>>>=0,fe*=Math.pow(2,32),qe=fe>>>0,De.write_shift(4,qe),De.write_shift(4,et),je+=16383+(at?32768:0),De.write_shift(2,je),De}function Q(te,J){var ce=H(te);return te.l+=J-14,ce}function U(te,J){var ce=V(te),fe=te.read_shift(4);return ce[1].v=fe>>6,ce}function Z(te,J){var ce=V(te),fe=te.read_shift(8,"f");return ce[1].v=fe,ce}function q(te,J){var ce=Z(te);return te.l+=J-10,ce}function me(te,J){return te[te.l+J-1]==0?te.read_shift(J,"cstr"):""}function se(te,J){var ce=te[te.l++];ce>J-1&&(ce=J-1);for(var fe="";fe.length<ce;)fe+=String.fromCharCode(te[te.l++]);return fe}function ue(te,J,ce){if(!(!ce.qpro||J<21)){var fe=te.read_shift(1);te.l+=17,te.l+=1,te.l+=2;var De=te.read_shift(J-21,"cstr");return[fe,De]}}function Pe(te,J){for(var ce={},fe=te.l+J;te.l<fe;){var De=te.read_shift(2);if(De==14e3){for(ce[De]=[0,""],ce[De][0]=te.read_shift(2);te[te.l];)ce[De][1]+=String.fromCharCode(te[te.l]),te.l++;te.l++}}return ce}function ye(te,J){var ce=Rt(5+te.length);ce.write_shift(2,14e3),ce.write_shift(2,J);for(var fe=0;fe<te.length;++fe){var De=te.charCodeAt(fe);ce[ce.l++]=De>127?95:De}return ce[ce.l++]=0,ce}var W={0:{n:"BOF",f:Uo},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:me},222:{n:"SHEETNAMELP",f:se},65535:{n:""}},re={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:H},24:{n:"NUMBER18",f:z},25:{n:"FORMULA19",f:Q},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Pe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:Z},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:me},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}}();function CGe(e){var t={},n=e.match(Gl),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=nr(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=KN[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return t}var bGe=function(){var e=sS("t"),t=sS("rPr");function n(s){var o=s.match(e);if(!o)return{t:"s",v:""};var a={t:"s",v:si(o[1])},l=s.match(t);return l&&(a.s=CGe(l[1])),a}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(a){return a.v})}}(),xGe=function(){var t=/(\r\n|\n)/g;function n(i,s,o){var a=[];i.u&&a.push("text-decoration: underline;"),i.uval&&a.push("text-underline-style:"+i.uval+";"),i.sz&&a.push("font-size:"+i.sz+"pt;"),i.outline&&a.push("text-effect: outline;"),i.shadow&&a.push("text-shadow: auto;"),s.push('<span style="'+a.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),o.push("</"+l+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),SGe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,_Ge=/<(?:\w+:)?r>/,EGe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function m4(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=si(Zi(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=Zi(e),n&&(r.h=n4(r.t))):e.match(_Ge)&&(r.r=Zi(e),r.t=si(Zi((e.replace(EGe,"").match(SGe)||[]).join("").replace(Gl,""))),n&&(r.h=xGe(bGe(r.r)))),r):{t:""}}var TGe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,RGe=/<(?:\w+:)?(?:si|sstItem)>/g,AGe=/<\/(?:\w+:)?(?:si|sstItem)>/;function kGe(e,t){var n=[],r="";if(!e)return n;var i=e.match(TGe);if(i){r=i[2].replace(RGe,"").split(AGe);for(var s=0;s!=r.length;++s){var o=m4(r[s].trim(),t);o!=null&&(n[n.length]=o)}i=nr(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}var PGe=/^\s|\s$|[\t\n\r]/;function Pte(e,t){if(!t.bookSST)return"";var n=[Ao];n[n.length]=tn("sst",null,{xmlns:ov[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var i=e[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(PGe)&&(s+=' xml:space="preserve"'),s+=">"+Li(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function DGe(e){return[e.read_shift(4),e.read_shift(4)]}function FGe(e,t){var n=[],r=!1;return Cp(e,function(s,o,a){switch(a){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),n}function IGe(e,t){return t||(t=Rt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var MGe=WHe;function OGe(e){var t=Fc();Ht(t,159,IGe(e));for(var n=0;n<e.length;++n)Ht(t,19,MGe(e[n]));return Ht(t,160),t.end()}function Dte(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function $f(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function LGe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=$f(e,4),t.U=$f(e,4),t.W=$f(e,4),t}function NGe(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),s=[];i-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=s,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function BGe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(NGe(e));return t}function VGe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function HGe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=$f(e,4),t.U=$f(e,4),t.W=$f(e,4),t}function zGe(e){var t=HGe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Fte(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function Ite(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function GGe(e){var t=$f(e);switch(t.Minor){case 2:return[t.Minor,UGe(e)];case 3:return[t.Minor,WGe()];case 4:return[t.Minor,jGe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function UGe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=Fte(e,n),i=Ite(e,e.length-e.l);return{t:"Std",h:r,v:i}}function WGe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function jGe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(Gl,function(s){var o=nr(s);switch(xf(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(a){r[a]=o[a]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function KGe(e,t){var n={},r=n.EncryptionVersionInfo=$f(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=Fte(e,i),t-=i,n.EncryptionVerifier=Ite(e,t),n}function YGe(e){var t={},n=t.EncryptionVersionInfo=$f(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function v4(e){var t=0,n,r=Dte(e),i=r.length+1,s,o,a,l,c;for(n=Bg(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],a=(t&16384)===0?0:1,l=t<<1&32767,c=a|l,t=c^o;return t^52811}var Mte=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,a){return r(o^a)},s=function(o){for(var a=t[o.length-1],l=104,c=o.length-1;c>=0;--c)for(var u=o[c],h=0;h!=7;++h)u&64&&(a^=n[l]),u*=2,--l;return a};return function(o){for(var a=Dte(o),l=s(a),c=a.length,u=Bg(16),h=0;h!=16;++h)u[h]=0;var p,m,y;for((c&1)===1&&(p=l>>8,u[c]=i(e[0],p),--c,p=l&255,m=a[a.length-1],u[c]=i(m,p));c>0;)--c,p=l>>8,u[c]=i(a[c],p),--c,p=l&255,u[c]=i(a[c],p);for(c=15,y=15-a.length;y>0;)p=l>>8,u[c]=i(e[y],p),--c,--y,p=l&255,u[c]=i(a[c],p),--c,--y;return u}}(),XGe=function(e,t,n,r,i){i||(i=t),r||(r=Mte(e));var s,o;for(s=0;s!=t.length;++s)o=t[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},ZGe=function(e){var t=0,n=Mte(e);return function(r){var i=XGe("",r,t,n);return t=i[1],i[0]}};function qGe(e,t,n,r){var i={key:Uo(e),verificationBytes:Uo(e)};return n.password&&(i.verifier=v4(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=ZGe(n.password)),i}function QGe(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=YGe(e):r.Data=KGe(e,t),r}function JGe(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?QGe(e,t-2,r):qGe(e,n.biff>=8?t:t-2,n,r),r}var Ote=function(){function e(i,s){switch(s.type){case"base64":return t(ku(i),s);case"binary":return t(i,s);case"buffer":return t(kr&&Buffer.isBuffer(i)?i.toString("binary"):nm(i),s);case"array":return t(L0(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){var o=s||{},a=o.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,h){Array.isArray(a)&&(a[h]=[]);for(var p=/\\\w+\b/g,m=0,y,w=-1;y=p.exec(u);){switch(y[0]){case"\\cell":var b=u.slice(m,p.lastIndex-y[0].length);if(b[0]==" "&&(b=b.slice(1)),++w,b.length){var S={v:b,t:"s"};Array.isArray(a)?a[h][w]=S:a[Jn({r:h,c:w})]=S}break}m=p.lastIndex}w>c.e.c&&(c.e.c=w)}),a["!ref"]=wr(c),a}function n(i,s){return rm(e(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=oi(i["!ref"]),a,l=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=o.s.c;u<=o.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=o.s.c;u<=o.e.c;++u){var h=Jn({r:c,c:u});a=l?(i[c]||[])[u]:i[h],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(pp(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}}();function $Ge(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function cS(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function eUe(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),s=Math.min(t,n,r),o=i-s;if(o===0)return[0,0,t];var a=0,l=0,c=i+s;switch(l=o/(c>1?2-c:c),i){case t:a=((n-r)/o+6)%6;break;case n:a=(r-t)/o+2;break;case r:a=(t-n)/o+4;break}return[a/6,l,c/2]}function tUe(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],a=6*t,l;if(n!==0)switch(a|0){case 0:case 6:l=i*a,o[0]+=i,o[1]+=l;break;case 1:l=i*(2-a),o[0]+=l,o[1]+=i;break;case 2:l=i*(a-2),o[1]+=i,o[2]+=l;break;case 3:l=i*(4-a),o[1]+=l,o[2]+=i;break;case 4:l=i*(a-4),o[2]+=i,o[0]+=l;break;case 5:l=i*(6-a),o[2]+=l,o[0]+=i;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function wR(e,t){if(t===0)return e;var n=eUe($Ge(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),cS(tUe(n))}var Lte=6,nUe=15,rUe=1,Fl=Lte;function uS(e){return Math.floor((e+Math.round(128/Fl)/256)*Fl)}function dS(e){return Math.floor((e-5)/Fl*100+.5)/100}function CR(e){return Math.round((e*Fl+5)/Fl*256)/256}function UD(e){return CR(dS(uS(e)))}function y4(e){var t=Math.abs(e-UD(e)),n=Fl;if(t>.005)for(Fl=rUe;Fl<nUe;++Fl)Math.abs(e-UD(e))<=t&&(t=Math.abs(e-UD(e)),n=Fl);Fl=n}function Vg(e){e.width?(e.wpx=uS(e.width),e.wch=dS(e.wpx),e.MDW=Fl):e.wpx?(e.wch=dS(e.wpx),e.width=CR(e.wch),e.MDW=Fl):typeof e.wch=="number"&&(e.width=CR(e.wch),e.wpx=uS(e.width),e.MDW=Fl),e.customWidth&&delete e.customWidth}var iUe=96,Nte=iUe;function hS(e){return e*96/Nte}function ww(e){return e*Nte/96}var sUe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function oUe(e,t,n,r){t.Borders=[];var i={},s=!1;(e[0].match(Gl)||[]).forEach(function(o){var a=nr(o);switch(xf(a[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},a.diagonalUp&&(i.diagonalUp=xs(a.diagonalUp)),a.diagonalDown&&(i.diagonalDown=xs(a.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in borders")}})}function aUe(e,t,n,r){t.Fills=[];var i={},s=!1;(e[0].match(Gl)||[]).forEach(function(o){var a=nr(o);switch(xf(a[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":a.patternType&&(i.patternType=a.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),a.indexed&&(i.bgColor.indexed=parseInt(a.indexed,10)),a.theme&&(i.bgColor.theme=parseInt(a.theme,10)),a.tint&&(i.bgColor.tint=parseFloat(a.tint)),a.rgb&&(i.bgColor.rgb=a.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),a.theme&&(i.fgColor.theme=parseInt(a.theme,10)),a.tint&&(i.fgColor.tint=parseFloat(a.tint)),a.rgb!=null&&(i.fgColor.rgb=a.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fills")}})}function lUe(e,t,n,r){t.Fonts=[];var i={},s=!1;(e[0].match(Gl)||[]).forEach(function(o){var a=nr(o);switch(xf(a[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":a.val&&(i.name=Zi(a.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=a.val?xs(a.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=a.val?xs(a.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(a.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=a.val?xs(a.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=a.val?xs(a.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=a.val?xs(a.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=a.val?xs(a.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=a.val?xs(a.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":a.val&&(i.sz=+a.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":a.val&&(i.vertAlign=a.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":a.val&&(i.family=parseInt(a.val,10));break;case"<family/>":case"</family>":break;case"<scheme":a.val&&(i.scheme=a.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(a.val=="1")break;a.codepage=KN[parseInt(a.val,10)];break;case"<color":if(i.color||(i.color={}),a.auto&&(i.color.auto=xs(a.auto)),a.rgb)i.color.rgb=a.rgb.slice(-6);else if(a.indexed){i.color.index=parseInt(a.indexed,10);var l=h0[i.color.index];i.color.index==81&&(l=h0[1]),l||(l=h0[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else a.theme&&(i.color.theme=parseInt(a.theme,10),a.tint&&(i.color.tint=parseFloat(a.tint)),a.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=wR(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in fonts")}})}function cUe(e,t,n){t.NumberFmt=[];for(var r=lo(Xn),i=0;i<r.length;++i)t.NumberFmt[r[i]]=Xn[r[i]];var s=e[0].match(Gl);if(s)for(i=0;i<s.length;++i){var o=nr(s[i]);switch(xf(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var a=si(Zi(o.formatCode)),l=parseInt(o.numFmtId,10);if(t.NumberFmt[l]=a,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=a}Jf(a,l)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}function uUe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=tn("numFmt",null,{numFmtId:r,formatCode:Li(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=tn("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var J_=["numFmtId","fillId","fontId","borderId","xfId"],$_=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function dUe(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(Gl)||[]).forEach(function(s){var o=nr(s),a=0;switch(xf(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],a=0;a<J_.length;++a)r[J_[a]]&&(r[J_[a]]=parseInt(r[J_[a]],10));for(a=0;a<$_.length;++a)r[$_[a]]&&(r[$_[a]]=xs(r[$_[a]]));if(t.NumberFmt&&r.numFmtId>392){for(a=392;a>60;--a)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[a]){r.numFmtId=a;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};o.vertical&&(l.vertical=o.vertical),o.horizontal&&(l.horizontal=o.horizontal),o.textRotation!=null&&(l.textRotation=o.textRotation),o.indent&&(l.indent=o.indent),o.wrapText&&(l.wrapText=xs(o.wrapText)),r.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}function hUe(e){var t=[];return t[t.length]=tn("cellXfs",null),e.forEach(function(n){t[t.length]=tn("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=tn("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var fUe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,l,c){var u={};if(!a)return u;a=a.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=a.match(t))&&cUe(h,u,c),(h=a.match(i))&&lUe(h,u,l,c),(h=a.match(r))&&aUe(h,u,l,c),(h=a.match(s))&&oUe(h,u,l,c),(h=a.match(n))&&dUe(h,u,c),u}}();function Bte(e,t){var n=[Ao,tn("styleSheet",null,{xmlns:ov[0],"xmlns:vt":la.vt})],r;return e.SSF&&(r=uUe(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=hUe(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function pUe(e,t){var n=e.read_shift(2),r=Ol(e);return[n,r]}function gUe(e,t,n){n||(n=Rt(6+4*t.length)),n.write_shift(2,e),Pa(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function mUe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=QHe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(r.underline=o);var a=e.read_shift(1);a>0&&(r.family=a);var l=e.read_shift(1);switch(l>0&&(r.charset=l),e.l++,r.color=qHe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Ol(e),r}function vUe(e,t){t||(t=Rt(153)),t.write_shift(2,e.sz*20),JHe(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),mR(e.color,t);var r=0;return r=2,t.write_shift(1,r),Pa(e.name,t),t.length>t.l?t.slice(0,t.l):t}var yUe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],WD,wUe=Vl;function iU(e,t){t||(t=Rt(84)),WD||(WD=XA(yUe));var n=WD[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(mR({auto:1},t),mR({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function CUe(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}function Vte(e,t,n){n||(n=Rt(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function tb(e,t){return t||(t=Rt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var bUe=Vl;function xUe(e,t){return t||(t=Rt(51)),t.write_shift(1,0),tb(null,t),tb(null,t),tb(null,t),tb(null,t),tb(null,t),t.length>t.l?t.slice(0,t.l):t}function SUe(e,t){return t||(t=Rt(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),gR(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function _Ue(e,t,n){var r=Rt(2052);return r.write_shift(4,e),gR(t,r),gR(n,r),r.length>r.l?r.slice(0,r.l):r}function EUe(e,t,n){var r={};r.NumberFmt=[];for(var i in Xn)r.NumberFmt[i]=Xn[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return Cp(e,function(l,c,u){switch(u){case 44:r.NumberFmt[l[0]]=l[1],Jf(l[1],l[0]);break;case 43:r.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=wR(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(u),o=!0;break;case 38:s.pop(),o=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),r}function TUe(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&++n}),n!=0&&(Ht(e,615,ih(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&Ht(e,44,gUe(i,t[i]))}),Ht(e,616))}}function RUe(e){var t=1;Ht(e,611,ih(t)),Ht(e,43,vUe({sz:12,color:{theme:1},name:"Calibri",family:2})),Ht(e,612)}function AUe(e){var t=2;Ht(e,603,ih(t)),Ht(e,45,iU({patternType:"none"})),Ht(e,45,iU({patternType:"gray125"})),Ht(e,604)}function kUe(e){var t=1;Ht(e,613,ih(t)),Ht(e,46,xUe()),Ht(e,614)}function PUe(e){var t=1;Ht(e,626,ih(t)),Ht(e,47,Vte({numFmtId:0},65535)),Ht(e,627)}function DUe(e,t){Ht(e,617,ih(t.length)),t.forEach(function(n){Ht(e,47,Vte(n,0))}),Ht(e,618)}function FUe(e){var t=1;Ht(e,619,ih(t)),Ht(e,48,SUe({xfId:0,name:"Normal"})),Ht(e,620)}function IUe(e){var t=0;Ht(e,505,ih(t)),Ht(e,506)}function MUe(e){var t=0;Ht(e,508,_Ue(t,"TableStyleMedium9","PivotStyleMedium4")),Ht(e,509)}function OUe(e,t){var n=Fc();return Ht(n,278),TUe(n,e.SSF),RUe(n),AUe(n),kUe(n),PUe(n),DUe(n,t.cellXfs),FUe(n),IUe(n),MUe(n),Ht(n,279),n.end()}var LUe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function NUe(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(Gl)||[]).forEach(function(i){var s=nr(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[LUe.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function BUe(){}function VUe(){}var HUe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,zUe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,GUe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function UUe(e,t,n){t.themeElements={};var r;[["clrScheme",HUe,NUe],["fontScheme",zUe,BUe],["fmtScheme",GUe,VUe]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var WUe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Hte(e,t){(!e||e.length===0)&&(e=w4());var n,r={};if(!(n=e.match(WUe)))throw new Error("themeElements not found in theme");return UUe(n[0],r,t),r.raw=e,r}function w4(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[Ao];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function jUe(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var s=e.slice(e.l);e.l=r;var o;try{o=Fee(s,{type:"array"})}catch{return}var a=gu(o,"theme/theme/theme1.xml",!0);if(a)return Hte(a,n)}}function KUe(e){return e.read_shift(4)}function YUe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=XUe(e,4);break;case 2:t.xclrValue=wte(e);break;case 3:t.xclrValue=KUe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function XUe(e,t){return Vl(e,t)}function ZUe(e,t){return Vl(e,t)}function qUe(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=YUe(e);break;case 6:r[1]=ZUe(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function QUe(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),s=[];i-- >0;)s.push(qUe(e,n-e.l));return{ixfe:r,ext:s}}function JUe(e,t){t.forEach(function(n){n[0]})}function $Ue(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ol(e)}}function e9e(e){var t=Rt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Pa(e.name,t),t.slice(0,t.l)}function t9e(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function n9e(e){var t=Rt(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function r9e(e,t){var n=Rt(8+2*t.length);return n.write_shift(4,e),Pa(t,n),n.slice(0,n.l)}function i9e(e){return e.l+=4,e.read_shift(4)!=0}function s9e(e,t){var n=Rt(8);return n.write_shift(4,e),n.write_shift(4,1),n}function o9e(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,a=2;return Cp(e,function(l,c,u){switch(u){case 335:r.Types.push({name:l.name});break;case 51:l.forEach(function(h){a==1?r.Cell.push({type:r.Types[h[0]-1].name,index:h[1]}):a==0&&r.Value.push({type:r.Types[h[0]-1].name,index:h[1]})});break;case 337:a=l?1:0;break;case 338:a=2;break;case 35:s.push(u),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!c.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function a9e(){var e=Fc();return Ht(e,332),Ht(e,334,ih(1)),Ht(e,335,e9e({name:"XLDAPR",version:12e4,flags:3496657072})),Ht(e,336),Ht(e,339,r9e(1,"XLDAPR")),Ht(e,52),Ht(e,35,ih(514)),Ht(e,4096,ih(0)),Ht(e,4097,od(1)),Ht(e,36),Ht(e,53),Ht(e,340),Ht(e,337,s9e(1)),Ht(e,51,n9e([[1,0]])),Ht(e,338),Ht(e,333),e.end()}function l9e(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,s=2,o;return e.replace(Gl,function(a){var l=nr(a);switch(xf(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==l.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[l.t-1].name,index:+l.v}):s==0&&r.Value.push({type:r.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+l.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return a}),r}function zte(){var e=[Ao];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function c9e(e){var t=[];if(!e)return t;var n=1;return(e.match(Gl)||[]).forEach(function(r){var i=nr(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function u9e(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Jn(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function d9e(e,t,n){var r=[];return Cp(e,function(s,o,a){switch(a){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+a.toString(16))}}),r}function h9e(e,t,n,r){if(!e)return e;var i=r||{},s=!1;Cp(e,function(a,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function f9e(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}var my=1024;function Gte(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[tn("xml",null,{"xmlns:v":uu.v,"xmlns:o":uu.o,"xmlns:x":uu.x,"xmlns:mv":uu.mv}).replace(/\/>/,">"),tn("o:shapelayout",tn("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),tn("v:shapetype",[tn("v:stroke",null,{joinstyle:"miter"}),tn("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];my<e*1e3;)my+=1e3;return t.forEach(function(s){var o=Us(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var l=a.type=="gradient"?tn("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=tn("v:fill",l,a),u={on:"t",obscured:"t"};++my,i=i.concat(["<v:shape"+oS({id:"_x0000_s"+my,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,tn("v:shadow",null,u),tn("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",tl("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),tl("x:AutoFill","False"),tl("x:Row",String(o.r)),tl("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function sU(e,t,n,r){var i=Array.isArray(e),s;t.forEach(function(o){var a=Us(o.ref);if(i?(e[a.r]||(e[a.r]=[]),s=e[a.r][a.c]):s=e[o.ref],!s){s={t:"z"},i?e[a.r][a.c]=s:e[o.ref]=s;var l=oi(e["!ref"]||"BDWGO1000001:A1");l.s.r>a.r&&(l.s.r=a.r),l.e.r<a.r&&(l.e.r=a.r),l.s.c>a.c&&(l.s.c=a.c),l.e.c<a.c&&(l.e.c=a.c);var c=wr(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var u={a:o.author,t:o.t,r:o.r,T:n};o.h&&(u.h=o.h);for(var h=s.c.length-1;h>=0;--h){if(!n&&s.c[h].T)return;n&&!s.c[h].T&&s.c.splice(h,1)}if(n&&r){for(h=0;h<r.length;++h)if(u.a==r[h].id){u.a=r[h].name||u.a;break}}s.c.push(u)})}function p9e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?author[^>]*>(.*)/);a&&n.push(a[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var a=o.match(/<(?:\w+:)?comment[^>]*>/);if(a){var l=nr(a[0]),c={author:l.authorId&&n[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Us(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var h=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!h&&!!h[1]&&m4(h[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function Ute(e){var t=[Ao,tn("comments",null,{xmlns:ov[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(i){var s=Li(i.a);n.indexOf(s)==-1&&(n.push(s),t.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(Li(l.a))),s.push(l.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)t.push(tl("t",Li(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;t.push(tl("t",Li(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function g9e(e,t){var n=[],r=!1,i={},s=0;return e.replace(Gl,function(a,l){var c=nr(a);switch(xf(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=l+a.length;break;case"</text>":i.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return a}),n}function m9e(e,t,n){var r=[Ao,tn("ThreadedComments",null,{xmlns:la.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};a==0?s=l.id:l.parentId=s,o.ID=l.id,o.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(tn("threadedComment",tl("text",o.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function v9e(e,t){var n=[],r=!1;return e.replace(Gl,function(s){var o=nr(s);switch(xf(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function y9e(e){var t=[Ao,tn("personList",null,{xmlns:la.TCMNT,"xmlns:x":ov[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(tn("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function w9e(e){var t={};t.iauthor=e.read_shift(4);var n=uv(e);return t.rfx=n.s,t.ref=Jn(n.s),e.l+=16,t}function C9e(e,t){return t==null&&(t=Rt(36)),t.write_shift(4,e[1].iauthor),Yw(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var b9e=Ol;function x9e(e){return Pa(e.slice(0,54))}function S9e(e,t){var n=[],r=[],i={},s=!1;return Cp(e,function(a,l,c){switch(c){case 632:r.push(a);break;case 635:i=a;break;case 637:i.t=a.t,i.h=a.h,i.r=a.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}function _9e(e){var t=Fc(),n=[];return Ht(t,628),Ht(t,630),e.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Ht(t,632,x9e(i.a)))})}),Ht(t,631),Ht(t,633),e.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Us(r[0]),e:Us(r[0])};Ht(t,635,C9e([s,i])),i.t&&i.t.length>0&&Ht(t,637,KHe(i)),Ht(t,636),delete i.iauthor})}),Ht(t,634),Ht(t,629),t.end()}var E9e="application/vnd.ms-office.vbaProject";function T9e(e){var t=Hn.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Hn.utils.cfb_add(t,i,e.FileIndex[r].content)}}),Hn.write(t)}function R9e(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Hn.utils.cfb_add(e,i,t.FileIndex[r].content)}})}var Wte=["xlsb","xlsm","xlam","biff8","xla"];function A9e(){return{"!type":"dialog"}}function k9e(){return{"!type":"dialog"}}function P9e(){return{"!type":"macro"}}function D9e(){return{"!type":"macro"}}var Vy=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,s,o){var a=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=o.length>0?parseInt(o,10)|0:0;return a?u+=t.c:--u,l?c+=t.r:--c,i+(a?"":"$")+Gs(u)+(l?"":"$")+Ro(c)}return function(i,s){return t=s,i.replace(e,n)}}(),C4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,b4=function(){return function(t,n){return t.replace(C4,function(r,i,s,o,a,l){var c=a4(o)-(s?0:n.c),u=o4(l)-(a?0:n.r),h=u==0?"":a?u+1:"["+u+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+h+"C"+p})}}();function jte(e,t){return e.replace(C4,function(n,r,i,s,o,a){return r+(i=="$"?i+s:Gs(a4(s)+t.c))+(o=="$"?o+a:Ro(o4(a)+t.r))})}function F9e(e,t,n){var r=Lc(t),i=r.s,s=Us(n),o={r:s.r-i.r,c:s.c-i.c};return jte(e,o)}function I9e(e){return e.length!=1}function oU(e){return e.replace(/_xlfn\./g,"")}function Ho(e){e.l+=1}function Hg(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function Kte(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return Yte(e);n.biff==12&&(r=4)}var i=e.read_shift(r),s=e.read_shift(r),o=Hg(e),a=Hg(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function Yte(e){var t=Hg(e),n=Hg(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function M9e(e,t,n){if(n.biff<8)return Yte(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),s=Hg(e),o=Hg(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Xte(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return O9e(e);var r=e.read_shift(n&&n.biff==12?4:2),i=Hg(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function O9e(e){var t=Hg(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function L9e(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function N9e(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return B9e(e);var i=e.read_shift(r>=12?4:2),s=e.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function B9e(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function V9e(e,t,n){var r=(e[e.l++]&96)>>5,i=Kte(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function H9e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var o=Kte(e,s,n);return[r,i,o]}function z9e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function G9e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,i]}function U9e(e,t,n){var r=(e[e.l++]&96)>>5,i=M9e(e,t-1,n);return[r,i]}function W9e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function aU(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function j9e(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function K9e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function Y9e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function X9e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Z9e(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function Zte(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function q9e(e){return e.read_shift(2),Zte(e)}function Q9e(e){return e.read_shift(2),Zte(e)}function J9e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=Xte(e,0,n);return[r,i]}function $9e(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=N9e(e,0,n);return[r,i]}function eWe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=Xte(e,0,n);return[r,i,s]}function tWe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[i7e[i],Jte[i],r]}function nWe(e,t,n){var r=e[e.l++],i=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:rWe(e);return[i,(s[0]===0?Jte:r7e)[s[1]]]}function rWe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function iWe(e,t,n){e.l+=n&&n.biff==2?3:4}function sWe(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function oWe(e){return e.l++,bp[e.read_shift(1)]}function aWe(e){return e.l++,e.read_shift(2)}function lWe(e){return e.l++,e.read_shift(1)!==0}function cWe(e){return e.l++,Il(e)}function uWe(e,t,n){return e.l++,T1(e,t-1,n)}function dWe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Co(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=bp[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=Il(e);break;case 2:n[1]=dv(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function hWe(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?uv:QA)(e));return i}function fWe(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=dWe(e,n.biff);return o}function pWe(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function gWe(e,t,n){if(n.biff==5)return mWe(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),s=e.read_shift(4);return[r,i,s]}function mWe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function vWe(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function yWe(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function wWe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function CWe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,i]}var bWe=Vl,xWe=Vl,SWe=Vl;function A1(e,t,n){return e.l+=2,[L9e(e)]}function x4(e){return e.l+=6,[]}var _We=A1,EWe=x4,TWe=x4,RWe=A1;function qte(e){return e.l+=2,[Uo(e),e.read_shift(2)&1]}var AWe=A1,kWe=qte,PWe=x4,DWe=A1,FWe=A1,IWe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function MWe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),s=e.read_shift(2),o=IWe[n>>2&31];return{ixti:t,coltype:n&3,rt:o,idx:r,c:i,C:s}}function OWe(e){return e.l+=2,[e.read_shift(4)]}function LWe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function NWe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function BWe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function VWe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function HWe(e){return e.l+=4,[0,0]}var lU={1:{n:"PtgExp",f:sWe},2:{n:"PtgTbl",f:SWe},3:{n:"PtgAdd",f:Ho},4:{n:"PtgSub",f:Ho},5:{n:"PtgMul",f:Ho},6:{n:"PtgDiv",f:Ho},7:{n:"PtgPower",f:Ho},8:{n:"PtgConcat",f:Ho},9:{n:"PtgLt",f:Ho},10:{n:"PtgLe",f:Ho},11:{n:"PtgEq",f:Ho},12:{n:"PtgGe",f:Ho},13:{n:"PtgGt",f:Ho},14:{n:"PtgNe",f:Ho},15:{n:"PtgIsect",f:Ho},16:{n:"PtgUnion",f:Ho},17:{n:"PtgRange",f:Ho},18:{n:"PtgUplus",f:Ho},19:{n:"PtgUminus",f:Ho},20:{n:"PtgPercent",f:Ho},21:{n:"PtgParen",f:Ho},22:{n:"PtgMissArg",f:Ho},23:{n:"PtgStr",f:uWe},26:{n:"PtgSheet",f:LWe},27:{n:"PtgEndSheet",f:NWe},28:{n:"PtgErr",f:oWe},29:{n:"PtgBool",f:lWe},30:{n:"PtgInt",f:aWe},31:{n:"PtgNum",f:cWe},32:{n:"PtgArray",f:W9e},33:{n:"PtgFunc",f:tWe},34:{n:"PtgFuncVar",f:nWe},35:{n:"PtgName",f:pWe},36:{n:"PtgRef",f:J9e},37:{n:"PtgArea",f:V9e},38:{n:"PtgMemArea",f:vWe},39:{n:"PtgMemErr",f:bWe},40:{n:"PtgMemNoMem",f:xWe},41:{n:"PtgMemFunc",f:yWe},42:{n:"PtgRefErr",f:wWe},43:{n:"PtgAreaErr",f:z9e},44:{n:"PtgRefN",f:$9e},45:{n:"PtgAreaN",f:U9e},46:{n:"PtgMemAreaN",f:BWe},47:{n:"PtgMemNoMemN",f:VWe},57:{n:"PtgNameX",f:gWe},58:{n:"PtgRef3d",f:eWe},59:{n:"PtgArea3d",f:H9e},60:{n:"PtgRefErr3d",f:CWe},61:{n:"PtgAreaErr3d",f:G9e},255:{}},zWe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},GWe={1:{n:"PtgElfLel",f:qte},2:{n:"PtgElfRw",f:DWe},3:{n:"PtgElfCol",f:_We},6:{n:"PtgElfRwV",f:FWe},7:{n:"PtgElfColV",f:RWe},10:{n:"PtgElfRadical",f:AWe},11:{n:"PtgElfRadicalS",f:PWe},13:{n:"PtgElfColS",f:EWe},15:{n:"PtgElfColSV",f:TWe},16:{n:"PtgElfRadicalLel",f:kWe},25:{n:"PtgList",f:MWe},29:{n:"PtgSxName",f:OWe},255:{}},UWe={0:{n:"PtgAttrNoop",f:HWe},1:{n:"PtgAttrSemi",f:Z9e},2:{n:"PtgAttrIf",f:Y9e},4:{n:"PtgAttrChoose",f:j9e},8:{n:"PtgAttrGoto",f:K9e},16:{n:"PtgAttrSum",f:iWe},32:{n:"PtgAttrBaxcel",f:aU},33:{n:"PtgAttrBaxcel",f:aU},64:{n:"PtgAttrSpace",f:q9e},65:{n:"PtgAttrSpaceSemi",f:Q9e},128:{n:"PtgAttrIfError",f:X9e},255:{}};function k1(e,t,n,r){if(r.biff<8)return Vl(e,t);for(var i=e.l+t,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=fWe(e,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=hWe(e,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=e.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return t=i-e.l,t!==0&&s.push(Vl(e,t)),s}function P1(e,t,n){for(var r=e.l+t,i,s,o=[];r!=e.l;)t=r-e.l,s=e[e.l],i=lU[s]||lU[zWe[s]],(s===24||s===25)&&(i=(s===24?GWe:UWe)[e[e.l+1]]),!i||!i.f?Vl(e,t):o.push([i.n,i.f(e,t,n)]);return o}function WWe(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var jWe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function KWe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Qte(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function cU(e,t,n){var r=Qte(e,t,n);return r=="#REF"?r:KWe(r,n)}function Dl(e,t,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},a=[],l,c,u,h=0,p=0,m,y="";if(!e[0]||!e[0][0])return"";for(var w=-1,b="",S=0,E=e[0].length;S<E;++S){var _=e[0][S];switch(_[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=a.pop(),c=a.pop(),w>=0){switch(e[0][w][1][0]){case 0:b=io(" ",e[0][w][1][1]);break;case 1:b=io("\r",e[0][w][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}c=c+b,w=-1}a.push(c+jWe[_[0]]+l);break;case"PtgIsect":l=a.pop(),c=a.pop(),a.push(c+" "+l);break;case"PtgUnion":l=a.pop(),c=a.pop(),a.push(c+","+l);break;case"PtgRange":l=a.pop(),c=a.pop(),a.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=ex(_[1][1],o,i),a.push(tx(u,s));break;case"PtgRefN":u=n?ex(_[1][1],n,i):_[1][1],a.push(tx(u,s));break;case"PtgRef3d":h=_[1][1],u=ex(_[1][2],o,i),y=cU(r,h,i),a.push(y+"!"+tx(u,s));break;case"PtgFunc":case"PtgFuncVar":var N=_[1][0],V=_[1][1];N||(N=0),N&=127;var M=N==0?[]:a.slice(-N);a.length-=N,V==="User"&&(V=M.shift()),a.push(V+"("+M.join(",")+")");break;case"PtgBool":a.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(_[1]);break;case"PtgNum":a.push(String(_[1]));break;case"PtgStr":a.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(_[1]);break;case"PtgAreaN":m=BG(_[1][1],n?{s:n}:o,i),a.push(HD(m,i));break;case"PtgArea":m=BG(_[1][1],o,i),a.push(HD(m,i));break;case"PtgArea3d":h=_[1][1],m=_[1][2],y=cU(r,h,i),a.push(y+"!"+HD(m,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=_[1][2];var O=(r.names||[])[p-1]||(r[0]||[])[p],z=O?O.Name:"SH33TJSNAME"+String(p);z&&z.slice(0,6)=="_xlfn."&&!i.xlfn&&(z=z.slice(6)),a.push(z);break;case"PtgNameX":var H=_[1][1];p=_[1][2];var X;if(i.biff<=5)H<0&&(H=-H),r[H]&&(X=r[H][p]);else{var Q="";if(((r[H]||[])[0]||[])[0]==14849||(((r[H]||[])[0]||[])[0]==1025?r[H][p]&&r[H][p].itab>0&&(Q=r.SheetNames[r[H][p].itab-1]+"!"):Q=r.SheetNames[p-1]+"!"),r[H]&&r[H][p])Q+=r[H][p].Name;else if(r[0]&&r[0][p])Q+=r[0][p].Name;else{var U=(Qte(r,H,i)||"").split(";;");U[p-1]?Q=U[p-1]:Q+="SH33TJSERRX"}a.push(Q);break}X||(X={Name:"SH33TJSERRY"}),a.push(X.Name);break;case"PtgParen":var Z="(",q=")";if(w>=0){switch(b="",e[0][w][1][0]){case 2:Z=io(" ",e[0][w][1][1])+Z;break;case 3:Z=io("\r",e[0][w][1][1])+Z;break;case 4:q=io(" ",e[0][w][1][1])+q;break;case 5:q=io("\r",e[0][w][1][1])+q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}w=-1}a.push(Z+a.pop()+q);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var me={c:n.c,r:n.r};if(r.sharedf[Jn(u)]){var se=r.sharedf[Jn(u)];a.push(Dl(se,o,me,r,i))}else{var ue=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){a.push(Dl(c[1],o,me,r,i)),ue=!0;break}ue||a.push(_[1])}break;case"PtgArray":a.push("{"+WWe(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var Pe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&Pe.indexOf(e[0][S][0])==-1){_=e[0][w];var ye=!0;switch(_[1][0]){case 4:ye=!1;case 0:b=io(" ",_[1][1]);break;case 5:ye=!1;case 1:b=io("\r",_[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}a.push((ye?b:"")+a.pop()+(ye?"":b)),w=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function YWe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],Vl(e,t-2)];var a=P1(e,o,n);return t!==o+i&&(s=k1(e,t-o-i,a,n)),e.l=r,[a,s]}function XWe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,s,o=e.read_shift(i);if(o==65535)return[[],Vl(e,t-2)];var a=P1(e,o,n);return t!==o+i&&(s=k1(e,t-o-i,a,n)),e.l=r,[a,s]}function ZWe(e,t,n,r){var i=e.l+t,s=P1(e,r,n),o;return i!==e.l&&(o=k1(e,i-e.l,s,n)),[s,o]}function qWe(e,t,n){var r=e.l+t,i,s=e.read_shift(2),o=P1(e,s,n);return s==65535?[[],Vl(e,t-2)]:(t!==s+2&&(i=k1(e,r-s-2,o,n)),[o,i])}function QWe(e){var t;if(Wf(e,e.l+6)!==65535)return[Il(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function JWe(e){if(e==null){var t=Rt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return N0(e);return N0(0)}function jD(e,t,n){var r=e.l+t,i=Sf(e);n.biff==2&&++e.l;var s=QWe(e),o=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var a=XWe(e,r-e.l,n);return{cell:i,val:s[0],formula:a,shared:o>>3&1,tt:s[1]}}function $We(e,t,n,r,i){var s=V0(t,n,i),o=JWe(e.v),a=Rt(6),l=33;a.write_shift(2,l),a.write_shift(4,0);for(var c=Rt(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var h=ka([s,o,a,c]);return h}function JA(e,t,n){var r=e.read_shift(4),i=P1(e,r,n),s=e.read_shift(4),o=s>0?k1(e,s,i,n):null;return[i,o]}var e7e=JA,$A=JA,t7e=JA,n7e=JA,r7e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Jte={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},i7e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function uU(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function s7e(e){var t="of:="+e.replace(C4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function KD(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function o7e(e){return e.replace(/\./,"!")}var rx={},Hy={},ix=typeof Map<"u";function S4(e,t,n){var r=0,i=e.length;if(n){if(ix?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var s=ix?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t},e.Count++,e.Unique++,n&&(ix?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function ek(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Fl=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=dS(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=CR(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function g0(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function im(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],i=60,s=e.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){Jf(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}}for(i=0;i!=s;++i)if(e[i].numFmtId===r)return i;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function $te(e,t,n,r,i,s){try{r.cellNF&&(e.z=Xn[t])}catch(a){if(r.WTF)throw a}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Es(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(Xn[t]==null&&Jf(rHe[t]||"General",t),e.t==="e")e.w=e.w||bp[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=iS(e.v);else if(e.t==="d"){var o=ua(e.v);(o|0)===o?e.w=o.toString(10):e.w=iS(o)}else{if(e.v===void 0)return"";e.w=O0(e.v,Hy)}else e.t==="d"?e.w=Ed(t,ua(e.v),Hy):e.w=Ed(t,e.v,Hy)}catch(a){if(r.WTF)throw a}if(r.cellStyles&&n!=null)try{e.s=s.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=wR(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=wR(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(a){if(r.WTF&&s.Fills)throw a}}}function a7e(e,t,n){if(e&&e["!ref"]){var r=oi(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function l7e(e,t){var n=oi(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=wr(n))}var c7e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,u7e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,d7e=/<(?:\w:)?hyperlink [^>]*>/mg,h7e=/"(\w*:\w*)"/,f7e=/<(?:\w:)?col\b[^>]*[\/]?>/g,p7e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,g7e=/<(?:\w:)?pageMargins[^>]*\/>/g,ene=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,m7e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,v7e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function y7e(e,t,n,r,i,s,o){if(!e)return e;r||(r={"!id":{}});var a=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",h=e.match(u7e);h?(c=e.slice(0,h.index),u=e.slice(h.index+h[0].length)):c=u=e;var p=c.match(ene);p?_4(p[0],a,i,n):(p=c.match(m7e))&&C7e(p[0],p[1]||"",a,i,n);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=c.slice(m,m+50).match(h7e);y&&l7e(a,y[1])}var w=c.match(v7e);w&&w[1]&&I7e(w[1],i);var b=[];if(t.cellStyles){var S=c.match(f7e);S&&A7e(b,S)}h&&L7e(h[1],a,t,l,s,o);var E=u.match(p7e);E&&(a["!autofilter"]=P7e(E[0]));var _=[],N=u.match(c7e);if(N)for(m=0;m!=N.length;++m)_[m]=oi(N[m].slice(N[m].indexOf('"')+1));var V=u.match(d7e);V&&E7e(a,V,r);var M=u.match(g7e);if(M&&(a["!margins"]=T7e(nr(M[0]))),!a["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(a["!ref"]=wr(l)),t.sheetRows>0&&a["!ref"]){var O=oi(a["!ref"]);t.sheetRows<=+O.e.r&&(O.e.r=t.sheetRows-1,O.e.r>l.e.r&&(O.e.r=l.e.r),O.e.r<O.s.r&&(O.s.r=O.e.r),O.e.c>l.e.c&&(O.e.c=l.e.c),O.e.c<O.s.c&&(O.s.c=O.e.c),a["!fullref"]=a["!ref"],a["!ref"]=wr(O))}return b.length>0&&(a["!cols"]=b),_.length>0&&(a["!merges"]=_),a}function w7e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+wr(e[n])+'"/>';return t+"</mergeCells>"}function _4(e,t,n,r){var i=nr(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=si(Zi(i.codeName)))}function C7e(e,t,n,r,i){_4(e.slice(0,e.indexOf(">")),n,r,i)}function b7e(e,t,n,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,o.codeName=Kh(Li(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),a=(a||"")+tn("outlinePr",null,c)}!s&&!a||(i[i.length]=tn("sheetPr",a,o))}var x7e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],S7e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _7e(e){var t={sheet:1};return x7e.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),S7e.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=v4(e.password).toString(16).toUpperCase()),tn("sheetProtection",null,t)}function E7e(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var s=nr(Zi(t[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+si(s.location))):(s.Target="#"+si(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var a=oi(s.ref),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var u=Jn({c,r:l});r?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}function T7e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function R7e(e){return g0(e),tn("pageMargins",null,e)}function A7e(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=nr(t[r],!0);i.hidden&&(i.hidden=xs(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,y4(i.width)),Vg(i);s<=o;)e[s++]=Ts(i)}}function k7e(e,t){for(var n=["<cols>"],r,i=0;i!=t.length;++i)(r=t[i])&&(n[n.length]=tn("col",null,ek(i,r)));return n[n.length]="</cols>",n.join("")}function P7e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function D7e(e,t,n,r){var i=typeof e.ref=="string"?e.ref:wr(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,o=Lc(i);o.s.r==o.e.r&&(o.e.r=Lc(t["!ref"]).e.r,i=wr(o));for(var a=0;a<s.length;++a){var l=s[a];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),tn("autoFilter",null,{ref:i})}var F7e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function I7e(e,t){t.Views||(t.Views=[{}]),(e.match(F7e)||[]).forEach(function(n,r){var i=nr(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),xs(i.rightToLeft)&&(t.Views[r].RTL=!0)})}function M7e(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),tn("sheetViews",tn("sheetView",null,i),{})}function O7e(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",s=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=bp[e.v];break;case"d":r&&r.cellDates?i=Es(e.v,-1).toISOString():(e=Ts(e),e.t="n",i=""+(e.v=ua(Es(e.v)))),typeof e.z>"u"&&(e.z=Xn[14]);break;default:i=e.v;break}var a=tl("v",Li(i)),l={r:t},c=im(r.cellXfs,e,r);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=tl("v",""+S4(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=s&&(e.t=s,e.v=o),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=tn("f",Li(e.f),u)+(e.v!=null?a:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),tn("c",a,l)}var L7e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=sS("v"),o=sS("f");return function(l,c,u,h,p,m){for(var y=0,w="",b=[],S=[],E=0,_=0,N=0,V="",M,O,z=0,H=0,X,Q,U=0,Z=0,q=Array.isArray(m.CellXf),me,se=[],ue=[],Pe=Array.isArray(c),ye=[],W={},re=!1,te=!!u.sheetStubs,J=l.split(t),ce=0,fe=J.length;ce!=fe;++ce){w=J[ce].trim();var De=w.length;if(De!==0){var at=0;e:for(y=0;y<De;++y)switch(w[y]){case">":if(w[y-1]!="/"){++y;break e}if(u&&u.cellStyles){if(O=nr(w.slice(at,y),!0),z=O.r!=null?parseInt(O.r,10):z+1,H=-1,u.sheetRows&&u.sheetRows<z)continue;W={},re=!1,O.ht&&(re=!0,W.hpt=parseFloat(O.ht),W.hpx=ww(W.hpt)),O.hidden=="1"&&(re=!0,W.hidden=!0),O.outlineLevel!=null&&(re=!0,W.level=+O.outlineLevel),re&&(ye[z-1]=W)}break;case"<":at=y;break}if(at>=y)break;if(O=nr(w.slice(at,y),!0),z=O.r!=null?parseInt(O.r,10):z+1,H=-1,!(u.sheetRows&&u.sheetRows<z)){h.s.r>z-1&&(h.s.r=z-1),h.e.r<z-1&&(h.e.r=z-1),u&&u.cellStyles&&(W={},re=!1,O.ht&&(re=!0,W.hpt=parseFloat(O.ht),W.hpx=ww(W.hpt)),O.hidden=="1"&&(re=!0,W.hidden=!0),O.outlineLevel!=null&&(re=!0,W.level=+O.outlineLevel),re&&(ye[z-1]=W)),b=w.slice(y).split(e);for(var je=0;je!=b.length&&b[je].trim().charAt(0)=="<";++je);for(b=b.slice(je),y=0;y!=b.length;++y)if(w=b[y].trim(),w.length!==0){if(S=w.match(n),E=y,_=0,N=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,S!=null&&S.length===2){for(E=0,V=S[1],_=0;_!=V.length&&!((N=V.charCodeAt(_)-64)<1||N>26);++_)E=26*E+N;--E,H=E}else++H;for(_=0;_!=w.length&&w.charCodeAt(_)!==62;++_);if(++_,O=nr(w.slice(0,_),!0),O.r||(O.r=Jn({r:z-1,c:H})),V=w.slice(_),M={t:""},(S=V.match(s))!=null&&S[1]!==""&&(M.v=si(S[1])),u.cellFormula){if((S=V.match(o))!=null&&S[1]!==""){if(M.f=si(Zi(S[1])).replace(/\r\n/g,`
`),u.xlfn||(M.f=oU(M.f)),S[0].indexOf('t="array"')>-1)M.F=(V.match(i)||[])[1],M.F.indexOf(":")>-1&&se.push([oi(M.F),M.F]);else if(S[0].indexOf('t="shared"')>-1){Q=nr(S[0]);var qe=si(Zi(S[1]));u.xlfn||(qe=oU(qe)),ue[parseInt(Q.si,10)]=[Q,qe,O.r]}}else(S=V.match(/<f[^>]*\/>/))&&(Q=nr(S[0]),ue[Q.si]&&(M.f=F9e(ue[Q.si][1],ue[Q.si][2],O.r)));var et=Us(O.r);for(_=0;_<se.length;++_)et.r>=se[_][0].s.r&&et.r<=se[_][0].e.r&&et.c>=se[_][0].s.c&&et.c<=se[_][0].e.c&&(M.F=se[_][1])}if(O.t==null&&M.v===void 0)if(M.f||M.F)M.v=0,M.t="n";else if(te)M.t="z";else continue;else M.t=O.t||"n";switch(h.s.c>H&&(h.s.c=H),h.e.c<H&&(h.e.c=H),M.t){case"n":if(M.v==""||M.v==null){if(!te)continue;M.t="z"}else M.v=parseFloat(M.v);break;case"s":if(typeof M.v>"u"){if(!te)continue;M.t="z"}else X=rx[parseInt(M.v,10)],M.v=X.t,M.r=X.r,u.cellHTML&&(M.h=X.h);break;case"str":M.t="s",M.v=M.v!=null?Zi(M.v):"",u.cellHTML&&(M.h=n4(M.v));break;case"inlineStr":S=V.match(r),M.t="s",S!=null&&(X=m4(S[1]))?(M.v=X.t,u.cellHTML&&(M.h=X.h)):M.v="";break;case"b":M.v=xs(M.v);break;case"d":u.cellDates?M.v=Es(M.v,1):(M.v=ua(Es(M.v,1)),M.t="n");break;case"e":(!u||u.cellText!==!1)&&(M.w=M.v),M.v=nte[M.v];break}if(U=Z=0,me=null,q&&O.s!==void 0&&(me=m.CellXf[O.s],me!=null&&(me.numFmtId!=null&&(U=me.numFmtId),u.cellStyles&&me.fillId!=null&&(Z=me.fillId))),$te(M,U,Z,u,p,m),u.cellDates&&q&&M.t=="n"&&Ww(Xn[U])&&(M.t="d",M.v=qA(M.v)),O.cm&&u.xlmeta){var Et=(u.xlmeta.Cell||[])[+O.cm-1];Et&&Et.type=="XLDAPR"&&(M.D=!0)}if(Pe){var Se=Us(O.r);c[Se.r]||(c[Se.r]=[]),c[Se.r][Se.c]=M}else c[O.r]=M}}}}ye.length>0&&(c["!rows"]=ye)}}();function N7e(e,t,n,r){var i=[],s=[],o=oi(e["!ref"]),a="",l,c="",u=[],h=0,p=0,m=e["!rows"],y=Array.isArray(e),w={r:c},b,S=-1;for(p=o.s.c;p<=o.e.c;++p)u[p]=Gs(p);for(h=o.s.r;h<=o.e.r;++h){for(s=[],c=Ro(h),p=o.s.c;p<=o.e.c;++p){l=u[p]+c;var E=y?(e[h]||[])[p]:e[l];E!==void 0&&(a=O7e(E,l,e,t))!=null&&s.push(a)}(s.length>0||m&&m[h])&&(w={r:c},m&&m[h]&&(b=m[h],b.hidden&&(w.hidden=1),S=-1,b.hpx?S=hS(b.hpx):b.hpt&&(S=b.hpt),S>-1&&(w.ht=S,w.customHeight=1),b.level&&(w.outlineLevel=b.level)),i[i.length]=tn("row",s.join(""),w))}if(m)for(;h<m.length;++h)m&&m[h]&&(w={r:h+1},b=m[h],b.hidden&&(w.hidden=1),S=-1,b.hpx?S=hS(b.hpx):b.hpt&&(S=b.hpt),S>-1&&(w.ht=S,w.customHeight=1),b.level&&(w.outlineLevel=b.level),i[i.length]=tn("row","",w));return i.join("")}function tne(e,t,n,r){var i=[Ao,tn("worksheet",null,{xmlns:ov[0],"xmlns:r":la.r})],s=n.SheetNames[e],o=0,a="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=oi(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=wr(u)}r||(r={}),l["!comments"]=[];var h=[];b7e(l,n,e,t,i),i[i.length]=tn("dimension",null,{ref:c}),i[i.length]=M7e(l,t,e,n),t.sheetFormat&&(i[i.length]=tn("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=k7e(l,l["!cols"])),i[o=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(a=N7e(l,t),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),l["!protect"]&&(i[i.length]=_7e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=D7e(l["!autofilter"],l,n,e)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=w7e(l["!merges"]));var p=-1,m,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(w){w[1].Target&&(m={ref:w[0]},w[1].Target.charAt(0)!="#"&&(y=Oi(r,-1,Li(w[1].Target).replace(/#.*$/,""),Or.HLINK),m["r:id"]="rId"+y),(p=w[1].Target.indexOf("#"))>-1&&(m.location=Li(w[1].Target.slice(p+1))),w[1].Tooltip&&(m.tooltip=Li(w[1].Tooltip)),i[i.length]=tn("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=R7e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=tl("ignoredErrors",tn("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(y=Oi(r,-1,"../drawings/drawing"+(e+1)+".xml",Or.DRAW),i[i.length]=tn("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=h),l["!comments"].length>0&&(y=Oi(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Or.VML),i[i.length]=tn("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function B7e(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function V7e(e,t,n){var r=Rt(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;i.hpx?s=hS(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,p=-1,m=u<<10;m<u+1<<10;++m){c.c=m;var y=Array.isArray(n)?(n[c.r]||[])[c.c]:n[Jn(c)];y&&(h<0&&(h=m),p=m)}h<0||(++a,r.write_shift(4,h),r.write_shift(4,p))}var w=r.l;return r.l=l,r.write_shift(4,a),r.l=w,r.length>r.l?r.slice(0,r.l):r}function H7e(e,t,n,r){var i=V7e(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&Ht(e,0,i)}var z7e=uv,G7e=Yw;function U7e(){}function W7e(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=YHe(e),n}function j7e(e,t,n){n==null&&(n=Rt(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return mR({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),Qee(e,n),n.slice(0,n.l)}function K7e(e){var t=Ad(e);return[t]}function Y7e(e,t,n){return n==null&&(n=Rt(8)),av(t,n)}function X7e(e){var t=lv(e);return[t]}function Z7e(e,t,n){return n==null&&(n=Rt(4)),cv(t,n)}function q7e(e){var t=Ad(e),n=e.read_shift(1);return[t,n,"b"]}function Q7e(e,t,n){return n==null&&(n=Rt(9)),av(t,n),n.write_shift(1,e.v?1:0),n}function J7e(e){var t=lv(e),n=e.read_shift(1);return[t,n,"b"]}function $7e(e,t,n){return n==null&&(n=Rt(5)),cv(t,n),n.write_shift(1,e.v?1:0),n}function eje(e){var t=Ad(e),n=e.read_shift(1);return[t,n,"e"]}function tje(e,t,n){return n==null&&(n=Rt(9)),av(t,n),n.write_shift(1,e.v),n}function nje(e){var t=lv(e),n=e.read_shift(1);return[t,n,"e"]}function rje(e,t,n){return n==null&&(n=Rt(8)),cv(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function ije(e){var t=Ad(e),n=e.read_shift(4);return[t,n,"s"]}function sje(e,t,n){return n==null&&(n=Rt(12)),av(t,n),n.write_shift(4,t.v),n}function oje(e){var t=lv(e),n=e.read_shift(4);return[t,n,"s"]}function aje(e,t,n){return n==null&&(n=Rt(8)),cv(t,n),n.write_shift(4,t.v),n}function lje(e){var t=Ad(e),n=Il(e);return[t,n,"n"]}function cje(e,t,n){return n==null&&(n=Rt(16)),av(t,n),N0(e.v,n),n}function nne(e){var t=lv(e),n=Il(e);return[t,n,"n"]}function uje(e,t,n){return n==null&&(n=Rt(12)),cv(t,n),N0(e.v,n),n}function dje(e){var t=Ad(e),n=d4(e);return[t,n,"n"]}function hje(e,t,n){return n==null&&(n=Rt(12)),av(t,n),Jee(e.v,n),n}function fje(e){var t=lv(e),n=d4(e);return[t,n,"n"]}function pje(e,t,n){return n==null&&(n=Rt(8)),cv(t,n),Jee(e.v,n),n}function gje(e){var t=Ad(e),n=l4(e);return[t,n,"is"]}function mje(e){var t=Ad(e),n=Ol(e);return[t,n,"str"]}function vje(e,t,n){return n==null&&(n=Rt(12+4*e.v.length)),av(t,n),Pa(e.v,n),n.length>n.l?n.slice(0,n.l):n}function yje(e){var t=lv(e),n=Ol(e);return[t,n,"str"]}function wje(e,t,n){return n==null&&(n=Rt(8+4*e.v.length)),cv(t,n),Pa(e.v,n),n.length>n.l?n.slice(0,n.l):n}function Cje(e,t,n){var r=e.l+t,i=Ad(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"b"];if(n.cellFormula){e.l+=2;var a=$A(e,r-e.l,n);o[3]=Dl(a,null,i,n.supbooks,n)}else e.l=r;return o}function bje(e,t,n){var r=e.l+t,i=Ad(e);i.r=n["!row"];var s=e.read_shift(1),o=[i,s,"e"];if(n.cellFormula){e.l+=2;var a=$A(e,r-e.l,n);o[3]=Dl(a,null,i,n.supbooks,n)}else e.l=r;return o}function xje(e,t,n){var r=e.l+t,i=Ad(e);i.r=n["!row"];var s=Il(e),o=[i,s,"n"];if(n.cellFormula){e.l+=2;var a=$A(e,r-e.l,n);o[3]=Dl(a,null,i,n.supbooks,n)}else e.l=r;return o}function Sje(e,t,n){var r=e.l+t,i=Ad(e);i.r=n["!row"];var s=Ol(e),o=[i,s,"str"];if(n.cellFormula){e.l+=2;var a=$A(e,r-e.l,n);o[3]=Dl(a,null,i,n.supbooks,n)}else e.l=r;return o}var _je=uv,Eje=Yw;function Tje(e,t){return t==null&&(t=Rt(4)),t.write_shift(4,e),t}function Rje(e,t){var n=e.l+t,r=uv(e),i=c4(e),s=Ol(e),o=Ol(e),a=Ol(e);e.l=n;var l={rfx:r,relId:i,loc:s,display:a};return o&&(l.Tooltip=o),l}function Aje(e,t){var n=Rt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Yw({s:Us(e[0]),e:Us(e[0])},n),u4("rId"+t,n);var r=e[1].Target.indexOf("#"),i=r==-1?"":e[1].Target.slice(r+1);return Pa(i||"",n),Pa(e[1].Tooltip||"",n),Pa("",n),n.slice(0,n.l)}function kje(){}function Pje(e,t,n){var r=e.l+t,i=$ee(e),s=e.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var a=e7e(e,r-e.l,n);o[1]=a}else e.l=r;return o}function Dje(e,t,n){var r=e.l+t,i=uv(e),s=[i];if(n.cellFormula){var o=n7e(e,r-e.l,n);s[1]=o,e.l=r}else e.l=r;return s}function Fje(e,t,n){n==null&&(n=Rt(18));var r=ek(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}var rne=["left","right","top","bottom","header","footer"];function Ije(e){var t={};return rne.forEach(function(n){t[n]=Il(e)}),t}function Mje(e,t){return t==null&&(t=Rt(48)),g0(e),rne.forEach(function(n){N0(e[n],t)}),t}function Oje(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Lje(e,t,n){n==null&&(n=Rt(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function Nje(e){var t=Rt(24);return t.write_shift(4,4),t.write_shift(4,1),Yw(e,t),t}function Bje(e,t){return t==null&&(t=Rt(66)),t.write_shift(2,e.password?v4(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function Vje(){}function Hje(){}function zje(e,t,n,r,i,s,o){if(!e)return e;var a=t||{};r||(r={"!id":{}});var l=a.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,p=!1,m,y,w,b,S,E,_,N,V,M=[];a.biff=12,a["!row"]=0;var O=0,z=!1,H=[],X={},Q=a.supbooks||i.supbooks||[[]];if(Q.sharedf=X,Q.arrayf=H,Q.SheetNames=i.SheetNames||i.Sheets.map(function(Pe){return Pe.name}),!a.supbooks&&(a.supbooks=Q,i.Names))for(var U=0;U<i.Names.length;++U)Q[0][U+1]=i.Names[U];var Z=[],q=[],me=!1;fS[16]={n:"BrtShortReal",f:nne};var se;if(Cp(e,function(ye,W,re){if(!p)switch(re){case 148:c=ye;break;case 0:m=ye,a.sheetRows&&a.sheetRows<=m.r&&(p=!0),N=Ro(b=m.r),a["!row"]=m.r,(ye.hidden||ye.hpt||ye.level!=null)&&(ye.hpt&&(ye.hpx=ww(ye.hpt)),q[ye.r]=ye);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:ye[2]},ye[2]){case"n":y.v=ye[1];break;case"s":_=rx[ye[1]],y.v=_.t,y.r=_.r;break;case"b":y.v=!!ye[1];break;case"e":y.v=ye[1],a.cellText!==!1&&(y.w=bp[y.v]);break;case"str":y.t="s",y.v=ye[1];break;case"is":y.t="s",y.v=ye[1].t;break}if((w=o.CellXf[ye[0].iStyleRef])&&$te(y,w.numFmtId,null,a,s,o),S=ye[0].c==-1?S+1:ye[0].c,a.dense?(l[b]||(l[b]=[]),l[b][S]=y):l[Gs(S)+N]=y,a.cellFormula){for(z=!1,O=0;O<H.length;++O){var te=H[O];m.r>=te[0].s.r&&m.r<=te[0].e.r&&S>=te[0].s.c&&S<=te[0].e.c&&(y.F=wr(te[0]),z=!0)}!z&&ye.length>3&&(y.f=ye[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>S&&(u.s.c=S),u.e.r<m.r&&(u.e.r=m.r),u.e.c<S&&(u.e.c=S),a.cellDates&&w&&y.t=="n"&&Ww(Xn[w.numFmtId])){var J=Zm(y.v);J&&(y.t="d",y.v=new Date(J.y,J.m-1,J.d,J.H,J.M,J.S,J.u))}se&&(se.type=="XLDAPR"&&(y.D=!0),se=void 0);break;case 1:case 12:if(!a.sheetStubs||h)break;y={t:"z",v:void 0},S=ye[0].c==-1?S+1:ye[0].c,a.dense?(l[b]||(l[b]=[]),l[b][S]=y):l[Gs(S)+N]=y,u.s.r>m.r&&(u.s.r=m.r),u.s.c>S&&(u.s.c=S),u.e.r<m.r&&(u.e.r=m.r),u.e.c<S&&(u.e.c=S),se&&(se.type=="XLDAPR"&&(y.D=!0),se=void 0);break;case 176:M.push(ye);break;case 49:se=((a.xlmeta||{}).Cell||[])[ye-1];break;case 494:var ce=r["!id"][ye.relId];for(ce?(ye.Target=ce.Target,ye.loc&&(ye.Target+="#"+ye.loc),ye.Rel=ce):ye.relId==""&&(ye.Target="#"+ye.loc),b=ye.rfx.s.r;b<=ye.rfx.e.r;++b)for(S=ye.rfx.s.c;S<=ye.rfx.e.c;++S)a.dense?(l[b]||(l[b]=[]),l[b][S]||(l[b][S]={t:"z",v:void 0}),l[b][S].l=ye):(E=Jn({c:S,r:b}),l[E]||(l[E]={t:"z",v:void 0}),l[E].l=ye);break;case 426:if(!a.cellFormula)break;H.push(ye),V=a.dense?l[b][S]:l[Gs(S)+N],V.f=Dl(ye[1],u,{r:m.r,c:S},Q,a),V.F=wr(ye[0]);break;case 427:if(!a.cellFormula)break;X[Jn(ye[0].s)]=ye[1],V=a.dense?l[b][S]:l[Gs(S)+N],V.f=Dl(ye[1],u,{r:m.r,c:S},Q,a);break;case 60:if(!a.cellStyles)break;for(;ye.e>=ye.s;)Z[ye.e--]={width:ye.w/256,hidden:!!(ye.flags&1),level:ye.level},me||(me=!0,y4(ye.w/256)),Vg(Z[ye.e+1]);break;case 161:l["!autofilter"]={ref:wr(ye)};break;case 476:l["!margins"]=ye;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),ye.name&&(i.Sheets[n].CodeName=ye.name),(ye.above||ye.left)&&(l["!outline"]={above:ye.above,left:ye.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ye.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!W.T){if(!h||a.WTF)throw new Error("Unexpected record 0x"+re.toString(16))}}},a),delete a.supbooks,delete a["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=wr(c||u)),a.sheetRows&&l["!ref"]){var ue=oi(l["!ref"]);a.sheetRows<=+ue.e.r&&(ue.e.r=a.sheetRows-1,ue.e.r>u.e.r&&(ue.e.r=u.e.r),ue.e.r<ue.s.r&&(ue.s.r=ue.e.r),ue.e.c>u.e.c&&(ue.e.c=u.e.c),ue.e.c<ue.s.c&&(ue.s.c=ue.e.c),l["!fullref"]=l["!ref"],l["!ref"]=wr(ue))}return M.length>0&&(l["!merges"]=M),Z.length>0&&(l["!cols"]=Z),q.length>0&&(l["!rows"]=q),l}function Gje(e,t,n,r,i,s,o){if(t.v===void 0)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":t=Ts(t),t.z=t.z||Xn[14],t.v=ua(Es(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v;break}var l={r:n,c:r};switch(l.s=im(i.cellXfs,t,i),t.l&&s["!links"].push([Jn(l),t.l]),t.c&&s["!comments"].push([Jn(l),t.c]),t.t){case"s":case"str":return i.bookSST?(a=S4(i.Strings,t.v,i.revStrings),l.t="s",l.v=a,o?Ht(e,18,aje(t,l)):Ht(e,7,sje(t,l))):(l.t="str",o?Ht(e,17,wje(t,l)):Ht(e,6,vje(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Ht(e,13,pje(t,l)):Ht(e,2,hje(t,l)):o?Ht(e,16,uje(t,l)):Ht(e,5,cje(t,l)),!0;case"b":return l.t="b",o?Ht(e,15,$7e(t,l)):Ht(e,4,Q7e(t,l)),!0;case"e":return l.t="e",o?Ht(e,14,rje(t,l)):Ht(e,3,tje(t,l)),!0}return o?Ht(e,12,Z7e(t,l)):Ht(e,1,Y7e(t,l)),!0}function Uje(e,t,n,r){var i=oi(t["!ref"]||"A1"),s,o="",a=[];Ht(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=c;++u){o=Ro(u),H7e(e,t,i,u);var h=!1;if(u<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){u===i.s.r&&(a[p]=Gs(p)),s=a[p]+o;var m=l?(t[u]||[])[p]:t[s];if(!m){h=!1;continue}h=Gje(e,m,u,p,r,t,h)}}Ht(e,146)}function Wje(e,t){!t||!t["!merges"]||(Ht(e,177,Tje(t["!merges"].length)),t["!merges"].forEach(function(n){Ht(e,176,Eje(n))}),Ht(e,178))}function jje(e,t){!t||!t["!cols"]||(Ht(e,390),t["!cols"].forEach(function(n,r){n&&Ht(e,60,Fje(r,n))}),Ht(e,391))}function Kje(e,t){!t||!t["!ref"]||(Ht(e,648),Ht(e,649,Nje(oi(t["!ref"]))),Ht(e,650))}function Yje(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var i=Oi(n,-1,r[1].Target.replace(/#.*$/,""),Or.HLINK);Ht(e,494,Aje(r,i))}}),delete t["!links"]}function Xje(e,t,n,r){if(t["!comments"].length>0){var i=Oi(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Or.VML);Ht(e,551,u4("rId"+i)),t["!legacy"]=i}}function Zje(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],s=typeof i.ref=="string"?i.ref:wr(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=Lc(s);a.s.r==a.e.r&&(a.e.r=Lc(t["!ref"]).e.r,s=wr(a));for(var l=0;l<o.length;++l){var c=o[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Ht(e,161,Yw(oi(s))),Ht(e,162)}}function qje(e,t,n){Ht(e,133),Ht(e,137,Lje(t,n)),Ht(e,138),Ht(e,134)}function Qje(e,t){t["!protect"]&&Ht(e,535,Bje(t["!protect"]))}function Jje(e,t,n,r){var i=Fc(),s=n.SheetNames[e],o=n.Sheets[s]||{},a=s;try{n&&n.Workbook&&(a=n.Workbook.Sheets[e].CodeName||a)}catch{}var l=oi(o["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Ht(i,129),(n.vbaraw||o["!outline"])&&Ht(i,147,j7e(a,o["!outline"])),Ht(i,148,G7e(l)),qje(i,o,n.Workbook),jje(i,o),Uje(i,o,e,t),Qje(i,o),Zje(i,o,n,e),Wje(i,o),Yje(i,o,r),o["!margins"]&&Ht(i,476,Mje(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Kje(i,o),Xje(i,o,e,r),Ht(i,130),i.end()}function $je(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(t[+o[1]]=n?+o[2]:o[2])});var i=si((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[t,i,r]}function eKe(e,t,n,r,i,s){var o=s||{"!type":"chart"};if(!e)return s;var a=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var p=$je(h);u.s.r=u.s.c=0,u.e.c=a,c=Gs(a),p[0].forEach(function(m,y){o[c+Ro(y)]={t:"n",v:m,z:p[1]},l=y}),u.e.r<l&&(u.e.r=l),++a}),a>0&&(o["!ref"]=wr(u)),o}function tKe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,a=e.match(ene);return a&&_4(a[0],s,i,n),(o=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function nKe(e,t){e.l+=10;var n=Ol(e);return{name:n}}function rKe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Cp(e,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),l.name&&(i.Sheets[n].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var E4=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],iKe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],sKe=[],oKe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function dU(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var s=t[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=xs(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function hU(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=xs(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function ine(e){hU(e.WBProps,E4),hU(e.CalcPr,oKe),dU(e.WBView,iKe),dU(e.Sheets,sKe),Hy.date1904=xs(e.WBProps.date1904)}function aKe(e){return!e.Workbook||!e.Workbook.WBProps?"false":xs(e.Workbook.WBProps.date1904)?"true":"false"}var lKe="][*?/\\".split("");function sne(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return lKe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function cKe(e,t,n){e.forEach(function(r,i){sne(r);for(var s=0;s<i;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var o=t&&t[i]&&t[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function uKe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];cKe(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)a7e(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}var dKe=/<\w+:workbook/;function hKe(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(e.replace(Gl,function(l,c){var u=nr(l);switch(xf(u[0])){case"<?xml":break;case"<workbook":l.match(dKe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),n.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],n.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":E4.forEach(function(h){if(u[h[0]]!=null)switch(h[2]){case"bool":n.WBProps[h[0]]=xs(u[h[0]]);break;case"int":n.WBProps[h[0]]=parseInt(u[h[0]],10);break;default:n.WBProps[h[0]]=u[h[0]]}}),u.codeName&&(n.WBProps.CodeName=Zi(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],n.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=si(Zi(u.name)),delete u[0],n.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=Zi(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),xs(u.hidden||"0")&&(s.Hidden=!0),o=c+l.length;break;case"</definedName>":s.Ref=si(Zi(e.slice(o,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],n.CalcPr=u;break;case"<calcPr/>":delete u[0],n.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),ov.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return ine(n),n}function one(e){var t=[Ao];t[t.length]=tn("workbook",null,{xmlns:ov[0],"xmlns:r":la.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(E4.forEach(function(a){e.Workbook.WBProps[a[0]]!=null&&e.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=e.Workbook.WBProps[a[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=tn("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var o={name:Li(e.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=tn("sheet",null,o)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(a){var l={name:a.Name};a.Comment&&(l.comment=a.Comment),a.Sheet!=null&&(l.localSheetId=""+a.Sheet),a.Hidden&&(l.hidden="1"),a.Ref&&(t[t.length]=tn("definedName",Li(a.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function fKe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=kI(e),n.name=Ol(e),n}function pKe(e,t){return t||(t=Rt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),u4(e.strRelID,t),Pa(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function gKe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?Ol(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function mKe(e,t){t||(t=Rt(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),Qee(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function vKe(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function yKe(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),s=XHe(e),o=t7e(e,0,n),a=c4(e);e.l=r;var l={Name:s,Ptg:o};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}function wKe(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],fS[16]={n:"BrtFRTArchID$",f:vKe},Cp(e,function(l,c,u){switch(u){case 156:o.SheetNames.push(l.name),n.Sheets.push(l);break;case 153:n.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Dl(l.Ptg,null,null,o,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([u,l]):o[0]=[u,l],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(l),o.XTI=o.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(u),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(u),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),ine(n),n.Names=s,n.supbooks=o,n}function CKe(e,t){Ht(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};Ht(e,156,pKe(i))}Ht(e,144)}function bKe(e,t){t||(t=Rt(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return Pa("SheetJS",t),Pa(cR.version,t),Pa(cR.version,t),Pa("7262",t),t.length>t.l?t.slice(0,t.l):t}function xKe(e,t){t||(t=Rt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function SKe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(Ht(e,135),Ht(e,158,xKe(i)),Ht(e,136))}}function _Ke(e,t){var n=Fc();return Ht(n,131),Ht(n,128,bKe()),Ht(n,153,mKe(e.Workbook&&e.Workbook.WBProps||null)),SKe(n,e),CKe(n,e),Ht(n,132),n.end()}function EKe(e,t,n){return t.slice(-4)===".bin"?wKe(e,n):hKe(e,n)}function TKe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?zje(e,r,n,i,s,o,a):y7e(e,r,n,i,s,o,a)}function RKe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?rKe(e,r,n,i,s):tKe(e,r,n,i,s)}function AKe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?P9e():D9e()}function kKe(e,t,n,r,i,s,o,a){return t.slice(-4)===".bin"?A9e():k9e()}function PKe(e,t,n,r){return t.slice(-4)===".bin"?EUe(e,n,r):fUe(e,n,r)}function DKe(e,t,n){return Hte(e,n)}function FKe(e,t,n){return t.slice(-4)===".bin"?FGe(e,n):kGe(e,n)}function IKe(e,t,n){return t.slice(-4)===".bin"?S9e(e,n):p9e(e,n)}function MKe(e,t,n){return t.slice(-4)===".bin"?d9e(e):c9e(e)}function OKe(e,t,n,r){return n.slice(-4)===".bin"?h9e(e,t,n,r):void 0}function LKe(e,t,n){return t.slice(-4)===".bin"?o9e(e,t,n):l9e(e,t,n)}function NKe(e,t,n){return(t.slice(-4)===".bin"?_Ke:one)(e)}function BKe(e,t,n,r,i){return(t.slice(-4)===".bin"?Jje:tne)(e,n,r,i)}function VKe(e,t,n){return(t.slice(-4)===".bin"?OUe:Bte)(e,n)}function HKe(e,t,n){return(t.slice(-4)===".bin"?OGe:Pte)(e,n)}function zKe(e,t,n){return(t.slice(-4)===".bin"?_9e:Ute)(e)}function GKe(e){return(e.slice(-4)===".bin"?a9e:zte)()}var ane=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,lne=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Yd(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(ane),s,o,a,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(lne),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?a="xmlns"+s[1].slice(6):a=s[1].slice(o+1),r[a]=s[2].slice(1,s[2].length-1));return r}function UKe(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(ane),i,s,o,a;if(r)for(a=0;a!=r.length;++a)i=r[a].match(lne),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var sx;function WKe(e,t){var n=sx[e]||si(e);return n==="General"?O0(t):Ed(n,t)}function jKe(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=xs(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=Es(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[si(t)]=i}function KKe(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||bp[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=iS(e.v):e.w=O0(e.v):e.w=WKe(t||"General",e.v)}catch(s){if(n.WTF)throw s}try{var r=sx[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&Ww(r)){var i=Zm(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function YKe(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=sUe[r.Pattern]||r.Pattern)}e[t.ID]=t}function XKe(e,t,n,r,i,s,o,a,l,c){var u="General",h=r.StyleID,p={};c=c||{};var m=[],y=0;for(h===void 0&&a&&(h=a.StyleID),h===void 0&&o&&(h=o.StyleID);s[h]!==void 0&&(s[h].nf&&(u=s[h].nf),s[h].Interior&&m.push(s[h].Interior),!!s[h].Parent);)h=s[h].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=xs(e);break;case"String":r.t="s",r.r=kG(si(e)),r.v=e.indexOf("<")>-1?si(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(Es(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=si(e):r.v<60&&(r.v=r.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=nte[e],c.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=kG(t||e));break}if(KKe(r,u,c),c.cellFormula!==!1)if(r.Formula){var w=si(r.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),r.f=Vy(w,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Vy("RC:RC",i):r.ArrayRange&&(r.F=Vy(r.ArrayRange,i),l.push([oi(r.F),r.F]))}else for(y=0;y<l.length;++y)i.r>=l[y][0].s.r&&i.r<=l[y][0].e.r&&i.c>=l[y][0].s.c&&i.c<=l[y][0].e.c&&(r.F=l[y][1]);c.cellStyles&&(m.forEach(function(b){!p.patternType&&b.patternType&&(p.patternType=b.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function ZKe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function YD(e,t){var n=t||{};jw();var r=_b(r4(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=Zi(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=Ts(n);return o.type="string",yw.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(xe){i.indexOf("<"+xe)>=0&&(s=!0)}),s)return MYe(r,n);sx={"General Number":"General","General Date":Xn[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Xn[15],"Short Date":Xn[14],"Long Time":Xn[19],"Medium Time":Xn[18],"Short Time":Xn[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Xn[2],Standard:Xn[4],Percent:Xn[10],Scientific:Xn[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var a,l=[],c,u={},h=[],p=n.dense?[]:{},m="",y={},w={},b=Yd('<Data ss:Type="String">'),S=0,E=0,_=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},V={},M={},O="",z=0,H=[],X={},Q={},U=0,Z=[],q=[],me={},se=[],ue,Pe=!1,ye=[],W=[],re={},te=0,J=0,ce={Sheets:[],WBProps:{date1904:!1}},fe={};aS.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var De="";a=aS.exec(r);)switch(a[3]=(De=a[3]).toLowerCase()){case"data":if(De=="data"){if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break}if(l[l.length-1][1])break;a[1]==="/"?XKe(r.slice(S,a.index),O,b,l[l.length-1][0]=="comment"?me:y,{c:E,r:_},V,se[E],w,ye,n):(O="",b=Yd(a[0]),S=a.index+a[0].length);break;case"cell":if(a[1]==="/")if(q.length>0&&(y.c=q),(!n.sheetRows||n.sheetRows>_)&&y.v!==void 0&&(n.dense?(p[_]||(p[_]=[]),p[_][E]=y):p[Gs(E)+Ro(_)]=y),y.HRef&&(y.l={Target:si(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(te=E+(parseInt(y.MergeAcross,10)|0),J=_+(parseInt(y.MergeDown,10)|0),H.push({s:{c:E,r:_},e:{c:te,r:J}})),!n.sheetStubs)y.MergeAcross?E=te+1:++E;else if(y.MergeAcross||y.MergeDown){for(var at=E;at<=te;++at)for(var je=_;je<=J;++je)(at>E||je>_)&&(n.dense?(p[je]||(p[je]=[]),p[je][at]={t:"z"}):p[Gs(at)+Ro(je)]={t:"z"});E=te+1}else++E;else y=UKe(a[0]),y.Index&&(E=+y.Index-1),E<N.s.c&&(N.s.c=E),E>N.e.c&&(N.e.c=E),a[0].slice(-2)==="/>"&&++E,q=[];break;case"row":a[1]==="/"||a[0].slice(-2)==="/>"?(_<N.s.r&&(N.s.r=_),_>N.e.r&&(N.e.r=_),a[0].slice(-2)==="/>"&&(w=Yd(a[0]),w.Index&&(_=+w.Index-1)),E=0,++_):(w=Yd(a[0]),w.Index&&(_=+w.Index-1),re={},(w.AutoFitHeight=="0"||w.Height)&&(re.hpx=parseInt(w.Height,10),re.hpt=hS(re.hpx),W[_]=re),w.Hidden=="1"&&(re.hidden=!0,W[_]=re));break;case"worksheet":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));h.push(m),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(p["!ref"]=wr(N),n.sheetRows&&n.sheetRows<=N.e.r&&(p["!fullref"]=p["!ref"],N.e.r=n.sheetRows-1,p["!ref"]=wr(N))),H.length&&(p["!merges"]=H),se.length>0&&(p["!cols"]=se),W.length>0&&(p["!rows"]=W),u[m]=p}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=E=0,l.push([a[3],!1]),c=Yd(a[0]),m=si(c.Name),p=n.dense?[]:{},H=[],ye=[],W=[],fe={name:m,Hidden:0},ce.Sheets.push(fe);break;case"table":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else{if(a[0].slice(-2)=="/>")break;l.push([a[3],!1]),se=[],Pe=!1}break;case"style":a[1]==="/"?YKe(V,M,n):M=Yd(a[0]);break;case"numberformat":M.nf=si(Yd(a[0]).Format||"General"),sx[M.nf]&&(M.nf=sx[M.nf]);for(var qe=0;qe!=392&&Xn[qe]!=M.nf;++qe);if(qe==392){for(qe=57;qe!=392;++qe)if(Xn[qe]==null){Jf(M.nf,qe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(ue=Yd(a[0]),ue.Hidden&&(ue.hidden=!0,delete ue.Hidden),ue.Width&&(ue.wpx=parseInt(ue.Width,10)),!Pe&&ue.wpx>10){Pe=!0,Fl=Lte;for(var et=0;et<se.length;++et)se[et]&&Vg(se[et])}Pe&&Vg(ue),se[ue.Index-1||se.length]=ue;for(var Et=0;Et<+ue.Span;++Et)se[se.length]=Ts(ue);break;case"namedrange":if(a[1]==="/")break;ce.Names||(ce.Names=[]);var Se=nr(a[0]),$t={Name:Se.Name,Ref:Vy(Se.RefersTo.slice(1),{r:0,c:0})};ce.Sheets.length>0&&($t.Sheet=ce.Sheets.length-1),ce.Names.push($t);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(a[0].slice(-2)==="/>")break;a[1]==="/"?O+=r.slice(z,a.index):z=a.index+a[0].length;break;case"interior":if(!n.cellStyles)break;M.Interior=Yd(a[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(a[0].slice(-2)==="/>")break;a[1]==="/"?wze(X,De,r.slice(U,a.index)):U=a.index+a[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else l.push([a[3],!1]);break;case"comment":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"));ZKe(me),q.push(me)}else l.push([a[3],!1]),c=Yd(a[0]),me={a:c.Author};break;case"autofilter":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else if(a[0].charAt(a[0].length-2)!=="/"){var ne=Yd(a[0]);p["!autofilter"]={ref:Vy(ne.Range).replace(/\$/g,"")},l.push([a[3],!0])}break;case"name":break;case"datavalidation":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(a[1]==="/"){if((c=l.pop())[0]!==a[3])throw new Error("Bad state: "+c.join("|"))}else a[0].charAt(a[0].length-2)!=="/"&&l.push([a[3],!0]);break;case"null":break;default:if(l.length==0&&a[3]=="document"||l.length==0&&a[3]=="uof")return vU(r,n);var Ge=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(a[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ge=!1}break;case"componentoptions":switch(a[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ge=!1}break;case"excelworkbook":switch(a[3]){case"date1904":ce.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ge=!1}break;case"workbookoptions":switch(a[3]){case"owcversion":break;case"height":break;case"width":break;default:Ge=!1}break;case"worksheetoptions":switch(a[3]){case"visible":if(a[0].slice(-2)!=="/>")if(a[1]==="/")switch(r.slice(U,a.index)){case"SheetHidden":fe.Hidden=1;break;case"SheetVeryHidden":fe.Hidden=2;break}else U=a.index+a[0].length;break;case"header":p["!margins"]||g0(p["!margins"]={},"xlml"),isNaN(+nr(a[0]).Margin)||(p["!margins"].header=+nr(a[0]).Margin);break;case"footer":p["!margins"]||g0(p["!margins"]={},"xlml"),isNaN(+nr(a[0]).Margin)||(p["!margins"].footer=+nr(a[0]).Margin);break;case"pagemargins":var Me=nr(a[0]);p["!margins"]||g0(p["!margins"]={},"xlml"),isNaN(+Me.Top)||(p["!margins"].top=+Me.Top),isNaN(+Me.Left)||(p["!margins"].left=+Me.Left),isNaN(+Me.Right)||(p["!margins"].right=+Me.Right),isNaN(+Me.Bottom)||(p["!margins"].bottom=+Me.Bottom);break;case"displayrighttoleft":ce.Views||(ce.Views=[]),ce.Views[0]||(ce.Views[0]={}),ce.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ge=!1}break;case"pivottable":case"pivotcache":switch(a[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ge=!1}break;case"pagebreaks":switch(a[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ge=!1}break;case"autofilter":switch(a[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ge=!1}break;case"querytable":switch(a[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ge=!1}break;case"datavalidation":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ge=!1}break;case"sorting":case"conditionalformatting":switch(a[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ge=!1}break;case"mapinfo":case"schema":case"data":switch(a[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ge=!1}break;case"smarttags":break;default:Ge=!1;break}if(Ge||a[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+a[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(a[0].slice(-2)==="/>")break;a[1]==="/"?jKe(Q,De,Z,r.slice(U,a.index)):(Z=a,U=a.index+a[0].length);break}if(n.WTF)throw"Unrecognized tag: "+a[3]+"|"+l.join("|")}var ve={};return!n.bookSheets&&!n.bookProps&&(ve.Sheets=u),ve.SheetNames=h,ve.Workbook=ce,ve.SSF=Ts(Xn),ve.Props=X,ve.Custprops=Q,ve}function LI(e,t){switch(R4(t=t||{}),t.type||"base64"){case"base64":return YD(ku(e),t);case"binary":case"buffer":case"file":return YD(e,t);case"array":return YD(nm(e),t)}}function qKe(e,t){var n=[];return e.Props&&n.push(Cze(e.Props,t)),e.Custprops&&n.push(bze(e.Props,e.Custprops)),n.join("")}function QKe(){return""}function JKe(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,i){var s=[];s.push(tn("NumberFormat",null,{"ss:Format":Li(Xn[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};n.push(tn("Style",s.join(""),o))}),tn("Styles",n.join(""))}function cne(e){return tn("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+b4(e.Ref,{r:0,c:0})})}function $Ke(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(cne(i)))}return tn("Names",n.join(""))}function eYe(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||s.push(cne(a)))}return s.join("")}function tYe(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(tn("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(tn("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(tn("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(tn("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(tl("ProtectContents","True")),e["!protect"].objects&&i.push(tl("ProtectObjects","True")),e["!protect"].scenarios&&i.push(tl("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(tl("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(tl("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":tn("WorksheetOptions",i.join(""),{xmlns:uu.x})}function nYe(e){return e.map(function(t){var n=SHe(t.t||""),r=tn("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return tn("Comment",r,{"ss:Author":t.a})}).join("")}function rYe(e,t,n,r,i,s,o){if(!e||e.v==null&&e.f==null)return"";var a={};if(e.f&&(a["ss:Formula"]="="+Li(b4(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var l=Us(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==o.r?"":"["+(l.r-o.r)+"]")+"C"+(l.c==o.c?"":"["+(l.c-o.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=Li(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=Li(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c!=o.c||c[u].s.r!=o.r||(c[u].e.c>c[u].s.c&&(a["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(a["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",p="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",p=String(e.v);break;case"b":h="Boolean",p=e.v?"1":"0";break;case"e":h="Error",p=bp[e.v];break;case"d":h="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Xn[14]);break;case"s":h="String",p=xHe(e.v||"");break}var m=im(r.cellXfs,e,r);a["ss:StyleID"]="s"+(21+m),a["ss:Index"]=o.c+1;var y=e.v!=null?p:"",w=e.t=="z"?"":'<Data ss:Type="'+h+'">'+y+"</Data>";return(e.c||[]).length>0&&(w+=nYe(e.c)),tn("Cell",w,a)}function iYe(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ww(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function sYe(e,t,n,r){if(!e["!ref"])return"";var i=oi(e["!ref"]),s=e["!merges"]||[],o=0,a=[];e["!cols"]&&e["!cols"].forEach(function(b,S){Vg(b);var E=!!b.width,_=ek(S,b),N={"ss:Index":S+1};E&&(N["ss:Width"]=uS(_.width)),b.hidden&&(N["ss:Hidden"]="1"),a.push(tn("Column",null,N))});for(var l=Array.isArray(e),c=i.s.r;c<=i.e.r;++c){for(var u=[iYe(c,(e["!rows"]||[])[c])],h=i.s.c;h<=i.e.c;++h){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>h)&&!(s[o].s.r>c)&&!(s[o].e.c<h)&&!(s[o].e.r<c)){(s[o].s.c!=h||s[o].s.r!=c)&&(p=!0);break}if(!p){var m={r:c,c:h},y=Jn(m),w=l?(e[c]||[])[h]:e[y];u.push(rYe(w,y,e,t,n,r,m))}}u.push("</Row>"),u.length>2&&a.push(u.join(""))}return a.join("")}function oYe(e,t,n){var r=[],i=n.SheetNames[e],s=n.Sheets[i],o=s?eYe(s,t,e,n):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?sYe(s,t,e,n):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(tYe(s,t,e,n)),r.join("")}function aYe(e,t){t||(t={}),e.SSF||(e.SSF=Ts(Xn)),e.SSF&&(jw(),YA(e.SSF),t.revssf=ZA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],im(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(qKe(e,t)),n.push(QKe()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(tn("Worksheet",oYe(r,t,e),{"ss:Name":Li(e.SheetNames[r])}));return n[2]=JKe(e,t),n[3]=$Ke(e),Ao+tn("Workbook",n.join(""),{xmlns:uu.ss,"xmlns:o":uu.o,"xmlns:x":uu.x,"xmlns:ss":uu.ss,"xmlns:dt":uu.dt,"xmlns:html":uu.html})}function lYe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=$He(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=eze(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var cYe=[60,1084,2066,2165,2175];function uYe(e,t,n,r,i){var s=r,o=[],a=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&a.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(a)}o.push(a),n.l+=s;for(var l=Wf(n,n.l),c=NI[l],u=0;c!=null&&cYe.indexOf(l)>-1;)s=Wf(n,n.l+2),u=n.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),a=n.slice(u,n.l+4+s),o.push(a),n.l+=4+s,c=NI[l=Wf(n,n.l)];var h=ka(o);Ja(h,0);var p=0;h.lens=[];for(var m=0;m<o.length;++m)h.lens.push(p),p+=o[m].length;if(h.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+h.length+" < "+r;return t.f(h,h.length,i)}function Fh(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Xn[r])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||bp[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=iS(e.v):e.w=O0(e.v):e.w=Ed(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&r&&e.t=="n"&&Ww(Xn[r]||String(r))){var i=Zm(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function eE(e,t,n){return{v:e,ixfe:t,t:n}}function dYe(e,t){var n={opts:{}},r={},i=t.dense?[]:{},s={},o={},a=null,l=[],c="",u={},h,p="",m,y,w,b,S={},E=[],_,N,V=[],M=[],O={Sheets:[],WBProps:{date1904:!1},Views:[{}]},z={},H=function(qt){return qt<8?h0[qt]:qt<64&&M[qt-8]||h0[qt]},X=function(qt,mn,cr){var fn=mn.XF.data;if(!(!fn||!fn.patternType||!cr||!cr.cellStyles)){mn.s={},mn.s.patternType=fn.patternType;var Pr;(Pr=cS(H(fn.icvFore)))&&(mn.s.fgColor={rgb:Pr}),(Pr=cS(H(fn.icvBack)))&&(mn.s.bgColor={rgb:Pr})}},Q=function(qt,mn,cr){if(!(re>1)&&!(cr.sheetRows&&qt.r>=cr.sheetRows)){if(cr.cellStyles&&mn.XF&&mn.XF.data&&X(qt,mn,cr),delete mn.ixfe,delete mn.XF,h=qt,p=Jn(qt),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),qt.r<o.s.r&&(o.s.r=qt.r),qt.c<o.s.c&&(o.s.c=qt.c),qt.r+1>o.e.r&&(o.e.r=qt.r+1),qt.c+1>o.e.c&&(o.e.c=qt.c+1),cr.cellFormula&&mn.f){for(var fn=0;fn<E.length;++fn)if(!(E[fn][0].s.c>qt.c||E[fn][0].s.r>qt.r)&&!(E[fn][0].e.c<qt.c||E[fn][0].e.r<qt.r)){mn.F=wr(E[fn][0]),(E[fn][0].s.c!=qt.c||E[fn][0].s.r!=qt.r)&&delete mn.f,mn.f&&(mn.f=""+Dl(E[fn][1],o,qt,ye,U));break}}cr.dense?(i[qt.r]||(i[qt.r]=[]),i[qt.r][qt.c]=mn):i[p]=mn}},U={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:E,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(U.password=t.password);var Z,q=[],me=[],se=[],ue=[],Pe=!1,ye=[];ye.SheetNames=U.snames,ye.sharedf=U.sharedf,ye.arrayf=U.arrayf,ye.names=[],ye.XTI=[];var W=0,re=0,te=0,J=[],ce=[],fe;U.codepage=1200,$d(1200);for(var De=!1;e.l<e.length-1;){var at=e.l,je=e.read_shift(2);if(je===0&&W===10)break;var qe=e.l===e.length?0:e.read_shift(2),et=NI[je];if(et&&et.f){if(t.bookSheets&&W===133&&je!==133)break;if(W=je,et.r===2||et.r==12){var Et=e.read_shift(2);if(qe-=2,!U.enc&&Et!==je&&((Et&255)<<8|Et>>8)!==je)throw new Error("rt mismatch: "+Et+"!="+je);et.r==12&&(e.l+=10,qe-=10)}var Se={};if(je===10?Se=et.f(e,qe,U):Se=uYe(je,et,e,qe,U),re==0&&[9,521,1033,2057].indexOf(W)===-1)continue;switch(je){case 34:n.opts.Date1904=O.WBProps.date1904=Se;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(U.enc||(e.l=0),U.enc=Se,!t.password)throw new Error("File is password-protected");if(Se.valid==null)throw new Error("Encryption scheme unsupported");if(!Se.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=Se;break;case 66:var $t=Number(Se);switch($t){case 21010:$t=1200;break;case 32768:$t=1e4;break;case 32769:$t=1252;break}$d(U.codepage=$t),De=!0;break;case 317:U.rrtabid=Se;break;case 25:U.winlocked=Se;break;case 439:n.opts.RefreshAll=Se;break;case 12:n.opts.CalcCount=Se;break;case 16:n.opts.CalcDelta=Se;break;case 17:n.opts.CalcIter=Se;break;case 13:n.opts.CalcMode=Se;break;case 14:n.opts.CalcPrecision=Se;break;case 95:n.opts.CalcSaveRecalc=Se;break;case 15:U.CalcRefMode=Se;break;case 2211:n.opts.FullCalc=Se;break;case 129:Se.fDialog&&(i["!type"]="dialog"),Se.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),Se.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:V.push(Se);break;case 430:ye.push([Se]),ye[ye.length-1].XTI=[];break;case 35:case 547:ye[ye.length-1].push(Se);break;case 24:case 536:fe={Name:Se.Name,Ref:Dl(Se.rgce,o,null,ye,U)},Se.itab>0&&(fe.Sheet=Se.itab-1),ye.names.push(fe),ye[0]||(ye[0]=[],ye[0].XTI=[]),ye[ye.length-1].push(Se),Se.Name=="_xlnm._FilterDatabase"&&Se.itab>0&&Se.rgce&&Se.rgce[0]&&Se.rgce[0][0]&&Se.rgce[0][0][0]=="PtgArea3d"&&(ce[Se.itab-1]={ref:wr(Se.rgce[0][0][1][2])});break;case 22:U.ExternCount=Se;break;case 23:ye.length==0&&(ye[0]=[],ye[0].XTI=[]),ye[ye.length-1].XTI=ye[ye.length-1].XTI.concat(Se),ye.XTI=ye.XTI.concat(Se);break;case 2196:if(U.biff<8)break;fe!=null&&(fe.Comment=Se[1]);break;case 18:i["!protect"]=Se;break;case 19:Se!==0&&U.WTF&&console.error("Password verifier: "+Se);break;case 133:s[Se.pos]=Se,U.snames.push(Se.name);break;case 10:{if(--re)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=wr(o),t.sheetRows&&t.sheetRows<=o.e.r){var ne=o.e.r;o.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=wr(o),o.e.r=ne}o.e.r++,o.e.c++}q.length>0&&(i["!merges"]=q),me.length>0&&(i["!objects"]=me),se.length>0&&(i["!cols"]=se),ue.length>0&&(i["!rows"]=ue),O.Sheets.push(z)}c===""?u=i:r[c]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[je]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Se.BIFFVer]||8),U.biffguess=Se.BIFFVer==0,Se.BIFFVer==0&&Se.dt==4096&&(U.biff=5,De=!0,$d(U.codepage=28591)),U.biff==8&&Se.BIFFVer==0&&Se.dt==16&&(U.biff=2),re++)break;if(i=t.dense?[]:{},U.biff<8&&!De&&(De=!0,$d(U.codepage=t.codepage||1252)),U.biff<5||Se.BIFFVer==0&&Se.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ge={pos:e.l-qe,name:c};s[Ge.pos]=Ge,U.snames.push(c)}else c=(s[at]||{name:""}).name;Se.dt==32&&(i["!type"]="chart"),Se.dt==64&&(i["!type"]="macro"),q=[],me=[],U.arrayf=E=[],se=[],ue=[],Pe=!1,z={Hidden:(s[at]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[Se.r]||[])[Se.c]:i[Jn({c:Se.c,r:Se.r})])&&++Se.c,_={ixfe:Se.ixfe,XF:V[Se.ixfe]||{},v:Se.val,t:"n"},te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q({c:Se.c,r:Se.r},_,t);break;case 5:case 517:_={ixfe:Se.ixfe,XF:V[Se.ixfe],v:Se.val,t:Se.t},te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q({c:Se.c,r:Se.r},_,t);break;case 638:_={ixfe:Se.ixfe,XF:V[Se.ixfe],v:Se.rknum,t:"n"},te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q({c:Se.c,r:Se.r},_,t);break;case 189:for(var Me=Se.c;Me<=Se.C;++Me){var ve=Se.rkrec[Me-Se.c][0];_={ixfe:ve,XF:V[ve],v:Se.rkrec[Me-Se.c][1],t:"n"},te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q({c:Me,r:Se.r},_,t)}break;case 6:case 518:case 1030:{if(Se.val=="String"){a=Se;break}if(_=eE(Se.val,Se.cell.ixfe,Se.tt),_.XF=V[_.ixfe],t.cellFormula){var xe=Se.formula;if(xe&&xe[0]&&xe[0][0]&&xe[0][0][0]=="PtgExp"){var Le=xe[0][0][1][0],Je=xe[0][0][1][1],nt=Jn({r:Le,c:Je});S[nt]?_.f=""+Dl(Se.formula,o,Se.cell,ye,U):_.F=((t.dense?(i[Le]||[])[Je]:i[nt])||{}).F}else _.f=""+Dl(Se.formula,o,Se.cell,ye,U)}te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q(Se.cell,_,t),a=Se}break;case 7:case 519:if(a)a.val=Se,_=eE(Se,a.cell.ixfe,"s"),_.XF=V[_.ixfe],t.cellFormula&&(_.f=""+Dl(a.formula,o,a.cell,ye,U)),te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q(a.cell,_,t),a=null;else throw new Error("String record expects Formula");break;case 33:case 545:{E.push(Se);var Be=Jn(Se[0].s);if(m=t.dense?(i[Se[0].s.r]||[])[Se[0].s.c]:i[Be],t.cellFormula&&m){if(!a||!Be||!m)break;m.f=""+Dl(Se[1],o,Se[0],ye,U),m.F=wr(Se[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!a)break;S[Jn(a.cell)]=Se[0],m=t.dense?(i[a.cell.r]||[])[a.cell.c]:i[Jn(a.cell)],(m||{}).f=""+Dl(Se[0],o,h,ye,U)}}break;case 253:_=eE(l[Se.isst].t,Se.ixfe,"s"),l[Se.isst].h&&(_.h=l[Se.isst].h),_.XF=V[_.ixfe],te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q({c:Se.c,r:Se.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:Se.ixfe,XF:V[Se.ixfe],t:"z"},te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q({c:Se.c,r:Se.r},_,t));break;case 190:if(t.sheetStubs)for(var gt=Se.c;gt<=Se.C;++gt){var Mt=Se.ixfe[gt-Se.c];_={ixfe:Mt,XF:V[Mt],t:"z"},te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q({c:gt,r:Se.r},_,t)}break;case 214:case 516:case 4:_=eE(Se.val,Se.ixfe,"s"),_.XF=V[_.ixfe],te>0&&(_.z=J[_.ixfe>>8&63]),Fh(_,t,n.opts.Date1904),Q({c:Se.c,r:Se.r},_,t);break;case 0:case 512:re===1&&(o=Se);break;case 252:l=Se;break;case 1054:if(U.biff==4){J[te++]=Se[1];for(var At=0;At<te+163&&Xn[At]!=Se[1];++At);At>=163&&Jf(Se[1],te+163)}else Jf(Se[1],Se[0]);break;case 30:{J[te++]=Se;for(var Ie=0;Ie<te+163&&Xn[Ie]!=Se;++Ie);Ie>=163&&Jf(Se,te+163)}break;case 229:q=q.concat(Se);break;case 93:me[Se.cmo[0]]=U.lastobj=Se;break;case 438:U.lastobj.TxO=Se;break;case 127:U.lastobj.ImData=Se;break;case 440:for(b=Se[0].s.r;b<=Se[0].e.r;++b)for(w=Se[0].s.c;w<=Se[0].e.c;++w)m=t.dense?(i[b]||[])[w]:i[Jn({c:w,r:b})],m&&(m.l=Se[1]);break;case 2048:for(b=Se[0].s.r;b<=Se[0].e.r;++b)for(w=Se[0].s.c;w<=Se[0].e.c;++w)m=t.dense?(i[b]||[])[w]:i[Jn({c:w,r:b})],m&&m.l&&(m.l.Tooltip=Se[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;m=t.dense?(i[Se[0].r]||[])[Se[0].c]:i[Jn(Se[0])];var it=me[Se[2]];m||(t.dense?(i[Se[0].r]||(i[Se[0].r]=[]),m=i[Se[0].r][Se[0].c]={t:"z"}):m=i[Jn(Se[0])]={t:"z"},o.e.r=Math.max(o.e.r,Se[0].r),o.s.r=Math.min(o.s.r,Se[0].r),o.e.c=Math.max(o.e.c,Se[0].c),o.s.c=Math.min(o.s.c,Se[0].c)),m.c||(m.c=[]),y={a:Se[1],t:it.TxO.t},m.c.push(y)}break;case 2173:JUe(V[Se.ixfe],Se.ext);break;case 125:{if(!U.cellStyles)break;for(;Se.e>=Se.s;)se[Se.e--]={width:Se.w/256,level:Se.level||0,hidden:!!(Se.flags&1)},Pe||(Pe=!0,y4(Se.w/256)),Vg(se[Se.e+1])}break;case 520:{var yt={};Se.level!=null&&(ue[Se.r]=yt,yt.level=Se.level),Se.hidden&&(ue[Se.r]=yt,yt.hidden=!0),Se.hpt&&(ue[Se.r]=yt,yt.hpt=Se.hpt,yt.hpx=ww(Se.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||g0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[je]]=Se;break;case 161:i["!margins"]||g0(i["!margins"]={}),i["!margins"].header=Se.header,i["!margins"].footer=Se.footer;break;case 574:Se.RTL&&(O.Views[0].RTL=!0);break;case 146:M=Se;break;case 2198:Z=Se;break;case 140:N=Se;break;case 442:c?z.CodeName=Se||z.name:O.WBProps.CodeName=Se||"ThisWorkbook";break}}else et||console.error("Missing Info for XLS Record 0x"+je.toString(16)),e.l+=qe}return n.SheetNames=lo(s).sort(function(Gt,qt){return Number(Gt)-Number(qt)}).map(function(Gt){return s[Gt].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&u["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=u)):n.Preamble=u,n.Sheets&&ce.forEach(function(Gt,qt){n.Sheets[n.SheetNames[qt]]["!autofilter"]=Gt}),n.Strings=l,n.SSF=Ts(Xn),U.enc&&(n.Encryption=U.enc),Z&&(n.Themes=Z),n.Metadata={},N!==void 0&&(n.Metadata.Country=N),ye.names.length>0&&(O.Names=ye.names),n.Workbook=O,n}var ox={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function hYe(e,t,n){var r=Hn.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=YG(r,PI,ox.DSI);for(var s in i)t[s]=i[s]}catch(c){if(n.WTF)throw c}var o=Hn.find(e,"/!SummaryInformation");if(o&&o.size>0)try{var a=YG(o,DI,ox.SI);for(var l in a)t[l]==null&&(t[l]=a[l])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(lte(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function fYe(e,t){var n=[],r=[],i=[],s=0,o,a=SG(PI,"n"),l=SG(DI,"n");if(e.Props)for(o=lo(e.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],e.Props[o[s]]]);if(e.Custprops)for(o=lo(e.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?n:Object.prototype.hasOwnProperty.call(l,o[s])?r:i).push([o[s],e.Custprops[o[s]]]);var c=[];for(s=0;s<i.length;++s)gte.indexOf(i[s][0])>-1||ate.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&Hn.utils.cfb_add(t,"/SummaryInformation",XG(r,ox.SI,l,DI)),(n.length||c.length)&&Hn.utils.cfb_add(t,"/DocumentSummaryInformation",XG(n,ox.DSI,a,PI,c.length?c:null,ox.UDI))}function une(e,t){t||(t={}),R4(t),XN(),t.codepage&&YN(t.codepage);var n,r;if(e.FullPaths){if(Hn.find(e,"/encryption"))throw new Error("File is password-protected");n=Hn.find(e,"!CompObj"),r=Hn.find(e,"/Workbook")||Hn.find(e,"/Book")}else{switch(t.type){case"base64":e=pu(ku(e));break;case"binary":e=pu(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ja(e,0),r={content:e}}var i,s;if(n&&lYe(n),t.bookProps&&!t.bookSheets)i={};else{var o=kr?"buffer":"array";if(r&&r.content)i=dYe(r.content,t);else if((s=Hn.find(e,"PerfectOffice_MAIN"))&&s.content)i=p0.to_workbook(s.content,(t.type=o,t));else if((s=Hn.find(e,"NativeContent_MAIN"))&&s.content)i=p0.to_workbook(s.content,(t.type=o,t));else throw(s=Hn.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Hn.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=T9e(e))}var a={};return e.FullPaths&&hYe(e,a,t),i.Props=i.Custprops=a,t.bookFiles&&(i.cfb=e),i}function pYe(e,t){var n=t||{},r=Hn.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Hn.utils.cfb_add(r,i,dne(e,n)),n.biff==8&&(e.Props||e.Custprops)&&fYe(e,r),n.biff==8&&e.vbaraw&&R9e(r,Hn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var fS={0:{f:B7e},1:{f:K7e},2:{f:dje},3:{f:eje},4:{f:q7e},5:{f:lje},6:{f:mje},7:{f:ije},8:{f:Sje},9:{f:xje},10:{f:Cje},11:{f:bje},12:{f:X7e},13:{f:fje},14:{f:nje},15:{f:J7e},16:{f:nne},17:{f:yje},18:{f:oje},19:{f:l4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:yKe},40:{},42:{},43:{f:mUe},44:{f:pUe},45:{f:wUe},46:{f:bUe},47:{f:CUe},48:{},49:{f:zHe},50:{},51:{f:t9e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Tte},62:{f:gje},63:{f:u9e},64:{f:Vje},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Vl,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Oje},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:W7e},148:{f:z7e,p:16},151:{f:kje},152:{},153:{f:gKe},154:{},155:{},156:{f:fKe},157:{},158:{},159:{T:1,f:DGe},160:{T:-1},161:{T:1,f:uv},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:_je},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$Ue},336:{T:-1},337:{f:i9e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:kI},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Ete},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Pje},427:{f:Dje},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ije},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:U7e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Rje},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:kI},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:b9e},633:{T:1},634:{T:-1},635:{T:1,f:w9e},636:{T:-1},637:{f:jHe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nKe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Hje},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},NI={6:{f:jD},10:{f:Qp},12:{f:Uo},13:{f:Uo},14:{f:Co},15:{f:Co},16:{f:Il},17:{f:Co},18:{f:Co},19:{f:Uo},20:{f:eU},21:{f:eU},23:{f:Ete},24:{f:nU},25:{f:Co},26:{},27:{},28:{f:H8e},29:{},34:{f:Co},35:{f:tU},38:{f:Il},39:{f:Il},40:{f:Il},41:{f:Il},42:{f:Co},43:{f:Co},47:{f:JGe},49:{f:f8e},51:{f:Uo},60:{},61:{f:l8e},64:{f:Co},65:{f:h8e},66:{f:Uo},77:{},80:{},81:{},82:{},85:{f:Uo},89:{},90:{},91:{},92:{f:Qze},93:{f:U8e},94:{},95:{f:Co},96:{},97:{},99:{f:Co},125:{f:Tte},128:{f:A8e},129:{f:$ze},130:{f:Uo},131:{f:Co},132:{f:Co},133:{f:e8e},134:{},140:{f:Q8e},141:{f:Uo},144:{},146:{f:eGe},151:{},152:{},153:{},154:{},155:{},156:{f:Uo},157:{},158:{},160:{f:aGe},161:{f:rGe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:_8e},190:{f:E8e},193:{f:Qp},197:{},198:{},199:{},200:{},201:{},202:{f:Co},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Uo},220:{},221:{f:Co},222:{},224:{f:R8e},225:{f:qze},226:{f:Qp},227:{},229:{f:z8e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:n8e},253:{f:g8e},255:{f:i8e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:mte},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Co},353:{f:Qp},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:I8e},431:{f:Co},432:{},433:{},434:{},437:{},438:{f:K8e},439:{f:Co},440:{f:Y8e},441:{},442:{f:R1},443:{},444:{f:Uo},445:{},446:{},448:{f:Qp},449:{f:a8e,r:2},450:{f:Qp},512:{f:QG},513:{f:oGe},515:{f:D8e},516:{f:v8e},517:{f:$G},519:{f:lGe},520:{f:s8e},523:{},545:{f:rU},549:{f:qG},566:{},574:{f:u8e},638:{f:S8e},659:{},1048:{},1054:{f:w8e},1084:{},1212:{f:N8e},2048:{f:Z8e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Q_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Qp},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:tGe,r:12},2173:{f:QUe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Co,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:L8e,r:12},2197:{},2198:{f:jUe,r:12},2199:{},2200:{},2201:{},2202:{f:B8e,r:12},2203:{f:Qp},2204:{},2205:{},2206:{},2207:{},2211:{f:o8e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Uo},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:iGe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:$8e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:QG},1:{},2:{f:fGe},3:{f:dGe},4:{f:uGe},5:{f:$G},7:{f:gGe},8:{},9:{f:Q_},11:{},22:{f:Uo},30:{f:b8e},31:{},32:{},33:{f:rU},36:{},37:{f:qG},50:{f:mGe},62:{},52:{},67:{},68:{f:Uo},69:{},86:{},126:{},127:{f:cGe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:vGe},223:{},234:{},354:{},421:{},518:{f:jD},521:{f:Q_},536:{f:nU},547:{f:tU},561:{},579:{},1030:{f:jD},1033:{f:Q_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function rn(e,t,n,r){var i=t;if(!isNaN(i)){var s=r||(n||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&s4(n)&&e.push(n)}}function gYe(e,t,n,r){var i=(n||[]).length||0;if(i<=8224)return rn(e,t,n,i);var s=t;if(!isNaN(s)){for(var o=n.parts||[],a=0,l=0,c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;var u=e.next(4);for(u.write_shift(2,s),u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<i;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(o[a]||8224)<=8224;)c+=o[a]||8224,a++;u.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}function D1(e,t,n){return e||(e=Rt(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function mYe(e,t,n,r){var i=Rt(9);return D1(i,e,t),vte(n,r||"b",i),i}function vYe(e,t,n){var r=Rt(8+2*n.length);return D1(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function yYe(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?ua(Es(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?rn(e,2,pGe(n,r,i)):rn(e,3,hGe(n,r,i));return;case"b":case"e":rn(e,5,mYe(n,r,t.v,t.t));return;case"s":case"str":rn(e,4,vYe(n,r,(t.v||"").slice(0,255)));return}rn(e,1,D1(null,n,r))}function wYe(e,t,n,r){var i=Array.isArray(t),s=oi(t["!ref"]||"A1"),o,a="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=wr(s)}for(var c=s.s.r;c<=s.e.r;++c){a=Ro(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Gs(u)),o=l[u]+a;var h=i?(t[c]||[])[u]:t[o];h&&yYe(e,h,c,u)}}}function CYe(e,t){for(var n=t||{},r=Fc(),i=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return rn(r,n.biff==4?1033:n.biff==3?521:9,g4(e,16,n)),wYe(r,e.Sheets[e.SheetNames[i]],i,n),rn(r,10),r.end()}function bYe(e,t,n){rn(e,49,p8e({sz:12,name:"Arial"},n))}function xYe(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)t[i]!=null&&rn(e,1054,C8e(i,t[i],n))})}function SYe(e,t){var n=Rt(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),rn(e,2151,n),n=Rt(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),xte(oi(t["!ref"]||"A1"),n),n.write_shift(4,4),rn(e,2152,n)}function _Ye(e,t){for(var n=0;n<16;++n)rn(e,224,JG({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){rn(e,224,JG(r,0,t))})}function EYe(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];rn(e,440,X8e(r)),r[1].Tooltip&&rn(e,2048,q8e(r))}delete t["!links"]}function TYe(e,t){if(t){var n=0;t.forEach(function(r,i){++n<=256&&r&&rn(e,125,nGe(ek(i,r),i))})}}function RYe(e,t,n,r,i){var s=16+im(i.cellXfs,t,i);if(t.v==null&&!t.bf){rn(e,513,V0(n,r,s));return}if(t.bf)rn(e,6,$We(t,n,r,i,s));else switch(t.t){case"d":case"n":var o=t.t=="d"?ua(Es(t.v)):t.v;rn(e,515,F8e(n,r,o,s));break;case"b":case"e":rn(e,517,P8e(n,r,t.v,s,i,t.t));break;case"s":case"str":if(i.bookSST){var a=S4(i.Strings,t.v,i.revStrings);rn(e,253,m8e(n,r,a,s))}else rn(e,516,y8e(n,r,(t.v||"").slice(0,255),s,i));break;default:rn(e,513,V0(n,r,s))}}function AYe(e,t,n){var r=Fc(),i=n.SheetNames[e],s=n.Sheets[i]||{},o=(n||{}).Workbook||{},a=(o.Sheets||[])[e]||{},l=Array.isArray(s),c=t.biff==8,u,h="",p=[],m=oi(s["!ref"]||"A1"),y=c?65536:16384;if(m.e.c>255||m.e.r>=y){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}rn(r,2057,g4(n,16,t)),rn(r,13,od(1)),rn(r,12,od(100)),rn(r,15,nc(!0)),rn(r,17,nc(!1)),rn(r,16,N0(.001)),rn(r,95,nc(!0)),rn(r,42,nc(!1)),rn(r,43,nc(!1)),rn(r,130,od(1)),rn(r,128,k8e()),rn(r,131,nc(!1)),rn(r,132,nc(!1)),c&&TYe(r,s["!cols"]),rn(r,512,x8e(m,t)),c&&(s["!links"]=[]);for(var w=m.s.r;w<=m.e.r;++w){h=Ro(w);for(var b=m.s.c;b<=m.e.c;++b){w===m.s.r&&(p[b]=Gs(b)),u=p[b]+h;var S=l?(s[w]||[])[b]:s[u];S&&(RYe(r,S,w,b,t),c&&S.l&&s["!links"].push([u,S.l]))}}var E=a.CodeName||a.name||i;return c&&rn(r,574,d8e((o.Views||[])[0])),c&&(s["!merges"]||[]).length&&rn(r,229,G8e(s["!merges"])),c&&EYe(r,s),rn(r,442,yte(E)),c&&SYe(r,s),rn(r,10),r.end()}function kYe(e,t,n){var r=Fc(),i=(e||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=n.biff==8,l=n.biff==5;if(rn(r,2057,g4(e,5,n)),n.bookType=="xla"&&rn(r,135),rn(r,225,a?od(1200):null),rn(r,193,Pze(2)),l&&rn(r,191),l&&rn(r,192),rn(r,226),rn(r,92,Jze("SheetJS",n)),rn(r,66,od(a?1200:1252)),a&&rn(r,353,od(0)),a&&rn(r,448),rn(r,317,sGe(e.SheetNames.length)),a&&e.vbaraw&&rn(r,211),a&&e.vbaraw){var c=o.CodeName||"ThisWorkbook";rn(r,442,yte(c))}rn(r,156,od(17)),rn(r,25,nc(!1)),rn(r,18,nc(!1)),rn(r,19,od(0)),a&&rn(r,431,nc(!1)),a&&rn(r,444,od(0)),rn(r,61,c8e()),rn(r,64,nc(!1)),rn(r,141,od(0)),rn(r,34,nc(aKe(e)=="true")),rn(r,14,nc(!0)),a&&rn(r,439,nc(!1)),rn(r,218,od(0)),bYe(r,e,n),xYe(r,e.SSF,n),_Ye(r,n),a&&rn(r,352,nc(!1));var u=r.end(),h=Fc();a&&rn(h,140,J8e()),a&&n.Strings&&gYe(h,252,r8e(n.Strings)),rn(h,10);var p=h.end(),m=Fc(),y=0,w=0;for(w=0;w<e.SheetNames.length;++w)y+=(a?12:11)+(a?2:1)*e.SheetNames[w].length;var b=u.length+y+p.length;for(w=0;w<e.SheetNames.length;++w){var S=s[w]||{};rn(m,133,t8e({pos:b,hs:S.Hidden||0,dt:0,name:e.SheetNames[w]},n)),b+=t[w].length}var E=m.end();if(y!=E.length)throw new Error("BS8 "+y+" != "+E.length);var _=[];return u.length&&_.push(u),E.length&&_.push(E),p.length&&_.push(p),ka(_)}function PYe(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Ts(Xn)),e&&e.SSF&&(jw(),YA(e.SSF),n.revssf=ZA(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,A4(n),n.cellXfs=[],im(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=AYe(i,n,e);return r.unshift(kYe(e,r,n)),ka(r)}function dne(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Lc(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return PYe(e,t);case 4:case 3:case 2:return CYe(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function fU(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),o=i.index,a=s&&s.index||e.length,l=pHe(e.slice(o,a),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,h=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(o=0;o<l.length;++o){var w=l[o].trim(),b=w.slice(0,3).toLowerCase();if(b=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}u=0;continue}if(!(b!="<td"&&b!="<th")){var S=w.split(/<\/t[dh]>/i);for(a=0;a<S.length;++a){var E=S[a].trim();if(E.match(/<t[dh]/i)){for(var _=E,N=0;_.charAt(0)=="<"&&(N=_.indexOf(">"))>-1;)_=_.slice(N+1);for(var V=0;V<y.length;++V){var M=y[V];M.s.c==u&&M.s.r<c&&c<=M.e.r&&(u=M.e.c+1,V=-1)}var O=nr(E.slice(0,E.indexOf(">")));p=O.colspan?+O.colspan:1,((h=+O.rowspan)>1||p>1)&&y.push({s:{r:c,c:u},e:{r:c+(h||1)-1,c:u+p-1}});var z=O.t||O["data-t"]||"";if(!_.length){u+=p;continue}if(_=Oee(_),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!_.length){u+=p;continue}var H={t:"s",v:_};n.raw||!_.trim().length||z=="s"||(_==="TRUE"?H={t:"b",v:!0}:_==="FALSE"?H={t:"b",v:!1}:isNaN(rh(_))?isNaN(vw(_).getDate())||(H={t:"d",v:Es(_)},n.cellDates||(H={t:"n",v:ua(H.v)}),H.z=n.dateNF||Xn[14]):H={t:"n",v:rh(_)}),n.dense?(r[c]||(r[c]=[]),r[c][u]=H):r[Jn({r:c,c:u})]=H,u+=p}}}}return r["!ref"]=wr(m),y.length&&(r["!merges"]=y),r}function DYe(e,t,n,r){for(var i=e["!merges"]||[],s=[],o=t.s.c;o<=t.e.c;++o){for(var a=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){a=-1;break}a=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(a<0)){var u=Jn({r:n,c:o}),h=r.dense?(e[n]||[])[o]:e[u],p=h&&h.v!=null&&(h.h||n4(h.w||(pp(h),h.w)||""))||"",m={};a>1&&(m.rowspan=a),l>1&&(m.colspan=l),r.editable?p='<span contenteditable="true">'+p+"</span>":h&&(m["data-t"]=h&&h.t||"z",h.v!=null&&(m["data-v"]=h.v),h.z!=null&&(m["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+h.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+u,s.push(tn("td",p,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var FYe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',IYe="</body></html>";function MYe(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return rm(fU(n[0],t),t);var r=D4();return n.forEach(function(i,s){F4(r,fU(i,t),"Sheet"+(s+1))}),r}function OYe(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function hne(e,t){var n=t||{},r=n.header!=null?n.header:FYe,i=n.footer!=null?n.footer:IYe,s=[r],o=Lc(e["!ref"]);n.dense=Array.isArray(e),s.push(OYe(e,o,n));for(var a=o.s.r;a<=o.e.r;++a)s.push(DYe(e,o,a,n));return s.push("</table>"+i),s.join("")}function fne(e,t,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Us(r.origin):r.origin;i=o.r,s=o.c}var a=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(e["!ref"]){var u=Lc(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var h=[],p=0,m=e["!rows"]||(e["!rows"]=[]),y=0,w=0,b=0,S=0,E=0,_=0;for(e["!cols"]||(e["!cols"]=[]);y<a.length&&w<l;++y){var N=a[y];if(pU(N)){if(r.display)continue;m[w]={hidden:!0}}var V=N.children;for(b=S=0;b<V.length;++b){var M=V[b];if(!(r.display&&pU(M))){var O=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):Oee(M.innerHTML),z=M.getAttribute("data-z")||M.getAttribute("z");for(p=0;p<h.length;++p){var H=h[p];H.s.c==S+s&&H.s.r<w+i&&w+i<=H.e.r&&(S=H.e.c+1-s,p=-1)}_=+M.getAttribute("colspan")||1,((E=+M.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:w+i,c:S+s},e:{r:w+i+(E||1)-1,c:S+s+(_||1)-1}});var X={t:"s",v:O},Q=M.getAttribute("data-t")||M.getAttribute("t")||"";O!=null&&(O.length==0?X.t=Q||"z":r.raw||O.trim().length==0||Q=="s"||(O==="TRUE"?X={t:"b",v:!0}:O==="FALSE"?X={t:"b",v:!1}:isNaN(rh(O))?isNaN(vw(O).getDate())||(X={t:"d",v:Es(O)},r.cellDates||(X={t:"n",v:ua(X.v)}),X.z=r.dateNF||Xn[14]):X={t:"n",v:rh(O)})),X.z===void 0&&z!=null&&(X.z=z);var U="",Z=M.getElementsByTagName("A");if(Z&&Z.length)for(var q=0;q<Z.length&&!(Z[q].hasAttribute("href")&&(U=Z[q].getAttribute("href"),U.charAt(0)!="#"));++q);U&&U.charAt(0)!="#"&&(X.l={Target:U}),r.dense?(e[w+i]||(e[w+i]=[]),e[w+i][S+s]=X):e[Jn({c:S+s,r:w+i})]=X,c.e.c<S+s&&(c.e.c=S+s),S+=_}}++w}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,w-1+i),e["!ref"]=wr(c),w>=l&&(e["!fullref"]=wr((c.e.r=a.length-y+w-1+i,c))),e}function pne(e,t){var n=t||{},r=n.dense?[]:{};return fne(r,e,t)}function LYe(e,t){return rm(pne(e,t),t)}function pU(e){var t="",n=NYe(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function NYe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function BYe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=si(t.replace(/<[^>]*>/g,""));return[n]}var gU={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function gne(e,t){var n=t||{},r=r4(e),i=[],s,o,a={name:""},l="",c=0,u,h,p={},m=[],y=n.dense?[]:{},w,b,S={value:""},E="",_=0,N=[],V=-1,M=-1,O={s:{r:1e6,c:1e7},e:{r:0,c:0}},z=0,H={},X=[],Q={},U=0,Z=0,q=[],me=1,se=1,ue=[],Pe={Names:[]},ye={},W=["",""],re=[],te={},J="",ce=0,fe=!1,De=!1,at=0;for(aS.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=aS.exec(r);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"":w[1]==="/"?(O.e.c>=O.s.c&&O.e.r>=O.s.r?y["!ref"]=wr(O):y["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=O.e.r&&(y["!fullref"]=y["!ref"],O.e.r=n.sheetRows-1,y["!ref"]=wr(O)),X.length&&(y["!merges"]=X),q.length&&(y["!rows"]=q),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),p[u.name]=y,De=!1):w[0].charAt(w[0].length-2)!=="/"&&(u=nr(w[0],!1),V=M=-1,O.s.r=O.s.c=1e7,O.e.r=O.e.c=0,y=n.dense?[]:{},X=[],q=[],De=!0);break;case"table-row-group":w[1]==="/"?--z:++z;break;case"table-row":case"":if(w[1]==="/"){V+=me,me=1;break}if(h=nr(w[0],!1),h.?V=h.-1:V==-1&&(V=0),me=+h["number-rows-repeated"]||1,me<10)for(at=0;at<me;++at)z>0&&(q[V+at]={level:z});M=-1;break;case"covered-table-cell":w[1]!=="/"&&++M,n.sheetStubs&&(n.dense?(y[V]||(y[V]=[]),y[V][M]={t:"z"}):y[Jn({r:V,c:M})]={t:"z"}),E="",N=[];break;case"table-cell":case"":if(w[0].charAt(w[0].length-2)==="/")++M,S=nr(w[0],!1),se=parseInt(S["number-columns-repeated"]||"1",10),b={t:"z",v:null},S.formula&&n.cellFormula!=!1&&(b.f=uU(si(S.formula))),(S.||S["value-type"])=="string"&&(b.t="s",b.v=si(S["string-value"]||""),n.dense?(y[V]||(y[V]=[]),y[V][M]=b):y[Jn({r:V,c:M})]=b),M+=se-1;else if(w[1]!=="/"){++M,E="",_=0,N=[],se=1;var je=me?V+me-1:V;if(M>O.e.c&&(O.e.c=M),M<O.s.c&&(O.s.c=M),V<O.s.r&&(O.s.r=V),je>O.e.r&&(O.e.r=je),S=nr(w[0],!1),re=[],te={},b={t:S.||S["value-type"],v:null},n.cellFormula)if(S.formula&&(S.formula=si(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(U=parseInt(S["number-matrix-rows-spanned"],10)||0,Z=parseInt(S["number-matrix-columns-spanned"],10)||0,Q={s:{r:V,c:M},e:{r:V+U-1,c:M+Z-1}},b.F=wr(Q),ue.push([Q,b.F])),S.formula)b.f=uU(S.formula);else for(at=0;at<ue.length;++at)V>=ue[at][0].s.r&&V<=ue[at][0].e.r&&M>=ue[at][0].s.c&&M<=ue[at][0].e.c&&(b.F=ue[at][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(U=parseInt(S["number-rows-spanned"],10)||0,Z=parseInt(S["number-columns-spanned"],10)||0,Q={s:{r:V,c:M},e:{r:V+U-1,c:M+Z-1}},X.push(Q)),S["number-columns-repeated"]&&(se=parseInt(S["number-columns-repeated"],10)),b.t){case"boolean":b.t="b",b.v=xs(S["boolean-value"]);break;case"float":b.t="n",b.v=parseFloat(S.value);break;case"percentage":b.t="n",b.v=parseFloat(S.value);break;case"currency":b.t="n",b.v=parseFloat(S.value);break;case"date":b.t="d",b.v=Es(S["date-value"]),n.cellDates||(b.t="n",b.v=ua(b.v)),b.z="m/d/yy";break;case"time":b.t="n",b.v=dHe(S["time-value"])/86400,n.cellDates&&(b.t="d",b.v=qA(b.v)),b.z="HH:MM:SS";break;case"number":b.t="n",b.v=parseFloat(S.);break;default:if(b.t==="string"||b.t==="text"||!b.t)b.t="s",S["string-value"]!=null&&(E=si(S["string-value"]),N=[]);else throw new Error("Unsupported value type "+b.t)}}else{if(fe=!1,b.t==="s"&&(b.v=E||"",N.length&&(b.R=N),fe=_==0),ye.Target&&(b.l=ye),re.length>0&&(b.c=re,re=[]),E&&n.cellText!==!1&&(b.w=E),fe&&(b.t="z",delete b.v),(!fe||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=V))for(var qe=0;qe<me;++qe){if(se=parseInt(S["number-columns-repeated"]||"1",10),n.dense)for(y[V+qe]||(y[V+qe]=[]),y[V+qe][M]=qe==0?b:Ts(b);--se>0;)y[V+qe][M+se]=Ts(b);else for(y[Jn({r:V+qe,c:M})]=b;--se>0;)y[Jn({r:V+qe,c:M+se})]=Ts(b);O.e.c<=M&&(O.e.c=M)}se=parseInt(S["number-columns-repeated"]||"1",10),M+=se-1,se=0,b={},E="",N=[]}ye={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s;te.t=E,N.length&&(te.R=N),te.a=J,re.push(te)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);J="",ce=0,E="",_=0,N=[];break;case"creator":w[1]==="/"?J=r.slice(ce,w.index):ce=w.index+w[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);E="",_=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(H[a.name]=l,(s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(l="",a=nr(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=nr(w[0],!1),l+=gU[w[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=nr(w[0],!1),l+=gU[w[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=r.slice(c,w.index);break}else c=w.index+w[0].length;break;case"named-range":o=nr(w[0],!1),W=KD(o["cell-range-address"]);var et={Name:o.name,Ref:W[0]+"!"+W[1]};De&&(et.Sheet=m.length),Pe.Names.push(et);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!S||!S["string-value"])){var Et=BYe(r.slice(_,w.index));E=(E.length>0?E+`
`:"")+Et[0]}else nr(w[0],!1),_=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{W=KD(nr(w[0])["target-range-address"]),p[W[0]]["!autofilter"]={ref:W[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(ye=nr(w[0],!1),!ye.href)break;ye.Target=si(ye.href),delete ye.href,ye.Target.charAt(0)=="#"&&ye.Target.indexOf(".")>-1?(W=KD(ye.Target.slice(1)),ye.Target="#"+W[0]+"!"+W[1]):ye.Target.match(/^\.\.[\\\/]/)&&(ye.Target=ye.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(w)}}var Se={Sheets:p,SheetNames:m,Workbook:Pe};return n.bookSheets&&delete Se.Sheets,Se}function mU(e,t){t=t||{},id(e,"META-INF/manifest.xml")&&dze(Go(e,"META-INF/manifest.xml"),t);var n=gu(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=gne(Zi(n),t);return id(e,"meta.xml")&&(r.Props=ste(Go(e,"meta.xml"))),r}function vU(e,t){return gne(e,t)}var VYe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+oS({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Ao+t}}(),yU=function(){var e=function(s){return Li(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,o,a){var l=[];l.push('      <table:table table:name="'+Li(o.SheetNames[a])+`" table:style-name="ta1">
`);var c=0,u=0,h=Lc(s["!ref"]||"A1"),p=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(u=0;u<=h.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var w="",b=s["!rows"]||[];for(c=0;c<h.s.r;++c)w=b[c]?' table:style-name="ro'+b[c].ods+'"':"",l.push("        <table:table-row"+w+`></table:table-row>
`);for(;c<=h.e.r;++c){for(w=b[c]?' table:style-name="ro'+b[c].ods+'"':"",l.push("        <table:table-row"+w+`>
`),u=0;u<h.s.c;++u)l.push(t);for(;u<=h.e.c;++u){var S=!1,E={},_="";for(m=0;m!=p.length;++m)if(!(p[m].s.c>u)&&!(p[m].s.r>c)&&!(p[m].e.c<u)&&!(p[m].e.r<c)){(p[m].s.c!=u||p[m].s.r!=c)&&(S=!0),E["table:number-columns-spanned"]=p[m].e.c-p[m].s.c+1,E["table:number-rows-spanned"]=p[m].e.r-p[m].s.r+1;break}if(S){l.push(n);continue}var N=Jn({r:c,c:u}),V=y?(s[c]||[])[u]:s[N];if(V&&V.f&&(E["table:formula"]=Li(s7e(V.f)),V.F&&V.F.slice(0,N.length)==N)){var M=Lc(V.F);E["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,E["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(!V){l.push(t);continue}switch(V.t){case"b":_=V.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=V.v?"true":"false";break;case"n":_=V.w||String(V.v||0),E["office:value-type"]="float",E["office:value"]=V.v||0;break;case"s":case"str":_=V.v==null?"":V.v,E["office:value-type"]="string";break;case"d":_=V.w||Es(V.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Es(V.v).toISOString(),E["table:style-name"]="ce1";break;default:l.push(t);continue}var O=e(_);if(V.l&&V.l.Target){var z=V.l.Target;z=z.charAt(0)=="#"?"#"+o7e(z.slice(1)):z,z.charAt(0)!="#"&&!z.match(/^\w+:/)&&(z="../"+z),O=tn("text:a",O,{"xlink:href":z.replace(/&/g,"&amp;")})}l.push("          "+tn("table:table-cell",tn("text:p",O,{}),E)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var h=c["!cols"][u];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Vg(h),h.ods=a;var p=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++a}}});var l=0;o.SheetNames.map(function(c){return o.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var h=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var l=[Ao],c=oS({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=oS({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(ite().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,o),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=o.SheetNames.length;++h)l.push(r(o.Sheets[o.SheetNames[h]],o,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),a.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function mne(e,t){if(t.bookType=="fods")return yU(e,t);var n=$N(),r="",i=[],s=[];return r="mimetype",Sr(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Sr(n,r,yU(e,t)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Sr(n,r,VYe(e,t)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Sr(n,r,Ao+ite()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Sr(n,r,pze(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Sr(n,r,hze(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function H0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function BI(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Zi(nm(e))}function HYe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):pu(Kh(e))}function zYe(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function zg(e){var t=e.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function wU(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function GYe(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function UYe(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)e[t+s]=i&255;e[t+15]|=n>=0?0:128}function pS(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Mi(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function oo(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function di(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=pS(e,n),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var l=n[0];e[n[0]++]>=128;);a=e.slice(l,n[0])}break;case 5:o=4,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=pS(e,n),a=e.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:a,type:s};t[i]==null?t[i]=[c]:t[i].push(c)}return t}function Xa(e){var t=[];return e.forEach(function(n,r){n.forEach(function(i){i.data&&(t.push(Mi(r*8+i.type)),i.type==2&&t.push(Mi(i.data.length)),t.push(i.data))})}),zg(t)}function T4(e,t){return e?.map(function(n){return t(n.data)})||[]}function $u(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=pS(e,r),s=di(e.slice(r[0],r[0]+i));r[0]+=i;var o={id:oo(s[1][0].data),messages:[]};s[2].forEach(function(a){var l=di(a.data),c=oo(l[3][0].data);o.messages.push({meta:l,data:e.slice(r[0],r[0]+c)}),r[0]+=c}),(t=s[3])!=null&&t[0]&&(o.merge=oo(s[3][0].data)>>>0>0),n.push(o)}return n}function qv(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:Mi(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Mi(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:Mi(o.data.length)}],r[2].push({data:Xa(o.meta),type:2})});var s=Xa(r);t.push(Mi(s.length)),t.push(s),i.forEach(function(o){return t.push(o)})}),zg(t)}function WYe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=pS(t,n),i=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var o=t[n[0]++]>>2;if(o<60)++o;else{var a=o-59;o=t[n[0]],a>1&&(o|=t[n[0]+1]<<8),a>2&&(o|=t[n[0]+2]<<16),a>3&&(o|=t[n[0]+3]<<24),o>>>=0,o++,n[0]+=a}i.push(t.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var l=0,c=0;if(s==1?(c=(t[n[0]]>>2&7)+4,l=(t[n[0]++]&224)<<3,l|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,s==2?(l=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(l=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[zg(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=zg(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function ed(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(WYe(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return zg(t)}function Qv(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var s=Mi(r),o=s.length;t.push(s),r<=60?(o++,t.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,n+=r}return zg(t)}function jYe(e,t,n,r){var i=H0(e),s=i.getUint32(4,!0),o=(r>1?12:8)+wU(s&(r>1?3470:398))*4,a=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(a=i.getUint32(o,!0),o+=4),o+=wU(s&(r>1?12288:4096))*4,s&16&&(l=i.getUint32(o,!0),o+=4),s&32&&(c=i.getFloat64(o,!0),o+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var h;switch(e[2]){case 0:break;case 2:h={t:"n",v:c};break;case 3:h={t:"s",v:t[l]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(a>-1)h={t:"s",v:n[a]};else if(l>-1)h={t:"s",v:t[l]};else if(!isNaN(c))h={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return h}function KYe(e,t,n){var r=H0(e),i=r.getUint32(8,!0),s=12,o=-1,a=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=GYe(e,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(a=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var h;switch(e[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:t[a]};break;case 5:h={t:"d",v:u};break;case 6:h={t:"b",v:c>0};break;case 7:h={t:"n",v:c/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return h}function XD(e,t){var n=new Uint8Array(32),r=H0(n),i=12,s=0;switch(n[0]=5,e.t){case"n":n[1]=2,UYe(n,i,e.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),s|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),n.slice(0,i)}function ZD(e,t){var n=new Uint8Array(32),r=H0(n),i=12,s=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),s|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,s,!0),n.slice(0,i)}function YYe(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return jYe(e,t,n,e[0]);case 5:return KYe(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Pl(e){var t=di(e);return pS(t[1][0].data)}function CU(e,t){var n=di(t.data),r=oo(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var a=di(o.data),l=oo(a[1][0].data)>>>0;switch(r){case 1:s[l]=BI(a[3][0].data);break;case 8:{var c=e[Pl(a[9][0].data)][0],u=di(c.data),h=e[Pl(u[1][0].data)][0],p=oo(h.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=di(h.data);s[l]=m[3].map(function(y){return BI(y.data)}).join("")}break}}),s}function XYe(e,t){var n,r,i,s,o,a,l,c,u,h,p,m,y,w,b=di(e),S=oo(b[1][0].data)>>>0,E=oo(b[2][0].data)>>>0,_=((r=(n=b[8])==null?void 0:n[0])==null?void 0:r.data)&&oo(b[8][0].data)>0||!1,N,V;if((s=(i=b[7])==null?void 0:i[0])!=null&&s.data&&t!=0)N=(a=(o=b[7])==null?void 0:o[0])==null?void 0:a.data,V=(c=(l=b[6])==null?void 0:l[0])==null?void 0:c.data;else if((h=(u=b[4])==null?void 0:u[0])!=null&&h.data&&t!=1)N=(m=(p=b[4])==null?void 0:p[0])==null?void 0:m.data,V=(w=(y=b[3])==null?void 0:y[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var M=_?4:1,O=H0(N),z=[],H=0;H<N.length/2;++H){var X=O.getUint16(H*2,!0);X<65535&&z.push([H,X])}if(z.length!=E)throw"Expected ".concat(E," cells, found ").concat(z.length);var Q=[];for(H=0;H<z.length-1;++H)Q[z[H][0]]=V.subarray(z[H][1]*M,z[H+1][1]*M);return z.length>=1&&(Q[z[z.length-1][0]]=V.subarray(z[z.length-1][1]*M)),{R:S,cells:Q}}function ZYe(e,t){var n,r=di(t.data),i=(n=r?.[7])!=null&&n[0]?oo(r[7][0].data)>>>0>0?1:0:-1,s=T4(r[5],function(o){return XYe(o,i)});return{nrows:oo(r[4][0].data)>>>0,data:s.reduce(function(o,a){return o[a.R]||(o[a.R]=[]),a.cells.forEach(function(l,c){if(o[a.R][c])throw new Error("Duplicate cell r=".concat(a.R," c=").concat(c));o[a.R][c]=l}),o},[])}}function qYe(e,t,n){var r,i=di(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(oo(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(oo(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=wr(s);var o=di(i[4][0].data),a=CU(e,e[Pl(o[4][0].data)][0]),l=(r=o[17])!=null&&r[0]?CU(e,e[Pl(o[17][0].data)][0]):[],c=di(o[3][0].data),u=0;c[1].forEach(function(h){var p=di(h.data),m=e[Pl(p[2][0].data)][0],y=oo(m.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var w=ZYe(e,m);w.data.forEach(function(b,S){b.forEach(function(E,_){var N=Jn({r:u+S,c:_}),V=YYe(E,a,l);V&&(n[N]=V)})}),u+=w.nrows})}function QYe(e,t){var n=di(t.data),r={"!ref":"A1"},i=e[Pl(n[2][0].data)],s=oo(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return qYe(e,i[0],r),r}function JYe(e,t){var n,r=di(t.data),i={name:(n=r[1])!=null&&n[0]?BI(r[1][0].data):"",sheets:[]},s=T4(r[2],Pl);return s.forEach(function(o){e[o].forEach(function(a){var l=oo(a.meta[1][0].data);l==6e3&&i.sheets.push(QYe(e,a))})}),i}function $Ye(e,t){var n=D4(),r=di(t.data),i=T4(r[1],Pl);if(i.forEach(function(s){e[s].forEach(function(o){var a=oo(o.meta[1][0].data);if(a==2){var l=JYe(e,o);l.sheets.forEach(function(c,u){F4(n,c,u==0?l.name:l.name+"_"+u,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function qD(e){var t,n,r,i,s={},o=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=ed(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var u;try{u=$u(c)}catch(h){return console.log("## "+(h.message||h))}u.forEach(function(h){s[h.id]=h.messages,o.push(h.id)})}}),!o.length)throw new Error("File has no messages");var a=((i=(r=(n=(t=s?.[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&oo(s[1][0].meta[1][0].data)==1&&s[1][0];if(a||o.forEach(function(l){s[l].forEach(function(c){var u=oo(c.meta[1][0].data)>>>0;if(u==1)if(!a)a=c;else throw new Error("Document has multiple roots")})}),!a)throw new Error("Cannot find Document root");return $Ye(s,a)}function eXe(e,t,n){var r,i,s,o;if(!((r=e[6])!=null&&r[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=e[8])==null?void 0:s[0])==null?void 0:o.data)&&oo(e[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var l=0,c=H0(e[7][0].data),u=0,h=[],p=H0(e[4][0].data),m=0,y=[],w=0;w<t.length;++w){if(t[w]==null){c.setUint16(w*2,65535,!0),p.setUint16(w*2,65535);continue}c.setUint16(w*2,u,!0),p.setUint16(w*2,m,!0);var b,S;switch(typeof t[w]){case"string":b=XD({t:"s",v:t[w]},n),S=ZD({t:"s",v:t[w]},n);break;case"number":b=XD({t:"n",v:t[w]},n),S=ZD({t:"n",v:t[w]},n);break;case"boolean":b=XD({t:"b",v:t[w]},n),S=ZD({t:"b",v:t[w]},n);break;default:throw new Error("Unsupported value "+t[w])}h.push(b),u+=b.length,y.push(S),m+=S.length,++l}for(e[2][0].data=Mi(l);w<e[7][0].data.length/2;++w)c.setUint16(w*2,65535,!0),p.setUint16(w*2,65535,!0);return e[6][0].data=zg(h),e[3][0].data=zg(y),l}function tXe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Lc(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(wr(r)));var s=bR(n,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(J){return J.forEach(function(ce){typeof ce=="string"&&o.push(ce)})});var a={},l=[],c=Hn.read(t.numbers,{type:"base64"});c.FileIndex.map(function(J,ce){return[J,c.FullPaths[ce]]}).forEach(function(J){var ce=J[0],fe=J[1];if(ce.type==2&&ce.name.match(/\.iwa/)){var De=ce.content,at=ed(De),je=$u(at);je.forEach(function(qe){l.push(qe.id),a[qe.id]={deps:[],location:fe,type:oo(qe.messages[0].meta[1][0].data)}})}}),l.sort(function(J,ce){return J-ce});var u=l.filter(function(J){return J>1}).map(function(J){return[J,Mi(J)]});c.FileIndex.map(function(J,ce){return[J,c.FullPaths[ce]]}).forEach(function(J){var ce=J[0];if(J[1],!!ce.name.match(/\.iwa/)){var fe=$u(ed(ce.content));fe.forEach(function(De){De.messages.forEach(function(at){u.forEach(function(je){De.messages.some(function(qe){return oo(qe.meta[1][0].data)!=11006&&zYe(qe.data,je[1])})&&a[je[0]].deps.push(De.id)})})})}});for(var h=Hn.find(c,a[1].location),p=$u(ed(h.content)),m,y=0;y<p.length;++y){var w=p[y];w.id==1&&(m=w)}var b=Pl(di(m.messages[0].data)[1][0].data);for(h=Hn.find(c,a[b].location),p=$u(ed(h.content)),y=0;y<p.length;++y)w=p[y],w.id==b&&(m=w);for(b=Pl(di(m.messages[0].data)[2][0].data),h=Hn.find(c,a[b].location),p=$u(ed(h.content)),y=0;y<p.length;++y)w=p[y],w.id==b&&(m=w);for(b=Pl(di(m.messages[0].data)[2][0].data),h=Hn.find(c,a[b].location),p=$u(ed(h.content)),y=0;y<p.length;++y)w=p[y],w.id==b&&(m=w);var S=di(m.messages[0].data);{S[6][0].data=Mi(r.e.r+1),S[7][0].data=Mi(r.e.c+1);var E=Pl(S[46][0].data),_=Hn.find(c,a[E].location),N=$u(ed(_.content));{for(var V=0;V<N.length&&N[V].id!=E;++V);if(N[V].id!=E)throw"Bad ColumnRowUIDMapArchive";var M=di(N[V].messages[0].data);M[1]=[],M[2]=[],M[3]=[];for(var O=0;O<=r.e.c;++O){var z=[];z[1]=z[2]=[{type:0,data:Mi(O+420690)}],M[1].push({type:2,data:Xa(z)}),M[2].push({type:0,data:Mi(O)}),M[3].push({type:0,data:Mi(O)})}M[4]=[],M[5]=[],M[6]=[];for(var H=0;H<=r.e.r;++H)z=[],z[1]=z[2]=[{type:0,data:Mi(H+726270)}],M[4].push({type:2,data:Xa(z)}),M[5].push({type:0,data:Mi(H)}),M[6].push({type:0,data:Mi(H)});N[V].messages[0].data=Xa(M)}_.content=Qv(qv(N)),_.size=_.content.length,delete S[46];var X=di(S[4][0].data);{X[7][0].data=Mi(r.e.r+1);var Q=di(X[1][0].data),U=Pl(Q[2][0].data);_=Hn.find(c,a[U].location),N=$u(ed(_.content));{if(N[0].id!=U)throw"Bad HeaderStorageBucket";var Z=di(N[0].messages[0].data);for(H=0;H<s.length;++H){var q=di(Z[2][0].data);q[1][0].data=Mi(H),q[4][0].data=Mi(s[H].length),Z[2][H]={type:Z[2][0].type,data:Xa(q)}}N[0].messages[0].data=Xa(Z)}_.content=Qv(qv(N)),_.size=_.content.length;var me=Pl(X[2][0].data);_=Hn.find(c,a[me].location),N=$u(ed(_.content));{if(N[0].id!=me)throw"Bad HeaderStorageBucket";for(Z=di(N[0].messages[0].data),O=0;O<=r.e.c;++O)q=di(Z[2][0].data),q[1][0].data=Mi(O),q[4][0].data=Mi(r.e.r+1),Z[2][O]={type:Z[2][0].type,data:Xa(q)};N[0].messages[0].data=Xa(Z)}_.content=Qv(qv(N)),_.size=_.content.length;var se=Pl(X[4][0].data);(function(){for(var J=Hn.find(c,a[se].location),ce=$u(ed(J.content)),fe,De=0;De<ce.length;++De){var at=ce[De];at.id==se&&(fe=at)}var je=di(fe.messages[0].data);{je[3]=[];var qe=[];o.forEach(function(Se,$t){qe[1]=[{type:0,data:Mi($t)}],qe[2]=[{type:0,data:Mi(1)}],qe[3]=[{type:2,data:HYe(Se)}],je[3].push({type:2,data:Xa(qe)})})}fe.messages[0].data=Xa(je);var et=qv(ce),Et=Qv(et);J.content=Et,J.size=J.content.length})();var ue=di(X[3][0].data);{var Pe=ue[1][0];delete ue[2];var ye=di(Pe.data);{var W=Pl(ye[2][0].data);(function(){for(var J=Hn.find(c,a[W].location),ce=$u(ed(J.content)),fe,De=0;De<ce.length;++De){var at=ce[De];at.id==W&&(fe=at)}var je=di(fe.messages[0].data);{delete je[6],delete ue[7];var qe=new Uint8Array(je[5][0].data);je[5]=[];for(var et=0,Et=0;Et<=r.e.r;++Et){var Se=di(qe);et+=eXe(Se,s[Et],o),Se[1][0].data=Mi(Et),je[5].push({data:Xa(Se),type:2})}je[1]=[{type:0,data:Mi(r.e.c+1)}],je[2]=[{type:0,data:Mi(r.e.r+1)}],je[3]=[{type:0,data:Mi(et)}],je[4]=[{type:0,data:Mi(r.e.r+1)}]}fe.messages[0].data=Xa(je);var $t=qv(ce),ne=Qv($t);J.content=ne,J.size=J.content.length})()}Pe.data=Xa(ye)}X[3][0].data=Xa(ue)}S[4][0].data=Xa(X)}m.messages[0].data=Xa(S);var re=qv(p),te=Qv(re);return h.content=te,h.size=h.content.length,c}function vne(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function R4(e){vne([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function A4(e){vne([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function nXe(e){return Or.WS.indexOf(e)>-1?"sheet":e==Or.CS?"chart":e==Or.DS?"dialog":e==Or.MS?"macro":e&&e.length?e:"sheet"}function rXe(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,nXe(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function iXe(e,t,n,r,i,s,o,a,l,c,u,h){try{s[r]=nx(gu(e,n,!0),t);var p=Go(e,t),m;switch(a){case"sheet":m=TKe(p,t,i,l,s[r],c,u,h);break;case"chart":if(m=RKe(p,t,i,l,s[r],c,u,h),!m||!m["!drawel"])break;var y=Tb(m["!drawel"].Target,t),w=lS(y),b=f9e(gu(e,y,!0),nx(gu(e,w,!0),y)),S=Tb(b,y),E=lS(S);m=eKe(gu(e,S,!0),S,l,nx(gu(e,E,!0),S),c,m);break;case"macro":m=AKe(p,t,i,l,s[r],c,u,h);break;case"dialog":m=kKe(p,t,i,l,s[r],c,u,h);break;default:throw new Error("Unrecognized sheet type "+a)}o[r]=m;var _=[];s&&s[r]&&lo(s[r]).forEach(function(N){var V="";if(s[r][N].Type==Or.CMNT){V=Tb(s[r][N].Target,t);var M=IKe(Go(e,V,!0),V,l);if(!M||!M.length)return;sU(m,M,!1)}s[r][N].Type==Or.TCMNT&&(V=Tb(s[r][N].Target,t),_=_.concat(g9e(Go(e,V,!0),l)))}),_&&_.length&&sU(m,_,!0,l.people||[])}catch(N){if(l.WTF)throw N}}function qu(e){return e.charAt(0)=="/"?e.slice(1):e}function sXe(e,t){if(jw(),t=t||{},R4(t),id(e,"META-INF/manifest.xml")||id(e,"objectdata.xml"))return mU(e,t);if(id(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof qD<"u"){if(e.FileIndex)return qD(e);var n=Hn.utils.cfb_new();return TG(e).forEach(function(q){Sr(n,q,mHe(e,q))}),qD(n)}throw new Error("Unsupported NUMBERS file")}if(!id(e,"[Content_Types].xml"))throw id(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):id(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=TG(e),i=cze(gu(e,"[Content_Types].xml")),s=!1,o,a;if(i.workbooks.length===0&&(a="xl/workbook.xml",Go(e,a,!0)&&i.workbooks.push(a)),i.workbooks.length===0){if(a="xl/workbook.bin",!Go(e,a,!0))throw new Error("Could not find workbook");i.workbooks.push(a),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(rx=[],i.sst)try{rx=FKe(Go(e,qu(i.sst)),i.sst,t)}catch(q){if(t.WTF)throw q}t.cellStyles&&i.themes.length&&(l=DKe(gu(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=PKe(Go(e,qu(i.style)),i.style,l,t))}i.links.map(function(q){try{var me=nx(gu(e,lS(qu(q))),q);return OKe(Go(e,qu(q)),me,q,t)}catch{}});var u=EKe(Go(e,qu(i.workbooks[0])),i.workbooks[0],t),h={},p="";i.coreprops.length&&(p=Go(e,qu(i.coreprops[0]),!0),p&&(h=ste(p)),i.extprops.length!==0&&(p=Go(e,qu(i.extprops[0]),!0),p&&mze(p,h,t)));var m={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(p=gu(e,qu(i.custprops[0]),!0),p&&(m=yze(p,t)));var y={};if((t.bookSheets||t.bookProps)&&(u.Sheets?o=u.Sheets.map(function(me){return me.name}):h.Worksheets&&h.SheetNames.length>0&&(o=h.SheetNames),t.bookProps&&(y.Props=h,y.Custprops=m),t.bookSheets&&typeof o<"u"&&(y.SheetNames=o),t.bookSheets?y.SheetNames:t.bookProps))return y;o={};var w={};t.bookDeps&&i.calcchain&&(w=MKe(Go(e,qu(i.calcchain)),i.calcchain));var b=0,S={},E,_;{var N=u.Sheets;h.Worksheets=N.length,h.SheetNames=[];for(var V=0;V!=N.length;++V)h.SheetNames[V]=N[V].name}var M=s?"bin":"xml",O=i.workbooks[0].lastIndexOf("/"),z=(i.workbooks[0].slice(0,O+1)+"_rels/"+i.workbooks[0].slice(O+1)+".rels").replace(/^\//,"");id(e,z)||(z="xl/_rels/workbook."+M+".rels");var H=nx(gu(e,z,!0),z.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=LKe(Go(e,qu(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=v9e(Go(e,qu(i.people[0])),t)),H&&(H=rXe(H,u.Sheets));var X=Go(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=h.Worksheets;++b){var Q="sheet";if(H&&H[b]?(E="xl/"+H[b][1].replace(/[\/]?xl\//,""),id(e,E)||(E=H[b][1]),id(e,E)||(E=z.replace(/_rels\/.*$/,"")+H[b][1]),Q=H[b][2]):(E="xl/worksheets/sheet"+(b+1-X)+"."+M,E=E.replace(/sheet0\./,"sheet.")),_=E.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(h.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var U=!1,Z=0;Z!=t.sheets.length;++Z)typeof t.sheets[Z]=="number"&&t.sheets[Z]==b&&(U=1),typeof t.sheets[Z]=="string"&&t.sheets[Z].toLowerCase()==h.SheetNames[b].toLowerCase()&&(U=1);if(!U)continue e}}iXe(e,E,_,h.SheetNames[b],b,S,o,Q,t,u,l,c)}return y={Directory:i,Workbook:u,Props:h,Custprops:m,Deps:w,Sheets:o,SheetNames:h.SheetNames,Strings:rx,Styles:c,Themes:l,SSF:Ts(Xn)},t&&t.bookFiles&&(e.files?(y.keys=r,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(q,me){q=q.replace(/^Root Entry[\/]/,""),y.keys.push(q),y.files[q]=e.FileIndex[me]}))),t&&t.bookVBA&&(i.vba.length>0?y.vbaraw=Go(e,qu(i.vba[0]),!0):i.defaults&&i.defaults.bin===E9e&&(y.vbaraw=Go(e,"xl/vbaProject.bin",!0))),y}function oXe(e,t){var n=t||{},r="Workbook",i=Hn.find(e,r);try{if(r="/!DataSpaces/Version",i=Hn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(LGe(i.content),r="/!DataSpaces/DataSpaceMap",i=Hn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=BGe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Hn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=VGe(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Hn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);zGe(i.content)}catch{}if(r="/EncryptionInfo",i=Hn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=GGe(i.content);if(r="/EncryptedPackage",i=Hn.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(a[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(a[1],i.content,n.password||"",n);if(a[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(a[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function aXe(e,t){return t.bookType=="ods"?mne(e,t):t.bookType=="numbers"?tXe(e,t):t.bookType=="xlsb"?lXe(e,t):cXe(e,t)}function lXe(e,t){my=1024,e&&!e.SSF&&(e.SSF=Ts(Xn)),e&&e.SSF&&(jw(),YA(e.SSF),t.revssf=ZA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ix?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=Wte.indexOf(t.bookType)>-1,i=f4();A4(t=t||{});var s=$N(),o="",a=0;if(t.cellXfs=[],im(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Sr(s,o,ote(e.Props,t)),i.coreprops.push(o),Oi(t.rels,2,o,Or.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Sr(s,o,cte(e.Props)),i.extprops.push(o),Oi(t.rels,3,o,Or.EXT_PROPS),e.Custprops!==e.Props&&lo(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Sr(s,o,ute(e.Custprops)),i.custprops.push(o),Oi(t.rels,4,o,Or.CUST_PROPS)),a=1;a<=e.SheetNames.length;++a){var u={"!id":{}},h=e.Sheets[e.SheetNames[a-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,Sr(s,o,BKe(a-1,o,t,e,u)),i.sheets.push(o),Oi(t.wbrels,-1,"worksheets/sheet"+a+"."+n,Or.WS[0])}if(h){var m=h["!comments"],y=!1,w="";m&&m.length>0&&(w="xl/comments"+a+"."+n,Sr(s,w,zKe(m,w)),i.comments.push(w),Oi(u,-1,"../comments"+a+"."+n,Or.CMNT),y=!0),h["!legacy"]&&y&&Sr(s,"xl/drawings/vmlDrawing"+a+".vml",Gte(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&Sr(s,lS(o),By(u))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,Sr(s,o,HKe(t.Strings,o,t)),i.strs.push(o),Oi(t.wbrels,-1,"sharedStrings."+n,Or.SST)),o="xl/workbook."+n,Sr(s,o,NKe(e,o)),i.workbooks.push(o),Oi(t.rels,1,o,Or.WB),o="xl/theme/theme1.xml",Sr(s,o,w4(e.Themes,t)),i.themes.push(o),Oi(t.wbrels,-1,"theme/theme1.xml",Or.THEME),o="xl/styles."+n,Sr(s,o,VKe(e,o,t)),i.styles.push(o),Oi(t.wbrels,-1,"styles."+n,Or.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",Sr(s,o,e.vbaraw),i.vba.push(o),Oi(t.wbrels,-1,"vbaProject.bin",Or.VBA)),o="xl/metadata."+n,Sr(s,o,GKe(o)),i.metadata.push(o),Oi(t.wbrels,-1,"metadata."+n,Or.XLMETA),Sr(s,"[Content_Types].xml",rte(i,t)),Sr(s,"_rels/.rels",By(t.rels)),Sr(s,"xl/_rels/workbook."+n+".rels",By(t.wbrels)),delete t.revssf,delete t.ssf,s}function cXe(e,t){my=1024,e&&!e.SSF&&(e.SSF=Ts(Xn)),e&&e.SSF&&(jw(),YA(e.SSF),t.revssf=ZA(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ix?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=Wte.indexOf(t.bookType)>-1,i=f4();A4(t=t||{});var s=$N(),o="",a=0;if(t.cellXfs=[],im(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",Sr(s,o,ote(e.Props,t)),i.coreprops.push(o),Oi(t.rels,2,o,Or.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Sr(s,o,cte(e.Props)),i.extprops.push(o),Oi(t.rels,3,o,Or.EXT_PROPS),e.Custprops!==e.Props&&lo(e.Custprops||{}).length>0&&(o="docProps/custom.xml",Sr(s,o,ute(e.Custprops)),i.custprops.push(o),Oi(t.rels,4,o,Or.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var h={"!id":{}},p=e.Sheets[e.SheetNames[a-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+a+"."+n,Sr(s,o,tne(a-1,t,e,h)),i.sheets.push(o),Oi(t.wbrels,-1,"worksheets/sheet"+a+"."+n,Or.WS[0])}if(p){var y=p["!comments"],w=!1,b="";if(y&&y.length>0){var S=!1;y.forEach(function(E){E[1].forEach(function(_){_.T==!0&&(S=!0)})}),S&&(b="xl/threadedComments/threadedComment"+a+"."+n,Sr(s,b,m9e(y,u,t)),i.threadedcomments.push(b),Oi(h,-1,"../threadedComments/threadedComment"+a+"."+n,Or.TCMNT)),b="xl/comments"+a+"."+n,Sr(s,b,Ute(y)),i.comments.push(b),Oi(h,-1,"../comments"+a+"."+n,Or.CMNT),w=!0}p["!legacy"]&&w&&Sr(s,"xl/drawings/vmlDrawing"+a+".vml",Gte(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&Sr(s,lS(o),By(h))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+n,Sr(s,o,Pte(t.Strings,t)),i.strs.push(o),Oi(t.wbrels,-1,"sharedStrings."+n,Or.SST)),o="xl/workbook."+n,Sr(s,o,one(e)),i.workbooks.push(o),Oi(t.rels,1,o,Or.WB),o="xl/theme/theme1.xml",Sr(s,o,w4(e.Themes,t)),i.themes.push(o),Oi(t.wbrels,-1,"theme/theme1.xml",Or.THEME),o="xl/styles."+n,Sr(s,o,Bte(e,t)),i.styles.push(o),Oi(t.wbrels,-1,"styles."+n,Or.STY),e.vbaraw&&r&&(o="xl/vbaProject.bin",Sr(s,o,e.vbaraw),i.vba.push(o),Oi(t.wbrels,-1,"vbaProject.bin",Or.VBA)),o="xl/metadata."+n,Sr(s,o,zte()),i.metadata.push(o),Oi(t.wbrels,-1,"metadata."+n,Or.XLMETA),u.length>1&&(o="xl/persons/person.xml",Sr(s,o,y9e(u)),i.people.push(o),Oi(t.wbrels,-1,"persons/person.xml",Or.PEOPLE)),Sr(s,"[Content_Types].xml",rte(i,t)),Sr(s,"_rels/.rels",By(t.rels)),Sr(s,"xl/_rels/workbook."+n+".rels",By(t.wbrels)),delete t.revssf,delete t.ssf,s}function k4(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=ku(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function uXe(e,t){return Hn.find(e,"EncryptedPackage")?oXe(e,t):une(e,t)}function dXe(e,t){var n,r=e,i=t||{};return i.type||(i.type=kr&&Buffer.isBuffer(e)?"buffer":"base64"),n=Fee(r,i),sXe(n,i)}function yne(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return LI(e.slice(n),t);default:break e}return yw.to_workbook(e,t)}function hXe(e,t){var n="",r=k4(e,t);switch(t.type){case"base64":n=ku(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=L0(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=Zi(n)),t.type="binary",yne(n,t)}function fXe(e,t){var n=e;return t.type=="base64"&&(n=ku(n)),n=nS.utils.decode(1200,n.slice(2),"str"),t.type="binary",yne(n,t)}function pXe(e){return e.match(/[^\x00-\x7F]/)?Kh(e):e}function QD(e,t,n,r){return r?(n.type="string",yw.to_workbook(e,n)):yw.to_workbook(t,n)}function VI(e,t){XN();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return VI(new Uint8Array(e),(n=Ts(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Hy={},n.dateNF&&(Hy.dateNF=n.dateNF),n.type||(n.type=kr&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=kr?"buffer":"binary",r=lHe(e),typeof Uint8Array<"u"&&!kr&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=pXe(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),a=new Uint8Array(o);if(a.foo="bar",!a.foo)return n=Ts(n),n.type="array",VI(ZN(r),n)}switch((i=k4(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return uXe(Hn.read(r,n),n);break;case 9:if(i[1]<=8)return une(r,n);break;case 60:return LI(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return wGe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Ate.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?dXe(r,n):QD(e,r,n,s);case 239:return i[3]===60?LI(r,n):QD(e,r,n,s);case 255:if(i[1]===254)return fXe(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return p0.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return p0.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return OI.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Ote.to_workbook(r,n);break;case 10:case 13:case 32:return hXe(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return yGe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?OI.to_workbook(r,n):QD(e,r,n,s)}function wne(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return _1(t.file,Hn.write(e,{type:kr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Hn.write(e,t)}function gXe(e,t){var n=Ts(t||{}),r=aXe(e,n);return mXe(r,n)}function mXe(e,t){var n={},r=kr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Hn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(KA(i))}return t.password&&typeof encrypt_agile<"u"?wne(encrypt_agile(i,t.password),t):t.type==="file"?_1(t.file,i):t.type=="string"?Zi(i):i}function vXe(e,t){var n=t||{},r=pYe(e,n);return wne(r,n)}function Mh(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return rS(Kh(r));case"binary":return Kh(r);case"string":return e;case"file":return _1(t.file,r,"utf8");case"buffer":return kr?wp(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Mh(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function yXe(e,t){switch(t.type){case"base64":return rS(e);case"binary":return e;case"string":return e;case"file":return _1(t.file,e,"binary");case"buffer":return kr?wp(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function tE(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?rS(n):t.type=="string"?Zi(n):n;case"file":return _1(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Cne(e,t){XN(),uKe(e);var n=Ts(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=Cne(e,n);return n.type="array",KA(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Mh(aYe(e,n),n);case"slk":case"sylk":return Mh(Rte.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return Mh(hne(e.Sheets[e.SheetNames[i]],n),n);case"txt":return yXe(bne(e.Sheets[e.SheetNames[i]],n),n);case"csv":return Mh(P4(e.Sheets[e.SheetNames[i]],n),n,"\uFEFF");case"dif":return Mh(Ate.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return tE(OI.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return Mh(yw.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return Mh(Ote.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return Mh(kte.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return Mh(mne(e,n),n);case"wk1":return tE(p0.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return tE(p0.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),tE(dne(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),vXe(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return gXe(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function wXe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function CXe(e,t,n){var r={};return r.type="file",r.file=t,wXe(r),Cne(e,r)}function bXe(e,t,n,r,i,s,o,a){var l=Ro(n),c=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),h=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||e[n])for(var m=t.s.c;m<=t.e.c;++m){var y=o?e[n][m]:e[r[m]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;s[m]!=null&&(p[s[m]]=c);continue}var w=y.v;switch(y.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(w==null)if(y.t=="e"&&w===null)p[s[m]]=null;else if(c!==void 0)p[s[m]]=c;else if(u&&w===null)p[s[m]]=null;else continue;else p[s[m]]=u&&(y.t!=="n"||y.t==="n"&&a.rawNumbers!==!1)?w:pp(y,w,a);w!=null&&(h=!1)}}return{row:p,isempty:h}}function bR(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof u){case"string":l=oi(u);break;case"number":l=oi(e["!ref"]),l.s.r=u;break;default:l=u}r>0&&(i=0);var h=Ro(l.s.r),p=[],m=[],y=0,w=0,b=Array.isArray(e),S=l.s.r,E=0,_={};b&&!e[S]&&(e[S]=[]);var N=c.skipHidden&&e["!cols"]||[],V=c.skipHidden&&e["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(N[E]||{}).hidden)switch(p[E]=Gs(E),n=b?e[S][E]:e[p[E]+h],r){case 1:s[E]=E-l.s.c;break;case 2:s[E]=p[E];break;case 3:s[E]=c.header[E-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),a=o=pp(n,null,c),w=_[o]||0,!w)_[o]=1;else{do a=o+"_"+w++;while(_[a]);_[o]=w,_[a]=1}s[E]=a}for(S=l.s.r+i;S<=l.e.r;++S)if(!(V[S]||{}).hidden){var M=bXe(e,l,S,p,r,s,b,c);(M.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(m[y++]=M.row)}return m.length=y,m}var bU=/"/g;function xXe(e,t,n,r,i,s,o,a){for(var l=!0,c=[],u="",h=Ro(n),p=t.s.c;p<=t.e.c;++p)if(r[p]){var m=a.dense?(e[n]||[])[p]:e[r[p]+h];if(m==null)u="";else if(m.v!=null){l=!1,u=""+(a.rawNumbers&&m.t=="n"?m.v:pp(m,null,a));for(var y=0,w=0;y!==u.length;++y)if((w=u.charCodeAt(y))===i||w===s||w===34||a.forceQuotes){u='"'+u.replace(bU,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(l=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(bU,'""')+'"')):u="";c.push(u)}return a.blankrows===!1&&l?null:c.join(o)}function P4(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=oi(e["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,l=a.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",h=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],m=r.skipHidden&&e["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(p[y]||{}).hidden||(h[y]=Gs(y));for(var w=0,b=i.s.r;b<=i.e.r;++b)(m[b]||{}).hidden||(u=xXe(e,i,b,h,o,l,s,r),u!=null&&(r.strip&&(u=u.replace(c,"")),(u||r.blankrows!==!1)&&n.push((w++?a:"")+u)));return delete r.dense,n.join("")}function bne(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=P4(e,t);return n}function SXe(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=oi(e["!ref"]),s="",o=[],a,l=[],c=Array.isArray(e);for(a=i.s.c;a<=i.e.c;++a)o[a]=Gs(a);for(var u=i.s.r;u<=i.e.r;++u)for(s=Ro(u),a=i.s.c;a<=i.e.c;++a)if(t=o[a]+s,n=c?(e[u]||[])[a]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=t+"="+r}return l}function xne(e,t,n){var r=n||{},i=+!r.skipHeader,s=e||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var l=typeof r.origin=="string"?Us(r.origin):r.origin;o=l.r,a=l.c}var c,u={s:{c:0,r:0},e:{c:a,r:o+t.length-1+i}};if(s["!ref"]){var h=oi(s["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),o==-1&&(o=h.e.r+1,u.e.r=o+t.length-1+i)}else o==-1&&(o=0,u.e.r=t.length-1+i);var p=r.header||[],m=0;t.forEach(function(w,b){lo(w).forEach(function(S){(m=p.indexOf(S))==-1&&(p[m=p.length]=S);var E=w[S],_="z",N="",V=Jn({c:a+m,r:o+b+i});c=gS(s,V),E&&typeof E=="object"&&!(E instanceof Date)?s[V]=E:(typeof E=="number"?_="n":typeof E=="boolean"?_="b":typeof E=="string"?_="s":E instanceof Date?(_="d",r.cellDates||(_="n",E=ua(E)),N=r.dateNF||Xn[14]):E===null&&r.nullError&&(_="e",E=0),c?(c.t=_,c.v=E,delete c.w,delete c.R,N&&(c.z=N)):s[V]=c={t:_,v:E},N&&(c.z=N))})}),u.e.c=Math.max(u.e.c,a+p.length-1);var y=Ro(o);if(i)for(m=0;m<p.length;++m)s[Gs(m+a)+y]={t:"s",v:p[m]};return s["!ref"]=wr(u),s}function _Xe(e,t){return xne(null,e,t)}function gS(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Us(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?gS(e,Jn(t)):gS(e,Jn({r:t,c:n||0}))}function EXe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function D4(){return{SheetNames:[],Sheets:{}}}function F4(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=o+i)!=-1;++i);}if(sne(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function TXe(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=EXe(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function RXe(e,t){return e.z=t,e}function Sne(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function AXe(e,t,n){return Sne(e,"#"+t,n)}function kXe(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function PXe(e,t,n,r){for(var i=typeof t!="string"?t:oi(t),s=typeof t=="string"?t:wr(t),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var l=gS(e,o,a);l.t="n",l.F=s,delete l.v,o==i.s.r&&a==i.s.c&&(l.f=n,r&&(l.D=!0))}return e}var xU={encode_col:Gs,encode_row:Ro,encode_cell:Jn,encode_range:wr,decode_col:a4,decode_row:o4,split_cell:HHe,decode_cell:Us,decode_range:Lc,format_cell:pp,sheet_add_aoa:qee,sheet_add_json:xne,sheet_add_dom:fne,aoa_to_sheet:Kw,json_to_sheet:_Xe,table_to_sheet:pne,table_to_book:LYe,sheet_to_csv:P4,sheet_to_txt:bne,sheet_to_json:bR,sheet_to_html:hne,sheet_to_formulae:SXe,sheet_to_row_object_array:bR,sheet_get_cell:gS,book_new:D4,book_append_sheet:F4,book_set_sheet_visibility:TXe,cell_set_number_format:RXe,cell_set_hyperlink:Sne,cell_set_internal_link:AXe,cell_add_comment:kXe,sheet_set_array_formula:PXe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const DXe=()=>{const[e,t]=I.useState(!1),n=async r=>{const i=r.target.files?.[0];if(i){t(!0);try{const s=await i.arrayBuffer(),o=VI(s);for(const a of o.SheetNames){const l=o.Sheets[a],c=xU.sheet_to_json(l),u=[];for(const p of c){const m=p.nombre||p.Nombre||p.estudiante||p.Estudiante,y=p.usuario||p.Usuario;if(!m||!y){_r.error(`Faltan datos en la hoja "${a}" (nombre o usuario)`);continue}const w=y.includes("@")?y:`${y}@mail.com`,b={name:m,email:w,role:Ln.STUDENT,id:"",isActive:!0},{password:S}=await mZ(b);u.push({...p,password:S})}u.length===0?u.push({password:""}):Object.prototype.hasOwnProperty.call(u[0],"password")||(u[0]={...u[0],password:""});const h=xU.json_to_sheet(u);o.Sheets[a]=h}CXe(o,"generated_users.xlsx"),_r.success("Usuarios importados y archivo generado correctamente")}catch(s){console.error(s),_r.error("Error al importar usuarios")}finally{t(!1)}}};return B.jsx("div",{children:B.jsxs(hi,{variant:"outline-primary",as:"label",htmlFor:"fileUpload",disabled:e,className:"d-flex align-items-center gap-2",children:[e?B.jsxs(B.Fragment,{children:[B.jsx(Ll,{animation:"border",size:"sm"})," Importando..."]}):B.jsxs(B.Fragment,{children:[B.jsx(rge,{size:16}),"Importar Usuarios"]}),B.jsx("input",{type:"file",id:"fileUpload",accept:".xlsx, .xls",onChange:n,hidden:!0})]})})},FXe=()=>{const{showForm:e,setShowForm:t}=zA(),n=async r=>{const{user:i,password:s}=await mZ(r);return{user:i,password:s}};return B.jsxs("div",{children:[B.jsxs("div",{className:"d-flex gap-2 mb-3",children:[B.jsxs(hi,{variant:"outline-success",onClick:()=>t(!0),children:[B.jsx(XS,{size:16,className:"me-2"}),"Agregar Usuario"]}),B.jsx(DXe,{})]}),B.jsx(pee,{}),e&&B.jsxs(Yi,{show:e,onHide:()=>t(!1),children:[B.jsx(Yi.Header,{closeButton:!0,children:B.jsx(Yi.Title,{children:"Agregar Usuario"})}),B.jsx(Yi.Body,{children:B.jsx(k6e,{onSubmit:n})})]}),B.jsx(SL,{})]})};function ec(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var IXe=typeof Symbol=="function"&&Symbol.observable||"@@observable",SU=IXe,_U=()=>Math.random().toString(36).substring(7).split("").join("."),MXe={INIT:`@@redux/INIT${_U()}`,REPLACE:`@@redux/REPLACE${_U()}`},EU=MXe;function OXe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function _ne(e,t,n){if(typeof e!="function")throw new Error(ec(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ec(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ec(1));return n(_ne)(e,t)}let r=e,i=t,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((b,S)=>{o.set(S,b)}))}function u(){if(l)throw new Error(ec(3));return i}function h(b){if(typeof b!="function")throw new Error(ec(4));if(l)throw new Error(ec(5));let S=!0;c();const E=a++;return o.set(E,b),function(){if(S){if(l)throw new Error(ec(6));S=!1,c(),o.delete(E),s=null}}}function p(b){if(!OXe(b))throw new Error(ec(7));if(typeof b.type>"u")throw new Error(ec(8));if(typeof b.type!="string")throw new Error(ec(17));if(l)throw new Error(ec(9));try{l=!0,i=r(i,b)}finally{l=!1}return(s=o).forEach(E=>{E()}),b}function m(b){if(typeof b!="function")throw new Error(ec(10));r=b,p({type:EU.REPLACE})}function y(){const b=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(ec(11));function E(){const N=S;N.next&&N.next(u())}return E(),{unsubscribe:b(E)}},[SU](){return this}}}return p({type:EU.INIT}),{dispatch:p,subscribe:h,getState:u,replaceReducer:m,[SU]:y}}function TU(e,t){return function(...n){return t(e.apply(this,n))}}function RU(e,t){if(typeof e=="function")return TU(e,t);if(typeof e!="object"||e===null)throw new Error(ec(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=TU(i,t))}return n}function Ene(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function LXe(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(ec(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=e.map(l=>l(o));return s=Ene(...a)(i.dispatch),{...i,dispatch:s}}}var JD={exports:{}},$D={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AU;function NXe(){if(AU)return $D;AU=1;var e=_w();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,a=e.useDebugValue;return $D.useSyncExternalStoreWithSelector=function(l,c,u,h,p){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=o(function(){function b(V){if(!S){if(S=!0,E=V,V=h(V),p!==void 0&&y.hasValue){var M=y.value;if(p(M,V))return _=M}return _=V}if(M=_,n(E,V))return M;var O=h(V);return p!==void 0&&p(M,O)?(E=V,M):(E=V,_=O)}var S=!1,E,_,N=u===void 0?null:u;return[function(){return b(c())},N===null?void 0:function(){return b(N())}]},[c,u,h,p]);var w=r(l,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=w},[w]),a(w),w},$D}var kU;function BXe(){return kU||(kU=1,JD.exports=NXe()),JD.exports}BXe();var VXe=I.version.startsWith("19"),HXe=Symbol.for(VXe?"react.transitional.element":"react.element"),zXe=Symbol.for("react.portal"),GXe=Symbol.for("react.fragment"),UXe=Symbol.for("react.strict_mode"),WXe=Symbol.for("react.profiler"),jXe=Symbol.for("react.consumer"),KXe=Symbol.for("react.context"),Tne=Symbol.for("react.forward_ref"),YXe=Symbol.for("react.suspense"),XXe=Symbol.for("react.suspense_list"),I4=Symbol.for("react.memo"),ZXe=Symbol.for("react.lazy"),qXe=Tne,QXe=I4;function JXe(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case HXe:switch(e=e.type,e){case GXe:case WXe:case UXe:case YXe:case XXe:return e;default:switch(e=e&&e.$$typeof,e){case KXe:case Tne:case ZXe:case I4:return e;case jXe:return e;default:return t}}case zXe:return t}}}function $Xe(e){return JXe(e)===I4}function eZe(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,c,u,h,p;function m(E,_){return l=E,c=_,u=e(l,c),h=t(r,c),p=n(u,h,c),a=!0,p}function y(){return u=e(l,c),t.dependsOnOwnProps&&(h=t(r,c)),p=n(u,h,c),p}function w(){return e.dependsOnOwnProps&&(u=e(l,c)),t.dependsOnOwnProps&&(h=t(r,c)),p=n(u,h,c),p}function b(){const E=e(l,c),_=!o(E,u);return u=E,_&&(p=n(u,h,c)),p}function S(E,_){const N=!s(_,c),V=!i(E,l,_,c);return l=E,c=_,N&&V?y():N?w():V?b():p}return function(_,N){return a?S(_,N):m(_,N)}}function tZe(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const s=t(e,i),o=n(e,i),a=r(e,i);return eZe(s,o,a,e,i)}function nZe(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...s)=>t(i(...s)))}return n}function HI(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function PU(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function Rne(e,t){return function(r,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=e,s.dependsOnOwnProps=PU(e);let c=s(a,l);return typeof c=="function"&&(s.mapToProps=c,s.dependsOnOwnProps=PU(c),c=s(a,l)),c},s}}function M4(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function rZe(e){return e&&typeof e=="object"?HI(t=>nZe(e,t)):e?typeof e=="function"?Rne(e):M4(e,"mapDispatchToProps"):HI(t=>({dispatch:t}))}function iZe(e){return e?typeof e=="function"?Rne(e):M4(e,"mapStateToProps"):HI(()=>({}))}function sZe(e,t,n){return{...n,...e,...t}}function oZe(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let s=!1,o;return function(l,c,u){const h=e(l,c,u);return s?i(h,o)||(o=h):(s=!0,o=h),o}}}function aZe(e){return e?typeof e=="function"?oZe(e):M4(e,"mergeProps"):()=>sZe}function lZe(e){e()}function cZe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lZe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var DU={notify(){},get:()=>[]};function Ane(e,t){let n,r=DU,i=0,s=!1;function o(w){u();const b=r.subscribe(w);let S=!1;return()=>{S||(S=!0,b(),h())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return s}function u(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=cZe())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=DU)}function p(){s||(s=!0,u())}function m(){s&&(s=!1,h())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return y}var uZe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dZe=uZe(),hZe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fZe=hZe(),pZe=()=>dZe||fZe?I.useLayoutEffect:I.useEffect,xR=pZe();function FU(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function e2(e,t){if(FU(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!FU(e[n[i]],t[n[i]]))return!1;return!0}var gZe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mZe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vZe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kne={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yZe={[qXe]:vZe,[QXe]:kne};function IU(e){return $Xe(e)?kne:yZe[e.$$typeof]||gZe}var wZe=Object.defineProperty,CZe=Object.getOwnPropertyNames,MU=Object.getOwnPropertySymbols,bZe=Object.getOwnPropertyDescriptor,xZe=Object.getPrototypeOf,OU=Object.prototype;function zI(e,t){if(typeof t!="string"){if(OU){const s=xZe(t);s&&s!==OU&&zI(e,s)}let n=CZe(t);MU&&(n=n.concat(MU(t)));const r=IU(e),i=IU(t);for(let s=0;s<n.length;++s){const o=n[s];if(!mZe[o]&&!(i&&i[o])&&!(r&&r[o])){const a=bZe(t,o);try{wZe(e,o,a)}catch{}}}}return e}var SZe=Symbol.for("react-redux-context"),_Ze=typeof globalThis<"u"?globalThis:{};function EZe(){if(!I.createContext)return{};const e=_Ze[SZe]??=new Map;let t=e.get(I.createContext);return t||(t=I.createContext(null),e.set(I.createContext,t)),t}var Pne=EZe(),TZe=[null,null];function RZe(e,t,n){xR(()=>e(...t),n)}function AZe(e,t,n,r,i,s){e.current=r,n.current=!1,i.current&&(i.current=null,s())}function kZe(e,t,n,r,i,s,o,a,l,c,u){if(!e)return()=>{};let h=!1,p=null;const m=()=>{if(h||!a.current)return;const w=t.getState();let b,S;try{b=r(w,i.current)}catch(E){S=E,p=E}S||(p=null),b===s.current?o.current||c():(s.current=b,l.current=b,o.current=!0,u())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function PZe(e,t){return e===t}function DZe(e,t,n,{pure:r,areStatesEqual:i=PZe,areOwnPropsEqual:s=e2,areStatePropsEqual:o=e2,areMergedPropsEqual:a=e2,forwardRef:l=!1,context:c=Pne}={}){const u=c,h=iZe(e),p=rZe(t),m=aZe(n),y=!!e;return b=>{const S=b.displayName||b.name||"Component",E=`Connect(${S})`,_={shouldHandleStateChanges:y,displayName:E,wrappedComponentName:S,WrappedComponent:b,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function N(O){const[z,H,X]=I.useMemo(()=>{const{reactReduxForwardedRef:Se,...$t}=O;return[O.context,Se,$t]},[O]),Q=I.useMemo(()=>{let Se=u;return z?.Consumer,Se},[z,u]),U=I.useContext(Q),Z=!!O.store&&!!O.store.getState&&!!O.store.dispatch,q=!!U&&!!U.store,me=Z?O.store:U.store,se=q?U.getServerState:me.getState,ue=I.useMemo(()=>tZe(me.dispatch,_),[me]),[Pe,ye]=I.useMemo(()=>{if(!y)return TZe;const Se=Ane(me,Z?void 0:U.subscription),$t=Se.notifyNestedSubs.bind(Se);return[Se,$t]},[me,Z,U]),W=I.useMemo(()=>Z?U:{...U,subscription:Pe},[Z,U,Pe]),re=I.useRef(void 0),te=I.useRef(X),J=I.useRef(void 0),ce=I.useRef(!1),fe=I.useRef(!1),De=I.useRef(void 0);xR(()=>(fe.current=!0,()=>{fe.current=!1}),[]);const at=I.useMemo(()=>()=>J.current&&X===te.current?J.current:ue(me.getState(),X),[me,X]),je=I.useMemo(()=>$t=>Pe?kZe(y,me,Pe,ue,te,re,ce,fe,J,ye,$t):()=>{},[Pe]);RZe(AZe,[te,re,ce,X,J,ye]);let qe;try{qe=I.useSyncExternalStore(je,at,se?()=>ue(se(),X):at)}catch(Se){throw De.current&&(Se.message+=`
The error may be correlated with this previous error:
${De.current.stack}

`),Se}xR(()=>{De.current=void 0,J.current=void 0,re.current=qe});const et=I.useMemo(()=>I.createElement(b,{...qe,ref:H}),[H,b,qe]);return I.useMemo(()=>y?I.createElement(Q.Provider,{value:W},et):et,[Q,et,W])}const M=I.memo(N);if(M.WrappedComponent=b,M.displayName=N.displayName=E,l){const z=I.forwardRef(function(X,Q){return I.createElement(M,{...X,reactReduxForwardedRef:Q})});return z.displayName=E,z.WrappedComponent=b,zI(z,b)}return zI(M,b)}}var Dne=DZe;function FZe(e){const{children:t,context:n,serverState:r,store:i}=e,s=I.useMemo(()=>{const l=Ane(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=I.useMemo(()=>i.getState(),[i]);xR(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||Pne;return I.createElement(a.Provider,{value:s},t)}var IZe=FZe,MZe="Invariant failed";function OZe(e,t){throw new Error(MZe)}var th=function(t){var n=t.top,r=t.right,i=t.bottom,s=t.left,o=r-s,a=i-n,l={top:n,right:r,bottom:i,left:s,width:o,height:a,x:s,y:n,center:{x:(r+s)/2,y:(i+n)/2}};return l},O4=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},LU=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},LZe=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},t2={top:0,right:0,bottom:0,left:0},L4=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?t2:r,s=t.border,o=s===void 0?t2:s,a=t.padding,l=a===void 0?t2:a,c=th(O4(n,i)),u=th(LU(n,o)),h=th(LU(u,l));return{marginBox:c,borderBox:th(n),paddingBox:u,contentBox:h,margin:i,border:o,padding:l}},Qu=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&OZe(),i},NZe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},SR=function(t,n){var r=t.borderBox,i=t.border,s=t.margin,o=t.padding,a=LZe(r,n);return L4({borderBox:a,border:i,margin:s,padding:o})},_R=function(t,n){return n===void 0&&(n=NZe()),SR(t,n)},Fne=function(t,n){var r={top:Qu(n.marginTop),right:Qu(n.marginRight),bottom:Qu(n.marginBottom),left:Qu(n.marginLeft)},i={top:Qu(n.paddingTop),right:Qu(n.paddingRight),bottom:Qu(n.paddingBottom),left:Qu(n.paddingLeft)},s={top:Qu(n.borderTopWidth),right:Qu(n.borderRightWidth),bottom:Qu(n.borderBottomWidth),left:Qu(n.borderLeftWidth)};return L4({borderBox:t,margin:r,padding:i,border:s})},Ine=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return Fne(n,r)},mS=function(t){var n=[],r=null,i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function Mne(e,t){}Mne.bind(null,"warn");Mne.bind(null,"error");function bg(){}function BZe(e,t){return{...e,...t}}function fd(e,t,n){const r=t.map(i=>{const s=BZe(n,i.options);return e.addEventListener(i.eventName,i.fn,s),function(){e.removeEventListener(i.eventName,i.fn,s)}});return function(){r.forEach(s=>{s()})}}const VZe="Invariant failed";class ER extends Error{}ER.prototype.toString=function(){return this.message};function sn(e,t){throw new ER(VZe)}class HZe extends Ve.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=bg,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof ER&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=fd(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof ER){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const zZe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,TR=e=>e+1,GZe=e=>`
  You have lifted an item in position ${TR(e.source.index)}
`,One=(e,t)=>{const n=e.droppableId===t.droppableId,r=TR(e.index),i=TR(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},Lne=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,UZe=e=>{const t=e.destination;if(t)return One(e.source,t);const n=e.combine;return n?Lne(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},NU=e=>`
  The item has returned to its starting position
  of ${TR(e.index)}
`,WZe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${NU(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${One(e.source,t)}
    `:n?`
      You have dropped the item.
      ${Lne(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${NU(e.source)}
  `},qE={dragHandleUsageInstructions:zZe,onDragStart:GZe,onDragUpdate:UZe,onDragEnd:WZe};function jZe(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function Nne(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!jZe(e[n],t[n]))return!1;return!0}function ti(e,t){const n=I.useState(()=>({inputs:t,result:e()}))[0],r=I.useRef(!0),i=I.useRef(n),o=r.current||!!(t&&i.current.inputs&&Nne(t,i.current.inputs))?i.current:{inputs:t,result:e()};return I.useEffect(()=>{r.current=!1,i.current=o},[o]),o.result}function Fn(e,t){return ti(()=>e,t)}const Ia={x:0,y:0},rl=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Cu=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),xg=(e,t)=>e.x===t.x&&e.y===t.y,Xw=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),z0=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},vS=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),BU=(e,t)=>Math.min(...t.map(n=>vS(e,n))),Bne=e=>t=>({x:e(t.x),y:e(t.y)});var KZe=(e,t)=>{const n=th({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const F1=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),VU=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],YZe={top:0,right:0,bottom:0,left:0},XZe=(e,t)=>t?F1(e,t.scroll.diff.displacement):e,ZZe=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,qZe=(e,t)=>t&&t.shouldClipSubject?KZe(t.pageMarginBox,e):th(e);var Cw=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=XZe(e.marginBox,r),s=ZZe(i,n,t),o=qZe(s,r);return{page:e,withPlaceholder:t,active:o}},N4=(e,t)=>{e.frame||sn();const n=e.frame,r=Cu(t,n.scroll.initial),i=Xw(r),s={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},o=Cw({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:s});return{...e,frame:s,subject:o}};function Da(e,t=Nne){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}const Vne=Da(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),Hne=Da(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),tk=Da(e=>Object.values(e)),QZe=Da(e=>Object.values(e));var Zw=Da((e,t)=>QZe(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function B4(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function nk(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var rk=Da((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),JZe=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!B4(i))return null;function o(m){const y={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:y}}const a=i.displaced.all,l=a.length?a[0]:null;if(e)return l?o(l):null;const c=rk(t,r);if(!l){if(!c.length)return null;const m=c[c.length-1];return o(m.descriptor.id)}const u=c.findIndex(m=>m.descriptor.id===l);u===-1&&sn();const h=u-1;if(h<0)return null;const p=c[h];return o(p.descriptor.id)},qw=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const zne={point:Ia,value:0},yS={invisible:{},visible:{},all:[]},$Ze={displaced:yS,displacedBy:zne,at:null};var vd=(e,t)=>n=>e<=n&&n<=t,Gne=e=>{const t=vd(e.top,e.bottom),n=vd(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const s=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(s&&o)return!0;const l=r.top<e.top&&r.bottom>e.bottom,c=r.left<e.left&&r.right>e.right;return l&&c?!0:l&&o||c&&s}},eqe=e=>{const t=vd(e.top,e.bottom),n=vd(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const V4={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Une={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var tqe=e=>t=>{const n=vd(t.top,t.bottom),r=vd(t.left,t.right);return i=>e===V4?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const nqe=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Ia;return F1(e,n)},rqe=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,iqe=(e,t,n)=>n(t)(e),H4=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const s=r?nqe(e,t):e;return rqe(s,t,i)&&iqe(s,n,i)},sqe=e=>H4({...e,isVisibleThroughFrameFn:Gne}),Wne=e=>H4({...e,isVisibleThroughFrameFn:eqe}),oqe=e=>H4({...e,isVisibleThroughFrameFn:tqe(e.destination.axis)}),aqe=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const s=i[e];return s?s.shouldAnimate:!0};function lqe(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return th(O4(n,r))}function wS({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:s}){return e.reduce(function(a,l){const c=lqe(l,n),u=l.descriptor.id;if(a.all.push(u),!sqe({target:c,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const p=aqe(u,s,i),m={draggableId:u,shouldAnimate:p};return a.visible[u]=m,a},{all:[],visible:{},invisible:{}})}function cqe(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function HU({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=cqe(e,{inHomeList:t});return{displaced:yS,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function RR({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:s,index:o,forceShouldAnimate:a}){const l=qw(e,n);if(o==null)return HU({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const c=t.find(y=>y.descriptor.index===o);if(!c)return HU({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const u=rk(e,t),h=t.indexOf(c),p=u.slice(h);return{displaced:wS({afterDragging:p,destination:n,displacedBy:i,last:s,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function Gg(e,t){return!!t.effected[e]}var uqe=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const s=r.draggableId,a=n[s].descriptor.index;return Gg(s,i)?e?a:a-1:e?a+1:a},dqe=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,s=e?i+1:i-1,o=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return s<o||s>l?null:s},hqe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:s,previousImpact:o,viewport:a,afterCritical:l})=>{const c=o.at;if(c||sn(),c.type==="REORDER"){const h=dqe({isMovingForward:e,isInHomeList:t,location:c.destination,insideDestination:s});return h==null?null:RR({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:h})}const u=uqe({isMovingForward:e,destination:i,displaced:o.displaced,draggables:r,combine:c.combine,afterCritical:l});return u==null?null:RR({draggable:n,insideDestination:s,destination:i,viewport:a,last:o.displaced,displacedBy:o.displacedBy,index:u})},fqe=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return Gg(n,t)?i?Ia:Xw(r.point):i?r.point:Ia},pqe=({afterCritical:e,impact:t,draggables:n})=>{const r=nk(t);r||sn();const i=r.draggableId,s=n[i].page.borderBox.center,o=fqe({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return rl(s,o)};const jne=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,gqe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,z4=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,zU=({axis:e,moveRelativeTo:t,isMoving:n})=>z0(e.line,t.marginBox[e.end]+jne(e,n),z4(e,t.marginBox,n)),GU=({axis:e,moveRelativeTo:t,isMoving:n})=>z0(e.line,t.marginBox[e.start]-gqe(e,n),z4(e,t.marginBox,n)),mqe=({axis:e,moveInto:t,isMoving:n})=>z0(e.line,t.contentBox[e.start]+jne(e,n),z4(e,t.contentBox,n));var vqe=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const s=Zw(r.descriptor.id,n),o=t.page,a=r.axis;if(!s.length)return mqe({axis:a,moveInto:r.page,isMoving:o});const{displaced:l,displacedBy:c}=e,u=l.all[0];if(u){const p=n[u];if(Gg(u,i))return GU({axis:a,moveRelativeTo:p.page,isMoving:o});const m=SR(p.page,c.point);return GU({axis:a,moveRelativeTo:m,isMoving:o})}const h=s[s.length-1];if(h.descriptor.id===t.descriptor.id)return o.borderBox.center;if(Gg(h.descriptor.id,i)){const p=SR(h.page,Xw(i.displacedBy.point));return zU({axis:a,moveRelativeTo:p,isMoving:o})}return zU({axis:a,moveRelativeTo:h.page,isMoving:o})},GI=(e,t)=>{const n=e.frame;return n?rl(t,n.scroll.diff.displacement):t};const yqe=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const s=t.page.borderBox.center,o=e.at;return!n||!o?s:o.type==="REORDER"?vqe({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):pqe({impact:e,draggables:r,afterCritical:i})};var ik=e=>{const t=yqe(e),n=e.droppable;return n?GI(n,t):t},Kne=(e,t)=>{const n=Cu(t,e.scroll.initial),r=Xw(n);return{frame:th({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function UU(e,t){return e.map(n=>t[n])}function wqe(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var Cqe=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const s=Kne(t,rl(t.scroll.current,i)),o=n.frame?N4(n,rl(n.frame.scroll.current,i)):n,a=e.displaced,l=wS({afterDragging:UU(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:s.frame,last:a,forceShouldAnimate:!1}),c=wS({afterDragging:UU(a.all,r),destination:o,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),u={},h={},p=[a,l,c];return a.all.forEach(y=>{const w=wqe(y,p);if(w){h[y]=w;return}u[y]=!0}),{...e,displaced:{all:a.all,invisible:u,visible:h}}},bqe=(e,t)=>rl(e.scroll.diff.displacement,t),G4=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=bqe(n,e),i=Cu(r,t.page.borderBox.center);return rl(t.client.borderBox.center,i)},Yne=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:s=!1})=>{const o=Cu(n,e.page.borderBox.center),l={target:F1(e.page.borderBox,o),destination:t,withDroppableDisplacement:i,viewport:r};return s?oqe(l):Wne(l)},xqe=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:s,previousPageBorderBoxCenter:o,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const c=Zw(n.descriptor.id,r),u=qw(t,n),h=JZe({isMovingForward:e,draggable:t,destination:n,insideDestination:c,previousImpact:i})||hqe({isMovingForward:e,isInHomeList:u,draggable:t,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:s,afterCritical:l});if(!h)return null;const p=ik({impact:h,draggable:t,droppable:n,draggables:r,afterCritical:l});if(Yne({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:G4({pageBorderBoxCenter:p,draggable:t,viewport:s}),impact:h,scrollJumpRequest:null};const y=Cu(p,o),w=Cqe({impact:h,viewport:s,destination:n,draggables:r,maxScrollChange:y});return{clientSelection:a,impact:w,scrollJumpRequest:y}};const $l=e=>{const t=e.subject.active;return t||sn(),t};var Sqe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const s=n.subject.active;if(!s)return null;const o=n.axis,a=vd(s[o.start],s[o.end]),l=tk(r).filter(u=>u!==n).filter(u=>u.isEnabled).filter(u=>!!u.subject.active).filter(u=>Gne(i.frame)($l(u))).filter(u=>{const h=$l(u);return e?s[o.crossAxisEnd]<h[o.crossAxisEnd]:h[o.crossAxisStart]<s[o.crossAxisStart]}).filter(u=>{const h=$l(u),p=vd(h[o.start],h[o.end]);return a(h[o.start])||a(h[o.end])||p(s[o.start])||p(s[o.end])}).sort((u,h)=>{const p=$l(u)[o.crossAxisStart],m=$l(h)[o.crossAxisStart];return e?p-m:m-p}).filter((u,h,p)=>$l(u)[o.crossAxisStart]===$l(p[0])[o.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const c=l.filter(u=>vd($l(u)[o.start],$l(u)[o.end])(t[o.line]));return c.length===1?c[0]:c.length>1?c.sort((u,h)=>$l(u)[o.start]-$l(h)[o.start])[0]:l.sort((u,h)=>{const p=BU(t,VU($l(u))),m=BU(t,VU($l(h)));return p!==m?p-m:$l(u)[o.start]-$l(h)[o.start]})[0]};const WU=(e,t)=>{const n=e.page.borderBox.center;return Gg(e.descriptor.id,t)?Cu(n,t.displacedBy.point):n},_qe=(e,t)=>{const n=e.page.borderBox;return Gg(e.descriptor.id,t)?F1(n,Xw(t.displacedBy.point)):n};var Eqe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(o=>Wne({target:_qe(o,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((o,a)=>{const l=vS(e,GI(n,WU(o,i))),c=vS(e,GI(n,WU(a,i)));return l<c?-1:c<l?1:o.descriptor.index-a.descriptor.index})[0]||null,I1=Da(function(t,n){const r=n[t.line];return{value:r,point:z0(t.line,r)}});const Tqe=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return z0(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],l=Zw(e.descriptor.id,n).reduce((c,u)=>c+u.client.marginBox[r.size],0)+t[r.line]-i;return l<=0?null:z0(r.line,l)},Xne=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Zne=(e,t,n)=>{const r=e.frame;qw(t,e)&&sn(),e.subject.withPlaceholder&&sn();const i=I1(e.axis,t.displaceBy).point,s=Tqe(e,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const u=Cw({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:e.frame});return{...e,subject:u}}const a=s?rl(r.scroll.max,s):r.scroll.max,l=Xne(r,a),c=Cw({page:e.subject.page,withPlaceholder:o,axis:e.axis,frame:l});return{...e,subject:c,frame:l}},Rqe=e=>{const t=e.subject.withPlaceholder;t||sn();const n=e.frame;if(!n){const o=Cw({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:o}}const r=t.oldFrameMaxScroll;r||sn();const i=Xne(n,r),s=Cw({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:s,frame:i}};var Aqe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:s,viewport:o,afterCritical:a})=>{if(!t){if(n.length)return null;const h={displaced:yS,displacedBy:zne,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},p=ik({impact:h,draggable:r,droppable:s,draggables:i,afterCritical:a}),m=qw(r,s)?s:Zne(s,r,i);return Yne({draggable:r,destination:m,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const l=e[s.axis.line]<=t.page.borderBox.center[s.axis.line],c=(()=>{const h=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?h:h+1})(),u=I1(s.axis,r.displaceBy);return RR({draggable:r,insideDestination:n,destination:s,viewport:o,displacedBy:u,last:yS,index:c})},kqe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:s,viewport:o,afterCritical:a})=>{const l=Sqe({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:s,viewport:o});if(!l)return null;const c=Zw(l.descriptor.id,i),u=Eqe({pageBorderBoxCenter:t,viewport:o,destination:l,insideDestination:c,afterCritical:a}),h=Aqe({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:i,moveRelativeTo:u,insideDestination:c,viewport:o,afterCritical:a});if(!h)return null;const p=ik({impact:h,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:G4({pageBorderBoxCenter:p,draggable:n,viewport:o}),impact:h,scrollJumpRequest:null}},Eu=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const Pqe=(e,t)=>{const n=Eu(e);return n?t[n]:null};var Dqe=({state:e,type:t})=>{const n=Pqe(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],s=n||i,o=s.axis.direction,a=o==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||o==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],u=e.current.page.borderBoxCenter,{draggables:h,droppables:p}=e.dimensions;return a?xqe({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,destination:s,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):kqe({isMovingForward:l,previousPageBorderBoxCenter:u,draggable:c,isOver:s,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Vm(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function qne(e){const t=vd(e.top,e.bottom),n=vd(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function Fqe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Iqe({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(s=>{const o=s.axis,a=z0(s.axis.line,e.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:vS(r,a)}}).sort((s,o)=>o.distance-s.distance);return i[0]?i[0].id:null}function Mqe({pageBorderBox:e,draggable:t,droppables:n}){const r=tk(n).filter(i=>{if(!i.isEnabled)return!1;const s=i.subject.active;if(!s||!Fqe(e,s))return!1;if(qne(s)(e.center))return!0;const o=i.axis,a=s.center[o.crossAxisLine],l=e[o.crossAxisStart],c=e[o.crossAxisEnd],u=vd(s[o.crossAxisStart],s[o.crossAxisEnd]),h=u(l),p=u(c);return!h&&!p?!0:h?l<a:c>a});return r.length?r.length===1?r[0].descriptor.id:Iqe({pageBorderBox:e,draggable:t,candidates:r}):null}const Qne=(e,t)=>th(F1(e,t));var Oqe=(e,t)=>{const n=e.frame;return n?Qne(t,n.scroll.diff.value):t};function Jne({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Lqe({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Nqe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:s,afterCritical:o})=>{const a=n.axis,l=I1(n.axis,t.displaceBy),c=l.value,u=e[a.start],h=e[a.end],m=rk(t,r).find(w=>{const b=w.descriptor.id,S=w.page.borderBox.center[a.line],E=Gg(b,o),_=Jne({displaced:i,id:b});return E?_?h<=S:u<S-c:_?h<=S+c:u<S})||null,y=Lqe({draggable:t,closest:m,inHomeList:qw(t,n)});return RR({draggable:t,insideDestination:r,destination:n,viewport:s,last:i,displacedBy:l,index:y})};const Bqe=4;var Vqe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:s})=>{if(!r.isCombineEnabled)return null;const o=r.axis,a=I1(r.axis,e.displaceBy),l=a.value,c=t[o.start],u=t[o.end],p=rk(e,i).find(y=>{const w=y.descriptor.id,b=y.page.borderBox,E=b[o.size]/Bqe,_=Gg(w,s),N=Jne({displaced:n.displaced,id:w});return _?N?u>b[o.start]+E&&u<b[o.end]-E:c>b[o.start]-l+E&&c<b[o.end]-l-E:N?u>b[o.start]+l+E&&u<b[o.end]+l-E:c>b[o.start]+E&&c<b[o.end]-E});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},$ne=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:s,afterCritical:o})=>{const a=Qne(t.page.borderBox,e),l=Mqe({pageBorderBox:a,draggable:t,droppables:r});if(!l)return $Ze;const c=r[l],u=Zw(c.descriptor.id,n),h=Oqe(c,a);return Vqe({pageBorderBoxWithDroppableScroll:h,draggable:t,previousImpact:i,destination:c,insideDestination:u,afterCritical:o})||Nqe({pageBorderBoxWithDroppableScroll:h,draggable:t,destination:c,insideDestination:u,last:i.displaced,viewport:s,afterCritical:o})},U4=(e,t)=>({...e,[t.descriptor.id]:t});const Hqe=({previousImpact:e,impact:t,droppables:n})=>{const r=Eu(e),i=Eu(t);if(!r||r===i)return n;const s=n[r];if(!s.subject.withPlaceholder)return n;const o=Rqe(s);return U4(n,o)};var zqe=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const s=Hqe({previousImpact:r,impact:i,droppables:n}),o=Eu(i);if(!o)return s;const a=n[o];if(qw(e,a)||a.subject.withPlaceholder)return s;const l=Zne(a,e,t);return U4(s,l)},ax=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:s})=>{const o=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,c=Cu(l,e.initial.client.selection),u={offset:c,selection:l,borderBoxCenter:rl(e.initial.client.borderBoxCenter,c)},h={selection:rl(u.selection,o.scroll.current),borderBoxCenter:rl(u.borderBoxCenter,o.scroll.current),offset:rl(u.offset,o.scroll.diff.value)},p={client:u,page:h};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:o,current:p};const m=a.draggables[e.critical.draggable.id],y=i||$ne({pageOffset:h.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:o,afterCritical:e.afterCritical}),w=zqe({draggable:m,impact:y,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:w},impact:y,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function Gqe(e,t){return e.map(n=>t[n])}var ere=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const s=e.displaced,o=Gqe(s.all,n),a=wS({afterDragging:o,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:s});return{...e,displaced:a}},tre=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:s})=>{const o=ik({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s});return G4({pageBorderBoxCenter:o,draggable:t,viewport:i})},nre=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&sn();const r=e.impact,i=n||e.viewport,s=t||e.dimensions,{draggables:o,droppables:a}=s,l=o[e.critical.draggable.id],c=Eu(r);c||sn();const u=a[c],h=ere({impact:r,viewport:i,destination:u,draggables:o}),p=tre({impact:h,draggable:l,droppable:u,draggables:o,viewport:i,afterCritical:e.afterCritical});return ax({impact:h,clientSelection:p,state:e,dimensions:s,viewport:i})},Uqe=e=>({index:e.index,droppableId:e.droppableId}),rre=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=I1(t.axis,e.displaceBy),s=Zw(t.descriptor.id,n),o=s.indexOf(e);o===-1&&sn();const a=s.slice(o+1),l=a.reduce((p,m)=>(p[m.descriptor.id]=!0,p),{}),c={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:wS({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:Uqe(e.descriptor)}},afterCritical:c}},Wqe=(e,t)=>({draggables:e.draggables,droppables:U4(e.droppables,t)}),jqe=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=SR(e.client,t),i=_R(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},Kqe=e=>{const t=e.frame;return t||sn(),t},Yqe=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const s=i.descriptor.droppableId,o=t[s],l=Kqe(o).scroll.diff.value,c=rl(r,l);return jqe({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},Xqe=({state:e,published:t})=>{const n=t.modified.map(S=>{const E=e.dimensions.droppables[S.droppableId];return N4(E,S.scroll)}),r={...e.dimensions.droppables,...Vne(n)},i=Hne(Yqe({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),s={...e.dimensions.draggables,...i};t.removals.forEach(S=>{delete s[S]});const o={droppables:r,draggables:s},a=Eu(e.impact),l=a?o.droppables[a]:null,c=o.draggables[e.critical.draggable.id],u=o.droppables[e.critical.droppable.id],{impact:h,afterCritical:p}=rre({draggable:c,home:u,draggables:s,viewport:e.viewport}),m=l&&l.isCombineEnabled?e.impact:h,y=$ne({pageOffset:e.current.page.offset,draggable:o.draggables[e.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:m,viewport:e.viewport,afterCritical:p}),w={...e,phase:"DRAGGING",impact:y,onLiftImpact:h,dimensions:o,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const UI=e=>e.movementMode==="SNAP",n2=(e,t,n)=>{const r=Wqe(e.dimensions,t);return!UI(e)||n?ax({state:e,dimensions:r}):nre({state:e,dimensions:r})};function r2(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const jU={phase:"IDLE",completed:null,shouldFlush:!1};var Zqe=(e=jU,t)=>{if(t.type==="FLUSH")return{...jU,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&sn();const{critical:n,clientSelection:r,viewport:i,dimensions:s,movementMode:o}=t.payload,a=s.draggables[n.draggable.id],l=s.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Ia},u={client:c,page:{selection:rl(c.selection,i.scroll.initial),borderBoxCenter:rl(c.selection,i.scroll.initial),offset:rl(c.selection,i.scroll.diff.value)}},h=tk(s.droppables).every(w=>!w.isFixedOnPage),{impact:p,afterCritical:m}=rre({draggable:a,home:l,draggables:s.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:u,current:u,isWindowScrollAllowed:h,impact:p,afterCritical:m,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&sn(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||sn(),Xqe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Vm(e)||sn();const{client:n}=t.payload;return xg(n,e.current.client.selection)?e:ax({state:e,clientSelection:n,impact:UI(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return r2(e);Vm(e)||sn();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const s=N4(i,r);return n2(e,s,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Vm(e)||sn();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||sn(),i.isEnabled===r&&sn();const s={...i,isEnabled:r};return n2(e,s,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Vm(e)||sn();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||sn(),i.isCombineEnabled===r&&sn();const s={...i,isCombineEnabled:r};return n2(e,s,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Vm(e)||sn(),e.isWindowScrollAllowed||sn();const n=t.payload.newScroll;if(xg(e.viewport.scroll.current,n))return r2(e);const r=Kne(e.viewport,n);return UI(e)?nre({state:e,viewport:r}):ax({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Vm(e))return e;const n=t.payload.maxScroll;if(xg(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&sn();const n=Dqe({state:e,type:t.type});return n?ax({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&sn(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||sn(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Ri(e,t){return e instanceof Object&&"type"in e&&e.type===t}const qqe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),Qqe=e=>({type:"LIFT",payload:e}),Jqe=e=>({type:"INITIAL_PUBLISH",payload:e}),$qe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),eQe=()=>({type:"COLLECTION_STARTING",payload:null}),tQe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),nQe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),rQe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),ire=e=>({type:"MOVE",payload:e}),iQe=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),sQe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),oQe=()=>({type:"MOVE_UP",payload:null}),aQe=()=>({type:"MOVE_DOWN",payload:null}),lQe=()=>({type:"MOVE_RIGHT",payload:null}),cQe=()=>({type:"MOVE_LEFT",payload:null}),W4=()=>({type:"FLUSH",payload:null}),uQe=e=>({type:"DROP_ANIMATE",payload:e}),j4=e=>({type:"DROP_COMPLETE",payload:e}),sre=e=>({type:"DROP",payload:e}),dQe=e=>({type:"DROP_PENDING",payload:e}),ore=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var hQe=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Ri(i,"LIFT")){r(i);return}const{id:s,clientSelection:o,movementMode:a}=i.payload,l=t();l.phase==="DROP_ANIMATING"&&n(j4({completed:l.completed})),t().phase!=="IDLE"&&sn(),n(W4()),n(qqe({draggableId:s,movementMode:a}));const u={draggableId:s,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:h,dimensions:p,viewport:m}=e.startPublishing(u);n(Jqe({critical:h,dimensions:p,clientSelection:o,movementMode:a,viewport:m}))},fQe=e=>()=>t=>n=>{Ri(n,"INITIAL_PUBLISH")&&e.dragging(),Ri(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Ri(n,"FLUSH")||Ri(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const K4={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},CS={opacity:{drop:0,combining:.7},scale:{drop:.75}},are={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fm=`${are.outOfTheWay}s ${K4.outOfTheWay}`,lx={fluid:`opacity ${Fm}`,snap:`transform ${Fm}, opacity ${Fm}`,drop:e=>{const t=`${e}s ${K4.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Fm}`,placeholder:`height ${Fm}, width ${Fm}, margin ${Fm}`},KU=e=>xg(e,Ia)?void 0:`translate(${e.x}px, ${e.y}px)`,WI={moveTo:KU,drop:(e,t)=>{const n=KU(e);if(n)return t?`${n} scale(${CS.scale.drop})`:n}},{minDropTime:jI,maxDropTime:lre}=are,pQe=lre-jI,YU=1500,gQe=.6;var mQe=({current:e,destination:t,reason:n})=>{const r=vS(e,t);if(r<=0)return jI;if(r>=YU)return lre;const i=r/YU,s=jI+pQe*i,o=n==="CANCEL"?s*gQe:s;return Number(o.toFixed(2))},vQe=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:s,droppables:o}=n,a=Eu(e),l=a?o[a]:null,c=o[t.descriptor.droppableId],u=tre({impact:e,draggable:t,draggables:s,afterCritical:i,droppable:l||c,viewport:r});return Cu(u,t.client.borderBox.center)},yQe=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:s})=>!n.at||t!=="DROP"?{impact:ere({draggables:e,impact:s,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:yS},didDropInsideDroppable:!0};const wQe=({getState:e,dispatch:t})=>n=>r=>{if(!Ri(r,"DROP")){n(r);return}const i=e(),s=r.payload.reason;if(i.phase==="COLLECTING"){t(dQe({reason:s}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&sn(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||sn();const a=i.critical,l=i.dimensions,c=l.draggables[i.critical.draggable.id],{impact:u,didDropInsideDroppable:h}=yQe({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=h?B4(u):null,m=h?nk(u):null,y={index:a.draggable.index,droppableId:a.droppable.id},w={draggableId:c.descriptor.id,type:c.descriptor.type,source:y,reason:s,mode:i.movementMode,destination:p,combine:m},b=vQe({impact:u,draggable:c,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),S={critical:i.critical,afterCritical:i.afterCritical,result:w,impact:u};if(!(!xg(i.current.client.offset,b)||!!w.combine)){t(j4({completed:S}));return}const _=mQe({current:i.current.client.offset,destination:b,reason:s});t(uQe({newHomeClientOffset:b,dropDuration:_,completed:S}))};var cre=()=>({x:window.pageXOffset,y:window.pageYOffset});function CQe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function bQe({onWindowScroll:e}){function t(){e(cre())}const n=mS(t),r=CQe(n);let i=bg;function s(){return i!==bg}function o(){s()&&sn(),i=fd(window,[r])}function a(){s()||sn(),n.cancel(),i(),i=bg}return{start:o,stop:a,isActive:s}}const xQe=e=>Ri(e,"DROP_COMPLETE")||Ri(e,"DROP_ANIMATE")||Ri(e,"FLUSH"),SQe=e=>{const t=bQe({onWindowScroll:n=>{e.dispatch(iQe({newScroll:n}))}});return n=>r=>{!t.isActive()&&Ri(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&xQe(r)&&t.stop(),n(r)}};var _Qe=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=s=>{t||n||(t=!0,e(s),clearTimeout(r))};return i.wasCalled=()=>t,i},EQe=()=>{const e=[],t=i=>{const s=e.findIndex(a=>a.timerId===i);s===-1&&sn();const[o]=e.splice(s,1);o.callback()};return{add:i=>{const s=setTimeout(()=>t(s)),o={timerId:s,callback:i};e.push(o)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(s=>{clearTimeout(s.timerId),s.callback()})}}};const TQe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,RQe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,AQe=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},nb=(e,t)=>{t()},nE=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function i2(e,t,n,r){if(!e){n(r(t));return}const i=_Qe(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var kQe=(e,t)=>{const n=EQe();let r=null;const i=(h,p)=>{r&&sn(),nb("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:h,mode:p})})},s=(h,p)=>{r&&sn(),nb("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(nE(h,p))})},o=(h,p)=>{r&&sn();const m=nE(h,p);r={mode:p,lastCritical:h,lastLocation:m.source,lastCombine:null},n.add(()=>{nb("onDragStart",()=>i2(e().onDragStart,m,t,qE.onDragStart))})},a=(h,p)=>{const m=B4(p),y=nk(p);r||sn();const w=!AQe(h,r.lastCritical);w&&(r.lastCritical=h);const b=!TQe(r.lastLocation,m);b&&(r.lastLocation=m);const S=!RQe(r.lastCombine,y);if(S&&(r.lastCombine=y),!w&&!b&&!S)return;const E={...nE(h,r.mode),combine:y,destination:m};n.add(()=>{nb("onDragUpdate",()=>i2(e().onDragUpdate,E,t,qE.onDragUpdate))})},l=()=>{r||sn(),n.flush()},c=h=>{r||sn(),r=null,nb("onDragEnd",()=>i2(e().onDragEnd,h,t,qE.onDragEnd))};return{beforeCapture:i,beforeStart:s,start:o,update:a,flush:l,drop:c,abort:()=>{if(!r)return;const h={...nE(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(h)}}},PQe=(e,t)=>{const n=kQe(e,t);return r=>i=>s=>{if(Ri(s,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(s.payload.draggableId,s.payload.movementMode);return}if(Ri(s,"INITIAL_PUBLISH")){const a=s.payload.critical;n.beforeStart(a,s.payload.movementMode),i(s),n.start(a,s.payload.movementMode);return}if(Ri(s,"DROP_COMPLETE")){const a=s.payload.completed.result;n.flush(),i(s),n.drop(a);return}if(i(s),Ri(s,"FLUSH")){n.abort();return}const o=r.getState();o.phase==="DRAGGING"&&n.update(o.critical,o.impact)}};const DQe=e=>t=>n=>{if(!Ri(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&sn(),e.dispatch(j4({completed:r.completed}))},FQe=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>s=>{if((Ri(s,"FLUSH")||Ri(s,"DROP_COMPLETE")||Ri(s,"DROP_ANIMATION_FINISHED"))&&r(),i(s),!Ri(s,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(ore())}};n=requestAnimationFrame(()=>{n=null,t=fd(window,[o])})}};var IQe=e=>()=>t=>n=>{(Ri(n,"DROP_COMPLETE")||Ri(n,"FLUSH")||Ri(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},MQe=e=>{let t=!1;return()=>n=>r=>{if(Ri(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Ri(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Ri(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const OQe=e=>Ri(e,"DROP_COMPLETE")||Ri(e,"DROP_ANIMATE")||Ri(e,"FLUSH");var LQe=e=>t=>n=>r=>{if(OQe(r)){e.stop(),n(r);return}if(Ri(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&sn(),e.start(i);return}n(r),e.scroll(t.getState())};const NQe=e=>t=>n=>{if(t(n),!Ri(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(sre({reason:r.reason})))},BQe=Ene;var VQe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:s})=>_ne(Zqe,BQe(LXe(fQe(n),IQe(e),hQe(e),wQe,DQe,FQe,NQe,LQe(s),SQe,MQe(t),PQe(r,i))));const s2=()=>({additions:{},removals:{},modified:{}});function HQe({registry:e,callbacks:t}){let n=s2(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:c,modified:u}=n,h=Object.keys(l).map(y=>e.draggable.getById(y).getDimension(Ia)).sort((y,w)=>y.descriptor.index-w.descriptor.index),p=Object.keys(u).map(y=>{const b=e.droppable.getById(y).callbacks.getScrollWhileDragging();return{droppableId:y,scroll:b}}),m={additions:h,removals:Object.keys(c),modified:p};n=s2(),t.publish(m)}))};return{add:l=>{const c=l.descriptor.id;n.additions[c]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:l=>{const c=l.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=s2())}}}var ure=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Cu({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},dre=()=>{const e=document.documentElement;return e||sn(),e},hre=()=>{const e=dre();return ure({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},zQe=()=>{const e=cre(),t=hre(),n=e.y,r=e.x,i=dre(),s=i.clientWidth,o=i.clientHeight,a=r+s,l=n+o;return{frame:th({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Ia,displacement:Ia}}}},GQe=({critical:e,scrollOptions:t,registry:n})=>{const r=zQe(),i=r.scroll.current,s=e.droppable,o=n.droppable.getAllByType(s.type).map(u=>u.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(u=>u.getDimension(i));return{dimensions:{draggables:Hne(a),droppables:Vne(o)},critical:e,viewport:r}};function XU(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var UQe=(e,t)=>{let n=null;const r=HQe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(p,m)=>{e.droppable.exists(p)||sn(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:m})},s=(p,m)=>{n&&(e.droppable.exists(p)||sn(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:m}))},o=(p,m)=>{n&&(e.droppable.exists(p)||sn(),t.updateDroppableScroll({id:p,newScroll:m}))},a=(p,m)=>{n&&e.droppable.getById(p).callbacks.scroll(m)},l=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},c=p=>{n||sn();const m=n.critical.draggable;p.type==="ADDITION"&&XU(e,m,p.value)&&r.add(p.value),p.type==="REMOVAL"&&XU(e,m,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:s,scrollDroppable:a,updateDroppableScroll:o,startPublishing:p=>{n&&sn();const m=e.draggable.getById(p.draggableId),y=e.droppable.getById(m.descriptor.droppableId),w={draggable:m.descriptor,droppable:y.descriptor},b=e.subscribe(c);return n={critical:w,unsubscribe:b},GQe({critical:w,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:l}},fre=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",WQe=e=>{window.scrollBy(e.x,e.y)};const jQe=Da(e=>tk(e).filter(t=>!(!t.isEnabled||!t.frame))),KQe=(e,t)=>jQe(t).find(r=>(r.frame||sn(),qne(r.frame.pageMarginBox)(e)))||null;var YQe=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return KQe(e,n)};const bS={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var XQe=(e,t,n=()=>bS)=>{const r=n(),i=e[t.size]*r.startFromPercentage,s=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:s}},pre=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},Y4=1,ZQe=(e,t,n=()=>bS)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return Y4;const s=1-pre({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),o=r.maxPixelScroll*r.ease(s);return Math.ceil(o)},qQe=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,s=r.durationDampening.stopDampeningAt,o=t,a=s,c=Date.now()-o;if(c>=s)return e;if(c<i)return Y4;const u=pre({startOfRange:i,endOfRange:a,current:c}),h=e*r.ease(u);return Math.ceil(h)},ZU=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const s=ZQe(e,t,i);return s===0?0:r?Math.max(qQe(s,n,i),Y4):s},qU=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=XQe(e,r,s);return t[r.end]<t[r.start]?ZU({distanceToEdge:t[r.end],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s}):-1*ZU({distanceToEdge:t[r.start],thresholds:o,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s})},QQe=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const JQe=Bne(e=>e===0?0:e);var gre=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=qU({container:t,distanceToEdges:o,dragStartTime:e,axis:V4,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),l=qU({container:t,distanceToEdges:o,dragStartTime:e,axis:Une,shouldUseTimeDampening:i,getAutoScrollerOptions:s}),c=JQe({x:l,y:a});if(xg(c,Ia))return null;const u=QQe({container:t,subject:n,proposedScroll:c});return u?xg(u,Ia)?null:u:null};const $Qe=Bne(e=>e===0?0:e>0?1:-1),X4=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=rl(t,r),s={x:e(i.x,n.x),y:e(i.y,n.y)};return xg(s,Ia)?null:s}})(),mre=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=$Qe(n),s=X4({max:r,current:t,change:i});return!s||i.x!==0&&s.x===0||i.y!==0&&s.y===0},Z4=(e,t)=>mre({current:e.scroll.current,max:e.scroll.max,change:t}),eJe=(e,t)=>{if(!Z4(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return X4({current:r,max:n,change:t})},q4=(e,t)=>{const n=e.frame;return n?mre({current:n.scroll.current,max:n.scroll.max,change:t}):!1},tJe=(e,t)=>{const n=e.frame;return!n||!q4(e,t)?null:X4({current:n.scroll.current,max:n.scroll.max,change:t})};var nJe=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=gre({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return o&&Z4(e,o)?o:null},rJe=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:s})=>{const o=e.frame;if(!o)return null;const a=gre({dragStartTime:r,container:o.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:s});return a&&q4(e,a)?a:null},QU=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:s})=>{const o=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const h=e.viewport,p=nJe({dragStartTime:t,viewport:h,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});if(p){r(p);return}}const c=YQe({center:o,destination:Eu(e.impact),droppables:e.dimensions.droppables});if(!c)return;const u=rJe({dragStartTime:t,droppable:c,subject:l,center:o,shouldUseTimeDampening:n,getAutoScrollerOptions:s});u&&i(c.descriptor.id,u)},iJe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>bS})=>{const r=mS(e),i=mS(t);let s=null;const o=c=>{s||sn();const{shouldUseTimeDampening:u,dragStartTime:h}=s;QU({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:u,getAutoScrollerOptions:n})};return{start:c=>{s&&sn();const u=Date.now();let h=!1;const p=()=>{h=!0};QU({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),s={dragStartTime:u,shouldUseTimeDampening:h},h&&o(c)},stop:()=>{s&&(r.cancel(),i.cancel(),s=null)},scroll:o}},sJe=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const c=rl(a.current.client.selection,l);e({client:c})},i=(a,l)=>{if(!q4(a,l))return l;const c=tJe(a,l);if(!c)return t(a.descriptor.id,l),null;const u=Cu(l,c);return t(a.descriptor.id,u),Cu(l,u)},s=(a,l,c)=>{if(!a||!Z4(l,c))return c;const u=eJe(l,c);if(!u)return n(c),null;const h=Cu(c,u);return n(h),Cu(c,h)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const c=Eu(a.impact);c||sn();const u=i(a.dimensions.droppables[c],l);if(!u)return;const h=a.viewport,p=s(a.isWindowScrollAllowed,h,u);p&&r(a,p)}},oJe=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=iJe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),s=sJe({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&s(l)}},start:i.start,stop:i.stop}};const bw="data-rfd",xw=(()=>{const e=`${bw}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),KI=(()=>{const e=`${bw}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),aJe=(()=>{const e=`${bw}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),JU={contextId:`${bw}-scroll-container-context-id`},lJe=e=>t=>`[${t}="${e}"]`,rb=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),cJe="pointer-events: none;";var uJe=e=>{const t=lJe(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(xw.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:cJe,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${lx.outOfTheWay};
    `;return{selector:t(KI.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(aJe.contextId),styles:{always:"overflow-anchor: none;"}},o=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:rb(o,"always"),resting:rb(o,"resting"),dragging:rb(o,"dragging"),dropAnimating:rb(o,"dropAnimating"),userCancel:rb(o,"userCancel")}};const Tu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?I.useLayoutEffect:I.useEffect,o2=()=>{const e=document.querySelector("head");return e||sn(),e},$U=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function dJe(e,t){const n=ti(()=>uJe(e),[e]),r=I.useRef(null),i=I.useRef(null),s=Fn(Da(h=>{const p=i.current;p||sn(),p.textContent=h}),[]),o=Fn(h=>{const p=r.current;p||sn(),p.textContent=h},[]);Tu(()=>{!r.current&&!i.current||sn();const h=$U(t),p=$U(t);return r.current=h,i.current=p,h.setAttribute(`${bw}-always`,e),p.setAttribute(`${bw}-dynamic`,e),o2().appendChild(h),o2().appendChild(p),o(n.always),s(n.resting),()=>{const m=y=>{const w=y.current;w||sn(),o2().removeChild(w),y.current=null};m(r),m(i)}},[t,o,s,n.always,n.resting,e]);const a=Fn(()=>s(n.dragging),[s,n.dragging]),l=Fn(h=>{if(h==="DROP"){s(n.dropAnimating);return}s(n.userCancel)},[s,n.dropAnimating,n.userCancel]),c=Fn(()=>{i.current&&s(n.resting)},[s,n.resting]);return ti(()=>({dragging:a,dropping:l,resting:c}),[a,l,c])}function vre(e,t){return Array.from(e.querySelectorAll(t))}var yre=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function sk(e){return e instanceof yre(e).HTMLElement}function hJe(e,t){const n=`[${xw.contextId}="${e}"]`,r=vre(document,n);if(!r.length)return null;const i=r.find(s=>s.getAttribute(xw.draggableId)===t);return!i||!sk(i)?null:i}function fJe(e){const t=I.useRef({}),n=I.useRef(null),r=I.useRef(null),i=I.useRef(!1),s=Fn(function(p,m){const y={id:p,focus:m};return t.current[p]=y,function(){const b=t.current;b[p]!==y&&delete b[p]}},[]),o=Fn(function(p){const m=hJe(e,p);m&&m!==document.activeElement&&m.focus()},[e]),a=Fn(function(p,m){n.current===p&&(n.current=m)},[]),l=Fn(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&o(p)}))},[o]),c=Fn(function(p){n.current=null;const m=document.activeElement;m&&m.getAttribute(xw.draggableId)===p&&(n.current=p)},[]);return Tu(()=>(i.current=!0,function(){i.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),ti(()=>({register:s,tryRecordFocus:c,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[s,c,l,a])}function pJe(){const e={draggables:{},droppables:{}},t=[];function n(h){return t.push(h),function(){const m=t.indexOf(h);m!==-1&&t.splice(m,1)}}function r(h){t.length&&t.forEach(p=>p(h))}function i(h){return e.draggables[h]||null}function s(h){const p=i(h);return p||sn(),p}const o={register:h=>{e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,p)=>{const m=e.draggables[p.descriptor.id];m&&m.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:h=>{const p=h.descriptor.id,m=i(p);m&&h.uniqueId===m.uniqueId&&(delete e.draggables[p],e.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:s,findById:i,exists:h=>!!i(h),getAllByType:h=>Object.values(e.draggables).filter(p=>p.descriptor.type===h)};function a(h){return e.droppables[h]||null}function l(h){const p=a(h);return p||sn(),p}const c={register:h=>{e.droppables[h.descriptor.id]=h},unregister:h=>{const p=a(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:l,findById:a,exists:h=>!!a(h),getAllByType:h=>Object.values(e.droppables).filter(p=>p.descriptor.type===h)};function u(){e.draggables={},e.droppables={},t.length=0}return{draggable:o,droppable:c,subscribe:n,clean:u}}function gJe(){const e=ti(pJe,[]);return I.useEffect(()=>function(){e.clean()},[e]),e}var Q4=Ve.createContext(null),AR=()=>{const e=document.body;return e||sn(),e};const mJe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},vJe=e=>`rfd-announcement-${e}`;function yJe(e){const t=ti(()=>vJe(e),[e]),n=I.useRef(null);return I.useEffect(function(){const s=document.createElement("div");return n.current=s,s.id=t,s.setAttribute("aria-live","assertive"),s.setAttribute("aria-atomic","true"),bx(s.style,mJe),AR().appendChild(s),function(){setTimeout(function(){const l=AR();l.contains(s)&&l.removeChild(s),s===n.current&&(n.current=null)})}},[t]),Fn(i=>{const s=n.current;if(s){s.textContent=i;return}},[])}const wJe={separator:"::"};function J4(e,t=wJe){const n=Ve.useId();return ti(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function CJe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function bJe({contextId:e,text:t}){const n=J4("hidden-text",{separator:"-"}),r=ti(()=>CJe({contextId:e,uniqueId:n}),[n,e]);return I.useEffect(function(){const s=document.createElement("div");return s.id=r,s.textContent=t,s.style.display="none",AR().appendChild(s),function(){const a=AR();a.contains(s)&&a.removeChild(s)}},[r,t]),r}var ok=Ve.createContext(null);function wre(e){const t=I.useRef(e);return I.useEffect(()=>{t.current=e}),t}function xJe(){let e=null;function t(){return!!e}function n(o){return o===e}function r(o){e&&sn();const a={abandon:o};return e=a,a}function i(){e||sn(),e=null}function s(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:s}}function xS(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const SJe=9,_Je=13,$4=27,Cre=32,EJe=33,TJe=34,RJe=35,AJe=36,kJe=37,PJe=38,DJe=39,FJe=40,IJe={[_Je]:!0,[SJe]:!0};var bre=e=>{IJe[e.keyCode]&&e.preventDefault()};const ak=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),xre=0,e9=5;function MJe(e,t){return Math.abs(t.x-e.x)>=e9||Math.abs(t.y-e.y)>=e9}const t9={type:"IDLE"};function OJe({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:s,clientX:o,clientY:a}=i;if(s!==xre)return;const l={x:o,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(l);return}c.type!=="PENDING"&&sn();const u=c.point;if(!MJe(u,l))return;i.preventDefault();const h=c.actions.fluidLift(l);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:i=>{const s=n();if(s.type!=="DRAGGING"){e();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===$4){i.preventDefault(),e();return}bre(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const s=n();if(s.type==="IDLE"&&sn(),s.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:ak,fn:e}]}function LJe(e){const t=I.useRef(t9),n=I.useRef(bg),r=ti(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==xre||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const p=e.findClosestDraggableId(h);if(!p)return;const m=e.tryGetLock(p,o,{sourceEvent:h});if(!m)return;h.preventDefault();const y={x:h.clientX,y:h.clientY};n.current(),c(m,y)}}),[e]),i=ti(()=>({eventName:"webkitmouseforcewillbegin",fn:u=>{if(u.defaultPrevented)return;const h=e.findClosestDraggableId(u);if(!h)return;const p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&u.preventDefault())}}),[e]),s=Fn(function(){const h={passive:!1,capture:!0};n.current=fd(window,[i,r],h)},[i,r]),o=Fn(()=>{t.current.type!=="IDLE"&&(t.current=t9,n.current(),s())},[s]),a=Fn(()=>{const u=t.current;o(),u.type==="DRAGGING"&&u.actions.cancel({shouldBlockNextClick:!0}),u.type==="PENDING"&&u.actions.abort()},[o]),l=Fn(function(){const h={capture:!0,passive:!1},p=OJe({cancel:a,completed:o,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=fd(window,p,h)},[a,o]),c=Fn(function(h,p){t.current.type!=="IDLE"&&sn(),t.current={type:"PENDING",point:p,actions:h},l()},[l]);Tu(function(){return s(),function(){n.current()}},[s])}function NJe(){}const BJe={[TJe]:!0,[EJe]:!0,[AJe]:!0,[RJe]:!0};function VJe(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===$4){i.preventDefault(),n();return}if(i.keyCode===Cre){i.preventDefault(),r();return}if(i.keyCode===FJe){i.preventDefault(),e.moveDown();return}if(i.keyCode===PJe){i.preventDefault(),e.moveUp();return}if(i.keyCode===DJe){i.preventDefault(),e.moveRight();return}if(i.keyCode===kJe){i.preventDefault(),e.moveLeft();return}if(BJe[i.keyCode]){i.preventDefault();return}bre(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ak,fn:n}]}function HJe(e){const t=I.useRef(NJe),n=ti(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==Cre)return;const o=e.findClosestDraggableId(s);if(!o)return;const a=e.tryGetLock(o,u,{sourceEvent:s});if(!a)return;s.preventDefault();let l=!0;const c=a.snapLift();t.current();function u(){l||sn(),l=!1,t.current(),r()}t.current=fd(window,VJe(c,u),{capture:!0,passive:!1})}}),[e]),r=Fn(function(){const s={passive:!1,capture:!0};t.current=fd(window,[n],s)},[n]);Tu(function(){return r(),function(){t.current()}},[r])}const a2={type:"IDLE"},zJe=120,GJe=.15;function UJe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===$4&&n.preventDefault(),e()}},{eventName:ak,fn:e}]}function WJe({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:s,clientY:o}=r.touches[0],a={x:s,y:o};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&sn();const s=r.touches[0];if(!s||!(s.force>=GJe))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:ak,fn:e}]}function jJe(e){const t=I.useRef(a2),n=I.useRef(bg),r=Fn(function(){return t.current},[]),i=Fn(function(m){t.current=m},[]),s=ti(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const y=e.findClosestDraggableId(m);if(!y)return;const w=e.tryGetLock(y,a,{sourceEvent:m});if(!w)return;const b=m.touches[0],{clientX:S,clientY:E}=b,_={x:S,y:E};n.current(),h(w,_)}}),[e]),o=Fn(function(){const m={capture:!0,passive:!1};n.current=fd(window,[s],m)},[s]),a=Fn(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(a2),n.current(),o())},[o,i]),l=Fn(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),c=Fn(function(){const m={capture:!0,passive:!1},y={cancel:l,completed:a,getPhase:r},w=fd(window,WJe(y),m),b=fd(window,UJe(y),m);n.current=function(){w(),b()}},[l,r,a]),u=Fn(function(){const m=r();m.type!=="PENDING"&&sn();const y=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:y,hasMoved:!1})},[r,i]),h=Fn(function(m,y){r().type!=="IDLE"&&sn();const w=setTimeout(u,zJe);i({type:"PENDING",point:y,actions:m,longPressTimerId:w}),c()},[c,r,i,u]);Tu(function(){return o(),function(){n.current();const y=r();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),i(a2))}},[r,o,i]),Tu(function(){return fd(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const KJe=["input","button","textarea","select","option","optgroup","video","audio"];function Sre(e,t){if(t==null)return!1;if(KJe.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Sre(e,t.parentElement)}function YJe(e,t){const n=t.target;return sk(n)?Sre(e,n):!1}var XJe=e=>th(e.getBoundingClientRect()).center;function ZJe(e){return e instanceof yre(e).Element}const qJe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function _re(e,t){return e==null?null:e[qJe](t)?e:_re(e.parentElement,t)}function QJe(e,t){return e.closest?e.closest(t):_re(e,t)}function JJe(e){return`[${xw.contextId}="${e}"]`}function $Je(e,t){const n=t.target;if(!ZJe(n))return null;const r=JJe(e),i=QJe(n,r);return!i||!sk(i)?null:i}function e$e(e,t){const n=$Je(e,t);return n?n.getAttribute(xw.draggableId):null}function t$e(e,t){const n=`[${KI.contextId}="${e}"]`,i=vre(document,n).find(s=>s.getAttribute(KI.id)===t);return!i||!sk(i)?null:i}function n$e(e){e.preventDefault()}function rE({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function Ere({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!fre(t.getState(),r))}function r$e({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:s,sourceEvent:o}){if(!Ere({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),c=t$e(t,l.descriptor.id);if(!c||o&&!l.options.canDragInteractiveElements&&YJe(c,o))return null;const u=e.claim(s||bg);let h="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function m(){return e.isActive(u)}function y(V,M){rE({expected:V,phase:h,isLockActive:m,shouldWarn:!0})&&n.dispatch(M())}const w=y.bind(null,"DRAGGING");function b(V){function M(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(M(),sn()),n.dispatch(Qqe(V.liftActionArgs)),h="DRAGGING";function O(z,H={shouldBlockNextClick:!1}){if(V.cleanup(),H.shouldBlockNextClick){const X=fd(window,[{eventName:"click",fn:n$e,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(X)}M(),n.dispatch(sre({reason:z}))}return{isActive:()=>rE({expected:"DRAGGING",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,drop:z=>O("DROP",z),cancel:z=>O("CANCEL",z),...V.actions}}function S(V){const M=mS(z=>{w(()=>ire({client:z}))});return{...b({liftActionArgs:{id:i,clientSelection:V,movementMode:"FLUID"},cleanup:()=>M.cancel(),actions:{move:M}}),move:M}}function E(){const V={moveUp:()=>w(oQe),moveRight:()=>w(lQe),moveDown:()=>w(aQe),moveLeft:()=>w(cQe)};return b({liftActionArgs:{id:i,clientSelection:XJe(c),movementMode:"SNAP"},cleanup:bg,actions:V})}function _(){rE({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>rE({expected:"PRE_DRAG",phase:h,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:S,snapLift:E,abort:_}}const i$e=[LJe,HJe,jJe];function s$e({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const s=[...i?i$e:[],...r||[]],o=I.useState(()=>xJe())[0],a=Fn(function(b,S){xS(b)&&!xS(S)&&o.tryAbandon()},[o]);Tu(function(){let b=t.getState();return t.subscribe(()=>{const E=t.getState();a(b,E),b=E})},[o,t,a]),Tu(()=>o.tryAbandon,[o.tryAbandon]);const l=Fn(w=>Ere({lockAPI:o,registry:n,store:t,draggableId:w}),[o,n,t]),c=Fn((w,b,S)=>r$e({lockAPI:o,registry:n,contextId:e,store:t,draggableId:w,forceSensorStop:b||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[e,o,n,t]),u=Fn(w=>e$e(e,w),[e]),h=Fn(w=>{const b=n.draggable.findById(w);return b?b.options:null},[n.draggable]),p=Fn(function(){o.isClaimed()&&(o.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(W4()))},[o,t]),m=Fn(()=>o.isClaimed(),[o]),y=ti(()=>({canGetLock:l,tryGetLock:c,findClosestDraggableId:u,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:m}),[l,c,u,h,p,m]);for(let w=0;w<s.length;w++)s[w](y)}const o$e=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Tw.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),a$e=e=>({...bS,...e.autoScrollerOptions,durationDampening:{...bS.durationDampening,...e.autoScrollerOptions}});function ib(e){return e.current||sn(),e.current}function l$e(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:s}=e,o=I.useRef(null),a=wre(e),l=Fn(()=>o$e(a.current),[a]),c=Fn(()=>a$e(a.current),[a]),u=yJe(t),h=bJe({contextId:t,text:s}),p=dJe(t,i),m=Fn(X=>{ib(o).dispatch(X)},[]),y=ti(()=>RU({publishWhileDragging:$qe,updateDroppableScroll:tQe,updateDroppableIsEnabled:nQe,updateDroppableIsCombineEnabled:rQe,collectionStarting:eQe},m),[m]),w=gJe(),b=ti(()=>UQe(w,y),[w,y]),S=ti(()=>oJe({scrollWindow:WQe,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:c,...RU({move:ire},m)}),[b.scrollDroppable,m,c]),E=fJe(t),_=ti(()=>VQe({announce:u,autoScroller:S,dimensionMarshal:b,focusMarshal:E,getResponders:l,styleMarshal:p}),[u,S,b,E,l,p]);o.current=_;const N=Fn(()=>{const X=ib(o);X.getState().phase!=="IDLE"&&X.dispatch(W4())},[]),V=Fn(()=>{const X=ib(o).getState();return X.phase==="DROP_ANIMATING"?!0:X.phase==="IDLE"?!1:X.isDragging},[]),M=ti(()=>({isDragging:V,tryAbort:N}),[V,N]);n(M);const O=Fn(X=>fre(ib(o).getState(),X),[]),z=Fn(()=>Vm(ib(o).getState()),[]),H=ti(()=>({marshal:b,focus:E,contextId:t,canLift:O,isMovementAllowed:z,dragHandleUsageInstructionsId:h,registry:w}),[t,b,h,E,O,z,w]);return s$e({contextId:t,store:_,registry:w,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),I.useEffect(()=>N,[N]),Ve.createElement(ok.Provider,{value:H},Ve.createElement(IZe,{context:Q4,store:_},e.children))}function c$e(){return Ve.useId()}function u$e(e){const t=c$e(),n=e.dragHandleUsageInstructions||qE.dragHandleUsageInstructions;return Ve.createElement(HZe,null,r=>Ve.createElement(l$e,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const n9={dragging:5e3,dropAnimating:4500},d$e=(e,t)=>t?lx.drop(t.duration):e?lx.snap:lx.fluid,h$e=(e,t)=>{if(e)return t?CS.opacity.drop:CS.opacity.combining},f$e=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function p$e(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:s}=e,o=!!i,a=f$e(e),l=!!s,c=l?WI.drop(r,o):WI.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:d$e(a,s),transform:c,opacity:h$e(o,l),zIndex:l?n9.dropAnimating:n9.dragging,pointerEvents:"none"}}function g$e(e){return{transform:WI.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function m$e(e){return e.type==="DRAGGING"?p$e(e):g$e(e)}function v$e(e,t,n=Ia){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),s=Fne(i,r),o=_R(s,n),a={client:s,tagName:t.tagName.toLowerCase(),display:r.display},l={x:s.marginBox.width,y:s.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:s,page:o}}function y$e(e){const t=J4("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}=e,l=ti(()=>({canDragInteractiveElements:s,shouldRespectForcePress:o,isEnabled:a}),[s,a,o]),c=Fn(m=>{const y=i();return y||sn(),v$e(n,y,m)},[n,i]),u=ti(()=>({uniqueId:t,descriptor:n,options:l,getDimension:c}),[n,c,l,t]),h=I.useRef(u),p=I.useRef(!0);Tu(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),Tu(()=>{if(p.current){p.current=!1;return}const m=h.current;h.current=u,r.draggable.update(u,m)},[u,r.draggable])}var eB=Ve.createContext(null);function kR(e){const t=I.useContext(e);return t||sn(),t}function w$e(e){e.preventDefault()}const C$e=e=>{const t=I.useRef(null),n=Fn((M=null)=>{t.current=M},[]),r=Fn(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:s,registry:o}=kR(ok),{type:a,droppableId:l}=kR(eB),c=ti(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:u,draggableId:h,isEnabled:p,shouldRespectForcePress:m,canDragInteractiveElements:y,isClone:w,mapped:b,dropAnimationFinished:S}=e;if(!w){const M=ti(()=>({descriptor:c,registry:o,getDraggableRef:r,canDragInteractiveElements:y,shouldRespectForcePress:m,isEnabled:p}),[c,o,r,y,m,p]);y$e(M)}const E=ti(()=>p?{tabIndex:0,role:"button","aria-describedby":s,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:w$e}:null,[i,s,h,p]),_=Fn(M=>{b.type==="DRAGGING"&&b.dropping&&M.propertyName==="transform"&&Tw.flushSync(S)},[S,b]),N=ti(()=>{const M=m$e(b),O=b.type==="DRAGGING"&&b.dropping?_:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:M,onTransitionEnd:O},dragHandleProps:E}},[i,E,h,b,_,n]),V=ti(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return Ve.createElement(Ve.Fragment,null,u(N,b.snapshot,V))};var Tre=(e,t)=>e===t,Rre=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const b$e=e=>e.combine?e.combine.draggableId:null,x$e=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function S$e(){const e=Da((i,s)=>({x:i,y:s})),t=Da((i,s,o=null,a=null,l=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:o,combineWith:a,combineTargetFor:null})),n=Da((i,s,o,a,l=null,c=null,u=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:c,mode:s,offset:i,dimension:o,forceShouldAnimate:u,snapshot:t(s,a,l,c,null)}}));return(i,s)=>{if(xS(i)){if(i.critical.draggable.id!==s.draggableId)return null;const o=i.current.client.offset,a=i.dimensions.draggables[s.draggableId],l=Eu(i.impact),c=x$e(i.impact),u=i.forceShouldAnimate;return n(e(o.x,o.y),i.movementMode,a,s.isClone,l,c,u)}if(i.phase==="DROP_ANIMATING"){const o=i.completed;if(o.result.draggableId!==s.draggableId)return null;const a=s.isClone,l=i.dimensions.draggables[s.draggableId],c=o.result,u=c.mode,h=Rre(c),p=b$e(c),y={duration:i.dropDuration,curve:K4.drop,moveTo:i.newHomeClientOffset,opacity:p?CS.opacity.drop:null,scale:p?CS.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:y,draggingOver:h,combineWith:p,mode:u,forceShouldAnimate:null,snapshot:t(u,a,h,p,y)}}}return null}}function Are(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const _$e={mapped:{type:"SECONDARY",offset:Ia,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Are(null)}};function E$e(){const e=Da((o,a)=>({x:o,y:a})),t=Da(Are),n=Da((o,a=null,l)=>({mapped:{type:"SECONDARY",offset:o,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=o=>o?n(Ia,o,!0):null,i=(o,a,l,c)=>{const u=l.displaced.visible[o],h=!!(c.inVirtualList&&c.effected[o]),p=nk(l),m=p&&p.draggableId===o?a:null;if(!u){if(!h)return r(m);if(l.displaced.invisible[o])return null;const b=Xw(c.displacedBy.point),S=e(b.x,b.y);return n(S,m,!0)}if(h)return r(m);const y=l.displacedBy.point,w=e(y.x,y.y);return n(w,m,u.shouldAnimate)};return(o,a)=>{if(xS(o))return o.critical.draggable.id===a.draggableId?null:i(a.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){const l=o.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const T$e=()=>{const e=S$e(),t=E$e();return(r,i)=>e(r,i)||t(r,i)||_$e},R$e={dropAnimationFinished:ore},A$e=Dne(T$e,R$e,null,{context:Q4,areStatePropsEqual:Tre})(C$e);function kre(e){return kR(eB).isUsingCloneFor===e.draggableId&&!e.isClone?null:Ve.createElement(A$e,e)}function r9(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return Ve.createElement(kre,bx({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const Pre=e=>t=>e===t,k$e=Pre("scroll"),P$e=Pre("auto"),i9=(e,t)=>t(e.overflowX)||t(e.overflowY),D$e=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return i9(n,k$e)||i9(n,P$e)},F$e=()=>!1,Dre=e=>e==null?null:e===document.body?F$e()?e:null:e===document.documentElement?null:D$e(e)?e:Dre(e.parentElement);var YI=e=>({x:e.scrollLeft,y:e.scrollTop});const Fre=e=>e?window.getComputedStyle(e).position==="fixed"?!0:Fre(e.parentElement):!1;var I$e=e=>{const t=Dre(e),n=Fre(e);return{closestScrollable:t,isFixedOnPage:n}},M$e=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:s,page:o,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:p,client:m}=a,y=ure({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:y,diff:{value:Ia,displacement:Ia}}}})(),c=i==="vertical"?V4:Une,u=Cw({page:o,withPlaceholder:null,axis:c,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:t,client:s,page:o,frame:l,subject:u}};const O$e=(e,t)=>{const n=Ine(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,s=r+t.scrollHeight,o=i+t.scrollWidth,l=O4({top:r,right:o,bottom:s,left:i},n.border);return L4({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var L$e=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:s,isCombineEnabled:o,shouldClipSubject:a})=>{const l=n.closestScrollable,c=O$e(e,l),u=_R(c,r),h=(()=>{if(!l)return null;const m=Ine(l),y={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:_R(m,r),scroll:YI(l),scrollSize:y,shouldClipSubject:a}})();return M$e({descriptor:t,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:u,closest:h})};const N$e={passive:!1},B$e={passive:!0};var s9=e=>e.shouldPublishImmediately?N$e:B$e;const iE=e=>e&&e.env.closestScrollable||null;function V$e(e){const t=I.useRef(null),n=kR(ok),r=J4("droppable"),{registry:i,marshal:s}=n,o=wre(e),a=ti(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=I.useRef(a),c=ti(()=>Da((N,V)=>{t.current||sn();const M={x:N,y:V};s.updateDroppableScroll(a.id,M)}),[a.id,s]),u=Fn(()=>{const N=t.current;return!N||!N.env.closestScrollable?Ia:YI(N.env.closestScrollable)},[]),h=Fn(()=>{const N=u();c(N.x,N.y)},[u,c]),p=ti(()=>mS(h),[h]),m=Fn(()=>{const N=t.current,V=iE(N);if(N&&V||sn(),N.scrollOptions.shouldPublishImmediately){h();return}p()},[p,h]),y=Fn((N,V)=>{t.current&&sn();const M=o.current,O=M.getDroppableRef();O||sn();const z=I$e(O),H={ref:O,descriptor:a,env:z,scrollOptions:V};t.current=H;const X=L$e({ref:O,descriptor:a,env:z,windowScroll:N,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),Q=z.closestScrollable;return Q&&(Q.setAttribute(JU.contextId,n.contextId),Q.addEventListener("scroll",m,s9(H.scrollOptions))),X},[n.contextId,a,m,o]),w=Fn(()=>{const N=t.current,V=iE(N);return N&&V||sn(),YI(V)},[]),b=Fn(()=>{const N=t.current;N||sn();const V=iE(N);t.current=null,V&&(p.cancel(),V.removeAttribute(JU.contextId),V.removeEventListener("scroll",m,s9(N.scrollOptions)))},[m,p]),S=Fn(N=>{const V=t.current;V||sn();const M=iE(V);M||sn(),M.scrollTop+=N.y,M.scrollLeft+=N.x},[]),E=ti(()=>({getDimensionAndWatchScroll:y,getScrollWhileDragging:w,dragStopped:b,scroll:S}),[b,y,w,S]),_=ti(()=>({uniqueId:r,descriptor:a,callbacks:E}),[E,a,r]);Tu(()=>(l.current=_.descriptor,i.droppable.register(_),()=>{t.current&&b(),i.droppable.unregister(_)}),[E,a,b,_,s,i.droppable]),Tu(()=>{t.current&&s.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,s]),Tu(()=>{t.current&&s.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,s])}function l2(){}const o9={width:0,height:0,margin:YZe},H$e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?o9:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},z$e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=H$e({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?lx.placeholder:null}},G$e=e=>{const t=I.useRef(null),n=Fn(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:s,contextId:o}=e,[a,l]=I.useState(e.animate==="open");I.useEffect(()=>a?r!=="open"?(n(),l(!1),l2):t.current?l2:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):l2,[r,a,n]);const c=Fn(h=>{h.propertyName==="height"&&(i(),r==="close"&&s())},[r,s,i]),u=z$e({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return Ve.createElement(e.placeholder.tagName,{style:u,"data-rfd-placeholder-context-id":o,onTransitionEnd:c,ref:e.innerRef})};var U$e=Ve.memo(G$e);class W$e extends Ve.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const j$e=e=>{const t=I.useContext(ok);t||sn();const{contextId:n,isMovementAllowed:r}=t,i=I.useRef(null),s=I.useRef(null),{children:o,droppableId:a,type:l,mode:c,direction:u,ignoreContainerClipping:h,isDropDisabled:p,isCombineEnabled:m,snapshot:y,useClone:w,updateViewportMaxScroll:b,getContainerForClone:S}=e,E=Fn(()=>i.current,[]),_=Fn((Q=null)=>{i.current=Q},[]);Fn(()=>s.current,[]);const N=Fn((Q=null)=>{s.current=Q},[]),V=Fn(()=>{r()&&b({maxScroll:hre()})},[r,b]);V$e({droppableId:a,type:l,mode:c,direction:u,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:E});const M=ti(()=>Ve.createElement(W$e,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:Q,data:U,animate:Z})=>Ve.createElement(U$e,{placeholder:U,onClose:Q,innerRef:N,animate:Z,contextId:n,onTransitionEnd:V})),[n,V,e.placeholder,e.shouldAnimatePlaceholder,N]),O=ti(()=>({innerRef:_,placeholder:M,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,M,_]),z=w?w.dragging.draggableId:null,H=ti(()=>({droppableId:a,type:l,isUsingCloneFor:z}),[a,z,l]);function X(){if(!w)return null;const{dragging:Q,render:U}=w,Z=Ve.createElement(kre,{draggableId:Q.draggableId,index:Q.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(q,me)=>U(q,me,Q));return Hf.createPortal(Z,S())}return Ve.createElement(eB.Provider,{value:H},o(O,y),X())};function K$e(){return document.body||sn(),document.body}const a9={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:K$e},Ire=e=>{let t={...e},n;for(n in a9)e[n]===void 0&&(t={...t,[n]:a9[n]});return t},c2=(e,t)=>e===t.droppable.type,l9=(e,t)=>t.draggables[e.draggable.id],Y$e=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Da(s=>({draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}})),r=Da((s,o,a,l,c,u)=>{const h=c.descriptor.id;if(c.descriptor.droppableId===s){const y=u?{render:u,dragging:n(c.descriptor)}:null,w={isDraggingOver:a,draggingOverWith:a?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:y}}if(!o)return t;if(!l)return e;const m={isDraggingOver:a,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(s,o)=>{const a=Ire(o),l=a.droppableId,c=a.type,u=!a.isDropDisabled,h=a.renderClone;if(xS(s)){const p=s.critical;if(!c2(c,p))return t;const m=l9(p,s.dimensions),y=Eu(s.impact)===l;return r(l,u,y,y,m,h)}if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(!c2(c,p.critical))return t;const m=l9(p.critical,s.dimensions);return r(l,u,Rre(p.result)===l,Eu(p.impact)===l,m,h)}if(s.phase==="IDLE"&&s.completed&&!s.shouldFlush){const p=s.completed;if(!c2(c,p.critical))return t;const m=Eu(p.impact)===l,y=!!(p.impact.at&&p.impact.at.type==="COMBINE"),w=p.critical.droppable.id===l;return m?y?e:t:w?e:t}return t}},X$e={updateViewportMaxScroll:sQe},c9=Dne(Y$e,X$e,(e,t,n)=>({...Ire(n),...e,...t}),{context:Q4,areStatePropsEqual:Tre})(j$e),Z$e=d1((e,t)=>({groups:[],availableStudents:[],allStudents:[],setGroups:n=>e({groups:n}),setAvailableStudents:n=>e({availableStudents:n}),setAllStudents:n=>e({allStudents:n}),addGroup:n=>e(r=>({groups:[...r.groups,n]})),updateGroup:(n,r)=>e(i=>({groups:i.groups.map(s=>s.id===n?{...s,...r}:s)})),removeGroup:n=>e(r=>{const i=r.groups.find(s=>s.id===n);if(i){const s=r.availableStudents.filter(o=>i.studentIds.includes(o.id));return{groups:r.groups.filter(o=>o.id!==n),availableStudents:[...r.availableStudents,...s]}}return r}),moveStudentToGroup:(n,r,i)=>e(s=>{let o=[...s.groups],a=[...s.availableStudents];if(r?o=o.map(l=>l.id===r?{...l,studentIds:l.studentIds.filter(c=>c!==n)}:l):a=a.filter(l=>l.id!==n),i)o=o.map(l=>l.id===i?{...l,studentIds:[...l.studentIds,n]}:l);else{const l=t().allStudents.find(c=>c.id===n);l&&(a=[...a,l])}return{groups:o,availableStudents:a}}),getStudentById:n=>t().allStudents.find(i=>i.id===n)})),Ya=[];for(let e=0;e<256;++e)Ya.push((e+256).toString(16).slice(1));function q$e(e,t=0){return(Ya[e[t+0]]+Ya[e[t+1]]+Ya[e[t+2]]+Ya[e[t+3]]+"-"+Ya[e[t+4]]+Ya[e[t+5]]+"-"+Ya[e[t+6]]+Ya[e[t+7]]+"-"+Ya[e[t+8]]+Ya[e[t+9]]+"-"+Ya[e[t+10]]+Ya[e[t+11]]+Ya[e[t+12]]+Ya[e[t+13]]+Ya[e[t+14]]+Ya[e[t+15]]).toLowerCase()}let u2;const Q$e=new Uint8Array(16);function J$e(){if(!u2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");u2=crypto.getRandomValues.bind(crypto)}return u2(Q$e)}const $$e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),u9={randomUUID:$$e};function ug(e,t,n){if(u9.randomUUID&&!e)return u9.randomUUID();e=e||{};const r=e.random??e.rng?.()??J$e();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,q$e(r)}const lk="groups",eet=async e=>{const t=ug(),n={id:t,name:e.name,studentIds:[],createdAt:new Date,teacherId:e.teacherId};return await XX(lh(Bl,lk,t),n),n},tet=async e=>{const t=u1(Q0(Bl,lk),cL("teacherId","==",e));return(await fL(t)).docs.map(i=>i.data()).sort((i,s)=>new Date(s.createdAt).getTime()-new Date(i.createdAt).getTime())},sE=async(e,t)=>{await FT(lh(Bl,lk,e),t)},net=async e=>{await ZX(lh(Bl,lk,e))},Mre=(e=768)=>{const[t,n]=I.useState(!1);return I.useEffect(()=>{const r=window.matchMedia(`(max-width: ${e}px)`),i=s=>{n(s.matches)};return n(r.matches),r.addEventListener("change",i),()=>{r.removeEventListener("change",i)}},[e]),t},ret=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onDragEnd:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>B.jsx(u$e,{onDragEnd:i,children:B.jsxs(ew,{children:[B.jsx(Qh,{lg:3,className:"mb-4",children:B.jsxs(ei,{className:"h-100",children:[B.jsxs(ei.Header,{className:"bg-light",children:[B.jsxs("div",{className:"d-flex align-items-center mb-2",children:[B.jsx(dO,{size:18,className:"me-2 text-muted"}),B.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),B.jsx(ar.Group,{className:"mb-2",children:B.jsxs("div",{className:"position-relative",children:[B.jsx(ar.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),B.jsx(uO,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})}),B.jsx("small",{className:"text-muted",children:o.trim()?`${t.length} de ${t.length+e.flatMap(l=>l.studentIds).length} estudiantes`:`${t.length} estudiantes`})]}),B.jsx(ei.Body,{style:{minHeight:"500px"},children:B.jsx(c9,{droppableId:"available",children:(l,c)=>B.jsxs("div",{ref:l.innerRef,...l.droppableProps,className:`p-2 rounded ${c.isDraggingOver?"bg-light":""}`,style:{minHeight:"100px"},children:[t.length===0?B.jsxs("div",{className:"text-center text-muted py-4",children:[B.jsx(Kf,{size:32,className:"mb-2 opacity-50"}),B.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):t.map((u,h)=>B.jsx(r9,{draggableId:u.id,index:h,children:(p,m)=>B.jsxs("div",{ref:p.innerRef,...p.draggableProps,...p.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${m.isDragging?"shadow":""}`,style:{...p.draggableProps.style,cursor:"grab"},children:[B.jsx("div",{className:"fw-medium",children:u.name}),B.jsx("small",{className:"text-muted",children:u.email})]})},u.id)),l.placeholder]})})})]})}),B.jsx(Qh,{lg:9,children:e.length===0?B.jsxs(qd,{variant:"info",className:"text-center py-5",children:[B.jsx(Kf,{size:48,className:"mb-3 opacity-50"}),B.jsx("h5",{children:"No hay grupos creados"}),B.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),B.jsxs(hi,{variant:"primary",onClick:r,children:[B.jsx(XS,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):B.jsx(ew,{children:e.map(l=>B.jsx(Qh,{md:6,lg:4,className:"mb-4",children:B.jsxs(ei,{className:"h-100",children:[B.jsxs(ei.Header,{className:"d-flex justify-content-between align-items-center",children:[B.jsxs("div",{children:[B.jsx("h6",{className:"mb-0",children:l.name}),B.jsxs("small",{className:"text-muted",children:[l.studentIds.length," estudiante",l.studentIds.length!==1?"s":""]})]}),B.jsx(hi,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:B.jsx(QR,{size:14})})]}),B.jsx(ei.Body,{style:{minHeight:"300px"},children:B.jsx(c9,{droppableId:l.id,children:(c,u)=>B.jsxs("div",{ref:c.innerRef,...c.droppableProps,className:`p-2 rounded ${u.isDraggingOver?"bg-light":""}`,style:{minHeight:"200px"},children:[l.studentIds.length===0?B.jsxs("div",{className:"text-center text-muted py-4",children:[B.jsx(Kf,{size:24,className:"mb-2 opacity-50"}),B.jsx("p",{className:"mb-0 small",children:"Arrastra estudiantes aqu"})]}):l.studentIds.map((h,p)=>{const m=s(h);return m?B.jsx(r9,{draggableId:h,index:p,children:(y,w)=>B.jsxs("div",{ref:y.innerRef,...y.draggableProps,...y.dragHandleProps,className:`p-2 mb-2 border rounded bg-white ${w.isDragging?"shadow":""}`,style:{...y.draggableProps.style,cursor:"grab"},children:[B.jsx("div",{className:"fw-medium",children:m.name}),B.jsx("small",{className:"text-muted",children:m.email})]})},h):null}),c.placeholder]})})})]})},l.id))})})]})}),iet=({groups:e,availableStudents:t,onDeleteGroup:n,onShowCreateModal:r,onSelectStudent:i,getStudentById:s,searchTerm:o,onSearchChange:a})=>B.jsxs("div",{children:[B.jsxs(ei,{className:"mb-4",children:[B.jsxs(ei.Header,{className:"bg-light",children:[B.jsxs("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[B.jsxs("div",{className:"d-flex align-items-center",children:[B.jsx(dO,{size:18,className:"me-2 text-muted"}),B.jsx("h6",{className:"mb-0",children:"Estudiantes Disponibles"})]}),B.jsx(G2,{bg:"secondary",className:"badge-count",children:t.length})]}),B.jsx(ar.Group,{children:B.jsxs("div",{className:"position-relative",children:[B.jsx(ar.Control,{type:"text",placeholder:"Buscar estudiante...",value:o,onChange:l=>a(l.target.value),size:"sm",className:"ps-5 search-input"}),B.jsx(uO,{size:16,className:"position-absolute text-muted",style:{left:"10px",top:"50%",transform:"translateY(-50%)"}})]})})]}),B.jsx(ei.Body,{className:"p-2",children:t.length===0?B.jsxs("div",{className:"text-center text-muted py-4",children:[B.jsx(Kf,{size:32,className:"mb-2 opacity-50"}),B.jsx("p",{className:"mb-0",children:"Todos los estudiantes estn asignados"})]}):B.jsx(Qd,{variant:"flush",children:t.map(l=>B.jsxs(Qd.Item,{action:!0,onClick:()=>i(l),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[B.jsxs("div",{children:[B.jsx("div",{className:"fw-medium",children:l.name}),B.jsx("small",{className:"text-muted",children:l.email})]}),B.jsx($5,{size:16,className:"text-muted"})]},l.id))})})]}),e.length===0?B.jsxs(qd,{variant:"info",className:"text-center py-5",children:[B.jsx(Kf,{size:48,className:"mb-3 opacity-50"}),B.jsx("h5",{children:"No hay grupos creados"}),B.jsx("p",{className:"mb-3",children:"Crea tu primer grupo para comenzar a organizar estudiantes"}),B.jsxs(hi,{variant:"primary",onClick:r,children:[B.jsx(XS,{size:16,className:"me-2"}),"Crear Primer Grupo"]})]}):e.map(l=>B.jsxs(ei,{className:"mb-3",children:[B.jsxs(ei.Header,{className:"d-flex justify-content-between align-items-center",children:[B.jsxs("div",{className:"d-flex align-items-center",children:[B.jsx("h6",{className:"mb-0 me-2",children:l.name}),B.jsx(G2,{bg:"primary",className:"badge-count",children:l.studentIds.length})]}),B.jsx(hi,{variant:"outline-danger",size:"sm",onClick:()=>n(l.id),children:B.jsx(QR,{size:14})})]}),B.jsx(ei.Body,{className:"p-2",children:l.studentIds.length===0?B.jsxs("div",{className:"text-center text-muted py-3",children:[B.jsx(Kf,{size:24,className:"mb-2 opacity-50"}),B.jsx("p",{className:"mb-0 small",children:"No hay estudiantes asignados"})]}):B.jsx(Qd,{variant:"flush",children:l.studentIds.map(c=>{const u=s(c);return u?B.jsxs(Qd.Item,{action:!0,onClick:()=>i(u,l.id),className:"d-flex justify-content-between align-items-center border-0 py-3 student-card",children:[B.jsxs("div",{children:[B.jsx("div",{className:"fw-medium",children:u.name}),B.jsx("small",{className:"text-muted",children:u.email})]}),B.jsx($5,{size:16,className:"text-muted"})]},c):null})})})]},l.id))]}),set=()=>{const{user:e}=dh(),{groups:t,availableStudents:n,setGroups:r,setAvailableStudents:i,setAllStudents:s,addGroup:o,removeGroup:a,moveStudentToGroup:l,getStudentById:c}=Z$e(),u=Mre(),[h,p]=I.useState(!0),[m,y]=I.useState(!1),[w,b]=I.useState(""),[S,E]=I.useState(!1),[_,N]=I.useState(!1),[V,M]=I.useState(null),[O,z]=I.useState(),[H,X]=I.useState(""),U=(ye=>{let W=ye;if(H.trim()){const re=H.toLowerCase().trim();W=ye.filter(te=>te.name.toLowerCase().includes(re)||te.email.toLowerCase().includes(re))}return W.sort((re,te)=>re.name.localeCompare(te.name))})(n);I.useEffect(()=>{(async()=>{if(e?.id)try{p(!0);const[W,re]=await Promise.all([tet(e.id),xL()]),te=W.flatMap(ce=>ce.studentIds),J=re.filter(ce=>!te.includes(ce.id));r(W),s(re),i(J)}catch(W){console.error("Error loading data:",W)}finally{p(!1)}})()},[e?.id,r,i,s]);const Z=async()=>{if(!(!w.trim()||!e?.id))try{E(!0);const ye=await eet({name:w.trim(),teacherId:e.id});o(ye),b(""),y(!1)}catch(ye){console.error("Error creating group:",ye)}finally{E(!1)}},q=async ye=>{try{await net(ye),a(ye)}catch(W){console.error("Error deleting group:",W)}},me=async ye=>{const{destination:W,source:re,draggableId:te}=ye;if(!W||W.droppableId===re.droppableId&&W.index===re.index)return;const J=re.droppableId==="available"?null:re.droppableId,ce=W.droppableId==="available"?null:W.droppableId;await Pe(te,J,ce)},se=(ye,W)=>{M(ye),z(W),N(!0)},ue=async ye=>{V&&(await Pe(V.id,O||null,ye),N(!1),M(null),z(void 0))},Pe=async(ye,W,re)=>{l(ye,W,re);try{if(W&&re){const te=t.find(ce=>ce.id===W),J=t.find(ce=>ce.id===re);te&&J&&(await sE(W,{studentIds:te.studentIds.filter(ce=>ce!==ye)}),await sE(re,{studentIds:[...J.studentIds,ye]}))}else if(W&&!re){const te=t.find(J=>J.id===W);te&&await sE(W,{studentIds:te.studentIds.filter(J=>J!==ye)})}else if(!W&&re){const te=t.find(J=>J.id===re);te&&await sE(re,{studentIds:[...te.studentIds,ye]})}}catch(te){console.error("Error updating groups:",te)}};return h?B.jsx(Zy,{fluid:!0,className:"d-flex justify-content-center align-items-center",style:{height:"400px"},children:B.jsx(Ll,{animation:"border",variant:"primary"})}):B.jsxs(Zy,{fluid:!0,children:[B.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[B.jsxs("div",{children:[B.jsx("h2",{className:"mb-1",children:"Gestin de Grupos"}),B.jsx("p",{className:"text-muted mb-0",children:u?"Toca un estudiante para moverlo":"Arrastra estudiantes para asignarlos a grupos"})]}),B.jsxs(hi,{variant:"primary",onClick:()=>y(!0),className:"d-flex align-items-center",children:[B.jsx(XS,{size:16,className:"me-2"}),"Crear Grupo"]})]}),u?B.jsx(iet,{groups:t,availableStudents:U,onDeleteGroup:q,onShowCreateModal:()=>y(!0),onSelectStudent:se,getStudentById:c,searchTerm:H,onSearchChange:X}):B.jsx(ret,{groups:t,availableStudents:U,onDeleteGroup:q,onShowCreateModal:()=>y(!0),onDragEnd:me,getStudentById:c,searchTerm:H,onSearchChange:X}),B.jsxs(Yi,{show:m,onHide:()=>y(!1),children:[B.jsx(Yi.Header,{closeButton:!0,children:B.jsx(Yi.Title,{children:"Crear Nuevo Grupo"})}),B.jsx(Yi.Body,{children:B.jsxs(ar.Group,{children:[B.jsx(ar.Label,{children:"Nombre del Grupo"}),B.jsx(ar.Control,{type:"text",placeholder:"Ej: Grupo A, Equipo 1, etc.",value:w,onChange:ye=>b(ye.target.value),autoFocus:!0})]})}),B.jsxs(Yi.Footer,{children:[B.jsx(hi,{variant:"secondary",onClick:()=>y(!1),children:"Cancelar"}),B.jsx(hi,{variant:"primary",onClick:Z,disabled:!w.trim()||S,children:S?B.jsxs(B.Fragment,{children:[B.jsx(Ll,{size:"sm",className:"me-2"}),"Creando..."]}):"Crear Grupo"})]})]}),B.jsxs(Yi,{show:_,onHide:()=>N(!1),children:[B.jsx(Yi.Header,{closeButton:!0,children:B.jsxs(Yi.Title,{children:["Mover a ",V?.name]})}),B.jsxs(Yi.Body,{children:[B.jsxs("p",{className:"text-muted mb-3",children:["Selecciona el destino para ",V?.name,":"]}),B.jsxs(Qd,{children:[O&&B.jsxs(Qd.Item,{action:!0,onClick:()=>ue(null),className:"d-flex align-items-center",children:[B.jsx(dO,{size:18,className:"me-3 text-muted"}),B.jsxs("div",{children:[B.jsx("div",{className:"fw-medium",children:"Estudiantes Disponibles"}),B.jsx("small",{className:"text-muted",children:"Quitar del grupo actual"})]})]}),t.filter(ye=>ye.id!==O).map(ye=>B.jsxs(Qd.Item,{action:!0,onClick:()=>ue(ye.id),className:"d-flex align-items-center",children:[B.jsx(Kf,{size:18,className:"me-3 text-primary"}),B.jsxs("div",{children:[B.jsx("div",{className:"fw-medium",children:ye.name}),B.jsxs("small",{className:"text-muted",children:[ye.studentIds.length," estudiante",ye.studentIds.length!==1?"s":""]})]})]},ye.id))]})]})]})]})},au=({children:e,allowedRoles:t})=>{const{user:n}=dh(),r=Cf();return n?t.includes(n.role)?B.jsx(B.Fragment,{children:e}):B.jsx(wy,{to:"/dashboard/mapa",replace:!0}):B.jsx(wy,{to:"/login",state:{from:r},replace:!0})},oet=({children:e})=>{const{user:t}=dh(),r=Cf().state?.from?.pathname||"/";return t?B.jsx(wy,{to:r,replace:!0}):B.jsx(B.Fragment,{children:e})},aet={BASE_URL:"/TutorIngles/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_CLOUD_FUNCTIONS_BASE_URL:"https://us-central1-tutordecolonial.cloudfunctions.net"},cet=e=>aet[e],Qw=cet("VITE_CLOUD_FUNCTIONS_BASE_URL"),cx=e=>e?e instanceof Date?e:e._seconds!==void 0?new Date(e._seconds*1e3):typeof e=="string"?new Date(e):typeof e=="number"?new Date(e):new Date:new Date,d9=async e=>(await fetch(`${Qw}/classifyTask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})})).text(),uet=async(e,t,n)=>{const r=await fetch(`${Qw}/createChat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,title:t||"Nueva conversacin",mode:n||"DEFAULT"})});if(!r.ok)throw new Error("Error al crear chat");return r.json()},XI=async e=>{const t=await fetch(`${Qw}/listChats`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!t.ok)throw new Error("Error al listar chats");return(await t.json()).chats.map(r=>({...r,createdAt:cx(r.createdAt),updatedAt:cx(r.updatedAt)}))},h9=async(e,t,n,r)=>{const i=await fetch(`${Qw}/generateText`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,mode:t,chatId:n,userId:r})});if(!i.ok)throw new Error("Network response was not ok");return i.json()},ZI=async(e,t)=>{const n=await fetch(`${Qw}/getChatHistory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:e,userId:t})});if(!n.ok)throw new Error("Error al obtener historial");const r=await n.json();return{chat:{...r.chat,createdAt:cx(r.chat.createdAt),updatedAt:cx(r.chat.updatedAt)},messages:r.messages.map(i=>({...i,timestamp:cx(i.timestamp)}))}},det=async(e,t)=>{const n=await fetch(`${Qw}/deleteChat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatId:e,userId:t})});if(!n.ok)throw new Error("Error al eliminar chat");return n.json()};function het(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const fet=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pet=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,get={};function f9(e,t){return(get.jsx?pet:fet).test(e)}const met=/[ \t\n\f\r]/g;function vet(e){return typeof e=="object"?e.type==="text"?p9(e.value):!1:p9(e)}function p9(e){return e.replace(met,"")===""}class M1{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}M1.prototype.normal={};M1.prototype.property={};M1.prototype.space=void 0;function Ore(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new M1(n,r,t)}function qI(e){return e.toLowerCase()}class Nc{constructor(t,n){this.attribute=n,this.property=t}}Nc.prototype.attribute="";Nc.prototype.booleanish=!1;Nc.prototype.boolean=!1;Nc.prototype.commaOrSpaceSeparated=!1;Nc.prototype.commaSeparated=!1;Nc.prototype.defined=!1;Nc.prototype.mustUseProperty=!1;Nc.prototype.number=!1;Nc.prototype.overloadedBoolean=!1;Nc.prototype.property="";Nc.prototype.spaceSeparated=!1;Nc.prototype.space=void 0;let yet=0;const xr=hv(),Wo=hv(),QI=hv(),Qt=hv(),fs=hv(),zy=hv(),lu=hv();function hv(){return 2**++yet}const JI=Object.freeze(Object.defineProperty({__proto__:null,boolean:xr,booleanish:Wo,commaOrSpaceSeparated:lu,commaSeparated:zy,number:Qt,overloadedBoolean:QI,spaceSeparated:fs},Symbol.toStringTag,{value:"Module"})),d2=Object.keys(JI);class tB extends Nc{constructor(t,n,r,i){let s=-1;if(super(t,n),g9(this,"space",i),typeof r=="number")for(;++s<d2.length;){const o=d2[s];g9(this,d2[s],(r&JI[o])===JI[o])}}}tB.prototype.defined=!0;function g9(e,t,n){n&&(e[t]=n)}function Jw(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const s=new tB(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),t[r]=s,n[qI(r)]=r,n[qI(s.attribute)]=r}return new M1(t,n,e.space)}const Lre=Jw({properties:{ariaActiveDescendant:null,ariaAtomic:Wo,ariaAutoComplete:null,ariaBusy:Wo,ariaChecked:Wo,ariaColCount:Qt,ariaColIndex:Qt,ariaColSpan:Qt,ariaControls:fs,ariaCurrent:null,ariaDescribedBy:fs,ariaDetails:null,ariaDisabled:Wo,ariaDropEffect:fs,ariaErrorMessage:null,ariaExpanded:Wo,ariaFlowTo:fs,ariaGrabbed:Wo,ariaHasPopup:null,ariaHidden:Wo,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:fs,ariaLevel:Qt,ariaLive:null,ariaModal:Wo,ariaMultiLine:Wo,ariaMultiSelectable:Wo,ariaOrientation:null,ariaOwns:fs,ariaPlaceholder:null,ariaPosInSet:Qt,ariaPressed:Wo,ariaReadOnly:Wo,ariaRelevant:null,ariaRequired:Wo,ariaRoleDescription:fs,ariaRowCount:Qt,ariaRowIndex:Qt,ariaRowSpan:Qt,ariaSelected:Wo,ariaSetSize:Qt,ariaSort:null,ariaValueMax:Qt,ariaValueMin:Qt,ariaValueNow:Qt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Nre(e,t){return t in e?e[t]:t}function Bre(e,t){return Nre(e,t.toLowerCase())}const wet=Jw({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zy,acceptCharset:fs,accessKey:fs,action:null,allow:null,allowFullScreen:xr,allowPaymentRequest:xr,allowUserMedia:xr,alt:null,as:null,async:xr,autoCapitalize:null,autoComplete:fs,autoFocus:xr,autoPlay:xr,blocking:fs,capture:null,charSet:null,checked:xr,cite:null,className:fs,cols:Qt,colSpan:null,content:null,contentEditable:Wo,controls:xr,controlsList:fs,coords:Qt|zy,crossOrigin:null,data:null,dateTime:null,decoding:null,default:xr,defer:xr,dir:null,dirName:null,disabled:xr,download:QI,draggable:Wo,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:xr,formTarget:null,headers:fs,height:Qt,hidden:QI,high:Qt,href:null,hrefLang:null,htmlFor:fs,httpEquiv:fs,id:null,imageSizes:null,imageSrcSet:null,inert:xr,inputMode:null,integrity:null,is:null,isMap:xr,itemId:null,itemProp:fs,itemRef:fs,itemScope:xr,itemType:fs,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:xr,low:Qt,manifest:null,max:null,maxLength:Qt,media:null,method:null,min:null,minLength:Qt,multiple:xr,muted:xr,name:null,nonce:null,noModule:xr,noValidate:xr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:xr,optimum:Qt,pattern:null,ping:fs,placeholder:null,playsInline:xr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:xr,referrerPolicy:null,rel:fs,required:xr,reversed:xr,rows:Qt,rowSpan:Qt,sandbox:fs,scope:null,scoped:xr,seamless:xr,selected:xr,shadowRootClonable:xr,shadowRootDelegatesFocus:xr,shadowRootMode:null,shape:null,size:Qt,sizes:null,slot:null,span:Qt,spellCheck:Wo,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Qt,step:null,style:null,tabIndex:Qt,target:null,title:null,translate:null,type:null,typeMustMatch:xr,useMap:null,value:Wo,width:Qt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:fs,axis:null,background:null,bgColor:null,border:Qt,borderColor:null,bottomMargin:Qt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:xr,declare:xr,event:null,face:null,frame:null,frameBorder:null,hSpace:Qt,leftMargin:Qt,link:null,longDesc:null,lowSrc:null,marginHeight:Qt,marginWidth:Qt,noResize:xr,noHref:xr,noShade:xr,noWrap:xr,object:null,profile:null,prompt:null,rev:null,rightMargin:Qt,rules:null,scheme:null,scrolling:Wo,standby:null,summary:null,text:null,topMargin:Qt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Qt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:xr,disableRemotePlayback:xr,prefix:null,property:null,results:Qt,security:null,unselectable:null},space:"html",transform:Bre}),Cet=Jw({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:lu,accentHeight:Qt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Qt,amplitude:Qt,arabicForm:null,ascent:Qt,attributeName:null,attributeType:null,azimuth:Qt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Qt,by:null,calcMode:null,capHeight:Qt,className:fs,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Qt,diffuseConstant:Qt,direction:null,display:null,dur:null,divisor:Qt,dominantBaseline:null,download:xr,dx:null,dy:null,edgeMode:null,editable:null,elevation:Qt,enableBackground:null,end:null,event:null,exponent:Qt,externalResourcesRequired:null,fill:null,fillOpacity:Qt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zy,g2:zy,glyphName:zy,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Qt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Qt,horizOriginX:Qt,horizOriginY:Qt,id:null,ideographic:Qt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Qt,k:Qt,k1:Qt,k2:Qt,k3:Qt,k4:Qt,kernelMatrix:lu,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Qt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Qt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Qt,overlineThickness:Qt,paintOrder:null,panose1:null,path:null,pathLength:Qt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:fs,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Qt,pointsAtY:Qt,pointsAtZ:Qt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lu,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lu,rev:lu,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lu,requiredFeatures:lu,requiredFonts:lu,requiredFormats:lu,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Qt,specularExponent:Qt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Qt,strikethroughThickness:Qt,string:null,stroke:null,strokeDashArray:lu,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Qt,strokeOpacity:Qt,strokeWidth:null,style:null,surfaceScale:Qt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lu,tabIndex:Qt,tableValues:null,target:null,targetX:Qt,targetY:Qt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lu,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Qt,underlineThickness:Qt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Qt,values:null,vAlphabetic:Qt,vMathematical:Qt,vectorEffect:null,vHanging:Qt,vIdeographic:Qt,version:null,vertAdvY:Qt,vertOriginX:Qt,vertOriginY:Qt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Qt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Nre}),Vre=Jw({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Hre=Jw({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Bre}),zre=Jw({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),bet={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},xet=/[A-Z]/g,m9=/-[a-z]/g,_et=/^data[-\w.:]+$/i;function Eet(e,t){const n=qI(t);let r=t,i=Nc;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_et.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(m9,Ret);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!m9.test(s)){let o=s.replace(xet,Tet);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=tB}return new i(r,t)}function Tet(e){return"-"+e.toLowerCase()}function Ret(e){return e.charAt(1).toUpperCase()}const Aet=Ore([Lre,wet,Vre,Hre,zre],"html"),nB=Ore([Lre,Cet,Vre,Hre,zre],"svg");function ket(e){return e.join(" ").trim()}var Jv={},h2,v9;function Pet(){if(v9)return h2;v9=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",u="*",h="",p="comment",m="declaration";h2=function(w,b){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];b=b||{};var S=1,E=1;function _(Z){var q=Z.match(t);q&&(S+=q.length);var me=Z.lastIndexOf(l);E=~me?Z.length-me:E+Z.length}function N(){var Z={line:S,column:E};return function(q){return q.position=new V(Z),z(),q}}function V(Z){this.start=Z,this.end={line:S,column:E},this.source=b.source}V.prototype.content=w;function M(Z){var q=new Error(b.source+":"+S+":"+E+": "+Z);if(q.reason=Z,q.filename=b.source,q.line=S,q.column=E,q.source=w,!b.silent)throw q}function O(Z){var q=Z.exec(w);if(q){var me=q[0];return _(me),w=w.slice(me.length),q}}function z(){O(n)}function H(Z){var q;for(Z=Z||[];q=X();)q!==!1&&Z.push(q);return Z}function X(){var Z=N();if(!(c!=w.charAt(0)||u!=w.charAt(1))){for(var q=2;h!=w.charAt(q)&&(u!=w.charAt(q)||c!=w.charAt(q+1));)++q;if(q+=2,h===w.charAt(q-1))return M("End of comment missing");var me=w.slice(2,q-2);return E+=2,_(me),w=w.slice(q),E+=2,Z({type:p,comment:me})}}function Q(){var Z=N(),q=O(r);if(q){if(X(),!O(i))return M("property missing ':'");var me=O(s),se=Z({type:m,property:y(q[0].replace(e,h)),value:me?y(me[0].replace(e,h)):h});return O(o),se}}function U(){var Z=[];H(Z);for(var q;q=Q();)q!==!1&&(Z.push(q),H(Z));return Z}return z(),U()};function y(w){return w?w.replace(a,h):h}return h2}var y9;function Det(){if(y9)return Jv;y9=1;var e=Jv&&Jv.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.default=n;var t=e(Pet());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,t.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,u=l.value;a?i(c,u,l):u&&(s=s||{},s[c]=u)}}),s}return Jv}var sb={},w9;function Fet(){if(w9)return sb;w9=1,Object.defineProperty(sb,"__esModule",{value:!0}),sb.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||n.test(c)||e.test(c)},o=function(c,u){return u.toUpperCase()},a=function(c,u){return"".concat(u,"-")},l=function(c,u){return u===void 0&&(u={}),s(c)?c:(c=c.toLowerCase(),u.reactCompat?c=c.replace(i,a):c=c.replace(r,a),c.replace(t,o))};return sb.camelCase=l,sb}var ob,C9;function Iet(){if(C9)return ob;C9=1;var e=ob&&ob.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(Det()),n=Fet();function r(i,s){var o={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(o[(0,n.camelCase)(a,s)]=l)}),o}return r.default=r,ob=r,ob}var Met=Iet();const Oet=Wg(Met),Gre=Ure("end"),rB=Ure("start");function Ure(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Let(e){const t=rB(e),n=Gre(e);if(t&&n)return{start:t,end:n}}function ux(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?b9(e.position):"start"in e||"end"in e?b9(e):"line"in e||"column"in e?$I(e):""}function $I(e){return x9(e&&e.line)+":"+x9(e&&e.column)}function b9(e){return $I(e&&e.start)+"-"+$I(e&&e.end)}function x9(e){return e&&typeof e=="number"?e:1}class Ul extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?i=t:!s.cause&&t&&(o=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=ux(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ul.prototype.file="";Ul.prototype.name="";Ul.prototype.reason="";Ul.prototype.message="";Ul.prototype.stack="";Ul.prototype.column=void 0;Ul.prototype.line=void 0;Ul.prototype.ancestors=void 0;Ul.prototype.cause=void 0;Ul.prototype.fatal=void 0;Ul.prototype.place=void 0;Ul.prototype.ruleId=void 0;Ul.prototype.source=void 0;const iB={}.hasOwnProperty,Net=new Map,Bet=/[A-Z]/g,Vet=new Set(["table","tbody","thead","tfoot","tr"]),Het=new Set(["td","th"]),Wre="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function zet(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Zet(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Xet(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?nB:Aet,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=jre(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function jre(e,t,n){if(t.type==="element")return Get(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Uet(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return jet(e,t,n);if(t.type==="mdxjsEsm")return Wet(e,t);if(t.type==="root")return Ket(e,t,n);if(t.type==="text")return Yet(e,t)}function Get(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=nB,e.schema=i),e.ancestors.push(t);const s=Yre(e,t.tagName,!1),o=qet(e,t);let a=oB(e,t);return Vet.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!vet(l):!0})),Kre(e,o,s,t),sB(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Uet(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}SS(e,t.position)}function Wet(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);SS(e,t.position)}function jet(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=nB,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:Yre(e,t.name,!0),o=Qet(e,t),a=oB(e,t);return Kre(e,o,s,t),sB(o,a),e.ancestors.pop(),e.schema=r,e.create(t,s,o,n)}function Ket(e,t,n){const r={};return sB(r,oB(e,t)),e.create(t,e.Fragment,r,n)}function Yet(e,t){return t.value}function Kre(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function sB(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Xet(e,t,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:t;return a?c(s,o,a):c(s,o)}}function Zet(e,t){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=rB(r);return t(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function qet(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&iB.call(t.properties,i)){const s=Jet(e,i,t.properties[i]);if(s){const[o,a]=s;e.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&Het.has(t.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Qet(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else SS(e,t.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,s=e.evaluater.evaluateExpression(a.expression)}else SS(e,t.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function oB(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Net;for(;++r<t.children.length;){const s=t.children[r];let o;if(e.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=jre(e,s,o);a!==void 0&&n.push(a)}return n}function Jet(e,t,n){const r=Eet(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?het(n):ket(n)),r.property==="style"){let i=typeof n=="object"?n:$et(e,String(n));return e.stylePropertyNameCase==="css"&&(i=ett(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?bet[r.property]||r.property:r.attribute,n]}}function $et(e,t){try{return Oet(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Ul("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Wre+"#cannot-parse-style-attribute",i}}function Yre(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,o;for(;++s<i.length;){const a=f9(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=f9(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return iB.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);SS(e)}function SS(e,t){const n=new Ul("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Wre+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ett(e){const t={};let n;for(n in e)iB.call(e,n)&&(t[ttt(n)]=e[n]);return t}function ttt(e){let t=e.replace(Bet,ntt);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ntt(e){return"-"+e.toLowerCase()}const f2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},rtt={};function itt(e,t){const n=rtt,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Xre(e,r,i)}function Xre(e,t,n){if(stt(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return S9(e.children,t,n)}return Array.isArray(e)?S9(e,t,n):""}function S9(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Xre(e[i],t,n);return r.join("")}function stt(e){return!!(e&&typeof e=="object")}const _9=document.createElement("i");function aB(e){const t="&"+e+";";_9.innerHTML=t;const n=_9.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function wf(e,t,n,r){const i=e.length;let s=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(t,0),e.splice(...o),s+=1e4,t+=1e4}function ld(e,t){return e.length>0?(wf(e,e.length,0,t),e):t}const E9={}.hasOwnProperty;function ott(e){const t={};let n=-1;for(;++n<e.length;)att(t,e[n]);return t}function att(e,t){let n;for(n in t){const i=(E9.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let o;if(s)for(o in s){E9.call(i,o)||(i[o]=[]);const a=s[o];ltt(i[o],Array.isArray(a)?a:a?[a]:[])}}}function ltt(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);wf(e,0,0,r)}function Zre(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Gy(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Gh=sm(/[A-Za-z]/),bu=sm(/[\dA-Za-z]/),ctt=sm(/[#-'*+\--9=?A-Z^-~]/);function eM(e){return e!==null&&(e<32||e===127)}const tM=sm(/\d/),utt=sm(/[\dA-Fa-f]/),dtt=sm(/[!-/:-@[-`{-~]/);function ir(e){return e!==null&&e<-2}function Ic(e){return e!==null&&(e<0||e===32)}function wi(e){return e===-2||e===-1||e===32}const htt=sm(new RegExp("\\p{P}|\\p{S}","u")),ftt=sm(/\s/);function sm(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function $w(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const s=e.charCodeAt(n);let o="";if(s===37&&bu(e.charCodeAt(n+1))&&bu(e.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=e.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function ps(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return wi(l)?(e.enter(n),a(l)):t(l)}function a(l){return wi(l)&&s++<i?(e.consume(l),a):(e.exit(n),t(l))}}const ptt={tokenize:gtt};function gtt(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),ps(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),s(a)}function s(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return ir(a)?(e.consume(a),e.exit("chunkText"),s):(e.consume(a),o)}}const mtt={tokenize:vtt},T9={tokenize:ytt};function vtt(e){const t=this,n=[];let r=0,i,s,o;return a;function a(_){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,l,c)(_)}return c(_)}function l(_){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const N=t.events.length;let V=N,M;for(;V--;)if(t.events[V][0]==="exit"&&t.events[V][1].type==="chunkFlow"){M=t.events[V][1].end;break}S(r);let O=N;for(;O<t.events.length;)t.events[O][1].end={...M},O++;return wf(t.events,V+1,0,t.events.slice(N)),t.events.length=O,c(_)}return a(_)}function c(_){if(r===n.length){if(!i)return p(_);if(i.currentConstruct&&i.currentConstruct.concrete)return y(_);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(T9,u,h)(_)}function u(_){return i&&E(),S(r),p(_)}function h(_){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,y(_)}function p(_){return t.containerState={},e.attempt(T9,m,y)(_)}function m(_){return r++,n.push([t.currentConstruct,t.containerState]),p(_)}function y(_){if(_===null){i&&E(),S(0),e.consume(_);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),w(_)}function w(_){if(_===null){b(e.exit("chunkFlow"),!0),S(0),e.consume(_);return}return ir(_)?(e.consume(_),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(_),w)}function b(_,N){const V=t.sliceStream(_);if(N&&V.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(V),t.parser.lazy[_.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;const O=t.events.length;let z=O,H,X;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(H){X=t.events[z][1].end;break}H=!0}for(S(r),M=O;M<t.events.length;)t.events[M][1].end={...X},M++;wf(t.events,z+1,0,t.events.slice(O)),t.events.length=M}}function S(_){let N=n.length;for(;N-- >_;){const V=n[N];t.containerState=V[1],V[0].exit.call(t,e)}n.length=_}function E(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function ytt(e,t,n){return ps(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function R9(e){if(e===null||Ic(e)||ftt(e))return 1;if(htt(e))return 2}function lB(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}const nM={name:"attention",resolveAll:wtt,tokenize:Ctt};function wtt(e,t){let n=-1,r,i,s,o,a,l,c,u;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},p={...e[n][1].start};A9(h,-l),A9(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},e[r][1].end={...o.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=ld(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=ld(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",s,t]]),c=ld(c,lB(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=ld(c,[["exit",s,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(u=2,c=ld(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):u=0,wf(e,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Ctt(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=R9(r);let s;return o;function o(l){return s=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===s)return e.consume(l),a;const c=e.exit("attentionSequence"),u=R9(l),h=!u||u===2&&i||n.includes(l),p=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?h:h&&(i||!p)),c._close=!!(s===42?p:p&&(u||!h)),t(l)}}function A9(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const btt={name:"autolink",tokenize:xtt};function xtt(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(m){return Gh(m)?(e.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||bu(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||bu(m))&&r++<32?(e.consume(m),a):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||eM(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),u):ctt(m)?(e.consume(m),c):n(m)}function u(m){return bu(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,u):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||bu(m))&&r++<63){const y=m===45?p:h;return e.consume(m),y}return n(m)}}const ck={partial:!0,tokenize:Stt};function Stt(e,t,n){return r;function r(s){return wi(s)?ps(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ir(s)?t(s):n(s)}}const qre={continuation:{tokenize:Ett},exit:Ttt,name:"blockQuote",tokenize:_tt};function _tt(e,t,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),s}return n(o)}function s(o){return wi(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Ett(e,t,n){const r=this;return i;function i(o){return wi(o)?ps(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return e.attempt(qre,t,n)(o)}}function Ttt(e){e.exit("blockQuote")}const Qre={name:"characterEscape",tokenize:Rtt};function Rtt(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return dtt(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}const Jre={name:"characterReference",tokenize:Att};function Att(e,t,n){const r=this;let i=0,s,o;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,o=bu,u(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,o=utt,u):(e.enter("characterReferenceValue"),s=7,o=tM,u(h))}function u(h){if(h===59&&i){const p=e.exit("characterReferenceValue");return o===bu&&!aB(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<s?(e.consume(h),u):n(h)}}const k9={partial:!0,tokenize:Ptt},P9={concrete:!0,name:"codeFenced",tokenize:ktt};function ktt(e,t,n){const r=this,i={partial:!0,tokenize:V};let s=0,o=0,a;return l;function l(M){return c(M)}function c(M){const O=r.events[r.events.length-1];return s=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,a=M,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(M)}function u(M){return M===a?(o++,e.consume(M),u):o<3?n(M):(e.exit("codeFencedFenceSequence"),wi(M)?ps(e,h,"whitespace")(M):h(M))}function h(M){return M===null||ir(M)?(e.exit("codeFencedFence"),r.interrupt?t(M):e.check(k9,w,N)(M)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(M))}function p(M){return M===null||ir(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(M)):wi(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ps(e,m,"whitespace")(M)):M===96&&M===a?n(M):(e.consume(M),p)}function m(M){return M===null||ir(M)?h(M):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(M))}function y(M){return M===null||ir(M)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(M)):M===96&&M===a?n(M):(e.consume(M),y)}function w(M){return e.attempt(i,N,b)(M)}function b(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),S}function S(M){return s>0&&wi(M)?ps(e,E,"linePrefix",s+1)(M):E(M)}function E(M){return M===null||ir(M)?e.check(k9,w,N)(M):(e.enter("codeFlowValue"),_(M))}function _(M){return M===null||ir(M)?(e.exit("codeFlowValue"),E(M)):(e.consume(M),_)}function N(M){return e.exit("codeFenced"),t(M)}function V(M,O,z){let H=0;return X;function X(me){return M.enter("lineEnding"),M.consume(me),M.exit("lineEnding"),Q}function Q(me){return M.enter("codeFencedFence"),wi(me)?ps(M,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):U(me)}function U(me){return me===a?(M.enter("codeFencedFenceSequence"),Z(me)):z(me)}function Z(me){return me===a?(H++,M.consume(me),Z):H>=o?(M.exit("codeFencedFenceSequence"),wi(me)?ps(M,q,"whitespace")(me):q(me)):z(me)}function q(me){return me===null||ir(me)?(M.exit("codeFencedFence"),O(me)):z(me)}}}function Ptt(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const p2={name:"codeIndented",tokenize:Ftt},Dtt={partial:!0,tokenize:Itt};function Ftt(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),ps(e,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):ir(c)?e.attempt(Dtt,o,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||ir(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function Itt(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ir(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):ps(e,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):ir(o)?i(o):n(o)}}const Mtt={name:"codeText",previous:Ltt,resolve:Ott,tokenize:Ntt};function Ott(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Ltt(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ntt(e,t,n){let r=0,i,s;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(s=e.enter("codeTextSequence"),i=0,u(h)):ir(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||ir(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function u(h){return h===96?(e.consume(h),i++,u):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",c(h))}}class Btt{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ab(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ab(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ab(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ab(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ab(this.left,n.reverse())}}}function ab(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function $re(e){const t={};let n=-1,r,i,s,o,a,l,c;const u=new Btt(e);for(;++n<u.length;){for(;n in t;)n=t[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Vtt(u,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return wf(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function Vtt(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let u,h,p=-1,m=n,y=0,w=0;const b=[w];for(;m;){for(;e.get(++i)[1]!==m;);s.push(i),m._tokenizer||(u=r.sliceStream(m),m.next||u.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(w=p+1,b.push(w),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const S=a.slice(b[p],b[p+1]),E=s.pop();l.push([E,E+S.length-1]),e.splice(E,2,S)}for(l.reverse(),p=-1;++p<l.length;)c[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return c}const Htt={resolve:Gtt,tokenize:Utt},ztt={partial:!0,tokenize:Wtt};function Gtt(e){return $re(e),e}function Utt(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ir(a)?e.check(ztt,o,s)(a):(e.consume(a),i)}function s(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function o(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Wtt(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ps(e,s,"linePrefix")}function s(o){if(o===null||ir(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function eie(e,t,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(S){return S===60?(e.enter(r),e.enter(i),e.enter(s),e.consume(S),e.exit(s),p):S===null||S===32||S===41||eM(S)?n(S):(e.enter(r),e.enter(o),e.enter(a),e.enter("chunkString",{contentType:"string"}),w(S))}function p(S){return S===62?(e.enter(s),e.consume(S),e.exit(s),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===62?(e.exit("chunkString"),e.exit(a),p(S)):S===null||S===60||ir(S)?n(S):(e.consume(S),S===92?y:m)}function y(S){return S===60||S===62||S===92?(e.consume(S),m):m(S)}function w(S){return!u&&(S===null||S===41||Ic(S))?(e.exit("chunkString"),e.exit(a),e.exit(o),e.exit(r),t(S)):u<c&&S===40?(e.consume(S),u++,w):S===41?(e.consume(S),u--,w):S===null||S===32||S===40||eM(S)?n(S):(e.consume(S),S===92?b:w)}function b(S){return S===40||S===41||S===92?(e.consume(S),w):w(S)}}function tie(e,t,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(s),u}function u(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(s),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):ir(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||ir(m)||a++>999?(e.exit("chunkString"),u(m)):(e.consume(m),l||(l=!wi(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,h):h(m)}}function nie(e,t,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(i),e.consume(p),e.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===o?(e.exit(s),l(o)):p===null?n(p):ir(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),ps(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===o||p===null||ir(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?h:u)}function h(p){return p===o||p===92?(e.consume(p),u):u(p)}}function dx(e,t){let n;return r;function r(i){return ir(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):wi(i)?ps(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const jtt={name:"definition",tokenize:Ytt},Ktt={partial:!0,tokenize:Xtt};function Ytt(e,t,n){const r=this;let i;return s;function s(m){return e.enter("definition"),o(m)}function o(m){return tie.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=Gy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Ic(m)?dx(e,c)(m):c(m)}function c(m){return eie(e,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function u(m){return e.attempt(Ktt,h,h)(m)}function h(m){return wi(m)?ps(e,p,"whitespace")(m):p(m)}function p(m){return m===null||ir(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Xtt(e,t,n){return r;function r(a){return Ic(a)?dx(e,i)(a):n(a)}function i(a){return nie(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return wi(a)?ps(e,o,"whitespace")(a):o(a)}function o(a){return a===null||ir(a)?t(a):n(a)}}const Ztt={name:"hardBreakEscape",tokenize:qtt};function qtt(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ir(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}const Qtt={name:"headingAtx",resolve:Jtt,tokenize:$tt};function Jtt(e,t){let n=e.length-2,r=3,i,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},wf(e,r,n-r+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function $tt(e,t,n){let r=0;return i;function i(u){return e.enter("atxHeading"),s(u)}function s(u){return e.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(e.consume(u),o):u===null||Ic(u)?(e.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(e.enter("atxHeadingSequence"),l(u)):u===null||ir(u)?(e.exit("atxHeading"),t(u)):wi(u)?ps(e,a,"whitespace")(u):(e.enter("atxHeadingText"),c(u))}function l(u){return u===35?(e.consume(u),l):(e.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||Ic(u)?(e.exit("atxHeadingText"),a(u)):(e.consume(u),c)}}const ent=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],D9=["pre","script","style","textarea"],tnt={concrete:!0,name:"htmlFlow",resolveTo:int,tokenize:snt},nnt={partial:!0,tokenize:ant},rnt={partial:!0,tokenize:ont};function int(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function snt(e,t,n){const r=this;let i,s,o,a,l;return c;function c(J){return u(J)}function u(J){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(J),h}function h(J){return J===33?(e.consume(J),p):J===47?(e.consume(J),s=!0,w):J===63?(e.consume(J),i=3,r.interrupt?t:W):Gh(J)?(e.consume(J),o=String.fromCharCode(J),b):n(J)}function p(J){return J===45?(e.consume(J),i=2,m):J===91?(e.consume(J),i=5,a=0,y):Gh(J)?(e.consume(J),i=4,r.interrupt?t:W):n(J)}function m(J){return J===45?(e.consume(J),r.interrupt?t:W):n(J)}function y(J){const ce="CDATA[";return J===ce.charCodeAt(a++)?(e.consume(J),a===ce.length?r.interrupt?t:U:y):n(J)}function w(J){return Gh(J)?(e.consume(J),o=String.fromCharCode(J),b):n(J)}function b(J){if(J===null||J===47||J===62||Ic(J)){const ce=J===47,fe=o.toLowerCase();return!ce&&!s&&D9.includes(fe)?(i=1,r.interrupt?t(J):U(J)):ent.includes(o.toLowerCase())?(i=6,ce?(e.consume(J),S):r.interrupt?t(J):U(J)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(J):s?E(J):_(J))}return J===45||bu(J)?(e.consume(J),o+=String.fromCharCode(J),b):n(J)}function S(J){return J===62?(e.consume(J),r.interrupt?t:U):n(J)}function E(J){return wi(J)?(e.consume(J),E):X(J)}function _(J){return J===47?(e.consume(J),X):J===58||J===95||Gh(J)?(e.consume(J),N):wi(J)?(e.consume(J),_):X(J)}function N(J){return J===45||J===46||J===58||J===95||bu(J)?(e.consume(J),N):V(J)}function V(J){return J===61?(e.consume(J),M):wi(J)?(e.consume(J),V):_(J)}function M(J){return J===null||J===60||J===61||J===62||J===96?n(J):J===34||J===39?(e.consume(J),l=J,O):wi(J)?(e.consume(J),M):z(J)}function O(J){return J===l?(e.consume(J),l=null,H):J===null||ir(J)?n(J):(e.consume(J),O)}function z(J){return J===null||J===34||J===39||J===47||J===60||J===61||J===62||J===96||Ic(J)?V(J):(e.consume(J),z)}function H(J){return J===47||J===62||wi(J)?_(J):n(J)}function X(J){return J===62?(e.consume(J),Q):n(J)}function Q(J){return J===null||ir(J)?U(J):wi(J)?(e.consume(J),Q):n(J)}function U(J){return J===45&&i===2?(e.consume(J),se):J===60&&i===1?(e.consume(J),ue):J===62&&i===4?(e.consume(J),re):J===63&&i===3?(e.consume(J),W):J===93&&i===5?(e.consume(J),ye):ir(J)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(nnt,te,Z)(J)):J===null||ir(J)?(e.exit("htmlFlowData"),Z(J)):(e.consume(J),U)}function Z(J){return e.check(rnt,q,te)(J)}function q(J){return e.enter("lineEnding"),e.consume(J),e.exit("lineEnding"),me}function me(J){return J===null||ir(J)?Z(J):(e.enter("htmlFlowData"),U(J))}function se(J){return J===45?(e.consume(J),W):U(J)}function ue(J){return J===47?(e.consume(J),o="",Pe):U(J)}function Pe(J){if(J===62){const ce=o.toLowerCase();return D9.includes(ce)?(e.consume(J),re):U(J)}return Gh(J)&&o.length<8?(e.consume(J),o+=String.fromCharCode(J),Pe):U(J)}function ye(J){return J===93?(e.consume(J),W):U(J)}function W(J){return J===62?(e.consume(J),re):J===45&&i===2?(e.consume(J),W):U(J)}function re(J){return J===null||ir(J)?(e.exit("htmlFlowData"),te(J)):(e.consume(J),re)}function te(J){return e.exit("htmlFlow"),t(J)}}function ont(e,t,n){const r=this;return i;function i(o){return ir(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function ant(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(ck,t,n)}}const lnt={name:"htmlText",tokenize:cnt};function cnt(e,t,n){const r=this;let i,s,o;return a;function a(W){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(W),l}function l(W){return W===33?(e.consume(W),c):W===47?(e.consume(W),V):W===63?(e.consume(W),_):Gh(W)?(e.consume(W),z):n(W)}function c(W){return W===45?(e.consume(W),u):W===91?(e.consume(W),s=0,y):Gh(W)?(e.consume(W),E):n(W)}function u(W){return W===45?(e.consume(W),m):n(W)}function h(W){return W===null?n(W):W===45?(e.consume(W),p):ir(W)?(o=h,ue(W)):(e.consume(W),h)}function p(W){return W===45?(e.consume(W),m):h(W)}function m(W){return W===62?se(W):W===45?p(W):h(W)}function y(W){const re="CDATA[";return W===re.charCodeAt(s++)?(e.consume(W),s===re.length?w:y):n(W)}function w(W){return W===null?n(W):W===93?(e.consume(W),b):ir(W)?(o=w,ue(W)):(e.consume(W),w)}function b(W){return W===93?(e.consume(W),S):w(W)}function S(W){return W===62?se(W):W===93?(e.consume(W),S):w(W)}function E(W){return W===null||W===62?se(W):ir(W)?(o=E,ue(W)):(e.consume(W),E)}function _(W){return W===null?n(W):W===63?(e.consume(W),N):ir(W)?(o=_,ue(W)):(e.consume(W),_)}function N(W){return W===62?se(W):_(W)}function V(W){return Gh(W)?(e.consume(W),M):n(W)}function M(W){return W===45||bu(W)?(e.consume(W),M):O(W)}function O(W){return ir(W)?(o=O,ue(W)):wi(W)?(e.consume(W),O):se(W)}function z(W){return W===45||bu(W)?(e.consume(W),z):W===47||W===62||Ic(W)?H(W):n(W)}function H(W){return W===47?(e.consume(W),se):W===58||W===95||Gh(W)?(e.consume(W),X):ir(W)?(o=H,ue(W)):wi(W)?(e.consume(W),H):se(W)}function X(W){return W===45||W===46||W===58||W===95||bu(W)?(e.consume(W),X):Q(W)}function Q(W){return W===61?(e.consume(W),U):ir(W)?(o=Q,ue(W)):wi(W)?(e.consume(W),Q):H(W)}function U(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(e.consume(W),i=W,Z):ir(W)?(o=U,ue(W)):wi(W)?(e.consume(W),U):(e.consume(W),q)}function Z(W){return W===i?(e.consume(W),i=void 0,me):W===null?n(W):ir(W)?(o=Z,ue(W)):(e.consume(W),Z)}function q(W){return W===null||W===34||W===39||W===60||W===61||W===96?n(W):W===47||W===62||Ic(W)?H(W):(e.consume(W),q)}function me(W){return W===47||W===62||Ic(W)?H(W):n(W)}function se(W){return W===62?(e.consume(W),e.exit("htmlTextData"),e.exit("htmlText"),t):n(W)}function ue(W){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(W),e.exit("lineEnding"),Pe}function Pe(W){return wi(W)?ps(e,ye,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):ye(W)}function ye(W){return e.enter("htmlTextData"),o(W)}}const cB={name:"labelEnd",resolveAll:fnt,resolveTo:pnt,tokenize:gnt},unt={tokenize:mnt},dnt={tokenize:vnt},hnt={tokenize:ynt};function fnt(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&wf(e,0,e.length,n),e}function pnt(e,t){let n=e.length,r=0,i,s,o,a;for(;n--;)if(i=e[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[o][1].end}},u={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[o-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=ld(a,e.slice(s+1,s+r+3)),a=ld(a,[["enter",u,t]]),a=ld(a,lB(t.parser.constructs.insideSpan.null,e.slice(s+r+4,o-3),t)),a=ld(a,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),a=ld(a,e.slice(o+1)),a=ld(a,[["exit",l,t]]),wf(e,s,e.length,a),e}function gnt(e,t,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?h(p):(o=r.parser.defined.includes(Gy(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(unt,u,o?u:h)(p):p===91?e.attempt(dnt,u,o?c:h)(p):o?u(p):h(p)}function c(p){return e.attempt(hnt,u,h)(p)}function u(p){return t(p)}function h(p){return s._balanced=!0,n(p)}}function mnt(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Ic(h)?dx(e,s)(h):s(h)}function s(h){return h===41?u(h):eie(e,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Ic(h)?dx(e,l)(h):u(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?nie(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return Ic(h)?dx(e,u)(h):u(h)}function u(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function vnt(e,t,n){const r=this;return i;function i(a){return tie.call(r,e,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(Gy(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function o(a){return n(a)}}function ynt(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}const wnt={name:"labelStartImage",resolveAll:cB.resolveAll,tokenize:Cnt};function Cnt(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),s}function s(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const bnt={name:"labelStartLink",resolveAll:cB.resolveAll,tokenize:xnt};function xnt(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const g2={name:"lineEnding",tokenize:Snt};function Snt(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),ps(e,t,"linePrefix")}}const QE={name:"thematicBreak",tokenize:_nt};function _nt(e,t,n){let r=0,i;return s;function s(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||ir(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),wi(c)?ps(e,a,"whitespace")(c):a(c))}}const xc={continuation:{tokenize:Ant},exit:Pnt,name:"list",tokenize:Rnt},Ent={partial:!0,tokenize:Dnt},Tnt={partial:!0,tokenize:knt};function Rnt(e,t,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:tM(m)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(QE,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return tM(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(ck,r.interrupt?n:u,e.attempt(Ent,p,h))}function u(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function h(m){return wi(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Ant(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ck,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ps(e,t,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!wi(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Tnt,t,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,ps(e,e.attempt(xc,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function knt(e,t,n){const r=this;return ps(e,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(s):n(s)}}function Pnt(e){e.exit(this.containerState.type)}function Dnt(e,t,n){const r=this;return ps(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!wi(s)&&o&&o[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}const F9={name:"setextUnderline",resolveTo:Fnt,tokenize:Int};function Fnt(e,t){let n=e.length,r,i,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",o,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function Int(e,t,n){const r=this;let i;return s;function s(c){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),wi(c)?ps(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ir(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const Mnt={tokenize:Ont};function Ont(e){const t=this,n=e.attempt(ck,r,e.attempt(this.parser.constructs.flowInitial,i,ps(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Htt,i)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Lnt={resolveAll:iie()},Nnt=rie("string"),Bnt=rie("text");function rie(e){return{resolveAll:iie(e==="text"?Vnt:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function iie(e){return t;function t(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(n,r):n}}function Vnt(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const Hnt={42:xc,43:xc,45:xc,48:xc,49:xc,50:xc,51:xc,52:xc,53:xc,54:xc,55:xc,56:xc,57:xc,62:qre},znt={91:jtt},Gnt={[-2]:p2,[-1]:p2,32:p2},Unt={35:Qtt,42:QE,45:[F9,QE],60:tnt,61:F9,95:QE,96:P9,126:P9},Wnt={38:Jre,92:Qre},jnt={[-5]:g2,[-4]:g2,[-3]:g2,33:wnt,38:Jre,42:nM,60:[btt,lnt],91:bnt,92:[Ztt,Qre],93:cB,95:nM,96:Mtt},Knt={null:[nM,Lnt]},Ynt={null:[42,95]},Xnt={null:[]},Znt=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ynt,contentInitial:znt,disable:Xnt,document:Hnt,flow:Unt,flowInitial:Gnt,insideSpan:Knt,string:Wnt,text:jnt},Symbol.toStringTag,{value:"Module"}));function qnt(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:O(V),check:O(M),consume:E,enter:_,exit:N,interrupt:O(M,{interrupt:!0})},c={code:null,containerState:{},defineSkip:w,events:[],now:y,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:h};let u=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function h(Q){return o=ld(o,Q),b(),o[o.length-1]!==null?[]:(z(t,0),c.events=lB(s,c.events,c),c.events)}function p(Q,U){return Jnt(m(Q),U)}function m(Q){return Qnt(o,Q)}function y(){const{_bufferIndex:Q,_index:U,line:Z,column:q,offset:me}=r;return{_bufferIndex:Q,_index:U,line:Z,column:q,offset:me}}function w(Q){i[Q.line]=Q.column,X()}function b(){let Q;for(;r._index<o.length;){const U=o[r._index];if(typeof U=="string")for(Q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Q&&r._bufferIndex<U.length;)S(U.charCodeAt(r._bufferIndex));else S(U)}}function S(Q){u=u(Q)}function E(Q){ir(Q)?(r.line++,r.column=1,r.offset+=Q===-3?2:1,X()):Q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=Q}function _(Q,U){const Z=U||{};return Z.type=Q,Z.start=y(),c.events.push(["enter",Z,c]),a.push(Z),Z}function N(Q){const U=a.pop();return U.end=y(),c.events.push(["exit",U,c]),U}function V(Q,U){z(Q,U.from)}function M(Q,U){U.restore()}function O(Q,U){return Z;function Z(q,me,se){let ue,Pe,ye,W;return Array.isArray(q)?te(q):"tokenize"in q?te([q]):re(q);function re(De){return at;function at(je){const qe=je!==null&&De[je],et=je!==null&&De.null,Et=[...Array.isArray(qe)?qe:qe?[qe]:[],...Array.isArray(et)?et:et?[et]:[]];return te(Et)(je)}}function te(De){return ue=De,Pe=0,De.length===0?se:J(De[Pe])}function J(De){return at;function at(je){return W=H(),ye=De,De.partial||(c.currentConstruct=De),De.name&&c.parser.constructs.disable.null.includes(De.name)?fe():De.tokenize.call(U?Object.assign(Object.create(c),U):c,l,ce,fe)(je)}}function ce(De){return Q(ye,W),me}function fe(De){return W.restore(),++Pe<ue.length?J(ue[Pe]):se}}}function z(Q,U){Q.resolveAll&&!s.includes(Q)&&s.push(Q),Q.resolve&&wf(c.events,U,c.events.length-U,Q.resolve(c.events.slice(U),c)),Q.resolveTo&&(c.events=Q.resolveTo(c.events,c))}function H(){const Q=y(),U=c.previous,Z=c.currentConstruct,q=c.events.length,me=Array.from(a);return{from:q,restore:se};function se(){r=Q,c.previous=U,c.currentConstruct=Z,c.events.length=q,a=me,X()}}function X(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Qnt(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,s)];else{if(o=e.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(e[i].slice(0,s))}return o}function Jnt(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const s=e[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function $nt(e){const r={constructs:ott([Znt,...(e||{}).extensions||[]]),content:i(ptt),defined:[],document:i(mtt),flow:i(Mnt),lazy:{},string:i(Nnt),text:i(Bnt)};return r;function i(s){return o;function o(a){return qnt(r,s,a)}}}function ert(e){for(;!$re(e););return e}const I9=/[\0\t\n\r]/g;function trt(){let e=1,t="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,h,p,m;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,t="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(I9.lastIndex=h,c=I9.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){t=s.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(s.slice(h,p)),e+=p-h),m){case 0:{l.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,l.push(-2);e++<u;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const nrt=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rrt(e){return e.replace(nrt,irt)}function irt(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return Zre(n.slice(s?2:1),s?16:10)}return aB(n)||e}const sie={}.hasOwnProperty;function srt(e,t,n){return typeof t!="string"&&(n=t,t=void 0),ort(n)(ert($nt(n).document().write(trt()(e,t,!0))))}function ort(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Le),autolinkProtocol:H,autolinkEmail:H,atxHeading:s(Ge),blockQuote:s(et),characterEscape:H,characterReference:H,codeFenced:s(Et),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Et,o),codeText:s(Se,o),codeTextData:H,data:H,codeFlowValue:H,definition:s($t),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ne),hardBreakEscape:s(Me),hardBreakTrailing:s(Me),htmlFlow:s(ve,o),htmlFlowData:H,htmlText:s(ve,o),htmlTextData:H,image:s(xe),label:o,link:s(Le),listItem:s(nt),listItemValue:p,listOrdered:s(Je,h),listUnordered:s(Je),paragraph:s(Be),reference:J,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ge),strong:s(gt),thematicBreak:s(At)},exit:{atxHeading:l(),atxHeadingSequence:V,autolink:l(),autolinkEmail:qe,autolinkProtocol:je,blockQuote:l(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:fe,characterReferenceMarkerNumeric:fe,characterReferenceValue:De,characterReference:at,codeFenced:l(b),codeFencedFence:w,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:X,codeIndented:l(S),codeText:l(me),codeTextData:X,data:X,definition:l(),definitionDestinationString:N,definitionLabelString:E,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(U),hardBreakTrailing:l(U),htmlFlow:l(Z),htmlFlowData:X,htmlText:l(q),htmlTextData:X,image:l(ue),label:ye,labelText:Pe,lineEnding:Q,link:l(se),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ce,resourceDestinationString:W,resourceTitleString:re,resource:te,setextHeading:l(z),setextHeadingLineSequence:O,setextHeadingText:M,strong:l(),thematicBreak:l()}};oie(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Ie){let it={type:"root",children:[]};const yt={stack:[it],tokenStack:[],config:t,enter:a,exit:c,buffer:o,resume:u,data:n},Gt=[];let qt=-1;for(;++qt<Ie.length;)if(Ie[qt][1].type==="listOrdered"||Ie[qt][1].type==="listUnordered")if(Ie[qt][0]==="enter")Gt.push(qt);else{const mn=Gt.pop();qt=i(Ie,mn,qt)}for(qt=-1;++qt<Ie.length;){const mn=t[Ie[qt][0]];sie.call(mn,Ie[qt][1].type)&&mn[Ie[qt][1].type].call(Object.assign({sliceSerialize:Ie[qt][2].sliceSerialize},yt),Ie[qt][1])}if(yt.tokenStack.length>0){const mn=yt.tokenStack[yt.tokenStack.length-1];(mn[1]||M9).call(yt,void 0,mn[0])}for(it.position={start:Jp(Ie.length>0?Ie[0][1].start:{line:1,column:1,offset:0}),end:Jp(Ie.length>0?Ie[Ie.length-2][1].end:{line:1,column:1,offset:0})},qt=-1;++qt<t.transforms.length;)it=t.transforms[qt](it)||it;return it}function i(Ie,it,yt){let Gt=it-1,qt=-1,mn=!1,cr,fn,Pr,Kr;for(;++Gt<=yt;){const xn=Ie[Gt];switch(xn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xn[0]==="enter"?qt++:qt--,Kr=void 0;break}case"lineEndingBlank":{xn[0]==="enter"&&(cr&&!Kr&&!qt&&!Pr&&(Pr=Gt),Kr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kr=void 0}if(!qt&&xn[0]==="enter"&&xn[1].type==="listItemPrefix"||qt===-1&&xn[0]==="exit"&&(xn[1].type==="listUnordered"||xn[1].type==="listOrdered")){if(cr){let rr=Gt;for(fn=void 0;rr--;){const fi=Ie[rr];if(fi[1].type==="lineEnding"||fi[1].type==="lineEndingBlank"){if(fi[0]==="exit")continue;fn&&(Ie[fn][1].type="lineEndingBlank",mn=!0),fi[1].type="lineEnding",fn=rr}else if(!(fi[1].type==="linePrefix"||fi[1].type==="blockQuotePrefix"||fi[1].type==="blockQuotePrefixWhitespace"||fi[1].type==="blockQuoteMarker"||fi[1].type==="listItemIndent"))break}Pr&&(!fn||Pr<fn)&&(cr._spread=!0),cr.end=Object.assign({},fn?Ie[fn][1].start:xn[1].end),Ie.splice(fn||Gt,0,["exit",cr,xn[2]]),Gt++,yt++}if(xn[1].type==="listItemPrefix"){const rr={type:"listItem",_spread:!1,start:Object.assign({},xn[1].start),end:void 0};cr=rr,Ie.splice(Gt,0,["enter",rr,xn[2]]),Gt++,yt++,Pr=void 0,Kr=!0}}}return Ie[it][1]._spread=mn,yt}function s(Ie,it){return yt;function yt(Gt){a.call(this,Ie(Gt),Gt),it&&it.call(this,Gt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(Ie,it,yt){this.stack[this.stack.length-1].children.push(Ie),this.stack.push(Ie),this.tokenStack.push([it,yt||void 0]),Ie.position={start:Jp(it.start),end:void 0}}function l(Ie){return it;function it(yt){Ie&&Ie.call(this,yt),c.call(this,yt)}}function c(Ie,it){const yt=this.stack.pop(),Gt=this.tokenStack.pop();if(Gt)Gt[0].type!==Ie.type&&(it?it.call(this,Ie,Gt[0]):(Gt[1]||M9).call(this,Ie,Gt[0]));else throw new Error("Cannot close `"+Ie.type+"` ("+ux({start:Ie.start,end:Ie.end})+"): its not open");yt.position.end=Jp(Ie.end)}function u(){return itt(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(Ie){if(this.data.expectingFirstListItemValue){const it=this.stack[this.stack.length-2];it.start=Number.parseInt(this.sliceSerialize(Ie),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.lang=Ie}function y(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.meta=Ie}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.value=Ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.value=Ie.replace(/(\r?\n|\r)$/g,"")}function E(Ie){const it=this.resume(),yt=this.stack[this.stack.length-1];yt.label=it,yt.identifier=Gy(this.sliceSerialize(Ie)).toLowerCase()}function _(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.title=Ie}function N(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.url=Ie}function V(Ie){const it=this.stack[this.stack.length-1];if(!it.depth){const yt=this.sliceSerialize(Ie).length;it.depth=yt}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function O(Ie){const it=this.stack[this.stack.length-1];it.depth=this.sliceSerialize(Ie).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function H(Ie){const yt=this.stack[this.stack.length-1].children;let Gt=yt[yt.length-1];(!Gt||Gt.type!=="text")&&(Gt=Mt(),Gt.position={start:Jp(Ie.start),end:void 0},yt.push(Gt)),this.stack.push(Gt)}function X(Ie){const it=this.stack.pop();it.value+=this.sliceSerialize(Ie),it.position.end=Jp(Ie.end)}function Q(Ie){const it=this.stack[this.stack.length-1];if(this.data.atHardBreak){const yt=it.children[it.children.length-1];yt.position.end=Jp(Ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(it.type)&&(H.call(this,Ie),X.call(this,Ie))}function U(){this.data.atHardBreak=!0}function Z(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.value=Ie}function q(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.value=Ie}function me(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.value=Ie}function se(){const Ie=this.stack[this.stack.length-1];if(this.data.inReference){const it=this.data.referenceType||"shortcut";Ie.type+="Reference",Ie.referenceType=it,delete Ie.url,delete Ie.title}else delete Ie.identifier,delete Ie.label;this.data.referenceType=void 0}function ue(){const Ie=this.stack[this.stack.length-1];if(this.data.inReference){const it=this.data.referenceType||"shortcut";Ie.type+="Reference",Ie.referenceType=it,delete Ie.url,delete Ie.title}else delete Ie.identifier,delete Ie.label;this.data.referenceType=void 0}function Pe(Ie){const it=this.sliceSerialize(Ie),yt=this.stack[this.stack.length-2];yt.label=rrt(it),yt.identifier=Gy(it).toLowerCase()}function ye(){const Ie=this.stack[this.stack.length-1],it=this.resume(),yt=this.stack[this.stack.length-1];if(this.data.inReference=!0,yt.type==="link"){const Gt=Ie.children;yt.children=Gt}else yt.alt=it}function W(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.url=Ie}function re(){const Ie=this.resume(),it=this.stack[this.stack.length-1];it.title=Ie}function te(){this.data.inReference=void 0}function J(){this.data.referenceType="collapsed"}function ce(Ie){const it=this.resume(),yt=this.stack[this.stack.length-1];yt.label=it,yt.identifier=Gy(this.sliceSerialize(Ie)).toLowerCase(),this.data.referenceType="full"}function fe(Ie){this.data.characterReferenceType=Ie.type}function De(Ie){const it=this.sliceSerialize(Ie),yt=this.data.characterReferenceType;let Gt;yt?(Gt=Zre(it,yt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Gt=aB(it);const qt=this.stack[this.stack.length-1];qt.value+=Gt}function at(Ie){const it=this.stack.pop();it.position.end=Jp(Ie.end)}function je(Ie){X.call(this,Ie);const it=this.stack[this.stack.length-1];it.url=this.sliceSerialize(Ie)}function qe(Ie){X.call(this,Ie);const it=this.stack[this.stack.length-1];it.url="mailto:"+this.sliceSerialize(Ie)}function et(){return{type:"blockquote",children:[]}}function Et(){return{type:"code",lang:null,meta:null,value:""}}function Se(){return{type:"inlineCode",value:""}}function $t(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ne(){return{type:"emphasis",children:[]}}function Ge(){return{type:"heading",depth:0,children:[]}}function Me(){return{type:"break"}}function ve(){return{type:"html",value:""}}function xe(){return{type:"image",title:null,url:"",alt:null}}function Le(){return{type:"link",title:null,url:"",children:[]}}function Je(Ie){return{type:"list",ordered:Ie.type==="listOrdered",start:null,spread:Ie._spread,children:[]}}function nt(Ie){return{type:"listItem",spread:Ie._spread,checked:null,children:[]}}function Be(){return{type:"paragraph",children:[]}}function gt(){return{type:"strong",children:[]}}function Mt(){return{type:"text",value:""}}function At(){return{type:"thematicBreak"}}}function Jp(e){return{line:e.line,column:e.column,offset:e.offset}}function oie(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?oie(e,r):art(e,r)}}function art(e,t){let n;for(n in t)if(sie.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function M9(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ux({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ux({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ux({start:t.start,end:t.end})+") is still open")}function lrt(e){const t=this;t.parser=n;function n(r){return srt(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function crt(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function urt(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function drt(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function hrt(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function frt(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function prt(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=$w(r.toLowerCase()),s=e.footnoteOrder.indexOf(r);let o,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=s+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function grt(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function mrt(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function aie(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function vrt(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aie(e,t);const i={src:$w(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function yrt(e,t){const n={src:$w(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function wrt(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Crt(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return aie(e,t);const i={href:$w(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function brt(e,t){const n={href:$w(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xrt(e,t,n){const r=e.all(t),i=n?Srt(n):lie(t),s={},o=[];if(typeof t.checked=="boolean"){const u=r[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return e.patch(t,c),e.applyData(t,c)}function Srt(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=lie(n[r])}return t}function lie(e){const t=e.spread;return t??e.children.length>1}function _rt(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)}function Ert(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Trt(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Rrt(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Art(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=rB(t.children[1]),l=Gre(t.children[t.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function krt(e,t,n){const r=n?n.children:void 0,s=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const h=t.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let y={type:"element",tagName:s,properties:p,children:[]};h&&(y.children=e.all(h),e.patch(h,y),y=e.applyData(h,y)),c.push(y)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,u),e.applyData(t,u)}function Prt(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const O9=9,L9=32;function Drt(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const s=[];for(;r;)s.push(N9(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return s.push(N9(t.slice(i),i>0,!1)),s.join("")}function N9(e,t,n){let r=0,i=e.length;if(t){let s=e.codePointAt(r);for(;s===O9||s===L9;)r++,s=e.codePointAt(r)}if(n){let s=e.codePointAt(i-1);for(;s===O9||s===L9;)i--,s=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Frt(e,t){const n={type:"text",value:Drt(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Irt(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Mrt={blockquote:crt,break:urt,code:drt,delete:hrt,emphasis:frt,footnoteReference:prt,heading:grt,html:mrt,imageReference:vrt,image:yrt,inlineCode:wrt,linkReference:Crt,link:brt,listItem:xrt,list:_rt,paragraph:Ert,root:Trt,strong:Rrt,table:Art,tableCell:Prt,tableRow:krt,text:Frt,thematicBreak:Irt,toml:oE,yaml:oE,definition:oE,footnoteDefinition:oE};function oE(){}const cie=-1,uk=0,hx=1,PR=2,uB=3,dB=4,hB=5,fB=6,uie=7,die=8,B9=typeof self=="object"?self:globalThis,Ort=(e,t)=>{const n=(i,s)=>(e.set(s,i),i),r=i=>{if(e.has(i))return e.get(i);const[s,o]=t[i];switch(s){case uk:case cie:return n(o,i);case hx:{const a=n([],i);for(const l of o)a.push(r(l));return a}case PR:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case uB:return n(new Date(o),i);case dB:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case hB:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case fB:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case uie:{const{name:a,message:l}=o;return n(new B9[a](l),i)}case die:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new B9[s](o),i)};return r},V9=e=>Ort(new Map,e)(0),$v="",{toString:Lrt}={},{keys:Nrt}=Object,lb=e=>{const t=typeof e;if(t!=="object"||!e)return[uk,t];const n=Lrt.call(e).slice(8,-1);switch(n){case"Array":return[hx,$v];case"Object":return[PR,$v];case"Date":return[uB,$v];case"RegExp":return[dB,$v];case"Map":return[hB,$v];case"Set":return[fB,$v];case"DataView":return[hx,n]}return n.includes("Array")?[hx,n]:n.includes("Error")?[uie,n]:[PR,n]},aE=([e,t])=>e===uk&&(t==="function"||t==="symbol"),Brt=(e,t,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=lb(o);switch(a){case uk:{let u=o;switch(l){case"bigint":a=die,u=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([cie],o)}return i([a,u],o)}case hx:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const u=[],h=i([a,u],o);for(const p of o)u.push(s(p));return h}case PR:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return s(o.toJSON());const u=[],h=i([a,u],o);for(const p of Nrt(o))(e||!aE(lb(o[p])))&&u.push([s(p),s(o[p])]);return h}case uB:return i([a,o.toISOString()],o);case dB:{const{source:u,flags:h}=o;return i([a,{source:u,flags:h}],o)}case hB:{const u=[],h=i([a,u],o);for(const[p,m]of o)(e||!(aE(lb(p))||aE(lb(m))))&&u.push([s(p),s(m)]);return h}case fB:{const u=[],h=i([a,u],o);for(const p of o)(e||!aE(lb(p)))&&u.push(s(p));return h}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},H9=(e,{json:t,lossy:n}={})=>{const r=[];return Brt(!(t||n),!!t,new Map,r)(e),r},DR=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?V9(H9(e,t)):structuredClone(e):(e,t)=>V9(H9(e,t));function Vrt(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Hrt(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function zrt(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Vrt,r=e.options.footnoteBackLabel||Hrt,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const u=e.all(c),h=String(c.identifier).toUpperCase(),p=$w(h.toLowerCase());let m=0;const y=[],w=e.footnoteCounts.get(h);for(;w!==void 0&&++m<=w;){y.length>0&&y.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,m);typeof E=="string"&&(E={type:"text",value:E}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const b=u[u.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const E=b.children[b.children.length-1];E&&E.type==="text"?E.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...y)}else u.push(...y);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(u,!0)};e.patch(c,S),a.push(S)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...DR(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const hie=function(e){if(e==null)return jrt;if(typeof e=="function")return dk(e);if(typeof e=="object")return Array.isArray(e)?Grt(e):Urt(e);if(typeof e=="string")return Wrt(e);throw new Error("Expected function, string, or object as test")};function Grt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=hie(e[n]);return dk(r);function r(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Urt(e){const t=e;return dk(n);function n(r){const i=r;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function Wrt(e){return dk(t);function t(n){return n&&n.type===e}}function dk(e){return t;function t(n,r,i){return!!(Krt(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function jrt(){return!0}function Krt(e){return e!==null&&typeof e=="object"&&"type"in e}const fie=[],Yrt=!0,z9=!1,Xrt="skip";function Zrt(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const s=hie(i),o=r?-1:1;a(e,void 0,[])();function a(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=fie,y,w,b;if((!t||s(l,c,u[u.length-1]||void 0))&&(m=qrt(n(l,u)),m[0]===z9))return m;if("children"in l&&l.children){const S=l;if(S.children&&m[0]!==Xrt)for(w=(r?S.children.length:-1)+o,b=u.concat(S);w>-1&&w<S.children.length;){const E=S.children[w];if(y=a(E,w,b)(),y[0]===z9)return y;w=typeof y[1]=="number"?y[1]:w+o}}return m}}}function qrt(e){return Array.isArray(e)?e:typeof e=="number"?[Yrt,e]:e==null?fie:[e]}function pie(e,t,n,r){let i,s,o;typeof t=="function"&&typeof n!="function"?(s=void 0,o=t,i=n):(s=t,o=n,i=r),Zrt(e,s,a,i);function a(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return o(l,h,u)}}const rM={}.hasOwnProperty,Qrt={};function Jrt(e,t){const n=t||Qrt,r=new Map,i=new Map,s=new Map,o={...Mrt,...n.handlers},a={all:c,applyData:eit,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:$rt,wrap:nit};return pie(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const h=u.type==="definition"?r:i,p=String(u.identifier).toUpperCase();h.has(p)||h.set(p,u)}}),a;function l(u,h){const p=u.type,m=a.handlers[p];if(rM.call(a.handlers,p)&&m)return m(a,u,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in u){const{children:w,...b}=u,S=DR(b);return S.children=a.all(u),S}return DR(u)}return(a.options.unknownHandler||tit)(a,u,h)}function c(u){const h=[];if("children"in u){const p=u.children;let m=-1;for(;++m<p.length;){const y=a.one(p[m],u);if(y){if(m&&p[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=G9(y.value)),!Array.isArray(y)&&y.type==="element")){const w=y.children[0];w&&w.type==="text"&&(w.value=G9(w.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function $rt(e,t){e.position&&(t.position=Let(e))}function eit(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,DR(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function tit(e,t){const n=t.data||{},r="value"in t&&!(rM.call(n,"hProperties")||rM.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nit(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function G9(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function U9(e,t){const n=Jrt(e,t),r=n.one(e,void 0),i=zrt(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function rit(e,t){return e&&"run"in e?async function(n,r){const i=U9(n,{file:r,...t});await e.run(i,r)}:function(n,r){return U9(n,{file:r,...e||t})}}function W9(e){if(e)throw e}var m2,j9;function iit(){if(j9)return m2;j9=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},s=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var u=e.call(c,"constructor"),h=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!h)return!1;var p;for(p in c);return typeof p>"u"||e.call(c,p)},o=function(c,u){n&&u.name==="__proto__"?n(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},a=function(c,u){if(u==="__proto__")if(e.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return m2=function l(){var c,u,h,p,m,y,w=arguments[0],b=1,S=arguments.length,E=!1;for(typeof w=="boolean"&&(E=w,w=arguments[1]||{},b=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});b<S;++b)if(c=arguments[b],c!=null)for(u in c)h=a(w,u),p=a(c,u),w!==p&&(E&&p&&(s(p)||(m=i(p)))?(m?(m=!1,y=h&&i(h)?h:[]):y=h&&s(h)?h:{},o(w,{name:u,newValue:l(E,y,p)})):typeof p<"u"&&o(w,{name:u,newValue:p}));return w},m2}var sit=iit();const v2=Wg(sit);function iM(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function oit(){const e=[],t={run:n,use:r};return t;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=e[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,u?ait(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function ait(e,t){let n;return r;function r(...o){const a=e.length>o.length;let l;a&&o.push(i);try{l=e.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,t(o,...a))}function s(o){i(null,o)}}const Lh={basename:lit,dirname:cit,extname:uit,join:dit,sep:"/"};function lit(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');O1(e);let n=0,r=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function cit(e){if(O1(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function uit(e){O1(e);let t=e.length,n=-1,r=0,i=-1,s=0,o;for(;t--;){const a=e.codePointAt(t);if(a===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),a===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function dit(...e){let t=-1,n;for(;++t<e.length;)O1(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":hit(n)}function hit(e){O1(e);const t=e.codePointAt(0)===47;let n=fit(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function fit(e,t){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=e.length;){if(o<e.length)a=e.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function O1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const pit={cwd:git};function git(){return"/"}function sM(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function mit(e){if(typeof e=="string")e=new URL(e);else if(!sM(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return vit(e)}function vit(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const y2=["history","path","basename","stem","extname","dirname"];class gie{constructor(t){let n;t?sM(t)?n={path:t}:typeof t=="string"||yit(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":pit.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<y2.length;){const s=y2[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)y2.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Lh.basename(this.path):void 0}set basename(t){C2(t,"basename"),w2(t,"basename"),this.path=Lh.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Lh.dirname(this.path):void 0}set dirname(t){K9(this.basename,"dirname"),this.path=Lh.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Lh.extname(this.path):void 0}set extname(t){if(w2(t,"extname"),K9(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Lh.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){sM(t)&&(t=mit(t)),C2(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Lh.basename(this.path,this.extname):void 0}set stem(t){C2(t,"stem"),w2(t,"stem"),this.path=Lh.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Ul(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function w2(e,t){if(e&&e.includes(Lh.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Lh.sep+"`")}function C2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function K9(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function yit(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const wit=function(e){const r=this.constructor.prototype,i=r[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Cit={}.hasOwnProperty;class pB extends wit{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=oit()}copy(){const t=new pB;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(v2(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(S2("data",this.frozen),this.namespace[t]=n,this):Cit.call(this.namespace,t)&&this.namespace[t]||void 0:t?(S2("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=lE(t),r=this.parser||this.Parser;return b2("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),b2("process",this.parser||this.Parser),x2("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=lE(t),l=r.parse(a);r.run(l,a,function(u,h,p){if(u||!h||!p)return c(u);const m=h,y=r.stringify(m,p);Sit(y)?p.value=y:p.result=y,c(u,p)});function c(u,h){u||!h?o(u):s?s(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),b2("processSync",this.parser||this.Parser),x2("processSync",this.compiler||this.Compiler),this.process(t,i),X9("processSync","process",n),r;function i(s,o){n=!0,W9(s),r=o}}run(t,n,r){Y9(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=lE(n);i.run(t,l,c);function c(u,h,p){const m=h||t;u?a(u):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,i;return this.run(t,n,s),X9("runSync","run",r),i;function s(o,a){W9(o),i=a,r=!0}}stringify(t,n){this.freeze();const r=lE(n),i=this.compiler||this.Compiler;return x2("stringify",i),Y9(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(S2("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...h]=c;l(u,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=v2(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const h=c[u];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===c){p=h;break}if(p===-1)r.push([c,...u]);else if(u.length>0){let[m,...y]=u;const w=r[p][1];iM(w)&&iM(m)&&(m=v2(!0,w,m)),r[p]=[c,m,...y]}}}}const bit=new pB().freeze();function b2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function x2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function S2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Y9(e){if(!iM(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function X9(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function lE(e){return xit(e)?e:new gie(e)}function xit(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Sit(e){return typeof e=="string"||_it(e)}function _it(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Eit="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Z9=[],q9={allowDangerousHtml:!0},Tit=/^(https?|ircs?|mailto|xmpp)$/i,Rit=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function cE(e){const t=Ait(e),n=kit(e);return Pit(t.runSync(t.parse(n),n),e)}function Ait(e){const t=e.rehypePlugins||Z9,n=e.remarkPlugins||Z9,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...q9}:q9;return bit().use(lrt).use(n).use(rit,r).use(t)}function kit(e){const t=e.children||"",n=new gie;return typeof t=="string"&&(n.value=t),n}function Pit(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,s=t.disallowedElements,o=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||Dit;for(const u of Rit)Object.hasOwn(t,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+Eit+u.id,void 0);return pie(e,c),zet(e,{Fragment:B.Fragment,components:i,ignoreInvalidStyle:!0,jsx:B.jsx,jsxs:B.jsxs,passKeys:!0,passNode:!0});function c(u,h,p){if(u.type==="raw"&&p&&typeof h=="number")return o?p.children.splice(h,1):p.children[h]={type:"text",value:u.value},h;if(u.type==="element"){let m;for(m in f2)if(Object.hasOwn(f2,m)&&Object.hasOwn(u.properties,m)){const y=u.properties[m],w=f2[m];(w===null||w.includes(u.tagName))&&(u.properties[m]=l(String(y||""),m,u))}}if(u.type==="element"){let m=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(u,h,p)),m&&p&&typeof h=="number")return a&&u.children?p.children.splice(h,1,...u.children):p.children.splice(h,1),h}}}function Dit(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Tit.test(e.slice(0,t))?e:""}const Fit=({content:e})=>{const t=["I","You","He/She/It","We","They"],n=e.forms,r=(i,s)=>{switch(s){case"Present Simple":return i==="He/She/It"?n.thirdPersonSingular:n.base;case"Present Continuous":return i==="I"?`am ${n.gerund}`:i==="He/She/It"?`is ${n.gerund}`:`are ${n.gerund}`;case"Past Simple":return n.pastSimple;case"Present Perfect":return i==="He/She/It"?`has ${n.pastParticiple}`:`have ${n.pastParticiple}`;case"Simple Future":return`will ${n.simpleFuture.replace("will","")}`;default:return n.base}};return B.jsxs(Ly.div,{className:"conjugate-message",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeInOut"},children:[B.jsx("div",{className:"verb-header text-center p-3 mb-3 bg-light rounded",children:B.jsxs("h2",{children:[e.verbSpanish.charAt(0).toUpperCase()+e.verbSpanish.slice(1)," ","/"," ",e.verbEnglish.charAt(0).toUpperCase()+e.verbEnglish.slice(1)]})}),B.jsxs(mK,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{children:"Pronoun"}),B.jsx("th",{children:"Simple Present"}),B.jsx("th",{children:"Present Continuous"}),B.jsx("th",{children:"Simple Past"}),B.jsx("th",{children:"Perfect Present"}),B.jsx("th",{children:"Simple Future"})]})}),B.jsx("tbody",{children:t.map(i=>B.jsxs("tr",{children:[B.jsx("td",{children:i}),B.jsx("td",{children:r(i,"Present Simple")}),B.jsx("td",{children:r(i,"Present Continuous")}),B.jsx("td",{children:r(i,"Past Simple")}),B.jsx("td",{children:r(i,"Present Perfect")}),B.jsx("td",{children:r(i,"Simple Future")})]},i))})]})]})},Iit=({content:e})=>{const{original_text:t,corrections:n}=e,r=Mre(),[i,s]=I.useState(null),o=I.useMemo(()=>{const u=[...n].sort((m,y)=>m.position.start-y.position.start),h=[];let p=0;for(const m of u){const y=m.original,w=m.position.start,b=[];let S=p,E;for(;(E=t.indexOf(y,S))>-1;)b.push({start:E,end:E+y.length}),S=E+1;if(b.length===0)continue;const _=b.reduce((N,V)=>{const M=Math.abs(N.start-w);return Math.abs(V.start-w)<M?V:N});h.push({...m,position:{start:_.start,end:_.end}}),p=_.end}return h.sort((m,y)=>m.position.start-y.position.start)},[t,n]),a=u=>{s(h=>h===u?null:u)},l=[];let c=0;return o.forEach((u,h)=>{u.position.start>c&&l.push(B.jsx("span",{children:t.slice(c,u.position.start)},`text-${h}`)),l.push(B.jsxs("span",{className:"correction-group",onClick:r?()=>a(h):void 0,onMouseEnter:r?void 0:()=>s(h),onMouseLeave:r?void 0:()=>s(null),children:[B.jsx("span",{className:"correction-original",children:u.original}),B.jsx("span",{className:"correction-corrected",children:u.corrected}),i===h&&B.jsxs("div",{className:"correction-popup",children:[B.jsxs("div",{className:"explanation-correction",children:[B.jsx("span",{className:"original-word",children:u.original})," "," ",B.jsx("span",{className:"corrected-word",children:u.corrected})]}),u.explanation&&B.jsx("p",{className:"explanation-text",children:u.explanation})]})]},`group-${h}`)),c=u.position.end}),c<t.length&&l.push(B.jsx("span",{children:t.slice(c)},"final-text")),B.jsxs("div",{className:"correction-container",children:[B.jsxs("p",{className:"correction-intro",children:[B.jsx("span",{className:"correction-intro-icon",children:""})," Pasa el mouse (o haz clic en mvil) sobre las correcciones para ver una explicacin detallada."]}),B.jsx("div",{className:"corrected-text-inline",children:l})]})},Mit=({message:e,isLastMessage:t,onRegenerate:n})=>{const[r,i]=I.useState(""),[s,o]=I.useState(!1),a=typeof e.content=="string"?e.content:e.content?.explanation||"";I.useEffect(()=>{if(!e.isNew){i(a),e.content?.examples&&e.content.examples.length>0&&o(!0);return}if(i(""),o(!1),a){let c=0;const u=setInterval(()=>{i(a.substring(0,c+1)),c++,c>=a.length&&(clearInterval(u),e.content?.examples&&e.content.examples.length>0&&setTimeout(()=>o(!0),500))},20);return()=>clearInterval(u)}},[a,e.content?.examples,e.isNew]);const l=()=>{switch(e.mode){case"CORRECT":return B.jsx(Iit,{content:e.content});case"CONJUGATE":return B.jsxs(B.Fragment,{children:[B.jsx(Fit,{content:e.content}),B.jsx(cE,{children:r}),s&&e.content?.examples&&B.jsxs("div",{className:"examples-section",children:[B.jsxs("div",{className:"examples-header",children:[B.jsx("span",{className:"examples-icon",children:""}),B.jsx("h4",{children:"Ejemplos de uso:"})]}),B.jsx("div",{className:"examples-grid",children:e.content.examples.map((c,u)=>B.jsxs("div",{className:"example-item",children:[B.jsx("div",{className:"example-number",children:u+1}),B.jsx("div",{className:"example-content",children:B.jsx(cE,{children:c})})]},u))})]})]});default:return B.jsxs(B.Fragment,{children:[B.jsx(cE,{children:r}),s&&e.content?.examples&&B.jsxs("div",{className:"examples-section",children:[B.jsxs("div",{className:"examples-header",children:[B.jsx("span",{className:"examples-icon",children:""}),B.jsx("h4",{children:"Ejemplos de uso:"})]}),B.jsx("div",{className:"examples-grid",children:e.content.examples.map((c,u)=>B.jsxs("div",{className:"example-item",children:[B.jsx("div",{className:"example-number",children:u+1}),B.jsx("div",{className:"example-content",children:B.jsx(cE,{children:c})})]},u))})]})]})}};return B.jsxs("div",{className:"message-container bot-message-container",children:[B.jsx("div",{className:"avatar bot-avatar",children:B.jsx(lO,{size:24})}),B.jsxs("div",{className:"message-content",children:[B.jsx("div",{className:"message-bubble bot-message",children:l()}),t&&B.jsx("button",{className:"regenerate-button",onClick:n,children:B.jsx(Ype,{size:16})})]})]})},Oit=({message:e})=>B.jsxs("div",{className:"message-container user-message-container",children:[B.jsx("div",{className:"message-bubble user-message",children:e}),B.jsx("div",{className:"avatar user-avatar",children:B.jsx(JR,{size:24})})]}),Lit=()=>B.jsx("div",{className:"message-bubble bot-message",children:B.jsx(Ll,{animation:"border",size:"sm"})}),Nit=()=>B.jsx("div",{className:"welcome-container",children:B.jsx(ei,{className:"text-center shadow-sm",style:{maxWidth:"600px",border:"none"},children:B.jsxs(ei.Body,{children:[B.jsx("div",{className:"avatar bot-avatar mb-3 mx-auto",children:B.jsx(lO,{size:28})}),B.jsx(ei.Title,{as:"h2",className:"mb-3",children:"Hola! Soy tu Tutor de Ingls Decolonial"}),B.jsx(ei.Text,{className:"text-muted mb-4",children:"Estoy aqu para ayudarte a explorar el ingls desde una perspectiva decolonial. Puedes hacerme preguntas, pedirme que conjugue verbos o que te explique temas gramaticales."}),B.jsx("h5",{className:"mb-3",children:"Aqu tienes algunas ideas:"}),B.jsxs(Qd,{variant:"flush",children:[B.jsx(Qd.Item,{children:`"Conjuga el verbo 'walk' en ingls"`}),B.jsx(Qd.Item,{children:'"Qu es el presente perfecto?"'}),B.jsx(Qd.Item,{children:`"Explcame el uso de 'will' y 'going to'"`})]})]})})}),Bit=()=>B.jsx("div",{className:"welcome-container",children:B.jsx(ei,{className:"text-center shadow-sm",style:{maxWidth:"600px",border:"none"},children:B.jsxs(ei.Body,{children:[B.jsx("div",{className:"avatar bot-avatar mb-3 mx-auto",children:B.jsx(cO,{size:28})}),B.jsx(ei.Title,{as:"h2",className:"mb-3",children:"Vista de Solo Lectura"}),B.jsx(ei.Text,{className:"text-muted mb-4",children:"Esta es una vista de solo lectura de las conversaciones del estudiante. Puedes explorar los chats del estudiante seleccionndolos en la barra lateral izquierda."}),B.jsx(ei.Text,{className:"text-muted",children:"No puedes enviar mensajes en esta vista, solo visualizar el historial de conversaciones."})]})})}),Vit=({messages:e,isLoading:t,onRegenerate:n,readOnly:r=!1})=>{const i=I.useRef(null);I.useEffect(()=>{i.current?.scrollIntoView({behavior:"smooth"})},[e,t]);const s=o=>({id:o.id,sender:o.role==="user"?"user":"bot",role:o.role,content:o.content,chatId:o.chatId,timestamp:o.timestamp,isNew:o.isNew,mode:o.mode});return B.jsxs("div",{className:"chat-window",children:[e.length===0&&!t?r?B.jsx(Bit,{}):B.jsx(Nit,{}):e.map((o,a)=>{const l=s(o),c=o.role==="model"&&a===e.length-1;return o.role==="model"?B.jsx(Mit,{message:l,isLastMessage:c,onRegenerate:n},o.id):B.jsx(Oit,{message:typeof o.content=="string"?o.content:JSON.stringify(o.content)},o.id)}),t&&B.jsx(Lit,{}),B.jsx("div",{ref:i})]})},Hit=({onClick:e})=>B.jsxs("button",{className:"new-chat-button",onClick:e,children:[B.jsx(mpe,{size:20}),B.jsx("span",{children:"Nueva conversacin"})]}),oM=d1((e,t)=>({chats:[],messages:[],currentChatId:null,isLoading:!1,isLoadingChats:!1,error:null,loadChats:async n=>{e({isLoadingChats:!0,error:null});try{const r=await XI(n);e({chats:r,isLoadingChats:!1})}catch(r){console.error("Error loading chats:",r),e({error:"Error al cargar conversaciones",isLoadingChats:!1})}},createChat:async(n,r,i)=>{e({isLoading:!0,error:null});try{const s=await uet(n,r,i);return await t().loadChats(n),e({currentChatId:s.chatId,isLoading:!1,messages:[]}),s.chatId}catch(s){throw console.error("Error creating chat:",s),e({error:"Error al crear conversacin",isLoading:!1}),s}},setCurrentChat:n=>{e({currentChatId:n,messages:[]})},loadChatHistory:async(n,r)=>{e({isLoading:!0,error:null});try{const i=await ZI(n,r);e({messages:i.messages,currentChatId:n,isLoading:!1})}catch(i){console.error("Error loading chat history:",i),e({error:"Error al cargar historial",isLoading:!1})}},addMessage:n=>{e(r=>({messages:[...r.messages,n]}))},deleteChat:async(n,r)=>{e({isLoading:!0,error:null});try{await det(n,r);const{currentChatId:i}=t();i===n&&e({currentChatId:null,messages:[]}),await t().loadChats(r),e({isLoading:!1})}catch(i){console.error("Error deleting chat:",i),e({error:"Error al eliminar conversacin",isLoading:!1})}},clearMessages:()=>{e({messages:[]})},setError:n=>{e({error:n})}})),zit=({chat:e,isActive:t,onClick:n,onDelete:r})=>{const i=s=>{const a=new Date().getTime()-s.getTime(),l=Math.floor(a/(1e3*60*60*24));return l===0?"Hoy":l===1?"Ayer":l<7?`Hace ${l} das`:s.toLocaleDateString("es-ES",{day:"numeric",month:"short"})};return B.jsxs("div",{className:`chat-item ${t?"active":""}`,onClick:n,children:[B.jsx("div",{className:"chat-item-icon",children:B.jsx(bK,{size:18})}),B.jsxs("div",{className:"chat-item-content",children:[B.jsx("div",{className:"chat-item-title",children:e.title}),B.jsx("div",{className:"chat-item-date",children:i(e.updatedAt)})]}),B.jsx("button",{className:"chat-item-delete",onClick:r,title:"Eliminar conversacin",children:B.jsx(QR,{size:16})})]})},Git=({userId:e,onChatSelect:t})=>{const{chats:n,currentChatId:r,deleteChat:i,isLoadingChats:s}=oM(),o=async(a,l)=>{a.stopPropagation(),window.confirm("Ests seguro de eliminar esta conversacin?")&&await i(l,e)};return s?B.jsxs("div",{className:"chat-list-loading",children:[B.jsx("div",{className:"spinner-border spinner-border-sm",role:"status",children:B.jsx("span",{className:"visually-hidden",children:"Cargando..."})}),B.jsx("span",{children:"Cargando conversaciones..."})]}):n.length===0?B.jsxs("div",{className:"chat-list-empty",children:[B.jsx("p",{children:"No tienes conversaciones an"}),B.jsx("p",{className:"text-muted",children:"Comienza escribiendo un mensaje"})]}):B.jsx("div",{className:"chat-list",children:n.map(a=>B.jsx(zit,{chat:a,isActive:a.id===r,onClick:()=>t(a.id),onDelete:l=>o(l,a.id)},a.id))})},Uit=({userId:e,onNewChat:t,onChatSelect:n})=>{const[r,i]=I.useState(!1);return B.jsxs(B.Fragment,{children:[B.jsxs("div",{className:`chat-sidebar ${r?"collapsed":""}`,children:[B.jsxs("div",{className:"chat-sidebar-header",children:[B.jsx(Hit,{onClick:t}),B.jsx("button",{className:"sidebar-collapse-button",onClick:()=>i(!r),title:r?"Expandir":"Colapsar",children:r?B.jsx(DP,{size:20}):B.jsx(upe,{size:20})})]}),B.jsx("div",{className:"chat-sidebar-content",children:B.jsx(Git,{userId:e,onChatSelect:n})})]}),r&&B.jsxs(B.Fragment,{children:[B.jsx("button",{className:"sidebar-expand-button-desktop",onClick:()=>i(!1),title:"Expandir sidebar",children:B.jsx(DP,{size:20})}),B.jsx("button",{className:"sidebar-expand-button-mobile",onClick:()=>i(!1),title:"Expandir sidebar",children:B.jsx(DP,{size:24})})]})]})},mie=({readOnly:e=!1,targetUserId:t})=>{const[n,r]=I.useState(""),[i,s]=I.useState(!1),[o,a]=I.useState(""),{messages:l,currentChatId:c,loadChats:u,createChat:h,loadChatHistory:p,addMessage:m,setCurrentChat:y,clearMessages:w}=oM();I.useEffect(()=>{w(),y(null);const N=t||(()=>{const V=localStorage.getItem("user");return V?JSON.parse(V).id:""})();a(N),N&&u(N)},[u,t,w,y]);const b=()=>{y(null),w()},S=async N=>{o&&await p(N,o)},E=async N=>{if(N.preventDefault(),!n.trim()||i||!o||e)return;const V=n;r(""),s(!0);try{let M=c;if(!M){const Q=V.split(" ").slice(0,5).join(" "),U=Q.length>30?Q.substring(0,30)+"...":Q;M=await h(o,U)}const O={id:ug(),chatId:M,role:"user",content:V,timestamp:new Date,isNew:!0};m(O);const z=await d9(V),H=await h9(V,z,M,o),X={id:ug(),chatId:M,role:"model",content:H.content,timestamp:new Date,isNew:!0,mode:H.mode||z};m(X)}catch(M){console.error(M);const O={id:ug(),chatId:c||"",role:"model",content:"Ha ocurrido un error. Por favor, intntalo de nuevo.",timestamp:new Date,isNew:!0};m(O)}finally{s(!1)}},_=async()=>{if(i||!c||!o||e)return;const N=[...l].reverse().find(V=>V.role==="user");if(N){const V=l.length-1;if(l[V]?.role==="model"){const M=l.slice(0,-1);oM.setState({messages:M})}s(!0);try{const M=await d9(N.content),O=await h9(N.content,M,c,o),z={id:ug(),chatId:c,role:"model",content:O.content,timestamp:new Date,isNew:!0,mode:O.mode||M};m(z)}catch(M){console.error(M);const O={id:ug(),chatId:c,role:"model",content:"Ha ocurrido un error. Por favor, intntalo de nuevo.",timestamp:new Date,isNew:!0};m(O)}finally{s(!1)}}};return B.jsxs("div",{className:"chat-page-container",children:[B.jsx(Uit,{userId:o,onNewChat:b,onChatSelect:S}),B.jsx("div",{className:"chat-main-area",children:B.jsxs("div",{className:"chat-container",children:[B.jsx(Vit,{messages:l,isLoading:i,onRegenerate:_,readOnly:e}),!e&&B.jsxs("form",{className:"chat-input-form",onSubmit:E,children:[B.jsx("input",{type:"text",value:n,onChange:N=>r(N.target.value),placeholder:"Escribe un mensaje...",disabled:i}),B.jsx("button",{type:"submit",disabled:i||!n.trim(),children:B.jsx(Jpe,{size:18})})]})]})})]})},Wit=()=>B.jsx(mie,{});async function jit(e,t){const n=pZ(gZ,e),r=await Oxe(n,t,{contentType:t.type});return{url:await Lxe(r.ref),fullPath:r.ref.fullPath}}async function Kit(e){const t=pZ(gZ,e);await Nxe(t)}const eC="posts",vie="comments",Yit=async e=>{const{imageFile:t,description:n,sessionId:r,teacherId:i}=e,s=`posts/${r}/${ug()}-${t.name}`,{url:o}=await jit(s,t),a={imageUrl:o,imagePath:s,description:n||"",teacherId:i,sessionId:r,createdAt:new Date,likes:[],commentsCount:0},l=await wbe(Q0(Bl,eC),a);return{...a,id:l.id}},Xit=(e,t)=>{const n=u1(Q0(Bl,eC),cL("sessionId","==",e),jX("createdAt","desc"));return qX(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data()}));t(i)})},Zit=async(e,t,n)=>{const r=lh(Bl,eC,e);n?await FT(r,{likes:Ebe(t)}):await FT(r,{likes:_be(t)})},qit=async(e,t)=>{const n=lh(Bl,eC,e),r=Q0(n,vie),i={...t,postId:e,createdAt:new Date};return await Sbe(Bl,async s=>{const o=lh(r);s.set(o,i),s.update(n,{commentsCount:Tbe(1)})}),{...i,id:ug()}},Qit=(e,t)=>{const n=u1(Q0(Bl,eC,e,vie),jX("createdAt","asc"));return qX(n,r=>{const i=r.docs.map(s=>({id:s.id,...s.data(),createdAt:s.data().createdAt.toDate()}));t(i)})},Jit=async e=>{await Kit(e.imagePath),await ZX(lh(Bl,eC,e.id))},gB=d1((e,t)=>({posts:[],comments:{},isLoadingPosts:!1,isLoadingComments:!1,error:null,postsUnsubscribe:null,commentsUnsubscribe:{},fetchPosts:n=>{const{postsUnsubscribe:r}=t();r&&r(),e({isLoadingPosts:!0,error:null});const i=Xit(n,s=>{e({posts:s,isLoadingPosts:!1})});e({postsUnsubscribe:i})},fetchComments:n=>{const{commentsUnsubscribe:r}=t();r[n]&&r[n](),e({isLoadingComments:!0,error:null});const i=Qit(n,s=>{e(o=>({comments:{...o.comments,[n]:s},isLoadingComments:!1}))});e(s=>({commentsUnsubscribe:{...s.commentsUnsubscribe,[n]:i}}))},addPost:n=>e(r=>({posts:[n,...r.posts]})),updatePostLikes:(n,r)=>{e(i=>({posts:i.posts.map(s=>s.id===n?{...s,likes:r}:s)}))},removePost:n=>{e(r=>({posts:r.posts.filter(i=>i.id!==n)}))},addComment:(n,r)=>{e(i=>({comments:{...i.comments,[n]:[...i.comments[n]||[],r]}}))},cleanup:()=>{const{postsUnsubscribe:n,commentsUnsubscribe:r}=t();n&&n(),Object.values(r).forEach(i=>{i&&i()}),e({postsUnsubscribe:null,commentsUnsubscribe:{}})}})),$it=({post:e,onClick:t})=>B.jsxs(Ly.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},className:"post-item-card",onClick:t,children:[B.jsx("img",{src:e.imageUrl,alt:e.description||"Post image",className:"card-image"}),B.jsxs("div",{className:"card-footer",children:[B.jsxs("div",{className:"stat",children:[B.jsx(wK,{size:18}),B.jsx("span",{children:e.likes.length})]}),B.jsxs("div",{className:"stat",children:[B.jsx(bK,{size:18}),B.jsx("span",{children:e.commentsCount||0})]})]})]});var yie="en",mB={},aM={};function wie(){return yie}function est(e){yie=e}function tst(e){return mB[e]}function nst(e){if(!e)throw new Error("No locale data passed");mB[e.locale]=e,aM[e.locale.toLowerCase()]=e.locale}function Q9(e){if(mB[e])return e;if(aM[e.toLowerCase()])return aM[e.toLowerCase()]}function Cie(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":return J9(e);case"best fit":return J9(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function J9(e){var t=Q9(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop(),e=n.join("-");var r=Q9(e);if(r)return r}}var Ye={af:function(t){return t==1?"one":"other"},ak:function(t){return t==0||t==1?"one":"other"},am:function(t){return t>=0&&t<=1?"one":"other"},ar:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==0?"zero":t==1?"one":t==2?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"},ast:function(t){var n=String(t).split("."),r=!n[1];return t==1&&r?"one":"other"},be:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2);return i==1&&s!=11?"one":i>=2&&i<=4&&(s<12||s>14)?"few":r&&i==0||i>=5&&i<=9||s>=11&&s<=14?"many":"other"},blo:function(t){return t==0?"zero":t==1?"one":"other"},br:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),s=r&&n[0].slice(-2),o=r&&n[0].slice(-6);return i==1&&s!=11&&s!=71&&s!=91?"one":i==2&&s!=12&&s!=72&&s!=92?"two":(i==3||i==4||i==9)&&(s<10||s>19)&&(s<70||s>79)&&(s<90||s>99)?"few":t!=0&&r&&o==0?"many":"other"},bs:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),c=i.slice(-2);return s&&o==1&&a!=11||l==1&&c!=11?"one":s&&o>=2&&o<=4&&(a<12||a>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},ca:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1&&i?"one":r!=0&&s==0&&i?"many":"other"},ceb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=i.slice(-1);return s&&(r==1||r==2||r==3)||s&&o!=4&&o!=6&&o!=9||!s&&a!=4&&a!=6&&a!=9?"one":"other"},cs:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return t==1&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(t){return t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"},da:function(t){var n=String(t).split("."),r=n[0],i=Number(n[0])==t;return t==1||!i&&(r==0||r==1)?"one":"other"},dsb:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-2),a=i.slice(-2);return s&&o==1||a==1?"one":s&&o==2||a==2?"two":s&&(o==3||o==4)||a==3||a==4?"few":"other"},dz:function(t){return"other"},es:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t==1?"one":r!=0&&s==0&&i?"many":"other"},ff:function(t){return t>=0&&t<2?"one":"other"},fr:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return t>=0&&t<2?"one":r!=0&&s==0&&i?"many":"other"},ga:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1?"one":t==2?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"},gd:function(t){var n=String(t).split("."),r=Number(n[0])==t;return t==1||t==11?"one":t==2||t==12?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"},he:function(t){var n=String(t).split("."),r=n[0],i=!n[1];return r==1&&i||r==0&&!i?"one":r==2&&i?"two":"other"},is:function(t){var n=String(t).split("."),r=n[0],i=(n[1]||"").replace(/0+$/,""),s=Number(n[0])==t,o=r.slice(-1),a=r.slice(-2);return s&&o==1&&a!=11||i%10==1&&i%100!=11?"one":"other"},lt:function(t){var n=String(t).split("."),r=n[1]||"",i=Number(n[0])==t,s=i&&n[0].slice(-1),o=i&&n[0].slice(-2);return s==1&&(o<11||o>19)?"one":s>=2&&s<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(t){var n=String(t).split("."),r=n[1]||"",i=r.length,s=Number(n[0])==t,o=s&&n[0].slice(-1),a=s&&n[0].slice(-2),l=r.slice(-2),c=r.slice(-1);return s&&o==0||a>=11&&a<=19||i==2&&l>=11&&l<=19?"zero":o==1&&a!=11||i==2&&c==1&&l!=11||i!=2&&c==1?"one":"other"},mk:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"",s=!n[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),c=i.slice(-2);return s&&o==1&&a!=11||l==1&&c!=11?"one":"other"},mt:function(t){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return t==1?"one":t==2?"two":t==0||i>=3&&i<=10?"few":i>=11&&i<=19?"many":"other"},pl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return t==1&&i?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&r!=1&&(s==0||s==1)||i&&s>=5&&s<=9||i&&o>=12&&o<=14?"many":"other"},pt:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-6);return r==0||r==1?"one":r!=0&&s==0&&i?"many":"other"},ro:function(t){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,s=i&&n[0].slice(-2);return t==1&&r?"one":!r||t==0||t!=1&&s>=1&&s<=19?"few":"other"},ru:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-1),o=r.slice(-2);return i&&s==1&&o!=11?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&s==0||i&&s>=5&&s<=9||i&&o>=11&&o<=14?"many":"other"},se:function(t){return t==1?"one":t==2?"two":"other"},si:function(t){var n=String(t).split("."),r=n[0],i=n[1]||"";return t==0||t==1||r==0&&i==1?"one":"other"},sl:function(t){var n=String(t).split("."),r=n[0],i=!n[1],s=r.slice(-2);return i&&s==1?"one":i&&s==2?"two":i&&(s==3||s==4)||!i?"few":"other"}};Ye.as=Ye.am;Ye.az=Ye.af;Ye.bal=Ye.af;Ye.bg=Ye.af;Ye.bn=Ye.am;Ye.brx=Ye.af;Ye.ce=Ye.af;Ye.chr=Ye.af;Ye.de=Ye.ast;Ye.doi=Ye.am;Ye.ee=Ye.af;Ye.el=Ye.af;Ye.en=Ye.ast;Ye.et=Ye.ast;Ye.eu=Ye.af;Ye.fa=Ye.am;Ye.fi=Ye.ast;Ye.fil=Ye.ceb;Ye.fo=Ye.af;Ye.fur=Ye.af;Ye.fy=Ye.ast;Ye.gl=Ye.ast;Ye.gu=Ye.am;Ye.ha=Ye.af;Ye.hi=Ye.am;Ye.hr=Ye.bs;Ye.hsb=Ye.dsb;Ye.hu=Ye.af;Ye.hy=Ye.ff;Ye.ia=Ye.ast;Ye.id=Ye.dz;Ye.ig=Ye.dz;Ye.ii=Ye.dz;Ye.it=Ye.ca;Ye.ja=Ye.dz;Ye.jgo=Ye.af;Ye.jv=Ye.dz;Ye.ka=Ye.af;Ye.kea=Ye.dz;Ye.kk=Ye.af;Ye.kl=Ye.af;Ye.km=Ye.dz;Ye.kn=Ye.am;Ye.ko=Ye.dz;Ye.ks=Ye.af;Ye.ksh=Ye.blo;Ye.ku=Ye.af;Ye.ky=Ye.af;Ye.lb=Ye.af;Ye.lkt=Ye.dz;Ye.lo=Ye.dz;Ye.ml=Ye.af;Ye.mn=Ye.af;Ye.mr=Ye.af;Ye.ms=Ye.dz;Ye.my=Ye.dz;Ye.nb=Ye.af;Ye.ne=Ye.af;Ye.nl=Ye.ast;Ye.nn=Ye.af;Ye.no=Ye.af;Ye.nqo=Ye.dz;Ye.om=Ye.af;Ye.or=Ye.af;Ye.pa=Ye.ak;Ye.pcm=Ye.am;Ye.ps=Ye.af;Ye.rm=Ye.af;Ye.sah=Ye.dz;Ye.sc=Ye.ast;Ye.sd=Ye.af;Ye.sk=Ye.cs;Ye.so=Ye.af;Ye.sq=Ye.af;Ye.sr=Ye.bs;Ye.su=Ye.dz;Ye.sv=Ye.ast;Ye.sw=Ye.ast;Ye.syr=Ye.af;Ye.ta=Ye.af;Ye.te=Ye.af;Ye.th=Ye.dz;Ye.ti=Ye.ak;Ye.tk=Ye.af;Ye.tn=Ye.af;Ye.to=Ye.dz;Ye.tr=Ye.af;Ye.ug=Ye.af;Ye.uk=Ye.ru;Ye.ur=Ye.ast;Ye.uz=Ye.af;Ye.vec=Ye.ca;Ye.vi=Ye.dz;Ye.wae=Ye.af;Ye.wo=Ye.dz;Ye.xh=Ye.af;Ye.yi=Ye.ast;Ye.yo=Ye.dz;Ye.yue=Ye.dz;Ye.zh=Ye.dz;Ye.zu=Ye.am;function $9(e){return e==="pt-PT"?e:ist(e)}var rst=/^([a-z0-9]+)/i;function ist(e){var t=e.match(rst);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}function _S(e){"@babel/helpers - typeof";return _S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_S(e)}function sst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ast(r.key),r)}}function ost(e,t,n){return t&&eW(e.prototype,t),n&&eW(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ast(e){var t=lst(e,"string");return _S(t)=="symbol"?t:t+""}function lst(e,t){if(_S(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_S(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lM=function(){function e(t,n){sst(this,e);var r=e.supportedLocalesOf(t);if(r.length===0)throw new RangeError("Unsupported locale: "+t);if(n&&n.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=Ye[$9(r[0])]}return ost(e,[{key:"select",value:function(n){return this.$(n)}}],[{key:"supportedLocalesOf",value:function(n){return typeof n=="string"&&(n=[n]),n.filter(function(r){return Ye[$9(r)]})}}]),e}();function Sw(e){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sw(e)}function tW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tW(Object(n),!0).forEach(function(r){cst(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cst(e,t,n){return(t=bie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rW(e,t){return fst(e)||hst(e,t)||dst(e,t)||ust()}function ust(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dst(e,t){if(e){if(typeof e=="string")return iW(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iW(e,t):void 0}}function iW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function hst(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function fst(e){if(Array.isArray(e))return e}function pst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gst(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bie(r.key),r)}}function mst(e,t,n){return t&&gst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bie(e){var t=vst(e,"string");return Sw(t)=="symbol"?t:t+""}function vst(e,t){if(Sw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yst=["second","minute","hour","day","week","month","quarter","year"],wst=["auto","always"],Cst=["long","short","narrow"],bst=["lookup","best fit"],Ug=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};pst(this,e);var r=n.numeric,i=n.style,s=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(wst.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(i!==void 0){if(Cst.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(s!==void 0){if(bst.indexOf(s)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(s));this.localeMatcher=s}if(typeof t=="string"&&(t=[t]),t.push(wie()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");lM.supportedLocalesOf(this.locale).length>0?this.pluralRules=new lM(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=Cie(this.locale,{localeMatcher:this.localeMatcher})}return mst(e,[{key:"format",value:function(){var n=sW(arguments),r=rW(n,2),i=r[0],s=r[1];return this.getRule(i,s).replace("{0}",this.formatNumber(Math.abs(i)))}},{key:"formatToParts",value:function(){var n=sW(arguments),r=rW(n,2),i=r[0],s=r[1],o=this.getRule(i,s),a=o.indexOf("{0}");if(a<0)return[{type:"literal",value:o}];var l=[];return a>0&&l.push({type:"literal",value:o.slice(0,a)}),l=l.concat(this.formatNumberToParts(Math.abs(i)).map(function(c){return nW(nW({},c),{},{unit:s})})),a+3<o.length-1&&l.push({type:"literal",value:o.slice(a+3)}),l}},{key:"getRule",value:function(n,r){var i=tst(this.locale)[this.style][r];if(typeof i=="string")return i;if(this.numeric==="auto"){if(n===-2||n===-1){var s=i["previous".concat(n===-1?"":"-"+Math.abs(n))];if(s)return s}else if(n===1||n===2){var o=i["next".concat(n===1?"":"-"+Math.abs(n))];if(o)return o}else if(n===0&&i.current)return i.current}var a=i[Tst(n)?"past":"future"];if(typeof a=="string")return a;var l=this.pluralRules&&this.pluralRules.select(Math.abs(n))||"other";return a[l]||a.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"formatNumberToParts",value:function(n){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(n):[{type:"integer",value:this.formatNumber(n)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),e}();Ug.supportedLocalesOf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e=="string")e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter(function(n){return Cie(n,t)})};Ug.addLocale=nst;Ug.setDefaultLocale=est;Ug.getDefaultLocale=wie;Ug.PluralRules=lM;var _2='Invalid "unit" argument';function xst(e){if(Sw(e)==="symbol")throw new TypeError(_2);if(typeof e!="string")throw new RangeError("".concat(_2,": ").concat(e));if(e[e.length-1]==="s"&&(e=e.slice(0,e.length-1)),yst.indexOf(e)<0)throw new RangeError("".concat(_2,": ").concat(e));return e}var Sst='Invalid "number" argument';function _st(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(Sst,": ").concat(e));return e}function Est(e){return 1/e===-1/0}function Tst(e){return e<0||e===0&&Est(e)}function sW(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[_st(e[0]),xst(e[1])]}function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}function Rst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ast(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pst(r.key),r)}}function kst(e,t,n){return t&&Ast(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pst(e){var t=Dst(e,"string");return G0(t)=="symbol"?t:t+""}function Dst(e,t){if(G0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oW=function(){function e(){Rst(this,e),this.cache={}}return kst(e,[{key:"get",value:function(){for(var n=this.cache,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(var o=0,a=i;o<a.length;o++){var l=a[o];if(G0(n)!=="object")return;n=n[l]}return n}},{key:"put",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var s=r.pop(),o=r.pop(),a=this.cache,l=0,c=r;l<c.length;l++){var u=c[l];G0(a[u])!=="object"&&(a[u]={}),a=a[u]}return a[o]=s}}]),e}();function cM(e){"@babel/helpers - typeof";return cM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cM(e)}function Fst(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Ist(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ist(e,t){if(e){if(typeof e=="string")return aW(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aW(e,t):void 0}}function aW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Mst(e,t){for(var n=Fst(e),r;!(r=n()).done;){var i=r.value;if(t(i))return i;for(var s=i.split("-");s.length>1;)if(s.pop(),i=s.join("-"),t(i))return i}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}function Ost(){var e=(typeof Intl>"u"?"undefined":cM(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function uM(e){"@babel/helpers - typeof";return uM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uM(e)}function Lst(e){return Bst(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||typeof e.flavour=="string"||Array.isArray(e.labels)||typeof e.labels=="string"||Array.isArray(e.units)||typeof e.custom=="function")}var Nst={}.constructor;function Bst(e){return uM(e)!==void 0&&e!==null&&e.constructor===Nst}var Bf=60,FR=60*Bf,m0=24*FR,dM=7*m0,hM=30.44*m0,xie=146097/400*m0;function Uy(e){switch(e){case"second":return 1;case"minute":return Bf;case"hour":return FR;case"day":return m0;case"week":return dM;case"month":return hM;case"year":return xie}}function Sie(e){return e.factor!==void 0?e.factor:Uy(e.unit||e.formatAs)||1}function ES(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function vB(e){switch(e){case"floor":return 1;default:return .5}}function fM(e){"@babel/helpers - typeof";return fM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fM(e)}function _ie(e,t){var n=t.prevStep,r=t.timestamp,i=t.now,s=t.future,o=t.round,a;return n&&(n.id||n.unit)&&(a=e["threshold_for_".concat(n.id||n.unit)]),a===void 0&&e.threshold!==void 0&&(a=e.threshold,typeof a=="function"&&(a=a(i,s))),a===void 0&&(a=e.minTime),fM(a)==="object"&&(n&&n.id&&a[n.id]!==void 0?a=a[n.id]:a=a.default),typeof a=="function"&&(a=a(r,{future:s,getMinTimeForUnit:function(c,u){return lW(c,u||n&&n.formatAs,{round:o})}})),a===void 0&&e.test&&(e.test(r,{now:i,future:s})?a=0:a=9007199254740991),a===void 0&&(n?e.formatAs&&n.formatAs&&(a=lW(e.formatAs,n.formatAs,{round:o})):a=0),a===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),a}function lW(e,t,n){var r=n.round,i=Uy(e),s;if(t==="now"?s=Uy(e):s=Uy(t),i!==void 0&&s!==void 0)return i-s*(1-vB(r))}function TS(e){"@babel/helpers - typeof";return TS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TS(e)}function cW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vst(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cW(Object(n),!0).forEach(function(r){Hst(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hst(e,t,n){return(t=zst(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zst(e){var t=Gst(e,"string");return TS(t)=="symbol"?t:t+""}function Gst(e,t){if(TS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(TS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ust(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.units;e=jst(e,o);var a=Wst(e,t,{now:r,future:i,round:s});{if(a){var l=e[e.indexOf(a)-1],c=e[e.indexOf(a)+1];return[l,a,c]}return[void 0,void 0,e[0]]}}function Wst(e,t,n){var r=n.now,i=n.future,s=n.round;if(e.length!==0){var o=Eie(e,t,{now:r,future:i||t<0,round:s});if(o!==-1){var a=e[o];if(a.granularity){var l=ES(s)(Math.abs(t)/Sie(a)/a.granularity)*a.granularity;if(l===0&&o>0)return e[o-1]}return a}}}function Eie(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=_ie(e[r],Vst({prevStep:e[r-1],timestamp:n.now-t*1e3},n));return i===void 0||Math.abs(t)<i?r-1:r===e.length-1?r:Eie(e,t,n,r+1)}function jst(e,t){return e.filter(function(n){var r=n.unit,i=n.formatAs;return r=r||i,r?t.indexOf(r)>=0:!0})}function Kst(e,t,n){var r=n.now,i=n.round;if(Uy(e)){var s=Uy(e)*1e3,o=t>r,a=Math.abs(t-r),l=ES(i)(a/s)*s;return o?l>0?a-l+Xst(i,s):a-l+1:-(a-l)+Yst(i,s)}}function Yst(e,t){return vB(e)*t}function Xst(e,t){return(1-vB(e))*t+1}var Zst=365*24*60*60*1e3,Tie=1e3*Zst;function qst(e,t,n){var r=n.prevStep,i=n.nextStep,s=n.now,o=n.future,a=n.round,l=e.getTime?e.getTime():e,c=function(y){return Kst(y,l,{now:s,round:a})},u=Jst(o?t:i,l,{future:o,now:s,round:a,prevStep:o?r:t});if(u!==void 0){var h;if(t&&(t.getTimeToNextUpdate&&(h=t.getTimeToNextUpdate(l,{getTimeToNextUpdateForUnit:c,getRoundFunction:ES,now:s,future:o,round:a})),h===void 0)){var p=t.unit||t.formatAs;p&&(h=c(p))}return h===void 0?u:Math.min(h,u)}}function Qst(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep,a=_ie(e,{timestamp:t,now:r,future:i,round:s,prevStep:o});if(a!==void 0)return i?t-a*1e3+1:a===0&&t===r?Tie:t+a*1e3}function Jst(e,t,n){var r=n.now,i=n.future,s=n.round,o=n.prevStep;if(e){var a=Qst(e,t,{now:r,future:i,round:s,prevStep:o});return a===void 0?void 0:a-r}else return i?t-r+1:Tie}var Rie={};function vy(e){return Rie[e]}function Aie(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");Rie[e.locale]=e}const $st=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],pM={steps:$st,labels:"long"};function RS(e){"@babel/helpers - typeof";return RS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RS(e)}function uW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uW(Object(n),!0).forEach(function(r){eot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eot(e,t,n){return(t=tot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tot(e){var t=not(e,"string");return RS(t)=="symbol"?t:t+""}function not(e,t){if(RS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(RS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const gM=dW(dW({},pM),{},{steps:pM.steps.filter(function(e){return e.formatAs!=="second"})}),kie=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:Bf,unit:"minute"},{threshold:2.5*Bf,granularity:5,factor:Bf,unit:"minute"},{threshold:22.5*Bf,factor:.5*FR,unit:"half-hour"},{threshold:42.5*Bf,threshold_for_minute:52.5*Bf,factor:FR,unit:"hour"},{threshold:20.5/24*m0,factor:m0,unit:"day"},{threshold:5.5*m0,factor:dM,unit:"week"},{threshold:3.5*dM,factor:hM,unit:"month"},{threshold:10.5*hM,factor:xie,unit:"year"}],hW={gradation:kie,flavour:"long",units:["now","minute","hour","day","week","month","year"]},rot={gradation:kie,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Pie(e){return e instanceof Date?e:new Date(e)}var mM=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Uh={},iot={minTime:function(t,n){n.future;var r=n.getMinTimeForUnit;return r("day")},format:function(t,n){return Uh[n]||(Uh[n]={}),Uh[n].dayMonth||(Uh[n].dayMonth=new Intl.DateTimeFormat(n,{month:"short",day:"numeric"})),Uh[n].dayMonth.format(Pie(t))}},sot={minTime:function(t,n){var r=n.future;if(r){var i=new Date(new Date(t).getFullYear(),0).getTime()-1;return(t-i)/1e3}else{var s=new Date(new Date(t).getFullYear()+1,0).getTime();return(s-t)/1e3}},format:function(t,n){return Uh[n]||(Uh[n]={}),Uh[n].dayMonthYear||(Uh[n].dayMonthYear=new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"})),Uh[n].dayMonthYear.format(Pie(t))}};Ost()?mM.push(iot,sot):mM.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const U0={steps:mM,labels:["mini","short-time","narrow","short"]};function AS(e){"@babel/helpers - typeof";return AS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AS(e)}function fW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fW(Object(n),!0).forEach(function(r){oot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oot(e,t,n){return(t=aot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aot(e){var t=lot(e,"string");return AS(t)=="symbol"?t:t+""}function lot(e,t){if(AS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(AS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const cot=pW(pW({},U0),{},{steps:[{formatAs:"now"}].concat(U0.steps)});function kS(e){"@babel/helpers - typeof";return kS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kS(e)}function gW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gW(Object(n),!0).forEach(function(r){uot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uot(e,t,n){return(t=dot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dot(e){var t=hot(e,"string");return kS(t)=="symbol"?t:t+""}function hot(e,t){if(kS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const vM=mW(mW({},U0),{},{steps:U0.steps.filter(function(e){return e.formatAs!=="second"})});function PS(e){"@babel/helpers - typeof";return PS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PS(e)}function vW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vW(Object(n),!0).forEach(function(r){fot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fot(e,t,n){return(t=pot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pot(e){var t=got(e,"string");return PS(t)=="symbol"?t:t+""}function got(e,t){if(PS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(PS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const mot=yW(yW({},vM),{},{steps:[{formatAs:"now"}].concat(vM.steps)});function DS(e){"@babel/helpers - typeof";return DS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DS(e)}function wW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wW(Object(n),!0).forEach(function(r){vot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vot(e,t,n){return(t=yot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yot(e){var t=wot(e,"string");return DS(t)=="symbol"?t:t+""}function wot(e,t){if(DS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(DS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Cot=uE(uE({},U0),{},{steps:U0.steps.filter(function(e){return e.formatAs!=="second"}).map(function(e){return e.formatAs==="minute"?uE(uE({},e),{},{minTime:Bf}):e})}),FS={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function IS(e){"@babel/helpers - typeof";return IS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IS(e)}function CW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CW(Object(n),!0).forEach(function(r){bot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bot(e,t,n){return(t=xot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xot(e){var t=Sot(e,"string");return IS(t)=="symbol"?t:t+""}function Sot(e,t){if(IS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(IS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const _ot=bW(bW({},FS),{},{steps:[{formatAs:"now"}].concat(FS.steps)});function MS(e){"@babel/helpers - typeof";return MS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MS(e)}function xW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xW(Object(n),!0).forEach(function(r){Eot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eot(e,t,n){return(t=Tot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tot(e){var t=Rot(e,"string");return MS(t)=="symbol"?t:t+""}function Rot(e,t){if(MS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(MS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const yM=SW(SW({},FS),{},{steps:FS.steps.filter(function(e){return e.formatAs!=="second"})});function OS(e){"@babel/helpers - typeof";return OS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OS(e)}function _W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_W(Object(n),!0).forEach(function(r){Aot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_W(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aot(e,t,n){return(t=kot(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kot(e){var t=Pot(e,"string");return OS(t)=="symbol"?t:t+""}function Pot(e,t){if(OS(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(OS(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const Dot=EW(EW({},yM),{},{steps:[{formatAs:"now"}].concat(yM.steps)});function Fot(e){switch(e){case"default":case"round":return pM;case"round-minute":return gM;case"approximate":return hW;case"time":case"approximate-time":return rot;case"mini":return FS;case"mini-now":return _ot;case"mini-minute":return yM;case"mini-minute-now":return Dot;case"twitter":return U0;case"twitter-now":return cot;case"twitter-minute":return vM;case"twitter-minute-now":return mot;case"twitter-first-minute":return Cot;default:return hW}}function W0(e){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W0(e)}function Iot(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Die(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mot(e,t){return Not(e)||Lot(e,t)||Die(e,t)||Oot()}function Oot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Die(e,t){if(e){if(typeof e=="string")return TW(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TW(e,t):void 0}}function TW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Lot(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Not(e){if(Array.isArray(e))return e}function Bot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zot(r.key),r)}}function Hot(e,t,n){return t&&Vot(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zot(e){var t=Got(e,"string");return W0(t)=="symbol"?t:t+""}function Got(e,t){if(W0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(W0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sh=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.polyfill;Bot(this,e),typeof t=="string"&&(t=[t]),this.locale=Mst(t.concat(e.getDefaultLocale()),vy),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=Ug,this.IntlPluralRules=Ug.PluralRules),this.relativeTimeFormatCache=new oW,this.pluralRulesCache=new oW}return Hot(e,[{key:"format",value:function(n,r,i){i||(r&&!Yot(r)?(i=r,r=void 0):i={}),r||(r=gM),typeof r=="string"&&(r=Fot(r));var s=Uot(n),o=this.getLabels(r.flavour||r.labels),a=o.labels,l=o.labelsType,c;r.now!==void 0&&(c=r.now),c===void 0&&i.now!==void 0&&(c=i.now),c===void 0&&(c=Date.now());var u=(c-s)/1e3,h=i.future||u<0,p=Kot(a,vy(this.locale).now,vy(this.locale).long,h);if(r.custom){var m=r.custom({now:c,date:new Date(s),time:s,elapsed:u,locale:this.locale});if(m!==void 0)return m}var y=jot(r.units,a,p),w=i.round||r.round,b=Ust(r.gradation||r.steps||gM.steps,u,{now:c,units:y,round:w,future:h}),S=Mot(b,3),E=S[0],_=S[1],N=S[2],V=this.formatDateForStep(s,_,u,{labels:a,labelsType:l,nowLabel:p,now:c,future:h,round:w})||"";if(i.getTimeToNextUpdate){var M=qst(s,_,{nextStep:N,prevStep:E,now:c,future:h,round:w});return[V,M]}return V}},{key:"formatDateForStep",value:function(n,r,i,s){var o=this,a=s.labels,l=s.labelsType,c=s.nowLabel,u=s.now,h=s.future,p=s.round;if(r){if(r.format)return r.format(n,this.locale,{formatAs:function(S,E){return o.formatValue(E,S,{labels:a,future:h})},now:u,future:h});var m=r.unit||r.formatAs;if(!m)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(m==="now")return c;var y=Math.abs(i)/Sie(r);r.granularity&&(y=ES(p)(y/r.granularity)*r.granularity);var w=-1*Math.sign(i)*ES(p)(y);switch(w===0&&(h?w=0:w=-0),l){case"long":case"short":case"narrow":return this.getFormatter(l).format(w,m);default:return this.formatValue(w,m,{labels:a,future:h})}}}},{key:"formatValue",value:function(n,r,i){var s=i.labels,o=i.future;return this.getFormattingRule(s,r,n,{future:o}).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"getFormattingRule",value:function(n,r,i,s){var o=s.future;if(this.locale,n=n[r],typeof n=="string")return n;var a=i===0?o?"future":"past":i<0?"past":"future",l=n[a]||n;if(typeof l=="string")return l;var c=this.getPluralRules().select(Math.abs(i));return l[c]||l.other}},{key:"formatNumber",value:function(n){return this.numberFormat?this.numberFormat.format(n):String(n)}},{key:"getFormatter",value:function(n){return this.relativeTimeFormatCache.get(this.locale,n)||this.relativeTimeFormatCache.put(this.locale,n,new this.IntlRelativeTimeFormat(this.locale,{style:n}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof n=="string"&&(n=[n]),n=n.map(function(a){switch(a){case"tiny":case"mini-time":return"mini";default:return a}}),n=n.concat("long");for(var r=vy(this.locale),i=Iot(n),s;!(s=i()).done;){var o=s.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),e}(),Fie="en";sh.getDefaultLocale=function(){return Fie};sh.setDefaultLocale=function(e){return Fie=e};sh.addDefaultLocale=function(e){if(RW)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");RW=!0,sh.setDefaultLocale(e.locale),sh.addLocale(e)};var RW;sh.addLocale=function(e){Aie(e),Ug.addLocale(e)};sh.locale=sh.addLocale;sh.addLabels=function(e,t,n){var r=vy(e);r||(Aie({locale:e}),r=vy(e)),r[t]=n};function Uot(e){if(e.constructor===Date||Wot(e))return e.getTime();if(typeof e=="number")return e;throw new Error("Unsupported relative time formatter input: ".concat(W0(e),", ").concat(e))}function Wot(e){return W0(e)==="object"&&typeof e.getTime=="function"}function jot(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter(function(i){return i==="now"||r.indexOf(i)>=0})),r}function Kot(e,t,n,r){var i=e.now||t&&t.now;if(i)return typeof i=="string"?i:r?i.future:i.past;if(n&&n.second&&n.second.current)return n.second.current}function Yot(e){return typeof e=="string"||Lst(e)}const Xot={locale:"es",long:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:{one:"hace {0} ao",other:"hace {0} aos"},future:{one:"dentro de {0} ao",other:"dentro de {0} aos"}},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:{one:"hace {0} trimestre",other:"hace {0} trimestres"},future:{one:"dentro de {0} trimestre",other:"dentro de {0} trimestres"}},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:{one:"hace {0} mes",other:"hace {0} meses"},future:{one:"dentro de {0} mes",other:"dentro de {0} meses"}},week:{previous:"la semana pasada",current:"esta semana",next:"la prxima semana",past:{one:"hace {0} semana",other:"hace {0} semanas"},future:{one:"dentro de {0} semana",other:"dentro de {0} semanas"}},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:{one:"hace {0} da",other:"hace {0} das"},future:{one:"dentro de {0} da",other:"dentro de {0} das"}},hour:{current:"esta hora",past:{one:"hace {0} hora",other:"hace {0} horas"},future:{one:"dentro de {0} hora",other:"dentro de {0} horas"}},minute:{current:"este minuto",past:{one:"hace {0} minuto",other:"hace {0} minutos"},future:{one:"dentro de {0} minuto",other:"dentro de {0} minutos"}},second:{current:"ahora",past:{one:"hace {0} segundo",other:"hace {0} segundos"},future:{one:"dentro de {0} segundo",other:"dentro de {0} segundos"}}},short:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"prx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},narrow:{year:{previous:"el ao pasado",current:"este ao",next:"el prximo ao",past:"hace {0} a",future:"dentro de {0} a"},quarter:{previous:"el trimestre pasado",current:"este trimestre",next:"el prximo trimestre",past:"hace {0} trim.",future:"dentro de {0} trim."},month:{previous:"el mes pasado",current:"este mes",next:"el prximo mes",past:"hace {0} m",future:"dentro de {0} m"},week:{previous:"sem. ant.",current:"esta sem.",next:"prx. sem.",past:"hace {0} sem.",future:"dentro de {0} sem."},day:{previous:"ayer","previous-2":"anteayer",current:"hoy",next:"maana","next-2":"pasado maana",past:"hace {0} d",future:"dentro de {0} d"},hour:{current:"esta hora",past:"hace {0} h",future:"dentro de {0} h"},minute:{current:"este minuto",past:"hace {0} min",future:"dentro de {0} min"},second:{current:"ahora",past:"hace {0} s",future:"dentro de {0} s"}},now:{now:{current:"ahora",future:"enseguida",past:"ahora mismo"}},mini:{year:{one:"{0} ao",other:"{0} aos"},month:{one:"{0} mes",other:"{0} meses"},week:"{0} sem.",day:{one:"{0} da",other:"{0} das"},hour:{one:"{0} hora",other:"{0} horas"},minute:"{0} min.",second:"{0} seg.",now:"ahora"},"long-time":{year:{one:"{0} ao",other:"{0} aos"},month:{one:"{0} mes",other:"{0} meses"},week:{one:"{0} semana",other:"{0} semanas"},day:{one:"{0} da",other:"{0} das"},hour:{one:"{0} hora",other:"{0} horas"},minute:{one:"{0} minuto",other:"{0} minutos"},second:{one:"{0} segundo",other:"{0} segundos"}}};sh.addDefaultLocale(Xot);const Zot=new sh("es-CO"),qot=({comment:e})=>B.jsxs("div",{className:"comment-item",children:[B.jsx("div",{className:"comment-avatar",children:B.jsx(JR,{size:20})}),B.jsxs("div",{className:"comment-body",children:[B.jsxs("div",{className:"comment-header",children:[B.jsx("span",{className:"comment-author",children:e.studentName}),B.jsx("span",{className:"comment-timestamp",children:Zot.format(e.createdAt)})]}),B.jsx("p",{className:"comment-text text-start",children:e.text})]})]}),Qot=({postId:e})=>{const{user:t}=dh(),{comments:n,fetchComments:r,isLoadingComments:i}=gB(),s=n[e]||[],[o,a]=I.useState(""),[l,c]=I.useState(!1);I.useEffect(()=>{r&&typeof r=="function"&&r(e)},[e,r]);const u=async h=>{if(h.preventDefault(),!(!o.trim()||!t)){c(!0);try{await qit(e,{text:o,studentId:t.id,studentName:t.name}),a("")}catch(p){console.error("Error adding comment:",p)}finally{c(!1)}}};return B.jsxs("div",{className:"d-flex flex-column h-100",children:[B.jsx("h5",{className:"mb-3",children:"Comentarios"}),B.jsxs("div",{className:"flex-grow-1",style:{overflowY:"auto",overflowX:"hidden"},children:[i&&B.jsx("div",{className:"text-center",children:B.jsx(Ll,{animation:"border",size:"sm"})}),!i&&s.length===0&&B.jsx("p",{className:"text-muted text-center mt-3",children:"No hay comentarios an. S el primero!"}),B.jsx("div",{children:s.map(h=>B.jsx(qot,{comment:h},h.id))})]}),t?.role===Ln.STUDENT&&B.jsxs(ar,{onSubmit:u,className:"mt-auto pt-3 border-top",children:[B.jsx(ar.Group,{children:B.jsx(ar.Control,{as:"textarea",rows:2,value:o,onChange:h=>a(h.target.value),placeholder:"Escribe un comentario...",required:!0,className:"mb-2"})}),B.jsx("div",{className:"d-grid",children:B.jsx(hi,{variant:"primary",type:"submit",disabled:l,children:l?"Enviando...":"Enviar Comentario"})})]})]})},Jot=({post:e,onClose:t})=>{const{user:n}=dh(),i=gB(p=>p.posts.find(m=>m.id===e.id))||e,[s,o]=I.useState(!1),[a,l]=I.useState(!1),c=I.useMemo(()=>n?i.likes.includes(n.id):!1,[i.likes,n]),u=async()=>{if(!(!n||n.role!==Ln.STUDENT)){o(!0);try{await Zit(i.id,n.id,c)}catch(p){console.error("Error toggling like:",p)}finally{o(!1)}}},h=async()=>{if(!(!n||n.role!==Ln.TEACHER)&&window.confirm("Ests seguro de que quieres borrar este post? Esta accin no se puede deshacer.")){l(!0);try{await Jit(i),t()}catch(p){console.error("Error deleting post:",p),alert("Hubo un error al borrar el post.")}finally{l(!1)}}};return B.jsx(Yi,{show:!0,onHide:t,size:"xl",centered:!0,contentClassName:"bg-transparent border-0",children:B.jsx(Ly.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},children:B.jsx(Yi.Body,{className:"p-0",children:B.jsxs(ew,{className:"g-0",children:[B.jsx(Qh,{md:7,className:"d-flex align-items-center justify-content-center bg-dark",children:B.jsx("img",{src:i.imageUrl,alt:i.description,className:"img-fluid",style:{maxHeight:"90vh",objectFit:"contain"}})}),B.jsxs(Qh,{md:5,className:"bg-light p-4 d-flex flex-column",children:[B.jsxs("div",{children:[B.jsx("p",{children:i.description}),B.jsx("hr",{}),B.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[B.jsxs("div",{children:[n?.role===Ln.STUDENT&&B.jsx(hi,{variant:"link",onClick:u,disabled:s,className:"p-0 me-2",children:B.jsx(wK,{size:24,color:c?"red":"black",fill:c?"red":"none"})}),B.jsxs("span",{children:["A ",i.likes.length," personas les gusta esto"]})]}),n?.role===Ln.TEACHER&&B.jsx(hi,{variant:"outline-danger",onClick:h,disabled:a,children:a?B.jsx(Ll,{size:"sm"}):B.jsx(QR,{size:20})})]})]}),B.jsx("div",{className:"flex-grow-1 mt-3",children:B.jsx(Qot,{postId:i.id})}),B.jsx(hi,{variant:"secondary",onClick:t,className:"mt-auto",children:"Cerrar"})]})]})})})})},$ot=({sessionId:e,onClose:t})=>{const{user:n}=dh(),[r,i]=I.useState(""),[s,o]=I.useState(null),[a,l]=I.useState(!1),[c,u]=I.useState(null),h=m=>{m.target.files&&m.target.files[0]&&o(m.target.files[0])},p=async m=>{if(m.preventDefault(),!s||!n){u("Por favor, selecciona una imagen.");return}l(!0),u(null);const y={imageFile:s,description:r,sessionId:e,teacherId:n.id};try{await Yit(y),t()}catch(w){u("Hubo un error al subir el post. Intntalo de nuevo."),console.error(w)}finally{l(!1)}};return B.jsxs(Yi,{show:!0,onHide:t,centered:!0,children:[B.jsx(Yi.Header,{closeButton:!0,children:B.jsx(Yi.Title,{children:"Crear Nuevo Post"})}),B.jsx(Yi.Body,{children:B.jsxs(ar,{onSubmit:p,children:[B.jsxs(ar.Group,{controlId:"formFile",className:"mb-3",children:[B.jsx(ar.Label,{children:"Imagen del Post"}),B.jsx(ar.Control,{type:"file",accept:"image/*",onChange:h,required:!0})]}),B.jsxs(ar.Group,{controlId:"formDescription",className:"mb-3",children:[B.jsx(ar.Label,{children:"Descripcin (opcional)"}),B.jsx(ar.Control,{as:"textarea",rows:3,value:r,onChange:m=>i(m.target.value),placeholder:"Aade una descripcin..."})]}),c&&B.jsx("p",{className:"text-danger",children:c}),B.jsx("div",{className:"d-grid",children:B.jsx(hi,{variant:"primary",type:"submit",disabled:a,children:a?B.jsxs(B.Fragment,{children:[B.jsx(Ll,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," ","Subiendo..."]}):"Publicar"})})]})})]})},eat=()=>{const{sessionId:e}=n7(),{user:t}=dh(),{posts:n,fetchPosts:r,cleanup:i}=gB(),[s,o]=I.useState(null),[a,l]=I.useState(!1);I.useEffect(()=>(e&&r(e),()=>{i()}),[e,r,i]);const c=m=>{o(m)},u=()=>{o(null)},h=()=>{l(!0)},p=()=>{l(!1)};return B.jsxs("div",{className:"post-gallery-container p-4",children:[(e==="taller2-session"||t?.role===Ln.TEACHER)&&B.jsxs(hi,{variant:"success",size:"lg",onClick:h,className:"mb-3",children:[B.jsx(XS,{size:24})," Aadir nuevo post"]}),B.jsx("div",{className:"post-gallery-grid",children:B.jsx(YE,{children:n.map(m=>B.jsx($it,{post:m,onClick:()=>c(m)},m.id))})}),B.jsx(YE,{children:s&&B.jsx(Jot,{post:s,onClose:u})}),B.jsx(YE,{children:a&&B.jsx($ot,{sessionId:e,onClose:p})})]})},tat=()=>B.jsx("div",{children:B.jsx(eat,{})}),yB=({links:e})=>B.jsxs("div",{className:"practice-container",children:[B.jsx("h2",{className:"mb-4 text-center fw-bold",children:"Practice Language Corner"}),B.jsx("div",{className:"practice-grid",children:e.map((t,n)=>B.jsxs(ei,{className:"practice-card shadow-sm",children:[B.jsx(ei.Img,{variant:"top",src:t.image,alt:t.title}),B.jsxs(ei.Body,{children:[B.jsx(ei.Title,{children:t.title}),B.jsx(hi,{variant:"primary",href:t.url,target:"_blank",rel:"noopener noreferrer",children:"Ir al enlace"})]})]},n))})]}),nat="/TutorIngles/assets/Presentation_01-Ck1qVsXL.png",rat="/TutorIngles/assets/Game_01-QwzBtf1o.png",Iie="/TutorIngles/assets/Dictionary-pBSeGeB4.png",Mie="/TutorIngles/assets/Pronunciation-DDloxzgK.png",iat="/TutorIngles/assets/Interactive_video-BelfCrwB.png",sat=[{title:"Culture and traditions vocabulary",image:nat,url:"https://gamma.app/docs/Youth-Culture--4xh4jd5otf2d7bu"},{title:"Game",image:rat,url:"https://wordwall.net/es/resource/100423355/colombian-traditions"},{title:"Dictionary",image:Iie,url:"https://www.wordreference.com/"},{title:"Pronunciation",image:Mie,url:"https://es.forvo.com/"},{title:"Interactive Video",image:iat,url:"https://universidadantonionario.h5p.com/content/1292730562493151328"}],oat=()=>B.jsx(yB,{links:sat}),aat="/TutorIngles/assets/Quiz_01-Erqg12wu.png",lat=[{title:"Dictionary",image:Iie,url:"https://www.wordreference.com/"},{title:"Pronunciation",image:Mie,url:"https://es.forvo.com/"},{title:"Physical appearance quiz",image:aat,url:"https://wayground.com/admin/quiz/69052dd70234d61642cf8701?source=lesson_share_email?lid=tijx3xumsgg5&&utm_source=braze&utm_medium=email&utm_term=button&utm_campaign=Resource_Share_V3"}],cat=()=>B.jsx(yB,{links:lat}),uat="/TutorIngles/assets/Research_01-BXdscUfW.png",dat=[{title:"Roots and Faces",image:uat,url:"https://wordwall.net/es/resource/99800242/roots-faces"}],hat=()=>B.jsx(yB,{links:dat}),fat=({links:e})=>B.jsxs("div",{className:"practice-container",children:[B.jsx("h2",{className:"mb-4 text-center fw-bold",children:"Cultural Stories and Expressions"}),B.jsx("div",{className:"practice-grid",children:e.map((t,n)=>B.jsxs(ei,{className:"practice-card shadow-sm",children:[B.jsx("div",{className:"video-wrapper",children:B.jsxs("video",{controls:!0,children:[B.jsx("source",{src:t.videoUrl,type:"video/mp4"}),"Tu navegador no soporta reproduccin de video."]})}),B.jsx(ei.Body,{children:B.jsx(ei.Title,{children:t.title})})]},n))})]}),pat="/TutorIngles/assets/story_1-BLzuww2A.mp4",gat="/TutorIngles/assets/story_2-DNGaPqyz.mp4",mat="/TutorIngles/assets/story_3-CaWRtnlF.mp4",vat="/TutorIngles/assets/story_4-ZMn8KLmu.mp4",yat=[{title:"Raizal community",videoUrl:pat},{title:"Afrocolombian community",videoUrl:gat},{title:"Kogui child",videoUrl:mat},{title:"Roma woman",videoUrl:vat}],wat=()=>B.jsx(fat,{links:yat});function dE(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var E2={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var AW;function Cat(){return AW||(AW=1,function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(c,u){if(!i[c]){if(!r[c]){var h=typeof dE=="function"&&dE;if(!u&&h)return h(c,!0);if(a)return a(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[c]={exports:{}};r[c][0].call(m.exports,function(y){var w=r[c][1][y];return o(w||y)},m,m.exports,n,r,i,s)}return i[c].exports}for(var a=typeof dE=="function"&&dE,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var c,u,h,p,m,y,w,b=[],S=0,E=l.length,_=E,N=s.getTypeOf(l)!=="string";S<l.length;)_=E-S,h=N?(c=l[S++],u=S<E?l[S++]:0,S<E?l[S++]:0):(c=l.charCodeAt(S++),u=S<E?l.charCodeAt(S++):0,S<E?l.charCodeAt(S++):0),p=c>>2,m=(3&c)<<4|u>>4,y=1<_?(15&u)<<2|h>>6:64,w=2<_?63&h:64,b.push(a.charAt(p)+a.charAt(m)+a.charAt(y)+a.charAt(w));return b.join("")},i.decode=function(l){var c,u,h,p,m,y,w=0,b=0,S="data:";if(l.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var E,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&_--,l.charAt(l.length-2)===a.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=o.uint8array?new Uint8Array(0|_):new Array(0|_);w<l.length;)c=a.indexOf(l.charAt(w++))<<2|(p=a.indexOf(l.charAt(w++)))>>4,u=(15&p)<<4|(m=a.indexOf(l.charAt(w++)))>>2,h=(3&m)<<6|(y=a.indexOf(l.charAt(w++))),E[b++]=c,m!==64&&(E[b++]=u),y!==64&&(E[b++]=h);return E}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function c(u,h,p,m,y){this.compressedSize=u,this.uncompressedSize=h,this.crc32=p,this.compression=m,this.compressedContent=y}c.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return u.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,h,p){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(c,u,h,p){var m=o,y=p+h;c^=-1;for(var w=p;w<y;w++)c=c>>>8^m[255&(c^u[w])];return-1^c}(0|l,a,a.length,0):function(c,u,h,p){var m=o,y=p+h;c^=-1;for(var w=p;w<y;w++)c=c>>>8^m[255&(c^u.charCodeAt(w))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),c=s?"uint8array":"array";function u(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}i.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,h.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},i.compressWorker=function(h){return new u("Deflate",h)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(m,y){var w,b="";for(w=0;w<y;w++)b+=String.fromCharCode(255&m),m>>>=8;return b}function o(m,y,w,b,S,E){var _,N,V=m.file,M=m.compression,O=E!==c.utf8encode,z=a.transformTo("string",E(V.name)),H=a.transformTo("string",c.utf8encode(V.name)),X=V.comment,Q=a.transformTo("string",E(X)),U=a.transformTo("string",c.utf8encode(X)),Z=H.length!==V.name.length,q=U.length!==X.length,me="",se="",ue="",Pe=V.dir,ye=V.date,W={crc32:0,compressedSize:0,uncompressedSize:0};y&&!w||(W.crc32=m.crc32,W.compressedSize=m.compressedSize,W.uncompressedSize=m.uncompressedSize);var re=0;y&&(re|=8),O||!Z&&!q||(re|=2048);var te=0,J=0;Pe&&(te|=16),S==="UNIX"?(J=798,te|=function(fe,De){var at=fe;return fe||(at=De?16893:33204),(65535&at)<<16}(V.unixPermissions,Pe)):(J=20,te|=function(fe){return 63&(fe||0)}(V.dosPermissions)),_=ye.getUTCHours(),_<<=6,_|=ye.getUTCMinutes(),_<<=5,_|=ye.getUTCSeconds()/2,N=ye.getUTCFullYear()-1980,N<<=4,N|=ye.getUTCMonth()+1,N<<=5,N|=ye.getUTCDate(),Z&&(se=s(1,1)+s(u(z),4)+H,me+="up"+s(se.length,2)+se),q&&(ue=s(1,1)+s(u(Q),4)+U,me+="uc"+s(ue.length,2)+ue);var ce="";return ce+=`
\0`,ce+=s(re,2),ce+=M.magic,ce+=s(_,2),ce+=s(N,2),ce+=s(W.crc32,4),ce+=s(W.compressedSize,4),ce+=s(W.uncompressedSize,4),ce+=s(z.length,2),ce+=s(me.length,2),{fileRecord:h.LOCAL_FILE_HEADER+ce+z+me,dirRecord:h.CENTRAL_FILE_HEADER+s(J,2)+ce+s(Q.length,2)+"\0\0\0\0"+s(te,4)+s(b,4)+z+me+Q}}var a=n("../utils"),l=n("../stream/GenericWorker"),c=n("../utf8"),u=n("../crc32"),h=n("../signature");function p(m,y,w,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=w,this.encodeFileName=b,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(m){var y=m.meta.percent||0,w=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:w?(y+100*(w-b-1))/w:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var y=this.streamFiles&&!m.file.dir;if(y){var w=o(m,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var y=this.streamFiles&&!m.file.dir,w=o(m,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),y)this.push({data:function(b){return h.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var w=this.bytesWritten-m,b=function(S,E,_,N,V){var M=a.transformTo("string",V(N));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(S,2)+s(S,2)+s(E,4)+s(_,4)+s(M.length,2)+M}(this.dirRecords.length,w,m,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var y=this;return m.on("data",function(w){y.processChunk(w)}),m.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),m.on("error",function(w){y.error(w)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var y=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var w=0;w<y.length;w++)try{y[w].error(m)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,y=0;y<m.length;y++)m[y].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,c){var u=new o(l.streamFiles,c,l.platform,l.encodeFileName),h=0;try{a.forEach(function(p,m){h++;var y=function(E,_){var N=E||_,V=s[N];if(!V)throw new Error(N+" is not a valid compression method !");return V}(m.options.compression,l.compression),w=m.options.compressionOptions||l.compressionOptions||{},b=m.dir,S=m.date;m._compressWorker(y,w).withStreamInfo("file",{name:p,dir:b,date:S,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(u)}),u.entriesCount=h}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),c=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function h(p){return new o.Promise(function(m,y){var w=p.decompressed.getContentWorker().pipe(new c);w.on("error",function(b){y(b)}).on("end",function(){w.streamInfo.crc32!==p.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var y=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(p)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(w){var b=new l(m);return b.load(w),b}).then(function(w){var b=[o.Promise.resolve(w)],S=w.files;if(m.checkCRC32)for(var E=0;E<S.length;E++)b.push(h(S[E]));return o.Promise.all(b)}).then(function(w){for(var b=w.shift(),S=b.files,E=0;E<S.length;E++){var _=S[E],N=_.fileNameStr,V=s.resolve(_.fileNameStr);y.file(V,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:m.createFolders}),_.dir||(y.file(V).unsafeOriginalName=N)}return b.zipComment.length&&(y.comment=b.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,c){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(a,o),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,c){s.call(this,l),this._helper=a;var u=this;a.on("data",function(h,p){u.push(h)||u._helper.pause(),c&&c(p)}).on("error",function(h){u.emit("error",h)}).on("end",function(){u.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(V,M,O){var z,H=a.getTypeOf(M),X=a.extend(O||{},u);X.date=X.date||new Date,X.compression!==null&&(X.compression=X.compression.toUpperCase()),typeof X.unixPermissions=="string"&&(X.unixPermissions=parseInt(X.unixPermissions,8)),X.unixPermissions&&16384&X.unixPermissions&&(X.dir=!0),X.dosPermissions&&16&X.dosPermissions&&(X.dir=!0),X.dir&&(V=S(V)),X.createFolders&&(z=b(V))&&E.call(this,z,!0);var Q=H==="string"&&X.binary===!1&&X.base64===!1;O&&O.binary!==void 0||(X.binary=!Q),(M instanceof h&&M.uncompressedSize===0||X.dir||!M||M.length===0)&&(X.base64=!1,X.binary=!0,M="",X.compression="STORE",H="string");var U=null;U=M instanceof h||M instanceof l?M:y.isNode&&y.isStream(M)?new w(V,M):a.prepareContent(V,M,X.binary,X.optimizedBinaryString,X.base64);var Z=new p(V,U,X);this.files[V]=Z}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),c=n("./stream/StreamHelper"),u=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),y=n("./nodejsUtils"),w=n("./nodejs/NodejsStreamInputAdapter"),b=function(V){V.slice(-1)==="/"&&(V=V.substring(0,V.length-1));var M=V.lastIndexOf("/");return 0<M?V.substring(0,M):""},S=function(V){return V.slice(-1)!=="/"&&(V+="/"),V},E=function(V,M){return M=M!==void 0?M:u.createFolders,V=S(V),this.files[V]||s.call(this,V,null,{dir:!0,createFolders:M}),this.files[V]};function _(V){return Object.prototype.toString.call(V)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(V){var M,O,z;for(M in this.files)z=this.files[M],(O=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&V(O,z)},filter:function(V){var M=[];return this.forEach(function(O,z){V(O,z)&&M.push(z)}),M},file:function(V,M,O){if(arguments.length!==1)return V=this.root+V,s.call(this,V,M,O),this;if(_(V)){var z=V;return this.filter(function(X,Q){return!Q.dir&&z.test(X)})}var H=this.files[this.root+V];return H&&!H.dir?H:null},folder:function(V){if(!V)return this;if(_(V))return this.filter(function(H,X){return X.dir&&V.test(H)});var M=this.root+V,O=E.call(this,M),z=this.clone();return z.root=O.name,z},remove:function(V){V=this.root+V;var M=this.files[V];if(M||(V.slice(-1)!=="/"&&(V+="/"),M=this.files[V]),M&&!M.dir)delete this.files[V];else for(var O=this.filter(function(H,X){return X.name.slice(0,V.length)===V}),z=0;z<O.length;z++)delete this.files[O[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(V){var M,O={};try{if((O=a.extend(V||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");a.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var z=O.comment||this.comment||"";M=m.generateWorker(this,O,z)}catch(H){(M=new l("error")).error(H)}return new c(M,O.type||"string",O.mimeType)},generateAsync:function(V,M){return this.generateInternalStream(V).accumulate(M)},generateNodeStream:function(V,M){return(V=V||{}).type||(V.type="nodebuffer"),this.generateInternalStream(V).toNodejsStream(M)}};r.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===h)return p-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),h=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&h===p[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),c=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(h){var p=s.getTypeOf(h);return s.checkSupport(p),p!=="string"||o.uint8array?p==="nodebuffer"?new c(h):o.uint8array?new u(s.transformTo("uint8array",h)):new a(s.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=s.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),c=n("../support"),u=n("../external"),h=null;if(c.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(y,w){return new u.Promise(function(b,S){var E=[],_=y._internalType,N=y._outputType,V=y._mimeType;y.on("data",function(M,O){E.push(M),w&&w(O)}).on("error",function(M){E=[],S(M)}).on("end",function(){try{var M=function(O,z,H){switch(O){case"blob":return s.newBlob(s.transformTo("arraybuffer",z),H);case"base64":return l.encode(z);default:return s.transformTo(O,z)}}(N,function(O,z){var H,X=0,Q=null,U=0;for(H=0;H<z.length;H++)U+=z[H].length;switch(O){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(Q=new Uint8Array(U),H=0;H<z.length;H++)Q.set(z[H],X),X+=z[H].length;return Q;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+O+"'")}}(_,E),V);b(M)}catch(O){S(O)}E=[]}).resume()})}function m(y,w,b){var S=w;switch(w){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=w,this._mimeType=b,s.checkSupport(S),this._worker=y.pipe(new o(S)),y.lock()}catch(E){this._worker=new a("error"),this._worker.error(E)}}m.prototype={accumulate:function(y){return p(this,y)},on:function(y,w){var b=this;return y==="data"?this._worker.on(y,function(S){w.call(b,S.data,S.meta)}):this._worker.on(y,function(){s.delay(w,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},y)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return o.nodebuffer?a.newBufferFrom(m,"utf-8"):function(y){var w,b,S,E,_,N=y.length,V=0;for(E=0;E<N;E++)(64512&(b=y.charCodeAt(E)))==55296&&E+1<N&&(64512&(S=y.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),E++),V+=b<128?1:b<2048?2:b<65536?3:4;for(w=o.uint8array?new Uint8Array(V):new Array(V),E=_=0;_<V;E++)(64512&(b=y.charCodeAt(E)))==55296&&E+1<N&&(64512&(S=y.charCodeAt(E+1)))==56320&&(b=65536+(b-55296<<10)+(S-56320),E++),b<128?w[_++]=b:(b<2048?w[_++]=192|b>>>6:(b<65536?w[_++]=224|b>>>12:(w[_++]=240|b>>>18,w[_++]=128|b>>>12&63),w[_++]=128|b>>>6&63),w[_++]=128|63&b);return w}(m)},i.utf8decode=function(m){return o.nodebuffer?s.transformTo("nodebuffer",m).toString("utf-8"):function(y){var w,b,S,E,_=y.length,N=new Array(2*_);for(w=b=0;w<_;)if((S=y[w++])<128)N[b++]=S;else if(4<(E=c[S]))N[b++]=65533,w+=E-1;else{for(S&=E===2?31:E===3?15:7;1<E&&w<_;)S=S<<6|63&y[w++],E--;1<E?N[b++]=65533:S<65536?N[b++]=S:(S-=65536,N[b++]=55296|S>>10&1023,N[b++]=56320|1023&S)}return N.length!==b&&(N.subarray?N=N.subarray(0,b):N.length=b),s.applyFromCharCode(N)}(m=s.transformTo(o.uint8array?"uint8array":"array",m))},s.inherits(h,l),h.prototype.processChunk=function(m){var y=s.transformTo(o.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var w=y;(y=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),y.set(w,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var b=function(E,_){var N;for((_=_||E.length)>E.length&&(_=E.length),N=_-1;0<=N&&(192&E[N])==128;)N--;return N<0||N===0?_:N+c[E[N]]>_?N:_}(y),S=y;b!==y.length&&(o.uint8array?(S=y.subarray(0,b),this.leftOver=y.subarray(b,y.length)):(S=y.slice(0,b),this.leftOver=y.slice(b,y.length))),this.push({data:i.utf8decode(S),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(p,l),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function c(w){return w}function u(w,b){for(var S=0;S<w.length;++S)b[S]=255&w.charCodeAt(S);return b}n("setimmediate"),i.newBlob=function(w,b){i.checkSupport("blob");try{return new Blob([w],{type:b})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(w),S.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(w,b,S){var E=[],_=0,N=w.length;if(N<=S)return String.fromCharCode.apply(null,w);for(;_<N;)b==="array"||b==="nodebuffer"?E.push(String.fromCharCode.apply(null,w.slice(_,Math.min(_+S,N)))):E.push(String.fromCharCode.apply(null,w.subarray(_,Math.min(_+S,N)))),_+=S;return E.join("")},stringifyByChar:function(w){for(var b="",S=0;S<w.length;S++)b+=String.fromCharCode(w[S]);return b},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(w){var b=65536,S=i.getTypeOf(w),E=!0;if(S==="uint8array"?E=h.applyCanBeUsed.uint8array:S==="nodebuffer"&&(E=h.applyCanBeUsed.nodebuffer),E)for(;1<b;)try{return h.stringifyByChunk(w,S,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(w)}function m(w,b){for(var S=0;S<w.length;S++)b[S]=w[S];return b}i.applyFromCharCode=p;var y={};y.string={string:c,array:function(w){return u(w,new Array(w.length))},arraybuffer:function(w){return y.string.uint8array(w).buffer},uint8array:function(w){return u(w,new Uint8Array(w.length))},nodebuffer:function(w){return u(w,a.allocBuffer(w.length))}},y.array={string:p,array:c,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return a.newBufferFrom(w)}},y.arraybuffer={string:function(w){return p(new Uint8Array(w))},array:function(w){return m(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:c,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return a.newBufferFrom(new Uint8Array(w))}},y.uint8array={string:p,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:c,nodebuffer:function(w){return a.newBufferFrom(w)}},y.nodebuffer={string:p,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return y.nodebuffer.uint8array(w).buffer},uint8array:function(w){return m(w,new Uint8Array(w.length))},nodebuffer:c},i.transformTo=function(w,b){if(b=b||"",!w)return b;i.checkSupport(w);var S=i.getTypeOf(b);return y[S][w](b)},i.resolve=function(w){for(var b=w.split("/"),S=[],E=0;E<b.length;E++){var _=b[E];_==="."||_===""&&E!==0&&E!==b.length-1||(_===".."?S.pop():S.push(_))}return S.join("/")},i.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(w)?"nodebuffer":s.uint8array&&w instanceof Uint8Array?"uint8array":s.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(w){if(!s[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(w){var b,S,E="";for(S=0;S<(w||"").length;S++)E+="\\x"+((b=w.charCodeAt(S))<16?"0":"")+b.toString(16).toUpperCase();return E},i.delay=function(w,b,S){setImmediate(function(){w.apply(S||null,b||[])})},i.inherits=function(w,b){function S(){}S.prototype=b.prototype,w.prototype=new S},i.extend=function(){var w,b,S={};for(w=0;w<arguments.length;w++)for(b in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],b)&&S[b]===void 0&&(S[b]=arguments[w][b]);return S},i.prepareContent=function(w,b,S,E,_){return l.Promise.resolve(b).then(function(N){return s.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new l.Promise(function(V,M){var O=new FileReader;O.onload=function(z){V(z.target.result)},O.onerror=function(z){M(z.target.error)},O.readAsArrayBuffer(N)}):N}).then(function(N){var V=i.getTypeOf(N);return V?(V==="arraybuffer"?N=i.transformTo("uint8array",N):V==="string"&&(_?N=o.decode(N):S&&E!==!0&&(N=function(M){return u(M,s.uint8array?new Uint8Array(M.length):new Array(M.length))}(N))),N):l.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),c=n("./support");function u(h){this.files=[],this.loadOptions=h}u.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(p)+", expected "+o.pretty(h)+")")}},isSignature:function(h,p){var m=this.reader.index;this.reader.setIndex(h);var y=this.reader.readString(4)===p;return this.reader.setIndex(m),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",m=o.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,m,y=this.zip64EndOfCentralSize-44;0<y;)h=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var y=p-m;if(0<y)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),c=n("./utf8"),u=n("./compressions"),h=n("./support");function p(m,y){this.options=m,this.loadOptions=y}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var y,w;if(m.skip(22),this.fileNameLength=m.readInt(2),w=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((y=function(b){for(var S in u)if(Object.prototype.hasOwnProperty.call(u,S)&&u[S].magic===b)return u[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,y,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var y=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(y),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var y,w,b,S=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<S;)y=m.readInt(2),w=m.readInt(2),b=m.readData(w),this.extraFields[y]={id:y,length:w,value:b};m.setIndex(S)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(y!==null)this.fileNameStr=y;else{var w=o.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var S=o.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var y=s(m.value);return y.readInt(1)!==1||l(this.fileName)!==y.readInt(4)?null:c.utf8decode(y.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var y=s(m.value);return y.readInt(1)!==1||l(this.fileComment)!==y.readInt(4)?null:c.utf8decode(y.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(y,w,b){this.name=y,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=w,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),c=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(y){var w=null,b="string";try{if(!y)throw new Error("No output type specified.");var S=(b=y.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),w=this._decompressWorker();var E=!this._dataBinary;E&&!S&&(w=w.pipe(new l.Utf8EncodeWorker)),!E&&S&&(w=w.pipe(new l.Utf8DecodeWorker))}catch(_){(w=new u("error")).error(_)}return new o(w,b,"")},async:function(y,w){return this.internalStream(y).accumulate(w)},nodeStream:function(y,w){return this.internalStream(y||"nodebuffer").toNodejsStream(w)},_compressWorker:function(y,w){if(this._data instanceof c&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(b,y,w)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)s.prototype[h[m]]=p;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,u=new l(y),h=s.document.createTextNode("");u.observe(h,{characterData:!0}),o=function(){h.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var w=s.document.createElement("script");w.onreadystatechange=function(){y(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:function(){setTimeout(y,0)};else{var p=new s.MessageChannel;p.port1.onmessage=y,o=function(){p.port2.postMessage(0)}}var m=[];function y(){var w,b;a=!0;for(var S=m.length;S;){for(b=m,m=[],w=-1;++w<S;)b[w]();S=m.length}a=!1}r.exports=function(w){m.push(w)!==1||a||o()}}).call(this,typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function h(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,S!==o&&w(this,S)}function p(S,E,_){this.promise=S,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function m(S,E,_){s(function(){var N;try{N=E(_)}catch(V){return a.reject(S,V)}N===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,N)})}function y(S){var E=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof E=="function")return function(){E.apply(S,arguments)}}function w(S,E){var _=!1;function N(O){_||(_=!0,a.reject(S,O))}function V(O){_||(_=!0,a.resolve(S,O))}var M=b(function(){E(V,N)});M.status==="error"&&N(M.value)}function b(S,E){var _={};try{_.value=S(E),_.status="success"}catch(N){_.status="error",_.value=N}return _}(r.exports=h).prototype.finally=function(S){if(typeof S!="function")return this;var E=this.constructor;return this.then(function(_){return E.resolve(S()).then(function(){return _})},function(_){return E.resolve(S()).then(function(){throw _})})},h.prototype.catch=function(S){return this.then(null,S)},h.prototype.then=function(S,E){if(typeof S!="function"&&this.state===c||typeof E!="function"&&this.state===l)return this;var _=new this.constructor(o);return this.state!==u?m(_,this.state===c?S:E,this.outcome):this.queue.push(new p(_,S,E)),_},p.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},p.prototype.otherCallFulfilled=function(S){m(this.promise,this.onFulfilled,S)},p.prototype.callRejected=function(S){a.reject(this.promise,S)},p.prototype.otherCallRejected=function(S){m(this.promise,this.onRejected,S)},a.resolve=function(S,E){var _=b(y,E);if(_.status==="error")return a.reject(S,_.value);var N=_.value;if(N)w(S,N);else{S.state=c,S.outcome=E;for(var V=-1,M=S.queue.length;++V<M;)S.queue[V].callFulfilled(E)}return S},a.reject=function(S,E){S.state=l,S.outcome=E;for(var _=-1,N=S.queue.length;++_<N;)S.queue[_].callRejected(E);return S},h.resolve=function(S){return S instanceof this?S:a.resolve(new this(o),S)},h.reject=function(S){var E=new this(o);return a.reject(E,S)},h.all=function(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=S.length,N=!1;if(!_)return this.resolve([]);for(var V=new Array(_),M=0,O=-1,z=new this(o);++O<_;)H(S[O],O);return z;function H(X,Q){E.resolve(X).then(function(U){V[Q]=U,++M!==_||N||(N=!0,a.resolve(z,V))},function(U){N||(N=!0,a.reject(z,U))})}},h.race=function(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=S.length,N=!1;if(!_)return this.resolve([]);for(var V=-1,M=new this(o);++V<_;)O=S[V],E.resolve(O).then(function(z){N||(N=!0,a.resolve(M,z))},function(z){N||(N=!0,a.reject(M,z))});var O;return M}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),c=n("./zlib/zstream"),u=Object.prototype.toString,h=0,p=-1,m=0,y=8;function w(S){if(!(this instanceof w))return new w(S);this.options=o.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},S||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var _=s.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(_!==h)throw new Error(l[_]);if(E.header&&s.deflateSetHeader(this.strm,E.header),E.dictionary){var N;if(N=typeof E.dictionary=="string"?a.string2buf(E.dictionary):u.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(_=s.deflateSetDictionary(this.strm,N))!==h)throw new Error(l[_]);this._dict_set=!0}}function b(S,E){var _=new w(E);if(_.push(S,!0),_.err)throw _.msg||l[_.err];return _.result}w.prototype.push=function(S,E){var _,N,V=this.strm,M=this.options.chunkSize;if(this.ended)return!1;N=E===~~E?E:E===!0?4:0,typeof S=="string"?V.input=a.string2buf(S):u.call(S)==="[object ArrayBuffer]"?V.input=new Uint8Array(S):V.input=S,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new o.Buf8(M),V.next_out=0,V.avail_out=M),(_=s.deflate(V,N))!==1&&_!==h)return this.onEnd(_),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(V.output,V.next_out))):this.onData(o.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&_!==1);return N===4?(_=s.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===h):N!==2||(this.onEnd(h),!(V.avail_out=0))},w.prototype.onData=function(S){this.chunks.push(S)},w.prototype.onEnd=function(S){S===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Deflate=w,i.deflate=b,i.deflateRaw=function(S,E){return(E=E||{}).raw=!0,b(S,E)},i.gzip=function(S,E){return(E=E||{}).gzip=!0,b(S,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),c=n("./zlib/messages"),u=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function m(w){if(!(this instanceof m))return new m(w);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},w||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||w&&w.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var S=s.inflateInit2(this.strm,b.windowBits);if(S!==l.Z_OK)throw new Error(c[S]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function y(w,b){var S=new m(b);if(S.push(w,!0),S.err)throw S.msg||c[S.err];return S.result}m.prototype.push=function(w,b){var S,E,_,N,V,M,O=this.strm,z=this.options.chunkSize,H=this.options.dictionary,X=!1;if(this.ended)return!1;E=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof w=="string"?O.input=a.binstring2buf(w):p.call(w)==="[object ArrayBuffer]"?O.input=new Uint8Array(w):O.input=w,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(z),O.next_out=0,O.avail_out=z),(S=s.inflate(O,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&H&&(M=typeof H=="string"?a.string2buf(H):p.call(H)==="[object ArrayBuffer]"?new Uint8Array(H):H,S=s.inflateSetDictionary(this.strm,M)),S===l.Z_BUF_ERROR&&X===!0&&(S=l.Z_OK,X=!1),S!==l.Z_STREAM_END&&S!==l.Z_OK)return this.onEnd(S),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&S!==l.Z_STREAM_END&&(O.avail_in!==0||E!==l.Z_FINISH&&E!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=a.utf8border(O.output,O.next_out),N=O.next_out-_,V=a.buf2string(O.output,_),O.next_out=N,O.avail_out=z-N,N&&o.arraySet(O.output,O.output,_,N,0),this.onData(V)):this.onData(o.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(X=!0)}while((0<O.avail_in||O.avail_out===0)&&S!==l.Z_STREAM_END);return S===l.Z_STREAM_END&&(E=l.Z_FINISH),E===l.Z_FINISH?(S=s.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===l.Z_OK):E!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(O.avail_out=0))},m.prototype.onData=function(w){this.chunks.push(w)},m.prototype.onEnd=function(w){w===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Inflate=m,i.inflate=y,i.inflateRaw=function(w,b){return(b=b||{}).raw=!0,y(w,b)},i.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var h in u)u.hasOwnProperty(h)&&(l[h]=u[h])}}return l},i.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var o={arraySet:function(l,c,u,h,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+h),p);else for(var m=0;m<h;m++)l[p+m]=c[u+m]},flattenChunks:function(l){var c,u,h,p,m,y;for(c=h=0,u=l.length;c<u;c++)h+=l[c].length;for(y=new Uint8Array(h),c=p=0,u=l.length;c<u;c++)m=l[c],y.set(m,p),p+=m.length;return y}},a={arraySet:function(l,c,u,h,p){for(var m=0;m<h;m++)l[p+m]=c[u+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(h,p){if(p<65537&&(h.subarray&&a||!h.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(h,p));for(var m="",y=0;y<p;y++)m+=String.fromCharCode(h[y]);return m}l[254]=l[254]=1,i.string2buf=function(h){var p,m,y,w,b,S=h.length,E=0;for(w=0;w<S;w++)(64512&(m=h.charCodeAt(w)))==55296&&w+1<S&&(64512&(y=h.charCodeAt(w+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),w++),E+=m<128?1:m<2048?2:m<65536?3:4;for(p=new s.Buf8(E),w=b=0;b<E;w++)(64512&(m=h.charCodeAt(w)))==55296&&w+1<S&&(64512&(y=h.charCodeAt(w+1)))==56320&&(m=65536+(m-55296<<10)+(y-56320),w++),m<128?p[b++]=m:(m<2048?p[b++]=192|m>>>6:(m<65536?p[b++]=224|m>>>12:(p[b++]=240|m>>>18,p[b++]=128|m>>>12&63),p[b++]=128|m>>>6&63),p[b++]=128|63&m);return p},i.buf2binstring=function(h){return u(h,h.length)},i.binstring2buf=function(h){for(var p=new s.Buf8(h.length),m=0,y=p.length;m<y;m++)p[m]=h.charCodeAt(m);return p},i.buf2string=function(h,p){var m,y,w,b,S=p||h.length,E=new Array(2*S);for(m=y=0;m<S;)if((w=h[m++])<128)E[y++]=w;else if(4<(b=l[w]))E[y++]=65533,m+=b-1;else{for(w&=b===2?31:b===3?15:7;1<b&&m<S;)w=w<<6|63&h[m++],b--;1<b?E[y++]=65533:w<65536?E[y++]=w:(w-=65536,E[y++]=55296|w>>10&1023,E[y++]=56320|1023&w)}return u(E,y)},i.utf8border=function(h,p){var m;for((p=p||h.length)>h.length&&(p=h.length),m=p-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?p:m+l[h[m]]>p?m:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var c=65535&s|0,u=s>>>16&65535|0,h=0;a!==0;){for(a-=h=2e3<a?2e3:a;u=u+(c=c+o[l++]|0)|0,--h;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,c){var u=s,h=c+l;o^=-1;for(var p=c;p<h;p++)o=o>>>8^u[255&(o^a[p])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),c=n("./crc32"),u=n("./messages"),h=0,p=4,m=0,y=-2,w=-1,b=4,S=2,E=8,_=9,N=286,V=30,M=19,O=2*N+1,z=15,H=3,X=258,Q=X+H+1,U=42,Z=113,q=1,me=2,se=3,ue=4;function Pe(ne,Ge){return ne.msg=u[Ge],Ge}function ye(ne){return(ne<<1)-(4<ne?9:0)}function W(ne){for(var Ge=ne.length;0<=--Ge;)ne[Ge]=0}function re(ne){var Ge=ne.state,Me=Ge.pending;Me>ne.avail_out&&(Me=ne.avail_out),Me!==0&&(o.arraySet(ne.output,Ge.pending_buf,Ge.pending_out,Me,ne.next_out),ne.next_out+=Me,Ge.pending_out+=Me,ne.total_out+=Me,ne.avail_out-=Me,Ge.pending-=Me,Ge.pending===0&&(Ge.pending_out=0))}function te(ne,Ge){a._tr_flush_block(ne,0<=ne.block_start?ne.block_start:-1,ne.strstart-ne.block_start,Ge),ne.block_start=ne.strstart,re(ne.strm)}function J(ne,Ge){ne.pending_buf[ne.pending++]=Ge}function ce(ne,Ge){ne.pending_buf[ne.pending++]=Ge>>>8&255,ne.pending_buf[ne.pending++]=255&Ge}function fe(ne,Ge){var Me,ve,xe=ne.max_chain_length,Le=ne.strstart,Je=ne.prev_length,nt=ne.nice_match,Be=ne.strstart>ne.w_size-Q?ne.strstart-(ne.w_size-Q):0,gt=ne.window,Mt=ne.w_mask,At=ne.prev,Ie=ne.strstart+X,it=gt[Le+Je-1],yt=gt[Le+Je];ne.prev_length>=ne.good_match&&(xe>>=2),nt>ne.lookahead&&(nt=ne.lookahead);do if(gt[(Me=Ge)+Je]===yt&&gt[Me+Je-1]===it&&gt[Me]===gt[Le]&&gt[++Me]===gt[Le+1]){Le+=2,Me++;do;while(gt[++Le]===gt[++Me]&&gt[++Le]===gt[++Me]&&gt[++Le]===gt[++Me]&&gt[++Le]===gt[++Me]&&gt[++Le]===gt[++Me]&&gt[++Le]===gt[++Me]&&gt[++Le]===gt[++Me]&&gt[++Le]===gt[++Me]&&Le<Ie);if(ve=X-(Ie-Le),Le=Ie-X,Je<ve){if(ne.match_start=Ge,nt<=(Je=ve))break;it=gt[Le+Je-1],yt=gt[Le+Je]}}while((Ge=At[Ge&Mt])>Be&&--xe!=0);return Je<=ne.lookahead?Je:ne.lookahead}function De(ne){var Ge,Me,ve,xe,Le,Je,nt,Be,gt,Mt,At=ne.w_size;do{if(xe=ne.window_size-ne.lookahead-ne.strstart,ne.strstart>=At+(At-Q)){for(o.arraySet(ne.window,ne.window,At,At,0),ne.match_start-=At,ne.strstart-=At,ne.block_start-=At,Ge=Me=ne.hash_size;ve=ne.head[--Ge],ne.head[Ge]=At<=ve?ve-At:0,--Me;);for(Ge=Me=At;ve=ne.prev[--Ge],ne.prev[Ge]=At<=ve?ve-At:0,--Me;);xe+=At}if(ne.strm.avail_in===0)break;if(Je=ne.strm,nt=ne.window,Be=ne.strstart+ne.lookahead,gt=xe,Mt=void 0,Mt=Je.avail_in,gt<Mt&&(Mt=gt),Me=Mt===0?0:(Je.avail_in-=Mt,o.arraySet(nt,Je.input,Je.next_in,Mt,Be),Je.state.wrap===1?Je.adler=l(Je.adler,nt,Mt,Be):Je.state.wrap===2&&(Je.adler=c(Je.adler,nt,Mt,Be)),Je.next_in+=Mt,Je.total_in+=Mt,Mt),ne.lookahead+=Me,ne.lookahead+ne.insert>=H)for(Le=ne.strstart-ne.insert,ne.ins_h=ne.window[Le],ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[Le+1])&ne.hash_mask;ne.insert&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[Le+H-1])&ne.hash_mask,ne.prev[Le&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=Le,Le++,ne.insert--,!(ne.lookahead+ne.insert<H)););}while(ne.lookahead<Q&&ne.strm.avail_in!==0)}function at(ne,Ge){for(var Me,ve;;){if(ne.lookahead<Q){if(De(ne),ne.lookahead<Q&&Ge===h)return q;if(ne.lookahead===0)break}if(Me=0,ne.lookahead>=H&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+H-1])&ne.hash_mask,Me=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart),Me!==0&&ne.strstart-Me<=ne.w_size-Q&&(ne.match_length=fe(ne,Me)),ne.match_length>=H)if(ve=a._tr_tally(ne,ne.strstart-ne.match_start,ne.match_length-H),ne.lookahead-=ne.match_length,ne.match_length<=ne.max_lazy_match&&ne.lookahead>=H){for(ne.match_length--;ne.strstart++,ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+H-1])&ne.hash_mask,Me=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart,--ne.match_length!=0;);ne.strstart++}else ne.strstart+=ne.match_length,ne.match_length=0,ne.ins_h=ne.window[ne.strstart],ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+1])&ne.hash_mask;else ve=a._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++;if(ve&&(te(ne,!1),ne.strm.avail_out===0))return q}return ne.insert=ne.strstart<H-1?ne.strstart:H-1,Ge===p?(te(ne,!0),ne.strm.avail_out===0?se:ue):ne.last_lit&&(te(ne,!1),ne.strm.avail_out===0)?q:me}function je(ne,Ge){for(var Me,ve,xe;;){if(ne.lookahead<Q){if(De(ne),ne.lookahead<Q&&Ge===h)return q;if(ne.lookahead===0)break}if(Me=0,ne.lookahead>=H&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+H-1])&ne.hash_mask,Me=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart),ne.prev_length=ne.match_length,ne.prev_match=ne.match_start,ne.match_length=H-1,Me!==0&&ne.prev_length<ne.max_lazy_match&&ne.strstart-Me<=ne.w_size-Q&&(ne.match_length=fe(ne,Me),ne.match_length<=5&&(ne.strategy===1||ne.match_length===H&&4096<ne.strstart-ne.match_start)&&(ne.match_length=H-1)),ne.prev_length>=H&&ne.match_length<=ne.prev_length){for(xe=ne.strstart+ne.lookahead-H,ve=a._tr_tally(ne,ne.strstart-1-ne.prev_match,ne.prev_length-H),ne.lookahead-=ne.prev_length-1,ne.prev_length-=2;++ne.strstart<=xe&&(ne.ins_h=(ne.ins_h<<ne.hash_shift^ne.window[ne.strstart+H-1])&ne.hash_mask,Me=ne.prev[ne.strstart&ne.w_mask]=ne.head[ne.ins_h],ne.head[ne.ins_h]=ne.strstart),--ne.prev_length!=0;);if(ne.match_available=0,ne.match_length=H-1,ne.strstart++,ve&&(te(ne,!1),ne.strm.avail_out===0))return q}else if(ne.match_available){if((ve=a._tr_tally(ne,0,ne.window[ne.strstart-1]))&&te(ne,!1),ne.strstart++,ne.lookahead--,ne.strm.avail_out===0)return q}else ne.match_available=1,ne.strstart++,ne.lookahead--}return ne.match_available&&(ve=a._tr_tally(ne,0,ne.window[ne.strstart-1]),ne.match_available=0),ne.insert=ne.strstart<H-1?ne.strstart:H-1,Ge===p?(te(ne,!0),ne.strm.avail_out===0?se:ue):ne.last_lit&&(te(ne,!1),ne.strm.avail_out===0)?q:me}function qe(ne,Ge,Me,ve,xe){this.good_length=ne,this.max_lazy=Ge,this.nice_length=Me,this.max_chain=ve,this.func=xe}function et(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*O),this.dyn_dtree=new o.Buf16(2*(2*V+1)),this.bl_tree=new o.Buf16(2*(2*M+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(z+1),this.heap=new o.Buf16(2*N+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*N+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Et(ne){var Ge;return ne&&ne.state?(ne.total_in=ne.total_out=0,ne.data_type=S,(Ge=ne.state).pending=0,Ge.pending_out=0,Ge.wrap<0&&(Ge.wrap=-Ge.wrap),Ge.status=Ge.wrap?U:Z,ne.adler=Ge.wrap===2?0:1,Ge.last_flush=h,a._tr_init(Ge),m):Pe(ne,y)}function Se(ne){var Ge=Et(ne);return Ge===m&&function(Me){Me.window_size=2*Me.w_size,W(Me.head),Me.max_lazy_match=s[Me.level].max_lazy,Me.good_match=s[Me.level].good_length,Me.nice_match=s[Me.level].nice_length,Me.max_chain_length=s[Me.level].max_chain,Me.strstart=0,Me.block_start=0,Me.lookahead=0,Me.insert=0,Me.match_length=Me.prev_length=H-1,Me.match_available=0,Me.ins_h=0}(ne.state),Ge}function $t(ne,Ge,Me,ve,xe,Le){if(!ne)return y;var Je=1;if(Ge===w&&(Ge=6),ve<0?(Je=0,ve=-ve):15<ve&&(Je=2,ve-=16),xe<1||_<xe||Me!==E||ve<8||15<ve||Ge<0||9<Ge||Le<0||b<Le)return Pe(ne,y);ve===8&&(ve=9);var nt=new et;return(ne.state=nt).strm=ne,nt.wrap=Je,nt.gzhead=null,nt.w_bits=ve,nt.w_size=1<<nt.w_bits,nt.w_mask=nt.w_size-1,nt.hash_bits=xe+7,nt.hash_size=1<<nt.hash_bits,nt.hash_mask=nt.hash_size-1,nt.hash_shift=~~((nt.hash_bits+H-1)/H),nt.window=new o.Buf8(2*nt.w_size),nt.head=new o.Buf16(nt.hash_size),nt.prev=new o.Buf16(nt.w_size),nt.lit_bufsize=1<<xe+6,nt.pending_buf_size=4*nt.lit_bufsize,nt.pending_buf=new o.Buf8(nt.pending_buf_size),nt.d_buf=1*nt.lit_bufsize,nt.l_buf=3*nt.lit_bufsize,nt.level=Ge,nt.strategy=Le,nt.method=Me,Se(ne)}s=[new qe(0,0,0,0,function(ne,Ge){var Me=65535;for(Me>ne.pending_buf_size-5&&(Me=ne.pending_buf_size-5);;){if(ne.lookahead<=1){if(De(ne),ne.lookahead===0&&Ge===h)return q;if(ne.lookahead===0)break}ne.strstart+=ne.lookahead,ne.lookahead=0;var ve=ne.block_start+Me;if((ne.strstart===0||ne.strstart>=ve)&&(ne.lookahead=ne.strstart-ve,ne.strstart=ve,te(ne,!1),ne.strm.avail_out===0)||ne.strstart-ne.block_start>=ne.w_size-Q&&(te(ne,!1),ne.strm.avail_out===0))return q}return ne.insert=0,Ge===p?(te(ne,!0),ne.strm.avail_out===0?se:ue):(ne.strstart>ne.block_start&&(te(ne,!1),ne.strm.avail_out),q)}),new qe(4,4,8,4,at),new qe(4,5,16,8,at),new qe(4,6,32,32,at),new qe(4,4,16,16,je),new qe(8,16,32,32,je),new qe(8,16,128,128,je),new qe(8,32,128,256,je),new qe(32,128,258,1024,je),new qe(32,258,258,4096,je)],i.deflateInit=function(ne,Ge){return $t(ne,Ge,E,15,8,0)},i.deflateInit2=$t,i.deflateReset=Se,i.deflateResetKeep=Et,i.deflateSetHeader=function(ne,Ge){return ne&&ne.state?ne.state.wrap!==2?y:(ne.state.gzhead=Ge,m):y},i.deflate=function(ne,Ge){var Me,ve,xe,Le;if(!ne||!ne.state||5<Ge||Ge<0)return ne?Pe(ne,y):y;if(ve=ne.state,!ne.output||!ne.input&&ne.avail_in!==0||ve.status===666&&Ge!==p)return Pe(ne,ne.avail_out===0?-5:y);if(ve.strm=ne,Me=ve.last_flush,ve.last_flush=Ge,ve.status===U)if(ve.wrap===2)ne.adler=0,J(ve,31),J(ve,139),J(ve,8),ve.gzhead?(J(ve,(ve.gzhead.text?1:0)+(ve.gzhead.hcrc?2:0)+(ve.gzhead.extra?4:0)+(ve.gzhead.name?8:0)+(ve.gzhead.comment?16:0)),J(ve,255&ve.gzhead.time),J(ve,ve.gzhead.time>>8&255),J(ve,ve.gzhead.time>>16&255),J(ve,ve.gzhead.time>>24&255),J(ve,ve.level===9?2:2<=ve.strategy||ve.level<2?4:0),J(ve,255&ve.gzhead.os),ve.gzhead.extra&&ve.gzhead.extra.length&&(J(ve,255&ve.gzhead.extra.length),J(ve,ve.gzhead.extra.length>>8&255)),ve.gzhead.hcrc&&(ne.adler=c(ne.adler,ve.pending_buf,ve.pending,0)),ve.gzindex=0,ve.status=69):(J(ve,0),J(ve,0),J(ve,0),J(ve,0),J(ve,0),J(ve,ve.level===9?2:2<=ve.strategy||ve.level<2?4:0),J(ve,3),ve.status=Z);else{var Je=E+(ve.w_bits-8<<4)<<8;Je|=(2<=ve.strategy||ve.level<2?0:ve.level<6?1:ve.level===6?2:3)<<6,ve.strstart!==0&&(Je|=32),Je+=31-Je%31,ve.status=Z,ce(ve,Je),ve.strstart!==0&&(ce(ve,ne.adler>>>16),ce(ve,65535&ne.adler)),ne.adler=1}if(ve.status===69)if(ve.gzhead.extra){for(xe=ve.pending;ve.gzindex<(65535&ve.gzhead.extra.length)&&(ve.pending!==ve.pending_buf_size||(ve.gzhead.hcrc&&ve.pending>xe&&(ne.adler=c(ne.adler,ve.pending_buf,ve.pending-xe,xe)),re(ne),xe=ve.pending,ve.pending!==ve.pending_buf_size));)J(ve,255&ve.gzhead.extra[ve.gzindex]),ve.gzindex++;ve.gzhead.hcrc&&ve.pending>xe&&(ne.adler=c(ne.adler,ve.pending_buf,ve.pending-xe,xe)),ve.gzindex===ve.gzhead.extra.length&&(ve.gzindex=0,ve.status=73)}else ve.status=73;if(ve.status===73)if(ve.gzhead.name){xe=ve.pending;do{if(ve.pending===ve.pending_buf_size&&(ve.gzhead.hcrc&&ve.pending>xe&&(ne.adler=c(ne.adler,ve.pending_buf,ve.pending-xe,xe)),re(ne),xe=ve.pending,ve.pending===ve.pending_buf_size)){Le=1;break}Le=ve.gzindex<ve.gzhead.name.length?255&ve.gzhead.name.charCodeAt(ve.gzindex++):0,J(ve,Le)}while(Le!==0);ve.gzhead.hcrc&&ve.pending>xe&&(ne.adler=c(ne.adler,ve.pending_buf,ve.pending-xe,xe)),Le===0&&(ve.gzindex=0,ve.status=91)}else ve.status=91;if(ve.status===91)if(ve.gzhead.comment){xe=ve.pending;do{if(ve.pending===ve.pending_buf_size&&(ve.gzhead.hcrc&&ve.pending>xe&&(ne.adler=c(ne.adler,ve.pending_buf,ve.pending-xe,xe)),re(ne),xe=ve.pending,ve.pending===ve.pending_buf_size)){Le=1;break}Le=ve.gzindex<ve.gzhead.comment.length?255&ve.gzhead.comment.charCodeAt(ve.gzindex++):0,J(ve,Le)}while(Le!==0);ve.gzhead.hcrc&&ve.pending>xe&&(ne.adler=c(ne.adler,ve.pending_buf,ve.pending-xe,xe)),Le===0&&(ve.status=103)}else ve.status=103;if(ve.status===103&&(ve.gzhead.hcrc?(ve.pending+2>ve.pending_buf_size&&re(ne),ve.pending+2<=ve.pending_buf_size&&(J(ve,255&ne.adler),J(ve,ne.adler>>8&255),ne.adler=0,ve.status=Z)):ve.status=Z),ve.pending!==0){if(re(ne),ne.avail_out===0)return ve.last_flush=-1,m}else if(ne.avail_in===0&&ye(Ge)<=ye(Me)&&Ge!==p)return Pe(ne,-5);if(ve.status===666&&ne.avail_in!==0)return Pe(ne,-5);if(ne.avail_in!==0||ve.lookahead!==0||Ge!==h&&ve.status!==666){var nt=ve.strategy===2?function(Be,gt){for(var Mt;;){if(Be.lookahead===0&&(De(Be),Be.lookahead===0)){if(gt===h)return q;break}if(Be.match_length=0,Mt=a._tr_tally(Be,0,Be.window[Be.strstart]),Be.lookahead--,Be.strstart++,Mt&&(te(Be,!1),Be.strm.avail_out===0))return q}return Be.insert=0,gt===p?(te(Be,!0),Be.strm.avail_out===0?se:ue):Be.last_lit&&(te(Be,!1),Be.strm.avail_out===0)?q:me}(ve,Ge):ve.strategy===3?function(Be,gt){for(var Mt,At,Ie,it,yt=Be.window;;){if(Be.lookahead<=X){if(De(Be),Be.lookahead<=X&&gt===h)return q;if(Be.lookahead===0)break}if(Be.match_length=0,Be.lookahead>=H&&0<Be.strstart&&(At=yt[Ie=Be.strstart-1])===yt[++Ie]&&At===yt[++Ie]&&At===yt[++Ie]){it=Be.strstart+X;do;while(At===yt[++Ie]&&At===yt[++Ie]&&At===yt[++Ie]&&At===yt[++Ie]&&At===yt[++Ie]&&At===yt[++Ie]&&At===yt[++Ie]&&At===yt[++Ie]&&Ie<it);Be.match_length=X-(it-Ie),Be.match_length>Be.lookahead&&(Be.match_length=Be.lookahead)}if(Be.match_length>=H?(Mt=a._tr_tally(Be,1,Be.match_length-H),Be.lookahead-=Be.match_length,Be.strstart+=Be.match_length,Be.match_length=0):(Mt=a._tr_tally(Be,0,Be.window[Be.strstart]),Be.lookahead--,Be.strstart++),Mt&&(te(Be,!1),Be.strm.avail_out===0))return q}return Be.insert=0,gt===p?(te(Be,!0),Be.strm.avail_out===0?se:ue):Be.last_lit&&(te(Be,!1),Be.strm.avail_out===0)?q:me}(ve,Ge):s[ve.level].func(ve,Ge);if(nt!==se&&nt!==ue||(ve.status=666),nt===q||nt===se)return ne.avail_out===0&&(ve.last_flush=-1),m;if(nt===me&&(Ge===1?a._tr_align(ve):Ge!==5&&(a._tr_stored_block(ve,0,0,!1),Ge===3&&(W(ve.head),ve.lookahead===0&&(ve.strstart=0,ve.block_start=0,ve.insert=0))),re(ne),ne.avail_out===0))return ve.last_flush=-1,m}return Ge!==p?m:ve.wrap<=0?1:(ve.wrap===2?(J(ve,255&ne.adler),J(ve,ne.adler>>8&255),J(ve,ne.adler>>16&255),J(ve,ne.adler>>24&255),J(ve,255&ne.total_in),J(ve,ne.total_in>>8&255),J(ve,ne.total_in>>16&255),J(ve,ne.total_in>>24&255)):(ce(ve,ne.adler>>>16),ce(ve,65535&ne.adler)),re(ne),0<ve.wrap&&(ve.wrap=-ve.wrap),ve.pending!==0?m:1)},i.deflateEnd=function(ne){var Ge;return ne&&ne.state?(Ge=ne.state.status)!==U&&Ge!==69&&Ge!==73&&Ge!==91&&Ge!==103&&Ge!==Z&&Ge!==666?Pe(ne,y):(ne.state=null,Ge===Z?Pe(ne,-3):m):y},i.deflateSetDictionary=function(ne,Ge){var Me,ve,xe,Le,Je,nt,Be,gt,Mt=Ge.length;if(!ne||!ne.state||(Le=(Me=ne.state).wrap)===2||Le===1&&Me.status!==U||Me.lookahead)return y;for(Le===1&&(ne.adler=l(ne.adler,Ge,Mt,0)),Me.wrap=0,Mt>=Me.w_size&&(Le===0&&(W(Me.head),Me.strstart=0,Me.block_start=0,Me.insert=0),gt=new o.Buf8(Me.w_size),o.arraySet(gt,Ge,Mt-Me.w_size,Me.w_size,0),Ge=gt,Mt=Me.w_size),Je=ne.avail_in,nt=ne.next_in,Be=ne.input,ne.avail_in=Mt,ne.next_in=0,ne.input=Ge,De(Me);Me.lookahead>=H;){for(ve=Me.strstart,xe=Me.lookahead-(H-1);Me.ins_h=(Me.ins_h<<Me.hash_shift^Me.window[ve+H-1])&Me.hash_mask,Me.prev[ve&Me.w_mask]=Me.head[Me.ins_h],Me.head[Me.ins_h]=ve,ve++,--xe;);Me.strstart=ve,Me.lookahead=H-1,De(Me)}return Me.strstart+=Me.lookahead,Me.block_start=Me.strstart,Me.insert=Me.lookahead,Me.lookahead=0,Me.match_length=Me.prev_length=H-1,Me.match_available=0,ne.next_in=nt,ne.input=Be,ne.avail_in=Je,Me.wrap=Le,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,c,u,h,p,m,y,w,b,S,E,_,N,V,M,O,z,H,X,Q,U,Z,q,me;a=s.state,l=s.next_in,q=s.input,c=l+(s.avail_in-5),u=s.next_out,me=s.output,h=u-(o-s.avail_out),p=u+(s.avail_out-257),m=a.dmax,y=a.wsize,w=a.whave,b=a.wnext,S=a.window,E=a.hold,_=a.bits,N=a.lencode,V=a.distcode,M=(1<<a.lenbits)-1,O=(1<<a.distbits)-1;e:do{_<15&&(E+=q[l++]<<_,_+=8,E+=q[l++]<<_,_+=8),z=N[E&M];t:for(;;){if(E>>>=H=z>>>24,_-=H,(H=z>>>16&255)===0)me[u++]=65535&z;else{if(!(16&H)){if((64&H)==0){z=N[(65535&z)+(E&(1<<H)-1)];continue t}if(32&H){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}X=65535&z,(H&=15)&&(_<H&&(E+=q[l++]<<_,_+=8),X+=E&(1<<H)-1,E>>>=H,_-=H),_<15&&(E+=q[l++]<<_,_+=8,E+=q[l++]<<_,_+=8),z=V[E&O];n:for(;;){if(E>>>=H=z>>>24,_-=H,!(16&(H=z>>>16&255))){if((64&H)==0){z=V[(65535&z)+(E&(1<<H)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(Q=65535&z,_<(H&=15)&&(E+=q[l++]<<_,(_+=8)<H&&(E+=q[l++]<<_,_+=8)),m<(Q+=E&(1<<H)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(E>>>=H,_-=H,(H=u-h)<Q){if(w<(H=Q-H)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(Z=S,(U=0)===b){if(U+=y-H,H<X){for(X-=H;me[u++]=S[U++],--H;);U=u-Q,Z=me}}else if(b<H){if(U+=y+b-H,(H-=b)<X){for(X-=H;me[u++]=S[U++],--H;);if(U=0,b<X){for(X-=H=b;me[u++]=S[U++],--H;);U=u-Q,Z=me}}}else if(U+=b-H,H<X){for(X-=H;me[u++]=S[U++],--H;);U=u-Q,Z=me}for(;2<X;)me[u++]=Z[U++],me[u++]=Z[U++],me[u++]=Z[U++],X-=3;X&&(me[u++]=Z[U++],1<X&&(me[u++]=Z[U++]))}else{for(U=u-Q;me[u++]=me[U++],me[u++]=me[U++],me[u++]=me[U++],2<(X-=3););X&&(me[u++]=me[U++],1<X&&(me[u++]=me[U++]))}break}}break}}while(l<c&&u<p);l-=X=_>>3,E&=(1<<(_-=X<<3))-1,s.next_in=l,s.next_out=u,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=u<p?p-u+257:257-(u-p),a.hold=E,a.bits=_}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),c=n("./inftrees"),u=1,h=2,p=0,m=-2,y=1,w=852,b=592;function S(U){return(U>>>24&255)+(U>>>8&65280)+((65280&U)<<8)+((255&U)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(U){var Z;return U&&U.state?(Z=U.state,U.total_in=U.total_out=Z.total=0,U.msg="",Z.wrap&&(U.adler=1&Z.wrap),Z.mode=y,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new s.Buf32(w),Z.distcode=Z.distdyn=new s.Buf32(b),Z.sane=1,Z.back=-1,p):m}function N(U){var Z;return U&&U.state?((Z=U.state).wsize=0,Z.whave=0,Z.wnext=0,_(U)):m}function V(U,Z){var q,me;return U&&U.state?(me=U.state,Z<0?(q=0,Z=-Z):(q=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?m:(me.window!==null&&me.wbits!==Z&&(me.window=null),me.wrap=q,me.wbits=Z,N(U))):m}function M(U,Z){var q,me;return U?(me=new E,(U.state=me).window=null,(q=V(U,Z))!==p&&(U.state=null),q):m}var O,z,H=!0;function X(U){if(H){var Z;for(O=new s.Buf32(512),z=new s.Buf32(32),Z=0;Z<144;)U.lens[Z++]=8;for(;Z<256;)U.lens[Z++]=9;for(;Z<280;)U.lens[Z++]=7;for(;Z<288;)U.lens[Z++]=8;for(c(u,U.lens,0,288,O,0,U.work,{bits:9}),Z=0;Z<32;)U.lens[Z++]=5;c(h,U.lens,0,32,z,0,U.work,{bits:5}),H=!1}U.lencode=O,U.lenbits=9,U.distcode=z,U.distbits=5}function Q(U,Z,q,me){var se,ue=U.state;return ue.window===null&&(ue.wsize=1<<ue.wbits,ue.wnext=0,ue.whave=0,ue.window=new s.Buf8(ue.wsize)),me>=ue.wsize?(s.arraySet(ue.window,Z,q-ue.wsize,ue.wsize,0),ue.wnext=0,ue.whave=ue.wsize):(me<(se=ue.wsize-ue.wnext)&&(se=me),s.arraySet(ue.window,Z,q-me,se,ue.wnext),(me-=se)?(s.arraySet(ue.window,Z,q-me,me,0),ue.wnext=me,ue.whave=ue.wsize):(ue.wnext+=se,ue.wnext===ue.wsize&&(ue.wnext=0),ue.whave<ue.wsize&&(ue.whave+=se))),0}i.inflateReset=N,i.inflateReset2=V,i.inflateResetKeep=_,i.inflateInit=function(U){return M(U,15)},i.inflateInit2=M,i.inflate=function(U,Z){var q,me,se,ue,Pe,ye,W,re,te,J,ce,fe,De,at,je,qe,et,Et,Se,$t,ne,Ge,Me,ve,xe=0,Le=new s.Buf8(4),Je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return m;(q=U.state).mode===12&&(q.mode=13),Pe=U.next_out,se=U.output,W=U.avail_out,ue=U.next_in,me=U.input,ye=U.avail_in,re=q.hold,te=q.bits,J=ye,ce=W,Ge=p;e:for(;;)switch(q.mode){case y:if(q.wrap===0){q.mode=13;break}for(;te<16;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if(2&q.wrap&&re===35615){Le[q.check=0]=255&re,Le[1]=re>>>8&255,q.check=a(q.check,Le,2,0),te=re=0,q.mode=2;break}if(q.flags=0,q.head&&(q.head.done=!1),!(1&q.wrap)||(((255&re)<<8)+(re>>8))%31){U.msg="incorrect header check",q.mode=30;break}if((15&re)!=8){U.msg="unknown compression method",q.mode=30;break}if(te-=4,ne=8+(15&(re>>>=4)),q.wbits===0)q.wbits=ne;else if(ne>q.wbits){U.msg="invalid window size",q.mode=30;break}q.dmax=1<<ne,U.adler=q.check=1,q.mode=512&re?10:12,te=re=0;break;case 2:for(;te<16;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if(q.flags=re,(255&q.flags)!=8){U.msg="unknown compression method",q.mode=30;break}if(57344&q.flags){U.msg="unknown header flags set",q.mode=30;break}q.head&&(q.head.text=re>>8&1),512&q.flags&&(Le[0]=255&re,Le[1]=re>>>8&255,q.check=a(q.check,Le,2,0)),te=re=0,q.mode=3;case 3:for(;te<32;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}q.head&&(q.head.time=re),512&q.flags&&(Le[0]=255&re,Le[1]=re>>>8&255,Le[2]=re>>>16&255,Le[3]=re>>>24&255,q.check=a(q.check,Le,4,0)),te=re=0,q.mode=4;case 4:for(;te<16;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}q.head&&(q.head.xflags=255&re,q.head.os=re>>8),512&q.flags&&(Le[0]=255&re,Le[1]=re>>>8&255,q.check=a(q.check,Le,2,0)),te=re=0,q.mode=5;case 5:if(1024&q.flags){for(;te<16;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}q.length=re,q.head&&(q.head.extra_len=re),512&q.flags&&(Le[0]=255&re,Le[1]=re>>>8&255,q.check=a(q.check,Le,2,0)),te=re=0}else q.head&&(q.head.extra=null);q.mode=6;case 6:if(1024&q.flags&&(ye<(fe=q.length)&&(fe=ye),fe&&(q.head&&(ne=q.head.extra_len-q.length,q.head.extra||(q.head.extra=new Array(q.head.extra_len)),s.arraySet(q.head.extra,me,ue,fe,ne)),512&q.flags&&(q.check=a(q.check,me,fe,ue)),ye-=fe,ue+=fe,q.length-=fe),q.length))break e;q.length=0,q.mode=7;case 7:if(2048&q.flags){if(ye===0)break e;for(fe=0;ne=me[ue+fe++],q.head&&ne&&q.length<65536&&(q.head.name+=String.fromCharCode(ne)),ne&&fe<ye;);if(512&q.flags&&(q.check=a(q.check,me,fe,ue)),ye-=fe,ue+=fe,ne)break e}else q.head&&(q.head.name=null);q.length=0,q.mode=8;case 8:if(4096&q.flags){if(ye===0)break e;for(fe=0;ne=me[ue+fe++],q.head&&ne&&q.length<65536&&(q.head.comment+=String.fromCharCode(ne)),ne&&fe<ye;);if(512&q.flags&&(q.check=a(q.check,me,fe,ue)),ye-=fe,ue+=fe,ne)break e}else q.head&&(q.head.comment=null);q.mode=9;case 9:if(512&q.flags){for(;te<16;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if(re!==(65535&q.check)){U.msg="header crc mismatch",q.mode=30;break}te=re=0}q.head&&(q.head.hcrc=q.flags>>9&1,q.head.done=!0),U.adler=q.check=0,q.mode=12;break;case 10:for(;te<32;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}U.adler=q.check=S(re),te=re=0,q.mode=11;case 11:if(q.havedict===0)return U.next_out=Pe,U.avail_out=W,U.next_in=ue,U.avail_in=ye,q.hold=re,q.bits=te,2;U.adler=q.check=1,q.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(q.last){re>>>=7&te,te-=7&te,q.mode=27;break}for(;te<3;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}switch(q.last=1&re,te-=1,3&(re>>>=1)){case 0:q.mode=14;break;case 1:if(X(q),q.mode=20,Z!==6)break;re>>>=2,te-=2;break e;case 2:q.mode=17;break;case 3:U.msg="invalid block type",q.mode=30}re>>>=2,te-=2;break;case 14:for(re>>>=7&te,te-=7&te;te<32;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if((65535&re)!=(re>>>16^65535)){U.msg="invalid stored block lengths",q.mode=30;break}if(q.length=65535&re,te=re=0,q.mode=15,Z===6)break e;case 15:q.mode=16;case 16:if(fe=q.length){if(ye<fe&&(fe=ye),W<fe&&(fe=W),fe===0)break e;s.arraySet(se,me,ue,fe,Pe),ye-=fe,ue+=fe,W-=fe,Pe+=fe,q.length-=fe;break}q.mode=12;break;case 17:for(;te<14;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if(q.nlen=257+(31&re),re>>>=5,te-=5,q.ndist=1+(31&re),re>>>=5,te-=5,q.ncode=4+(15&re),re>>>=4,te-=4,286<q.nlen||30<q.ndist){U.msg="too many length or distance symbols",q.mode=30;break}q.have=0,q.mode=18;case 18:for(;q.have<q.ncode;){for(;te<3;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}q.lens[Je[q.have++]]=7&re,re>>>=3,te-=3}for(;q.have<19;)q.lens[Je[q.have++]]=0;if(q.lencode=q.lendyn,q.lenbits=7,Me={bits:q.lenbits},Ge=c(0,q.lens,0,19,q.lencode,0,q.work,Me),q.lenbits=Me.bits,Ge){U.msg="invalid code lengths set",q.mode=30;break}q.have=0,q.mode=19;case 19:for(;q.have<q.nlen+q.ndist;){for(;qe=(xe=q.lencode[re&(1<<q.lenbits)-1])>>>16&255,et=65535&xe,!((je=xe>>>24)<=te);){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if(et<16)re>>>=je,te-=je,q.lens[q.have++]=et;else{if(et===16){for(ve=je+2;te<ve;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if(re>>>=je,te-=je,q.have===0){U.msg="invalid bit length repeat",q.mode=30;break}ne=q.lens[q.have-1],fe=3+(3&re),re>>>=2,te-=2}else if(et===17){for(ve=je+3;te<ve;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}te-=je,ne=0,fe=3+(7&(re>>>=je)),re>>>=3,te-=3}else{for(ve=je+7;te<ve;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}te-=je,ne=0,fe=11+(127&(re>>>=je)),re>>>=7,te-=7}if(q.have+fe>q.nlen+q.ndist){U.msg="invalid bit length repeat",q.mode=30;break}for(;fe--;)q.lens[q.have++]=ne}}if(q.mode===30)break;if(q.lens[256]===0){U.msg="invalid code -- missing end-of-block",q.mode=30;break}if(q.lenbits=9,Me={bits:q.lenbits},Ge=c(u,q.lens,0,q.nlen,q.lencode,0,q.work,Me),q.lenbits=Me.bits,Ge){U.msg="invalid literal/lengths set",q.mode=30;break}if(q.distbits=6,q.distcode=q.distdyn,Me={bits:q.distbits},Ge=c(h,q.lens,q.nlen,q.ndist,q.distcode,0,q.work,Me),q.distbits=Me.bits,Ge){U.msg="invalid distances set",q.mode=30;break}if(q.mode=20,Z===6)break e;case 20:q.mode=21;case 21:if(6<=ye&&258<=W){U.next_out=Pe,U.avail_out=W,U.next_in=ue,U.avail_in=ye,q.hold=re,q.bits=te,l(U,ce),Pe=U.next_out,se=U.output,W=U.avail_out,ue=U.next_in,me=U.input,ye=U.avail_in,re=q.hold,te=q.bits,q.mode===12&&(q.back=-1);break}for(q.back=0;qe=(xe=q.lencode[re&(1<<q.lenbits)-1])>>>16&255,et=65535&xe,!((je=xe>>>24)<=te);){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if(qe&&(240&qe)==0){for(Et=je,Se=qe,$t=et;qe=(xe=q.lencode[$t+((re&(1<<Et+Se)-1)>>Et)])>>>16&255,et=65535&xe,!(Et+(je=xe>>>24)<=te);){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}re>>>=Et,te-=Et,q.back+=Et}if(re>>>=je,te-=je,q.back+=je,q.length=et,qe===0){q.mode=26;break}if(32&qe){q.back=-1,q.mode=12;break}if(64&qe){U.msg="invalid literal/length code",q.mode=30;break}q.extra=15&qe,q.mode=22;case 22:if(q.extra){for(ve=q.extra;te<ve;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}q.length+=re&(1<<q.extra)-1,re>>>=q.extra,te-=q.extra,q.back+=q.extra}q.was=q.length,q.mode=23;case 23:for(;qe=(xe=q.distcode[re&(1<<q.distbits)-1])>>>16&255,et=65535&xe,!((je=xe>>>24)<=te);){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if((240&qe)==0){for(Et=je,Se=qe,$t=et;qe=(xe=q.distcode[$t+((re&(1<<Et+Se)-1)>>Et)])>>>16&255,et=65535&xe,!(Et+(je=xe>>>24)<=te);){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}re>>>=Et,te-=Et,q.back+=Et}if(re>>>=je,te-=je,q.back+=je,64&qe){U.msg="invalid distance code",q.mode=30;break}q.offset=et,q.extra=15&qe,q.mode=24;case 24:if(q.extra){for(ve=q.extra;te<ve;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}q.offset+=re&(1<<q.extra)-1,re>>>=q.extra,te-=q.extra,q.back+=q.extra}if(q.offset>q.dmax){U.msg="invalid distance too far back",q.mode=30;break}q.mode=25;case 25:if(W===0)break e;if(fe=ce-W,q.offset>fe){if((fe=q.offset-fe)>q.whave&&q.sane){U.msg="invalid distance too far back",q.mode=30;break}De=fe>q.wnext?(fe-=q.wnext,q.wsize-fe):q.wnext-fe,fe>q.length&&(fe=q.length),at=q.window}else at=se,De=Pe-q.offset,fe=q.length;for(W<fe&&(fe=W),W-=fe,q.length-=fe;se[Pe++]=at[De++],--fe;);q.length===0&&(q.mode=21);break;case 26:if(W===0)break e;se[Pe++]=q.length,W--,q.mode=21;break;case 27:if(q.wrap){for(;te<32;){if(ye===0)break e;ye--,re|=me[ue++]<<te,te+=8}if(ce-=W,U.total_out+=ce,q.total+=ce,ce&&(U.adler=q.check=q.flags?a(q.check,se,ce,Pe-ce):o(q.check,se,ce,Pe-ce)),ce=W,(q.flags?re:S(re))!==q.check){U.msg="incorrect data check",q.mode=30;break}te=re=0}q.mode=28;case 28:if(q.wrap&&q.flags){for(;te<32;){if(ye===0)break e;ye--,re+=me[ue++]<<te,te+=8}if(re!==(4294967295&q.total)){U.msg="incorrect length check",q.mode=30;break}te=re=0}q.mode=29;case 29:Ge=1;break e;case 30:Ge=-3;break e;case 31:return-4;case 32:default:return m}return U.next_out=Pe,U.avail_out=W,U.next_in=ue,U.avail_in=ye,q.hold=re,q.bits=te,(q.wsize||ce!==U.avail_out&&q.mode<30&&(q.mode<27||Z!==4))&&Q(U,U.output,U.next_out,ce-U.avail_out)?(q.mode=31,-4):(J-=U.avail_in,ce-=U.avail_out,U.total_in+=J,U.total_out+=ce,q.total+=ce,q.wrap&&ce&&(U.adler=q.check=q.flags?a(q.check,se,ce,U.next_out-ce):o(q.check,se,ce,U.next_out-ce)),U.data_type=q.bits+(q.last?64:0)+(q.mode===12?128:0)+(q.mode===20||q.mode===15?256:0),(J==0&&ce===0||Z===4)&&Ge===p&&(Ge=-5),Ge)},i.inflateEnd=function(U){if(!U||!U.state)return m;var Z=U.state;return Z.window&&(Z.window=null),U.state=null,p},i.inflateGetHeader=function(U,Z){var q;return U&&U.state?(2&(q=U.state).wrap)==0?m:((q.head=Z).done=!1,p):m},i.inflateSetDictionary=function(U,Z){var q,me=Z.length;return U&&U.state?(q=U.state).wrap!==0&&q.mode!==11?m:q.mode===11&&o(1,Z,me,0)!==q.check?-3:Q(U,Z,me,me)?(q.mode=31,-4):(q.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,h,p,m,y,w,b,S){var E,_,N,V,M,O,z,H,X,Q=S.bits,U=0,Z=0,q=0,me=0,se=0,ue=0,Pe=0,ye=0,W=0,re=0,te=null,J=0,ce=new s.Buf16(16),fe=new s.Buf16(16),De=null,at=0;for(U=0;U<=15;U++)ce[U]=0;for(Z=0;Z<m;Z++)ce[h[p+Z]]++;for(se=Q,me=15;1<=me&&ce[me]===0;me--);if(me<se&&(se=me),me===0)return y[w++]=20971520,y[w++]=20971520,S.bits=1,0;for(q=1;q<me&&ce[q]===0;q++);for(se<q&&(se=q),U=ye=1;U<=15;U++)if(ye<<=1,(ye-=ce[U])<0)return-1;if(0<ye&&(u===0||me!==1))return-1;for(fe[1]=0,U=1;U<15;U++)fe[U+1]=fe[U]+ce[U];for(Z=0;Z<m;Z++)h[p+Z]!==0&&(b[fe[h[p+Z]]++]=Z);if(O=u===0?(te=De=b,19):u===1?(te=o,J-=257,De=a,at-=257,256):(te=l,De=c,-1),U=q,M=w,Pe=Z=re=0,N=-1,V=(W=1<<(ue=se))-1,u===1&&852<W||u===2&&592<W)return 1;for(;;){for(z=U-Pe,X=b[Z]<O?(H=0,b[Z]):b[Z]>O?(H=De[at+b[Z]],te[J+b[Z]]):(H=96,0),E=1<<U-Pe,q=_=1<<ue;y[M+(re>>Pe)+(_-=E)]=z<<24|H<<16|X|0,_!==0;);for(E=1<<U-1;re&E;)E>>=1;if(E!==0?(re&=E-1,re+=E):re=0,Z++,--ce[U]==0){if(U===me)break;U=h[p+b[Z]]}if(se<U&&(re&V)!==N){for(Pe===0&&(Pe=se),M+=q,ye=1<<(ue=U-Pe);ue+Pe<me&&!((ye-=ce[ue+Pe])<=0);)ue++,ye<<=1;if(W+=1<<ue,u===1&&852<W||u===2&&592<W)return 1;y[N=re&V]=se<<24|ue<<16|M-w|0}}return re!==0&&(y[M+re]=U-Pe<<24|64<<16|0),S.bits=se,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(xe){for(var Le=xe.length;0<=--Le;)xe[Le]=0}var c=0,u=29,h=256,p=h+1+u,m=30,y=19,w=2*p+1,b=15,S=16,E=7,_=256,N=16,V=17,M=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(p+2));l(Q);var U=new Array(2*m);l(U);var Z=new Array(512);l(Z);var q=new Array(256);l(q);var me=new Array(u);l(me);var se,ue,Pe,ye=new Array(m);function W(xe,Le,Je,nt,Be){this.static_tree=xe,this.extra_bits=Le,this.extra_base=Je,this.elems=nt,this.max_length=Be,this.has_stree=xe&&xe.length}function re(xe,Le){this.dyn_tree=xe,this.max_code=0,this.stat_desc=Le}function te(xe){return xe<256?Z[xe]:Z[256+(xe>>>7)]}function J(xe,Le){xe.pending_buf[xe.pending++]=255&Le,xe.pending_buf[xe.pending++]=Le>>>8&255}function ce(xe,Le,Je){xe.bi_valid>S-Je?(xe.bi_buf|=Le<<xe.bi_valid&65535,J(xe,xe.bi_buf),xe.bi_buf=Le>>S-xe.bi_valid,xe.bi_valid+=Je-S):(xe.bi_buf|=Le<<xe.bi_valid&65535,xe.bi_valid+=Je)}function fe(xe,Le,Je){ce(xe,Je[2*Le],Je[2*Le+1])}function De(xe,Le){for(var Je=0;Je|=1&xe,xe>>>=1,Je<<=1,0<--Le;);return Je>>>1}function at(xe,Le,Je){var nt,Be,gt=new Array(b+1),Mt=0;for(nt=1;nt<=b;nt++)gt[nt]=Mt=Mt+Je[nt-1]<<1;for(Be=0;Be<=Le;Be++){var At=xe[2*Be+1];At!==0&&(xe[2*Be]=De(gt[At]++,At))}}function je(xe){var Le;for(Le=0;Le<p;Le++)xe.dyn_ltree[2*Le]=0;for(Le=0;Le<m;Le++)xe.dyn_dtree[2*Le]=0;for(Le=0;Le<y;Le++)xe.bl_tree[2*Le]=0;xe.dyn_ltree[2*_]=1,xe.opt_len=xe.static_len=0,xe.last_lit=xe.matches=0}function qe(xe){8<xe.bi_valid?J(xe,xe.bi_buf):0<xe.bi_valid&&(xe.pending_buf[xe.pending++]=xe.bi_buf),xe.bi_buf=0,xe.bi_valid=0}function et(xe,Le,Je,nt){var Be=2*Le,gt=2*Je;return xe[Be]<xe[gt]||xe[Be]===xe[gt]&&nt[Le]<=nt[Je]}function Et(xe,Le,Je){for(var nt=xe.heap[Je],Be=Je<<1;Be<=xe.heap_len&&(Be<xe.heap_len&&et(Le,xe.heap[Be+1],xe.heap[Be],xe.depth)&&Be++,!et(Le,nt,xe.heap[Be],xe.depth));)xe.heap[Je]=xe.heap[Be],Je=Be,Be<<=1;xe.heap[Je]=nt}function Se(xe,Le,Je){var nt,Be,gt,Mt,At=0;if(xe.last_lit!==0)for(;nt=xe.pending_buf[xe.d_buf+2*At]<<8|xe.pending_buf[xe.d_buf+2*At+1],Be=xe.pending_buf[xe.l_buf+At],At++,nt===0?fe(xe,Be,Le):(fe(xe,(gt=q[Be])+h+1,Le),(Mt=O[gt])!==0&&ce(xe,Be-=me[gt],Mt),fe(xe,gt=te(--nt),Je),(Mt=z[gt])!==0&&ce(xe,nt-=ye[gt],Mt)),At<xe.last_lit;);fe(xe,_,Le)}function $t(xe,Le){var Je,nt,Be,gt=Le.dyn_tree,Mt=Le.stat_desc.static_tree,At=Le.stat_desc.has_stree,Ie=Le.stat_desc.elems,it=-1;for(xe.heap_len=0,xe.heap_max=w,Je=0;Je<Ie;Je++)gt[2*Je]!==0?(xe.heap[++xe.heap_len]=it=Je,xe.depth[Je]=0):gt[2*Je+1]=0;for(;xe.heap_len<2;)gt[2*(Be=xe.heap[++xe.heap_len]=it<2?++it:0)]=1,xe.depth[Be]=0,xe.opt_len--,At&&(xe.static_len-=Mt[2*Be+1]);for(Le.max_code=it,Je=xe.heap_len>>1;1<=Je;Je--)Et(xe,gt,Je);for(Be=Ie;Je=xe.heap[1],xe.heap[1]=xe.heap[xe.heap_len--],Et(xe,gt,1),nt=xe.heap[1],xe.heap[--xe.heap_max]=Je,xe.heap[--xe.heap_max]=nt,gt[2*Be]=gt[2*Je]+gt[2*nt],xe.depth[Be]=(xe.depth[Je]>=xe.depth[nt]?xe.depth[Je]:xe.depth[nt])+1,gt[2*Je+1]=gt[2*nt+1]=Be,xe.heap[1]=Be++,Et(xe,gt,1),2<=xe.heap_len;);xe.heap[--xe.heap_max]=xe.heap[1],function(yt,Gt){var qt,mn,cr,fn,Pr,Kr,xn=Gt.dyn_tree,rr=Gt.max_code,fi=Gt.stat_desc.static_tree,Qi=Gt.stat_desc.has_stree,Ni=Gt.stat_desc.extra_bits,is=Gt.stat_desc.extra_base,Bi=Gt.stat_desc.max_length,gs=0;for(fn=0;fn<=b;fn++)yt.bl_count[fn]=0;for(xn[2*yt.heap[yt.heap_max]+1]=0,qt=yt.heap_max+1;qt<w;qt++)Bi<(fn=xn[2*xn[2*(mn=yt.heap[qt])+1]+1]+1)&&(fn=Bi,gs++),xn[2*mn+1]=fn,rr<mn||(yt.bl_count[fn]++,Pr=0,is<=mn&&(Pr=Ni[mn-is]),Kr=xn[2*mn],yt.opt_len+=Kr*(fn+Pr),Qi&&(yt.static_len+=Kr*(fi[2*mn+1]+Pr)));if(gs!==0){do{for(fn=Bi-1;yt.bl_count[fn]===0;)fn--;yt.bl_count[fn]--,yt.bl_count[fn+1]+=2,yt.bl_count[Bi]--,gs-=2}while(0<gs);for(fn=Bi;fn!==0;fn--)for(mn=yt.bl_count[fn];mn!==0;)rr<(cr=yt.heap[--qt])||(xn[2*cr+1]!==fn&&(yt.opt_len+=(fn-xn[2*cr+1])*xn[2*cr],xn[2*cr+1]=fn),mn--)}}(xe,Le),at(gt,it,xe.bl_count)}function ne(xe,Le,Je){var nt,Be,gt=-1,Mt=Le[1],At=0,Ie=7,it=4;for(Mt===0&&(Ie=138,it=3),Le[2*(Je+1)+1]=65535,nt=0;nt<=Je;nt++)Be=Mt,Mt=Le[2*(nt+1)+1],++At<Ie&&Be===Mt||(At<it?xe.bl_tree[2*Be]+=At:Be!==0?(Be!==gt&&xe.bl_tree[2*Be]++,xe.bl_tree[2*N]++):At<=10?xe.bl_tree[2*V]++:xe.bl_tree[2*M]++,gt=Be,it=(At=0)===Mt?(Ie=138,3):Be===Mt?(Ie=6,3):(Ie=7,4))}function Ge(xe,Le,Je){var nt,Be,gt=-1,Mt=Le[1],At=0,Ie=7,it=4;for(Mt===0&&(Ie=138,it=3),nt=0;nt<=Je;nt++)if(Be=Mt,Mt=Le[2*(nt+1)+1],!(++At<Ie&&Be===Mt)){if(At<it)for(;fe(xe,Be,xe.bl_tree),--At!=0;);else Be!==0?(Be!==gt&&(fe(xe,Be,xe.bl_tree),At--),fe(xe,N,xe.bl_tree),ce(xe,At-3,2)):At<=10?(fe(xe,V,xe.bl_tree),ce(xe,At-3,3)):(fe(xe,M,xe.bl_tree),ce(xe,At-11,7));gt=Be,it=(At=0)===Mt?(Ie=138,3):Be===Mt?(Ie=6,3):(Ie=7,4)}}l(ye);var Me=!1;function ve(xe,Le,Je,nt){ce(xe,(c<<1)+(nt?1:0),3),function(Be,gt,Mt,At){qe(Be),J(Be,Mt),J(Be,~Mt),s.arraySet(Be.pending_buf,Be.window,gt,Mt,Be.pending),Be.pending+=Mt}(xe,Le,Je)}i._tr_init=function(xe){Me||(function(){var Le,Je,nt,Be,gt,Mt=new Array(b+1);for(Be=nt=0;Be<u-1;Be++)for(me[Be]=nt,Le=0;Le<1<<O[Be];Le++)q[nt++]=Be;for(q[nt-1]=Be,Be=gt=0;Be<16;Be++)for(ye[Be]=gt,Le=0;Le<1<<z[Be];Le++)Z[gt++]=Be;for(gt>>=7;Be<m;Be++)for(ye[Be]=gt<<7,Le=0;Le<1<<z[Be]-7;Le++)Z[256+gt++]=Be;for(Je=0;Je<=b;Je++)Mt[Je]=0;for(Le=0;Le<=143;)Q[2*Le+1]=8,Le++,Mt[8]++;for(;Le<=255;)Q[2*Le+1]=9,Le++,Mt[9]++;for(;Le<=279;)Q[2*Le+1]=7,Le++,Mt[7]++;for(;Le<=287;)Q[2*Le+1]=8,Le++,Mt[8]++;for(at(Q,p+1,Mt),Le=0;Le<m;Le++)U[2*Le+1]=5,U[2*Le]=De(Le,5);se=new W(Q,O,h+1,p,b),ue=new W(U,z,0,m,b),Pe=new W(new Array(0),H,0,y,E)}(),Me=!0),xe.l_desc=new re(xe.dyn_ltree,se),xe.d_desc=new re(xe.dyn_dtree,ue),xe.bl_desc=new re(xe.bl_tree,Pe),xe.bi_buf=0,xe.bi_valid=0,je(xe)},i._tr_stored_block=ve,i._tr_flush_block=function(xe,Le,Je,nt){var Be,gt,Mt=0;0<xe.level?(xe.strm.data_type===2&&(xe.strm.data_type=function(At){var Ie,it=4093624447;for(Ie=0;Ie<=31;Ie++,it>>>=1)if(1&it&&At.dyn_ltree[2*Ie]!==0)return o;if(At.dyn_ltree[18]!==0||At.dyn_ltree[20]!==0||At.dyn_ltree[26]!==0)return a;for(Ie=32;Ie<h;Ie++)if(At.dyn_ltree[2*Ie]!==0)return a;return o}(xe)),$t(xe,xe.l_desc),$t(xe,xe.d_desc),Mt=function(At){var Ie;for(ne(At,At.dyn_ltree,At.l_desc.max_code),ne(At,At.dyn_dtree,At.d_desc.max_code),$t(At,At.bl_desc),Ie=y-1;3<=Ie&&At.bl_tree[2*X[Ie]+1]===0;Ie--);return At.opt_len+=3*(Ie+1)+5+5+4,Ie}(xe),Be=xe.opt_len+3+7>>>3,(gt=xe.static_len+3+7>>>3)<=Be&&(Be=gt)):Be=gt=Je+5,Je+4<=Be&&Le!==-1?ve(xe,Le,Je,nt):xe.strategy===4||gt===Be?(ce(xe,2+(nt?1:0),3),Se(xe,Q,U)):(ce(xe,4+(nt?1:0),3),function(At,Ie,it,yt){var Gt;for(ce(At,Ie-257,5),ce(At,it-1,5),ce(At,yt-4,4),Gt=0;Gt<yt;Gt++)ce(At,At.bl_tree[2*X[Gt]+1],3);Ge(At,At.dyn_ltree,Ie-1),Ge(At,At.dyn_dtree,it-1)}(xe,xe.l_desc.max_code+1,xe.d_desc.max_code+1,Mt+1),Se(xe,xe.dyn_ltree,xe.dyn_dtree)),je(xe),nt&&qe(xe)},i._tr_tally=function(xe,Le,Je){return xe.pending_buf[xe.d_buf+2*xe.last_lit]=Le>>>8&255,xe.pending_buf[xe.d_buf+2*xe.last_lit+1]=255&Le,xe.pending_buf[xe.l_buf+xe.last_lit]=255&Je,xe.last_lit++,Le===0?xe.dyn_ltree[2*Je]++:(xe.matches++,Le--,xe.dyn_ltree[2*(q[Je]+h+1)]++,xe.dyn_dtree[2*te(Le)]++),xe.last_lit===xe.lit_bufsize-1},i._tr_align=function(xe){ce(xe,2,3),fe(xe,_,Q),function(Le){Le.bi_valid===16?(J(Le,Le.bi_buf),Le.bi_buf=0,Le.bi_valid=0):8<=Le.bi_valid&&(Le.pending_buf[Le.pending++]=255&Le.bi_buf,Le.bi_buf>>=8,Le.bi_valid-=8)}(xe)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,c,u,h,p=1,m={},y=!1,w=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,l={}.toString.call(o.process)==="[object process]"?function(N){process.nextTick(function(){E(N)})}:function(){if(o.postMessage&&!o.importScripts){var N=!0,V=o.onmessage;return o.onmessage=function(){N=!1},o.postMessage("","*"),o.onmessage=V,N}}()?(h="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",_,!1):o.attachEvent("onmessage",_),function(N){o.postMessage(h+N,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(N){E(N.data)},function(N){u.port2.postMessage(N)}):w&&"onreadystatechange"in w.createElement("script")?(c=w.documentElement,function(N){var V=w.createElement("script");V.onreadystatechange=function(){E(N),V.onreadystatechange=null,c.removeChild(V),V=null},c.appendChild(V)}):function(N){setTimeout(E,0,N)},b.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var V=new Array(arguments.length-1),M=0;M<V.length;M++)V[M]=arguments[M+1];var O={callback:N,args:V};return m[p]=O,l(p),p++},b.clearImmediate=S}function S(N){delete m[N]}function E(N){if(y)setTimeout(E,0,N);else{var V=m[N];if(V){y=!0;try{(function(M){var O=M.callback,z=M.args;switch(z.length){case 0:O();break;case 1:O(z[0]);break;case 2:O(z[0],z[1]);break;case 3:O(z[0],z[1],z[2]);break;default:O.apply(a,z)}})(V)}finally{S(N),y=!1}}}}function _(N){N.source===o&&typeof N.data=="string"&&N.data.indexOf(h)===0&&E(+N.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(E2)),E2.exports}var bat=Cat();const Oie=Wg(bat),qm=e=>e.replace(/[<>:"/\\|?*]/g,"").replace(/\s+/g,"_").replace(/_{2,}/g,"_").trim().substring(0,200),xat=e=>{const t=e.timestamp?new Date(e.timestamp).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Fecha desconocida",n=e.role==="user"?"Usuario":"Bot",r=typeof e.content=="string"?e.content:JSON.stringify(e.content,null,2);return`[${t}] ${n}: ${r}`},Lie=(e,t)=>{const n=e.createdAt?new Date(e.createdAt).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):"Fecha desconocida";let r=`Ttulo: ${e.title}
`;return r+=`Fecha de creacin: ${n}
`,r+=`Modo: ${e.mode||"DEFAULT"}
`,r+=`${"=".repeat(50)}

`,t.length===0?r+=`No hay mensajes en esta conversacin.
`:t.forEach((i,s)=>{r+=xat(i),s<t.length-1&&(r+=`

`)}),r},Sat=async(e,t,n)=>{const r=new Oie,i=qm(e.name||e.email);if(t.length===0)r.file(`${i}/sin_conversaciones.txt`,`El estudiante ${e.name} (${e.email}) no tiene conversaciones.`);else for(const s of t)try{const o=await n(s.id,e.id),a=qm(s.title||"sin_titulo"),l=Lie(o.chat,o.messages);r.file(`${i}/${a}.txt`,l)}catch(o){console.error(`Error al obtener historial del chat ${s.id}:`,o);const a=qm(s.title||"sin_titulo");r.file(`${i}/${a}_error.txt`,`Error al cargar esta conversacin: ${o instanceof Error?o.message:"Error desconocido"}`)}return await r.generateAsync({type:"blob"})},_at=async(e,t,n)=>{const r=new Oie;for(const i of e)try{const s=await n(i.id),o=qm(i.name||i.email);if(s.length===0)r.file(`${o}/sin_conversaciones.txt`,`El estudiante ${i.name} (${i.email}) no tiene conversaciones.`);else for(const a of s)try{const l=await t(a.id,i.id),c=qm(a.title||"sin_titulo"),u=Lie(l.chat,l.messages);r.file(`${o}/${c}.txt`,u)}catch(l){console.error(`Error al obtener historial del chat ${a.id}:`,l);const c=qm(a.title||"sin_titulo");r.file(`${o}/${c}_error.txt`,`Error al cargar esta conversacin: ${l instanceof Error?l.message:"Error desconocido"}`)}}catch(s){console.error(`Error al listar chats del estudiante ${i.id}:`,s);const o=qm(i.name||i.email);r.file(`${o}/error.txt`,`Error al cargar las conversaciones de este estudiante: ${s instanceof Error?s.message:"Error desconocido"}`)}return await r.generateAsync({type:"blob"})},kW=(e,t)=>{const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)},Eat=()=>{const{user:e}=dh(),[t,n]=I.useState(!1),[r,i]=I.useState(new Set),[s,o]=I.useState(new Set),a=e?.role===Ln.ADMINISTRATOR||e?.role===Ln.TEACHER;I.useEffect(()=>{(async()=>{try{const h=u1(Q0(Bl,"chats")),p=await fL(h),m=new Set;p.forEach(y=>{const w=y.data();w.userId&&m.add(w.userId)}),o(m)}catch(h){console.error("Error al cargar usuarios con chats:",h)}})()},[]);const l=async u=>{if(!r.has(u.id)){i(h=>new Set(h).add(u.id)),_r.info(`Exportando conversaciones de ${u.name}...`,{position:"top-right",autoClose:2e3});try{const h=await XI(u.id),p=await Sat(u,h,ZI),m=`conversaciones_${u.name||u.email}_${new Date().toISOString().split("T")[0]}.zip`;kW(p,m),_r.success(`Conversaciones de ${u.name} exportadas correctamente`,{position:"top-right",autoClose:2e3})}catch(h){console.error("Error al exportar:",h),_r.error(`Error al exportar conversaciones de ${u.name}`,{position:"top-right",autoClose:3e3})}finally{i(h=>{const p=new Set(h);return p.delete(u.id),p})}}},c=async()=>{if(!t){n(!0),_r.info("Exportando todas las conversaciones... Esto puede tardar un momento.",{position:"top-right",autoClose:3e3});try{const u=await xL(),h=await _at(u,ZI,XI),p=`todas_las_conversaciones_${new Date().toISOString().split("T")[0]}.zip`;kW(h,p),_r.success("Todas las conversaciones exportadas correctamente",{position:"top-right",autoClose:2e3})}catch(u){console.error("Error al exportar todo:",u),_r.error("Error al exportar todas las conversaciones",{position:"top-right",autoClose:3e3})}finally{n(!1)}}};return B.jsxs("div",{children:[B.jsx("h1",{className:"mb-4",children:"Uso del Chatbot"}),a&&B.jsx("div",{className:"mb-3",children:B.jsx(hi,{variant:"outline-success",onClick:c,disabled:t,children:t?B.jsxs(B.Fragment,{children:[B.jsx(Ll,{size:"sm",className:"me-2"}),"Exportando..."]}):B.jsxs(B.Fragment,{children:[B.jsx(Tpe,{size:16,className:"me-2"}),"Exportar Todas las Conversaciones"]})})}),B.jsx(pee,{showRole:!1,title:"Estudiantes",placeholder:"Buscar estudiantes...",useStore:!1,userLabel:"estudiante",actionsColumn:{headerName:"Acciones",cellRenderer:({data:u})=>{const h=s.has(u.id);return B.jsxs("div",{className:"d-flex gap-2",children:[B.jsxs(RM,{to:`/dashboard/chatbot_view/${u.id}`,className:`btn btn-sm btn-outline-primary ${h?"":"disabled"}`,style:{pointerEvents:h?"auto":"none",opacity:h?1:.5},onClick:p=>{h||p.preventDefault()},children:[B.jsx(cO,{size:16,className:"me-1"}),"Ver Chats"]}),B.jsx(hi,{variant:"outline-success",size:"sm",onClick:()=>l(u),disabled:r.has(u.id),children:r.has(u.id)?B.jsx(Ll,{size:"sm"}):B.jsxs(B.Fragment,{children:[B.jsx(bpe,{size:16,className:"me-1"}),"Exportar"]})})]})}}}),B.jsx(SL,{})]})},Tat=()=>{const{userId:e}=n7(),t=NR();return B.jsxs(B.Fragment,{children:[B.jsxs("button",{className:"btn btn-secondary mb-3",onClick:()=>t(-1),children:[B.jsx(epe,{size:16,className:"me-1"}),"Regresar"]}),B.jsx(mie,{readOnly:!0,targetUserId:e})]})};function Rat(e,t){const n=I.useRef(t);I.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Aat=1;function kat(e){return Object.freeze({__version:Aat,map:e})}function Nie(e,t){return Object.freeze({...e,...t})}const wB=I.createContext(null);function Bie(){const e=I.use(wB);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Vie(e){function t(n,r){const{instance:i,context:s}=e(n).current;I.useImperativeHandle(r,()=>i);const{children:o}=n;return o==null?null:Ve.createElement(wB,{value:s},o)}return I.forwardRef(t)}function Pat(e){function t(n,r){const{instance:i}=e(n).current;return I.useImperativeHandle(r,()=>i),null}return I.forwardRef(t)}function Hie(e,t){const n=I.useRef(void 0);I.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function CB(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var Rb={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Dat=Rb.exports,PW;function Fat(){return PW||(PW=1,function(e,t){(function(n,r){r(t)})(Dat,function(n){var r="1.9.4";function i(g){var C,k,j,ie;for(k=1,j=arguments.length;k<j;k++){ie=arguments[k];for(C in ie)g[C]=ie[C]}return g}var s=Object.create||function(){function g(){}return function(C){return g.prototype=C,new g}}();function o(g,C){var k=Array.prototype.slice;if(g.bind)return g.bind.apply(g,k.call(arguments,1));var j=k.call(arguments,2);return function(){return g.apply(C,j.length?j.concat(k.call(arguments)):arguments)}}var a=0;function l(g){return"_leaflet_id"in g||(g._leaflet_id=++a),g._leaflet_id}function c(g,C,k){var j,ie,we,Oe;return Oe=function(){j=!1,ie&&(we.apply(k,ie),ie=!1)},we=function(){j?ie=arguments:(g.apply(k,arguments),setTimeout(Oe,C),j=!0)},we}function u(g,C,k){var j=C[1],ie=C[0],we=j-ie;return g===j&&k?g:((g-ie)%we+we)%we+ie}function h(){return!1}function p(g,C){if(C===!1)return g;var k=Math.pow(10,C===void 0?6:C);return Math.round(g*k)/k}function m(g){return g.trim?g.trim():g.replace(/^\s+|\s+$/g,"")}function y(g){return m(g).split(/\s+/)}function w(g,C){Object.prototype.hasOwnProperty.call(g,"options")||(g.options=g.options?s(g.options):{});for(var k in C)g.options[k]=C[k];return g.options}function b(g,C,k){var j=[];for(var ie in g)j.push(encodeURIComponent(k?ie.toUpperCase():ie)+"="+encodeURIComponent(g[ie]));return(!C||C.indexOf("?")===-1?"?":"&")+j.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function E(g,C){return g.replace(S,function(k,j){var ie=C[j];if(ie===void 0)throw new Error("No value provided for variable "+k);return typeof ie=="function"&&(ie=ie(C)),ie})}var _=Array.isArray||function(g){return Object.prototype.toString.call(g)==="[object Array]"};function N(g,C){for(var k=0;k<g.length;k++)if(g[k]===C)return k;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(g){return window["webkit"+g]||window["moz"+g]||window["ms"+g]}var O=0;function z(g){var C=+new Date,k=Math.max(0,16-(C-O));return O=C+k,window.setTimeout(g,k)}var H=window.requestAnimationFrame||M("RequestAnimationFrame")||z,X=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(g){window.clearTimeout(g)};function Q(g,C,k){if(k&&H===z)g.call(C);else return H.call(window,o(g,C))}function U(g){g&&X.call(window,g)}var Z={__proto__:null,extend:i,create:s,bind:o,get lastId(){return a},stamp:l,throttle:c,wrapNum:u,falseFn:h,formatNum:p,trim:m,splitWords:y,setOptions:w,getParamString:b,template:E,isArray:_,indexOf:N,emptyImageUrl:V,requestFn:H,cancelFn:X,requestAnimFrame:Q,cancelAnimFrame:U};function q(){}q.extend=function(g){var C=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=C.__super__=this.prototype,j=s(k);j.constructor=C,C.prototype=j;for(var ie in this)Object.prototype.hasOwnProperty.call(this,ie)&&ie!=="prototype"&&ie!=="__super__"&&(C[ie]=this[ie]);return g.statics&&i(C,g.statics),g.includes&&(me(g.includes),i.apply(null,[j].concat(g.includes))),i(j,g),delete j.statics,delete j.includes,j.options&&(j.options=k.options?s(k.options):{},i(j.options,g.options)),j._initHooks=[],j.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var we=0,Oe=j._initHooks.length;we<Oe;we++)j._initHooks[we].call(this)}},C},q.include=function(g){var C=this.prototype.options;return i(this.prototype,g),g.options&&(this.prototype.options=C,this.mergeOptions(g.options)),this},q.mergeOptions=function(g){return i(this.prototype.options,g),this},q.addInitHook=function(g){var C=Array.prototype.slice.call(arguments,1),k=typeof g=="function"?g:function(){this[g].apply(this,C)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function me(g){if(!(typeof L>"u"||!L||!L.Mixin)){g=_(g)?g:[g];for(var C=0;C<g.length;C++)g[C]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(g,C,k){if(typeof g=="object")for(var j in g)this._on(j,g[j],C);else{g=y(g);for(var ie=0,we=g.length;ie<we;ie++)this._on(g[ie],C,k)}return this},off:function(g,C,k){if(!arguments.length)delete this._events;else if(typeof g=="object")for(var j in g)this._off(j,g[j],C);else{g=y(g);for(var ie=arguments.length===1,we=0,Oe=g.length;we<Oe;we++)ie?this._off(g[we]):this._off(g[we],C,k)}return this},_on:function(g,C,k,j){if(typeof C!="function"){console.warn("wrong listener type: "+typeof C);return}if(this._listens(g,C,k)===!1){k===this&&(k=void 0);var ie={fn:C,ctx:k};j&&(ie.once=!0),this._events=this._events||{},this._events[g]=this._events[g]||[],this._events[g].push(ie)}},_off:function(g,C,k){var j,ie,we;if(this._events&&(j=this._events[g],!!j)){if(arguments.length===1){if(this._firingCount)for(ie=0,we=j.length;ie<we;ie++)j[ie].fn=h;delete this._events[g];return}if(typeof C!="function"){console.warn("wrong listener type: "+typeof C);return}var Oe=this._listens(g,C,k);if(Oe!==!1){var tt=j[Oe];this._firingCount&&(tt.fn=h,this._events[g]=j=j.slice()),j.splice(Oe,1)}}},fire:function(g,C,k){if(!this.listens(g,k))return this;var j=i({},C,{type:g,target:this,sourceTarget:C&&C.sourceTarget||this});if(this._events){var ie=this._events[g];if(ie){this._firingCount=this._firingCount+1||1;for(var we=0,Oe=ie.length;we<Oe;we++){var tt=ie[we],mt=tt.fn;tt.once&&this.off(g,mt,tt.ctx),mt.call(tt.ctx||this,j)}this._firingCount--}}return k&&this._propagateEvent(j),this},listens:function(g,C,k,j){typeof g!="string"&&console.warn('"string" type argument expected');var ie=C;typeof C!="function"&&(j=!!C,ie=void 0,k=void 0);var we=this._events&&this._events[g];if(we&&we.length&&this._listens(g,ie,k)!==!1)return!0;if(j){for(var Oe in this._eventParents)if(this._eventParents[Oe].listens(g,C,k,j))return!0}return!1},_listens:function(g,C,k){if(!this._events)return!1;var j=this._events[g]||[];if(!C)return!!j.length;k===this&&(k=void 0);for(var ie=0,we=j.length;ie<we;ie++)if(j[ie].fn===C&&j[ie].ctx===k)return ie;return!1},once:function(g,C,k){if(typeof g=="object")for(var j in g)this._on(j,g[j],C,!0);else{g=y(g);for(var ie=0,we=g.length;ie<we;ie++)this._on(g[ie],C,k,!0)}return this},addEventParent:function(g){return this._eventParents=this._eventParents||{},this._eventParents[l(g)]=g,this},removeEventParent:function(g){return this._eventParents&&delete this._eventParents[l(g)],this},_propagateEvent:function(g){for(var C in this._eventParents)this._eventParents[C].fire(g.type,i({layer:g.target,propagatedFrom:g.target},g),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var ue=q.extend(se);function Pe(g,C,k){this.x=k?Math.round(g):g,this.y=k?Math.round(C):C}var ye=Math.trunc||function(g){return g>0?Math.floor(g):Math.ceil(g)};Pe.prototype={clone:function(){return new Pe(this.x,this.y)},add:function(g){return this.clone()._add(W(g))},_add:function(g){return this.x+=g.x,this.y+=g.y,this},subtract:function(g){return this.clone()._subtract(W(g))},_subtract:function(g){return this.x-=g.x,this.y-=g.y,this},divideBy:function(g){return this.clone()._divideBy(g)},_divideBy:function(g){return this.x/=g,this.y/=g,this},multiplyBy:function(g){return this.clone()._multiplyBy(g)},_multiplyBy:function(g){return this.x*=g,this.y*=g,this},scaleBy:function(g){return new Pe(this.x*g.x,this.y*g.y)},unscaleBy:function(g){return new Pe(this.x/g.x,this.y/g.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ye(this.x),this.y=ye(this.y),this},distanceTo:function(g){g=W(g);var C=g.x-this.x,k=g.y-this.y;return Math.sqrt(C*C+k*k)},equals:function(g){return g=W(g),g.x===this.x&&g.y===this.y},contains:function(g){return g=W(g),Math.abs(g.x)<=Math.abs(this.x)&&Math.abs(g.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function W(g,C,k){return g instanceof Pe?g:_(g)?new Pe(g[0],g[1]):g==null?g:typeof g=="object"&&"x"in g&&"y"in g?new Pe(g.x,g.y):new Pe(g,C,k)}function re(g,C){if(g)for(var k=C?[g,C]:g,j=0,ie=k.length;j<ie;j++)this.extend(k[j])}re.prototype={extend:function(g){var C,k;if(!g)return this;if(g instanceof Pe||typeof g[0]=="number"||"x"in g)C=k=W(g);else if(g=te(g),C=g.min,k=g.max,!C||!k)return this;return!this.min&&!this.max?(this.min=C.clone(),this.max=k.clone()):(this.min.x=Math.min(C.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(C.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(g){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,g)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(g){var C,k;return typeof g[0]=="number"||g instanceof Pe?g=W(g):g=te(g),g instanceof re?(C=g.min,k=g.max):C=k=g,C.x>=this.min.x&&k.x<=this.max.x&&C.y>=this.min.y&&k.y<=this.max.y},intersects:function(g){g=te(g);var C=this.min,k=this.max,j=g.min,ie=g.max,we=ie.x>=C.x&&j.x<=k.x,Oe=ie.y>=C.y&&j.y<=k.y;return we&&Oe},overlaps:function(g){g=te(g);var C=this.min,k=this.max,j=g.min,ie=g.max,we=ie.x>C.x&&j.x<k.x,Oe=ie.y>C.y&&j.y<k.y;return we&&Oe},isValid:function(){return!!(this.min&&this.max)},pad:function(g){var C=this.min,k=this.max,j=Math.abs(C.x-k.x)*g,ie=Math.abs(C.y-k.y)*g;return te(W(C.x-j,C.y-ie),W(k.x+j,k.y+ie))},equals:function(g){return g?(g=te(g),this.min.equals(g.getTopLeft())&&this.max.equals(g.getBottomRight())):!1}};function te(g,C){return!g||g instanceof re?g:new re(g,C)}function J(g,C){if(g)for(var k=C?[g,C]:g,j=0,ie=k.length;j<ie;j++)this.extend(k[j])}J.prototype={extend:function(g){var C=this._southWest,k=this._northEast,j,ie;if(g instanceof fe)j=g,ie=g;else if(g instanceof J){if(j=g._southWest,ie=g._northEast,!j||!ie)return this}else return g?this.extend(De(g)||ce(g)):this;return!C&&!k?(this._southWest=new fe(j.lat,j.lng),this._northEast=new fe(ie.lat,ie.lng)):(C.lat=Math.min(j.lat,C.lat),C.lng=Math.min(j.lng,C.lng),k.lat=Math.max(ie.lat,k.lat),k.lng=Math.max(ie.lng,k.lng)),this},pad:function(g){var C=this._southWest,k=this._northEast,j=Math.abs(C.lat-k.lat)*g,ie=Math.abs(C.lng-k.lng)*g;return new J(new fe(C.lat-j,C.lng-ie),new fe(k.lat+j,k.lng+ie))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(g){typeof g[0]=="number"||g instanceof fe||"lat"in g?g=De(g):g=ce(g);var C=this._southWest,k=this._northEast,j,ie;return g instanceof J?(j=g.getSouthWest(),ie=g.getNorthEast()):j=ie=g,j.lat>=C.lat&&ie.lat<=k.lat&&j.lng>=C.lng&&ie.lng<=k.lng},intersects:function(g){g=ce(g);var C=this._southWest,k=this._northEast,j=g.getSouthWest(),ie=g.getNorthEast(),we=ie.lat>=C.lat&&j.lat<=k.lat,Oe=ie.lng>=C.lng&&j.lng<=k.lng;return we&&Oe},overlaps:function(g){g=ce(g);var C=this._southWest,k=this._northEast,j=g.getSouthWest(),ie=g.getNorthEast(),we=ie.lat>C.lat&&j.lat<k.lat,Oe=ie.lng>C.lng&&j.lng<k.lng;return we&&Oe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(g,C){return g?(g=ce(g),this._southWest.equals(g.getSouthWest(),C)&&this._northEast.equals(g.getNorthEast(),C)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(g,C){return g instanceof J?g:new J(g,C)}function fe(g,C,k){if(isNaN(g)||isNaN(C))throw new Error("Invalid LatLng object: ("+g+", "+C+")");this.lat=+g,this.lng=+C,k!==void 0&&(this.alt=+k)}fe.prototype={equals:function(g,C){if(!g)return!1;g=De(g);var k=Math.max(Math.abs(this.lat-g.lat),Math.abs(this.lng-g.lng));return k<=(C===void 0?1e-9:C)},toString:function(g){return"LatLng("+p(this.lat,g)+", "+p(this.lng,g)+")"},distanceTo:function(g){return je.distance(this,De(g))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(g){var C=180*g/40075017,k=C/Math.cos(Math.PI/180*this.lat);return ce([this.lat-C,this.lng-k],[this.lat+C,this.lng+k])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function De(g,C,k){return g instanceof fe?g:_(g)&&typeof g[0]!="object"?g.length===3?new fe(g[0],g[1],g[2]):g.length===2?new fe(g[0],g[1]):null:g==null?g:typeof g=="object"&&"lat"in g?new fe(g.lat,"lng"in g?g.lng:g.lon,g.alt):C===void 0?null:new fe(g,C,k)}var at={latLngToPoint:function(g,C){var k=this.projection.project(g),j=this.scale(C);return this.transformation._transform(k,j)},pointToLatLng:function(g,C){var k=this.scale(C),j=this.transformation.untransform(g,k);return this.projection.unproject(j)},project:function(g){return this.projection.project(g)},unproject:function(g){return this.projection.unproject(g)},scale:function(g){return 256*Math.pow(2,g)},zoom:function(g){return Math.log(g/256)/Math.LN2},getProjectedBounds:function(g){if(this.infinite)return null;var C=this.projection.bounds,k=this.scale(g),j=this.transformation.transform(C.min,k),ie=this.transformation.transform(C.max,k);return new re(j,ie)},infinite:!1,wrapLatLng:function(g){var C=this.wrapLng?u(g.lng,this.wrapLng,!0):g.lng,k=this.wrapLat?u(g.lat,this.wrapLat,!0):g.lat,j=g.alt;return new fe(k,C,j)},wrapLatLngBounds:function(g){var C=g.getCenter(),k=this.wrapLatLng(C),j=C.lat-k.lat,ie=C.lng-k.lng;if(j===0&&ie===0)return g;var we=g.getSouthWest(),Oe=g.getNorthEast(),tt=new fe(we.lat-j,we.lng-ie),mt=new fe(Oe.lat-j,Oe.lng-ie);return new J(tt,mt)}},je=i({},at,{wrapLng:[-180,180],R:6371e3,distance:function(g,C){var k=Math.PI/180,j=g.lat*k,ie=C.lat*k,we=Math.sin((C.lat-g.lat)*k/2),Oe=Math.sin((C.lng-g.lng)*k/2),tt=we*we+Math.cos(j)*Math.cos(ie)*Oe*Oe,mt=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*mt}}),qe=6378137,et={R:qe,MAX_LATITUDE:85.0511287798,project:function(g){var C=Math.PI/180,k=this.MAX_LATITUDE,j=Math.max(Math.min(k,g.lat),-k),ie=Math.sin(j*C);return new Pe(this.R*g.lng*C,this.R*Math.log((1+ie)/(1-ie))/2)},unproject:function(g){var C=180/Math.PI;return new fe((2*Math.atan(Math.exp(g.y/this.R))-Math.PI/2)*C,g.x*C/this.R)},bounds:function(){var g=qe*Math.PI;return new re([-g,-g],[g,g])}()};function Et(g,C,k,j){if(_(g)){this._a=g[0],this._b=g[1],this._c=g[2],this._d=g[3];return}this._a=g,this._b=C,this._c=k,this._d=j}Et.prototype={transform:function(g,C){return this._transform(g.clone(),C)},_transform:function(g,C){return C=C||1,g.x=C*(this._a*g.x+this._b),g.y=C*(this._c*g.y+this._d),g},untransform:function(g,C){return C=C||1,new Pe((g.x/C-this._b)/this._a,(g.y/C-this._d)/this._c)}};function Se(g,C,k,j){return new Et(g,C,k,j)}var $t=i({},je,{code:"EPSG:3857",projection:et,transformation:function(){var g=.5/(Math.PI*et.R);return Se(g,.5,-g,.5)}()}),ne=i({},$t,{code:"EPSG:900913"});function Ge(g){return document.createElementNS("http://www.w3.org/2000/svg",g)}function Me(g,C){var k="",j,ie,we,Oe,tt,mt;for(j=0,we=g.length;j<we;j++){for(tt=g[j],ie=0,Oe=tt.length;ie<Oe;ie++)mt=tt[ie],k+=(ie?"L":"M")+mt.x+" "+mt.y;k+=C?Tt.svg?"z":"x":""}return k||"M0 0"}var ve=document.documentElement.style,xe="ActiveXObject"in window,Le=xe&&!document.addEventListener,Je="msLaunchUri"in navigator&&!("documentMode"in document),nt=an("webkit"),Be=an("android"),gt=an("android 2")||an("android 3"),Mt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),At=Be&&an("Google")&&Mt<537&&!("AudioNode"in window),Ie=!!window.opera,it=!Je&&an("chrome"),yt=an("gecko")&&!nt&&!Ie&&!xe,Gt=!it&&an("safari"),qt=an("phantom"),mn="OTransition"in ve,cr=navigator.platform.indexOf("Win")===0,fn=xe&&"transition"in ve,Pr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,Kr="MozPerspective"in ve,xn=!window.L_DISABLE_3D&&(fn||Pr||Kr)&&!mn&&!qt,rr=typeof orientation<"u"||an("mobile"),fi=rr&&nt,Qi=rr&&Pr,Ni=!window.PointerEvent&&window.MSPointerEvent,is=!!(window.PointerEvent||Ni),Bi="ontouchstart"in window||!!window.TouchEvent,gs=!window.L_NO_TOUCH&&(Bi||is),As=rr&&Ie,da=rr&&yt,qo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ci=function(){var g=!1;try{var C=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("testPassiveEventSupport",h,C),window.removeEventListener("testPassiveEventSupport",h,C)}catch{}return g}(),Ne=function(){return!!document.createElement("canvas").getContext}(),Qe=!!(document.createElementNS&&Ge("svg").createSVGRect),lt=!!Qe&&function(){var g=document.createElement("div");return g.innerHTML="<svg/>",(g.firstChild&&g.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Pt=!Qe&&function(){try{var g=document.createElement("div");g.innerHTML='<v:shape adj="1"/>';var C=g.firstChild;return C.style.behavior="url(#default#VML)",C&&typeof C.adj=="object"}catch{return!1}}(),Dt=navigator.platform.indexOf("Mac")===0,ln=navigator.platform.indexOf("Linux")===0;function an(g){return navigator.userAgent.toLowerCase().indexOf(g)>=0}var Tt={ie:xe,ielt9:Le,edge:Je,webkit:nt,android:Be,android23:gt,androidStock:At,opera:Ie,chrome:it,gecko:yt,safari:Gt,phantom:qt,opera12:mn,win:cr,ie3d:fn,webkit3d:Pr,gecko3d:Kr,any3d:xn,mobile:rr,mobileWebkit:fi,mobileWebkit3d:Qi,msPointer:Ni,pointer:is,touch:gs,touchNative:Bi,mobileOpera:As,mobileGecko:da,retina:qo,passiveEvents:Ci,canvas:Ne,svg:Qe,vml:Pt,inlineSvg:lt,mac:Dt,linux:ln},he=Tt.msPointer?"MSPointerDown":"pointerdown",Te=Tt.msPointer?"MSPointerMove":"pointermove",be=Tt.msPointer?"MSPointerUp":"pointerup",Ce=Tt.msPointer?"MSPointerCancel":"pointercancel",Ee={touchstart:he,touchmove:Te,touchend:be,touchcancel:Ce},Fe={touchstart:Xt,touchmove:Ut,touchend:Ut,touchcancel:Ut},Xe={},ht=!1;function Ke(g,C,k){return C==="touchstart"&&jt(),Fe[C]?(k=Fe[C].bind(this,k),g.addEventListener(Ee[C],k,!1),k):(console.warn("wrong event specified:",C),h)}function $e(g,C,k){if(!Ee[C]){console.warn("wrong event specified:",C);return}g.removeEventListener(Ee[C],k,!1)}function ut(g){Xe[g.pointerId]=g}function Ot(g){Xe[g.pointerId]&&(Xe[g.pointerId]=g)}function Wt(g){delete Xe[g.pointerId]}function jt(){ht||(document.addEventListener(he,ut,!0),document.addEventListener(Te,Ot,!0),document.addEventListener(be,Wt,!0),document.addEventListener(Ce,Wt,!0),ht=!0)}function Ut(g,C){if(C.pointerType!==(C.MSPOINTER_TYPE_MOUSE||"mouse")){C.touches=[];for(var k in Xe)C.touches.push(Xe[k]);C.changedTouches=[C],g(C)}}function Xt(g,C){C.MSPOINTER_TYPE_TOUCH&&C.pointerType===C.MSPOINTER_TYPE_TOUCH&&Ar(C),Ut(g,C)}function pn(g){var C={},k,j;for(j in g)k=g[j],C[j]=k&&k.bind?k.bind(g):k;return g=C,C.type="dblclick",C.detail=2,C.isTrusted=!1,C._simulated=!0,C}var sr=200;function Kn(g,C){g.addEventListener("dblclick",C);var k=0,j;function ie(we){if(we.detail!==1){j=we.detail;return}if(!(we.pointerType==="mouse"||we.sourceCapabilities&&!we.sourceCapabilities.firesTouchEvents)){var Oe=Fo(we);if(!(Oe.some(function(mt){return mt instanceof HTMLLabelElement&&mt.attributes.for})&&!Oe.some(function(mt){return mt instanceof HTMLInputElement||mt instanceof HTMLSelectElement}))){var tt=Date.now();tt-k<=sr?(j++,j===2&&C(pn(we))):j=1,k=tt}}}return g.addEventListener("click",ie),{dblclick:C,simDblclick:ie}}function dn(g,C){g.removeEventListener("dblclick",C.dblclick),g.removeEventListener("click",C.simDblclick)}var hr=ho(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vi=ho(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ai=Vi==="webkitTransition"||Vi==="OTransition"?Vi+"End":"transitionend";function vr(g){return typeof g=="string"?document.getElementById(g):g}function ur(g,C){var k=g.style[C]||g.currentStyle&&g.currentStyle[C];if((!k||k==="auto")&&document.defaultView){var j=document.defaultView.getComputedStyle(g,null);k=j?j[C]:null}return k==="auto"?null:k}function Pn(g,C,k){var j=document.createElement(g);return j.className=C||"",k&&k.appendChild(j),j}function Hr(g){var C=g.parentNode;C&&C.removeChild(g)}function ms(g){for(;g.firstChild;)g.removeChild(g.firstChild)}function vs(g){var C=g.parentNode;C&&C.lastChild!==g&&C.appendChild(g)}function ol(g){var C=g.parentNode;C&&C.firstChild!==g&&C.insertBefore(g,C.firstChild)}function uo(g,C){if(g.classList!==void 0)return g.classList.contains(C);var k=bi(g);return k.length>0&&new RegExp("(^|\\s)"+C+"(\\s|$)").test(k)}function zn(g,C){if(g.classList!==void 0)for(var k=y(C),j=0,ie=k.length;j<ie;j++)g.classList.add(k[j]);else if(!uo(g,C)){var we=bi(g);Du(g,(we?we+" ":"")+C)}}function Zr(g,C){g.classList!==void 0?g.classList.remove(C):Du(g,m((" "+bi(g)+" ").replace(" "+C+" "," ")))}function Du(g,C){g.className.baseVal===void 0?g.className=C:g.className.baseVal=C}function bi(g){return g.correspondingElement&&(g=g.correspondingElement),g.className.baseVal===void 0?g.className:g.className.baseVal}function pi(g,C){"opacity"in g.style?g.style.opacity=C:"filter"in g.style&&ko(g,C)}function ko(g,C){var k=!1,j="DXImageTransform.Microsoft.Alpha";try{k=g.filters.item(j)}catch{if(C===1)return}C=Math.round(C*100),k?(k.Enabled=C!==100,k.Opacity=C):g.style.filter+=" progid:"+j+"(opacity="+C+")"}function ho(g){for(var C=document.documentElement.style,k=0;k<g.length;k++)if(g[k]in C)return g[k];return!1}function fo(g,C,k){var j=C||new Pe(0,0);g.style[hr]=(Tt.ie3d?"translate("+j.x+"px,"+j.y+"px)":"translate3d("+j.x+"px,"+j.y+"px,0)")+(k?" scale("+k+")":"")}function Bn(g,C){g._leaflet_pos=C,Tt.any3d?fo(g,C):(g.style.left=C.x+"px",g.style.top=C.y+"px")}function Ks(g){return g._leaflet_pos||new Pe(0,0)}var Ys,ha,Fu;if("onselectstart"in document)Ys=function(){Rn(window,"selectstart",Ar)},ha=function(){Sn(window,"selectstart",Ar)};else{var po=ho(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ys=function(){if(po){var g=document.documentElement.style;Fu=g[po],g[po]="none"}},ha=function(){po&&(document.documentElement.style[po]=Fu,Fu=void 0)}}function Ma(){Rn(window,"dragstart",Ar)}function kd(){Sn(window,"dragstart",Ar)}var Wl,Oa;function La(g){for(;g.tabIndex===-1;)g=g.parentNode;g.style&&(go(),Wl=g,Oa=g.style.outlineStyle,g.style.outlineStyle="none",Rn(window,"keydown",go))}function go(){Wl&&(Wl.style.outlineStyle=Oa,Wl=void 0,Oa=void 0,Sn(window,"keydown",go))}function ks(g){do g=g.parentNode;while((!g.offsetWidth||!g.offsetHeight)&&g!==document.body);return g}function Qo(g){var C=g.getBoundingClientRect();return{x:C.width/g.offsetWidth||1,y:C.height/g.offsetHeight||1,boundingClientRect:C}}var Bc={__proto__:null,TRANSFORM:hr,TRANSITION:Vi,TRANSITION_END:Ai,get:vr,getStyle:ur,create:Pn,remove:Hr,empty:ms,toFront:vs,toBack:ol,hasClass:uo,addClass:zn,removeClass:Zr,setClass:Du,getClass:bi,setOpacity:pi,testProp:ho,setTransform:fo,setPosition:Bn,getPosition:Ks,get disableTextSelection(){return Ys},get enableTextSelection(){return ha},disableImageDrag:Ma,enableImageDrag:kd,preventOutline:La,restoreOutline:go,getSizedParentNode:ks,getScale:Qo};function Rn(g,C,k,j){if(C&&typeof C=="object")for(var ie in C)Jo(g,ie,C[ie],k);else{C=y(C);for(var we=0,Oe=C.length;we<Oe;we++)Jo(g,C[we],k,j)}return this}var Xs="_leaflet_events";function Sn(g,C,k,j){if(arguments.length===1)Zs(g),delete g[Xs];else if(C&&typeof C=="object")for(var ie in C)qs(g,ie,C[ie],k);else if(C=y(C),arguments.length===2)Zs(g,function(tt){return N(C,tt)!==-1});else for(var we=0,Oe=C.length;we<Oe;we++)qs(g,C[we],k,j);return this}function Zs(g,C){for(var k in g[Xs]){var j=k.split(/\d/)[0];(!C||C(j))&&qs(g,j,null,null,k)}}var Ls={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Jo(g,C,k,j){var ie=C+l(k)+(j?"_"+l(j):"");if(g[Xs]&&g[Xs][ie])return this;var we=function(tt){return k.call(j||g,tt||window.event)},Oe=we;!Tt.touchNative&&Tt.pointer&&C.indexOf("touch")===0?we=Ke(g,C,we):Tt.touch&&C==="dblclick"?we=Kn(g,we):"addEventListener"in g?C==="touchstart"||C==="touchmove"||C==="wheel"||C==="mousewheel"?g.addEventListener(Ls[C]||C,we,Tt.passiveEvents?{passive:!1}:!1):C==="mouseenter"||C==="mouseleave"?(we=function(tt){tt=tt||window.event,$o(g,tt)&&Oe(tt)},g.addEventListener(Ls[C],we,!1)):g.addEventListener(C,Oe,!1):g.attachEvent("on"+C,we),g[Xs]=g[Xs]||{},g[Xs][ie]=we}function qs(g,C,k,j,ie){ie=ie||C+l(k)+(j?"_"+l(j):"");var we=g[Xs]&&g[Xs][ie];if(!we)return this;!Tt.touchNative&&Tt.pointer&&C.indexOf("touch")===0?$e(g,C,we):Tt.touch&&C==="dblclick"?dn(g,we):"removeEventListener"in g?g.removeEventListener(Ls[C]||C,we,!1):g.detachEvent("on"+C,we),g[Xs][ie]=null}function Ps(g){return g.stopPropagation?g.stopPropagation():g.originalEvent?g.originalEvent._stopped=!0:g.cancelBubble=!0,this}function Po(g){return Jo(g,"wheel",Ps),this}function Do(g){return Rn(g,"mousedown touchstart dblclick contextmenu",Ps),g._leaflet_disable_click=!0,this}function Ar(g){return g.preventDefault?g.preventDefault():g.returnValue=!1,this}function ys(g){return Ar(g),Ps(g),this}function Fo(g){if(g.composedPath)return g.composedPath();for(var C=[],k=g.target;k;)C.push(k),k=k.parentNode;return C}function ss(g,C){if(!C)return new Pe(g.clientX,g.clientY);var k=Qo(C),j=k.boundingClientRect;return new Pe((g.clientX-j.left)/k.x-C.clientLeft,(g.clientY-j.top)/k.y-C.clientTop)}var Dr=Tt.linux&&Tt.chrome?window.devicePixelRatio:Tt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function fa(g){return Tt.edge?g.wheelDeltaY/2:g.deltaY&&g.deltaMode===0?-g.deltaY/Dr:g.deltaY&&g.deltaMode===1?-g.deltaY*20:g.deltaY&&g.deltaMode===2?-g.deltaY*60:g.deltaX||g.deltaZ?0:g.wheelDelta?(g.wheelDeltaY||g.wheelDelta)/2:g.detail&&Math.abs(g.detail)<32765?-g.detail*20:g.detail?g.detail/-32765*60:0}function $o(g,C){var k=C.relatedTarget;if(!k)return!0;try{for(;k&&k!==g;)k=k.parentNode}catch{return!1}return k!==g}var Pd={__proto__:null,on:Rn,off:Sn,stopPropagation:Ps,disableScrollPropagation:Po,disableClickPropagation:Do,preventDefault:Ar,stop:ys,getPropagationPath:Fo,getMousePosition:ss,getWheelDelta:fa,isExternalTarget:$o,addListener:Rn,removeListener:Sn},uc=ue.extend({run:function(g,C,k,j){this.stop(),this._el=g,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(j||.5,.2),this._startPos=Ks(g),this._offset=C.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(g){var C=+new Date-this._startTime,k=this._duration*1e3;C<k?this._runFrame(this._easeOut(C/k),g):(this._runFrame(1),this._complete())},_runFrame:function(g,C){var k=this._startPos.add(this._offset.multiplyBy(g));C&&k._round(),Bn(this._el,k),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(g){return 1-Math.pow(1-g,this._easeOutPower)}}),or=ue.extend({options:{crs:$t,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(g,C){C=w(this,C),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(g),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),C.maxBounds&&this.setMaxBounds(C.maxBounds),C.zoom!==void 0&&(this._zoom=this._limitZoom(C.zoom)),C.center&&C.zoom!==void 0&&this.setView(De(C.center),C.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vi&&Tt.any3d&&!Tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Rn(this._proxy,Ai,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(g,C,k){if(C=C===void 0?this._zoom:this._limitZoom(C),g=this._limitCenter(De(g),C,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var j=this._zoom!==C?this._tryAnimatedZoom&&this._tryAnimatedZoom(g,C,k.zoom):this._tryAnimatedPan(g,k.pan);if(j)return clearTimeout(this._sizeTimer),this}return this._resetView(g,C,k.pan&&k.pan.noMoveStart),this},setZoom:function(g,C){return this._loaded?this.setView(this.getCenter(),g,{zoom:C}):(this._zoom=g,this)},zoomIn:function(g,C){return g=g||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+g,C)},zoomOut:function(g,C){return g=g||(Tt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-g,C)},setZoomAround:function(g,C,k){var j=this.getZoomScale(C),ie=this.getSize().divideBy(2),we=g instanceof Pe?g:this.latLngToContainerPoint(g),Oe=we.subtract(ie).multiplyBy(1-1/j),tt=this.containerPointToLatLng(ie.add(Oe));return this.setView(tt,C,{zoom:k})},_getBoundsCenterZoom:function(g,C){C=C||{},g=g.getBounds?g.getBounds():ce(g);var k=W(C.paddingTopLeft||C.padding||[0,0]),j=W(C.paddingBottomRight||C.padding||[0,0]),ie=this.getBoundsZoom(g,!1,k.add(j));if(ie=typeof C.maxZoom=="number"?Math.min(C.maxZoom,ie):ie,ie===1/0)return{center:g.getCenter(),zoom:ie};var we=j.subtract(k).divideBy(2),Oe=this.project(g.getSouthWest(),ie),tt=this.project(g.getNorthEast(),ie),mt=this.unproject(Oe.add(tt).divideBy(2).add(we),ie);return{center:mt,zoom:ie}},fitBounds:function(g,C){if(g=ce(g),!g.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(g,C);return this.setView(k.center,k.zoom,C)},fitWorld:function(g){return this.fitBounds([[-90,-180],[90,180]],g)},panTo:function(g,C){return this.setView(g,this._zoom,{pan:C})},panBy:function(g,C){if(g=W(g).round(),C=C||{},!g.x&&!g.y)return this.fire("moveend");if(C.animate!==!0&&!this.getSize().contains(g))return this._resetView(this.unproject(this.project(this.getCenter()).add(g)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new uc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),C.noMoveStart||this.fire("movestart"),C.animate!==!1){zn(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(g).round();this._panAnim.run(this._mapPane,k,C.duration||.25,C.easeLinearity)}else this._rawPanBy(g),this.fire("move").fire("moveend");return this},flyTo:function(g,C,k){if(k=k||{},k.animate===!1||!Tt.any3d)return this.setView(g,C,k);this._stop();var j=this.project(this.getCenter()),ie=this.project(g),we=this.getSize(),Oe=this._zoom;g=De(g),C=C===void 0?Oe:C;var tt=Math.max(we.x,we.y),mt=tt*this.getZoomScale(Oe,C),Nt=ie.distanceTo(j)||1,en=1.42,hn=en*en;function un(dr){var Fs=dr?-1:1,za=dr?mt:tt,vl=mt*mt-tt*tt+Fs*hn*hn*Nt*Nt,No=2*za*hn*Nt,Wc=vl/No,Gi=Math.sqrt(Wc*Wc+1)-Wc,yl=Gi<1e-9?-18:Math.log(Gi);return yl}function Vn(dr){return(Math.exp(dr)-Math.exp(-dr))/2}function Yr(dr){return(Math.exp(dr)+Math.exp(-dr))/2}function Qr(dr){return Vn(dr)/Yr(dr)}var Tr=un(0);function vo(dr){return tt*(Yr(Tr)/Yr(Tr+en*dr))}function va(dr){return tt*(Yr(Tr)*Qr(Tr+en*dr)-Vn(Tr))/hn}function Uc(dr){return 1-Math.pow(1-dr,1.5)}var Zl=Date.now(),ya=(un(1)-Tr)/en,Ha=k.duration?1e3*k.duration:1e3*ya*.8;function sa(){var dr=(Date.now()-Zl)/Ha,Fs=Uc(dr)*ya;dr<=1?(this._flyToFrame=Q(sa,this),this._move(this.unproject(j.add(ie.subtract(j).multiplyBy(va(Fs)/Nt)),Oe),this.getScaleZoom(tt/vo(Fs),Oe),{flyTo:!0})):this._move(g,C)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),sa.call(this),this},flyToBounds:function(g,C){var k=this._getBoundsCenterZoom(g,C);return this.flyTo(k.center,k.zoom,C)},setMaxBounds:function(g){return g=ce(g),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),g.isValid()?(this.options.maxBounds=g,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(g){var C=this.options.minZoom;return this.options.minZoom=g,this._loaded&&C!==g&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(g):this},setMaxZoom:function(g){var C=this.options.maxZoom;return this.options.maxZoom=g,this._loaded&&C!==g&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(g):this},panInsideBounds:function(g,C){this._enforcingBounds=!0;var k=this.getCenter(),j=this._limitCenter(k,this._zoom,ce(g));return k.equals(j)||this.panTo(j,C),this._enforcingBounds=!1,this},panInside:function(g,C){C=C||{};var k=W(C.paddingTopLeft||C.padding||[0,0]),j=W(C.paddingBottomRight||C.padding||[0,0]),ie=this.project(this.getCenter()),we=this.project(g),Oe=this.getPixelBounds(),tt=te([Oe.min.add(k),Oe.max.subtract(j)]),mt=tt.getSize();if(!tt.contains(we)){this._enforcingBounds=!0;var Nt=we.subtract(tt.getCenter()),en=tt.extend(we).getSize().subtract(mt);ie.x+=Nt.x<0?-en.x:en.x,ie.y+=Nt.y<0?-en.y:en.y,this.panTo(this.unproject(ie),C),this._enforcingBounds=!1}return this},invalidateSize:function(g){if(!this._loaded)return this;g=i({animate:!1,pan:!0},g===!0?{animate:!0}:g);var C=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),j=C.divideBy(2).round(),ie=k.divideBy(2).round(),we=j.subtract(ie);return!we.x&&!we.y?this:(g.animate&&g.pan?this.panBy(we):(g.pan&&this._rawPanBy(we),this.fire("move"),g.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:C,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(g){if(g=this._locateOptions=i({timeout:1e4,watch:!1},g),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var C=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return g.watch?this._locationWatchId=navigator.geolocation.watchPosition(C,k,g):navigator.geolocation.getCurrentPosition(C,k,g),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(g){if(this._container._leaflet_id){var C=g.code,k=g.message||(C===1?"permission denied":C===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:C,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(g){if(this._container._leaflet_id){var C=g.coords.latitude,k=g.coords.longitude,j=new fe(C,k),ie=j.toBounds(g.coords.accuracy*2),we=this._locateOptions;if(we.setView){var Oe=this.getBoundsZoom(ie);this.setView(j,we.maxZoom?Math.min(Oe,we.maxZoom):Oe)}var tt={latlng:j,bounds:ie,timestamp:g.timestamp};for(var mt in g.coords)typeof g.coords[mt]=="number"&&(tt[mt]=g.coords[mt]);this.fire("locationfound",tt)}},addHandler:function(g,C){if(!C)return this;var k=this[g]=new C(this);return this._handlers.push(k),this.options[g]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Hr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var g;for(g in this._layers)this._layers[g].remove();for(g in this._panes)Hr(this._panes[g]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(g,C){var k="leaflet-pane"+(g?" leaflet-"+g.replace("Pane","")+"-pane":""),j=Pn("div",k,C||this._mapPane);return g&&(this._panes[g]=j),j},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var g=this.getPixelBounds(),C=this.unproject(g.getBottomLeft()),k=this.unproject(g.getTopRight());return new J(C,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(g,C,k){g=ce(g),k=W(k||[0,0]);var j=this.getZoom()||0,ie=this.getMinZoom(),we=this.getMaxZoom(),Oe=g.getNorthWest(),tt=g.getSouthEast(),mt=this.getSize().subtract(k),Nt=te(this.project(tt,j),this.project(Oe,j)).getSize(),en=Tt.any3d?this.options.zoomSnap:1,hn=mt.x/Nt.x,un=mt.y/Nt.y,Vn=C?Math.max(hn,un):Math.min(hn,un);return j=this.getScaleZoom(Vn,j),en&&(j=Math.round(j/(en/100))*(en/100),j=C?Math.ceil(j/en)*en:Math.floor(j/en)*en),Math.max(ie,Math.min(we,j))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(g,C){var k=this._getTopLeftPoint(g,C);return new re(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(g){return this.options.crs.getProjectedBounds(g===void 0?this.getZoom():g)},getPane:function(g){return typeof g=="string"?this._panes[g]:g},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(g,C){var k=this.options.crs;return C=C===void 0?this._zoom:C,k.scale(g)/k.scale(C)},getScaleZoom:function(g,C){var k=this.options.crs;C=C===void 0?this._zoom:C;var j=k.zoom(g*k.scale(C));return isNaN(j)?1/0:j},project:function(g,C){return C=C===void 0?this._zoom:C,this.options.crs.latLngToPoint(De(g),C)},unproject:function(g,C){return C=C===void 0?this._zoom:C,this.options.crs.pointToLatLng(W(g),C)},layerPointToLatLng:function(g){var C=W(g).add(this.getPixelOrigin());return this.unproject(C)},latLngToLayerPoint:function(g){var C=this.project(De(g))._round();return C._subtract(this.getPixelOrigin())},wrapLatLng:function(g){return this.options.crs.wrapLatLng(De(g))},wrapLatLngBounds:function(g){return this.options.crs.wrapLatLngBounds(ce(g))},distance:function(g,C){return this.options.crs.distance(De(g),De(C))},containerPointToLayerPoint:function(g){return W(g).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(g){return W(g).add(this._getMapPanePos())},containerPointToLatLng:function(g){var C=this.containerPointToLayerPoint(W(g));return this.layerPointToLatLng(C)},latLngToContainerPoint:function(g){return this.layerPointToContainerPoint(this.latLngToLayerPoint(De(g)))},mouseEventToContainerPoint:function(g){return ss(g,this._container)},mouseEventToLayerPoint:function(g){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(g))},mouseEventToLatLng:function(g){return this.layerPointToLatLng(this.mouseEventToLayerPoint(g))},_initContainer:function(g){var C=this._container=vr(g);if(C){if(C._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Rn(C,"scroll",this._onScroll,this),this._containerId=l(C)},_initLayout:function(){var g=this._container;this._fadeAnimated=this.options.fadeAnimation&&Tt.any3d,zn(g,"leaflet-container"+(Tt.touch?" leaflet-touch":"")+(Tt.retina?" leaflet-retina":"")+(Tt.ielt9?" leaflet-oldie":"")+(Tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var C=ur(g,"position");C!=="absolute"&&C!=="relative"&&C!=="fixed"&&C!=="sticky"&&(g.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var g=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Bn(this._mapPane,new Pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(zn(g.markerPane,"leaflet-zoom-hide"),zn(g.shadowPane,"leaflet-zoom-hide"))},_resetView:function(g,C,k){Bn(this._mapPane,new Pe(0,0));var j=!this._loaded;this._loaded=!0,C=this._limitZoom(C),this.fire("viewprereset");var ie=this._zoom!==C;this._moveStart(ie,k)._move(g,C)._moveEnd(ie),this.fire("viewreset"),j&&this.fire("load")},_moveStart:function(g,C){return g&&this.fire("zoomstart"),C||this.fire("movestart"),this},_move:function(g,C,k,j){C===void 0&&(C=this._zoom);var ie=this._zoom!==C;return this._zoom=C,this._lastCenter=g,this._pixelOrigin=this._getNewPixelOrigin(g),j?k&&k.pinch&&this.fire("zoom",k):((ie||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(g){return g&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(g){Bn(this._mapPane,this._getMapPanePos().subtract(g))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(g){this._targets={},this._targets[l(this._container)]=this;var C=g?Sn:Rn;C(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&C(window,"resize",this._onResize,this),Tt.any3d&&this.options.transform3DLimit&&(g?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var g=this._getMapPanePos();Math.max(Math.abs(g.x),Math.abs(g.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(g,C){for(var k=[],j,ie=C==="mouseout"||C==="mouseover",we=g.target||g.srcElement,Oe=!1;we;){if(j=this._targets[l(we)],j&&(C==="click"||C==="preclick")&&this._draggableMoved(j)){Oe=!0;break}if(j&&j.listens(C,!0)&&(ie&&!$o(we,g)||(k.push(j),ie))||we===this._container)break;we=we.parentNode}return!k.length&&!Oe&&!ie&&this.listens(C,!0)&&(k=[this]),k},_isClickDisabled:function(g){for(;g&&g!==this._container;){if(g._leaflet_disable_click)return!0;g=g.parentNode}},_handleDOMEvent:function(g){var C=g.target||g.srcElement;if(!(!this._loaded||C._leaflet_disable_events||g.type==="click"&&this._isClickDisabled(C))){var k=g.type;k==="mousedown"&&La(C),this._fireDOMEvent(g,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(g,C,k){if(g.type==="click"){var j=i({},g);j.type="preclick",this._fireDOMEvent(j,j.type,k)}var ie=this._findEventTargets(g,C);if(k){for(var we=[],Oe=0;Oe<k.length;Oe++)k[Oe].listens(C,!0)&&we.push(k[Oe]);ie=we.concat(ie)}if(ie.length){C==="contextmenu"&&Ar(g);var tt=ie[0],mt={originalEvent:g};if(g.type!=="keypress"&&g.type!=="keydown"&&g.type!=="keyup"){var Nt=tt.getLatLng&&(!tt._radius||tt._radius<=10);mt.containerPoint=Nt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(g),mt.layerPoint=this.containerPointToLayerPoint(mt.containerPoint),mt.latlng=Nt?tt.getLatLng():this.layerPointToLatLng(mt.layerPoint)}for(Oe=0;Oe<ie.length;Oe++)if(ie[Oe].fire(C,mt,!0),mt.originalEvent._stopped||ie[Oe].options.bubblingMouseEvents===!1&&N(this._mouseEvents,C)!==-1)return}},_draggableMoved:function(g){return g=g.dragging&&g.dragging.enabled()?g:this,g.dragging&&g.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var g=0,C=this._handlers.length;g<C;g++)this._handlers[g].disable()},whenReady:function(g,C){return this._loaded?g.call(C||this,{target:this}):this.on("load",g,C),this},_getMapPanePos:function(){return Ks(this._mapPane)||new Pe(0,0)},_moved:function(){var g=this._getMapPanePos();return g&&!g.equals([0,0])},_getTopLeftPoint:function(g,C){var k=g&&C!==void 0?this._getNewPixelOrigin(g,C):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(g,C){var k=this.getSize()._divideBy(2);return this.project(g,C)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(g,C,k){var j=this._getNewPixelOrigin(k,C);return this.project(g,C)._subtract(j)},_latLngBoundsToNewLayerBounds:function(g,C,k){var j=this._getNewPixelOrigin(k,C);return te([this.project(g.getSouthWest(),C)._subtract(j),this.project(g.getNorthWest(),C)._subtract(j),this.project(g.getSouthEast(),C)._subtract(j),this.project(g.getNorthEast(),C)._subtract(j)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(g){return this.latLngToLayerPoint(g).subtract(this._getCenterLayerPoint())},_limitCenter:function(g,C,k){if(!k)return g;var j=this.project(g,C),ie=this.getSize().divideBy(2),we=new re(j.subtract(ie),j.add(ie)),Oe=this._getBoundsOffset(we,k,C);return Math.abs(Oe.x)<=1&&Math.abs(Oe.y)<=1?g:this.unproject(j.add(Oe),C)},_limitOffset:function(g,C){if(!C)return g;var k=this.getPixelBounds(),j=new re(k.min.add(g),k.max.add(g));return g.add(this._getBoundsOffset(j,C))},_getBoundsOffset:function(g,C,k){var j=te(this.project(C.getNorthEast(),k),this.project(C.getSouthWest(),k)),ie=j.min.subtract(g.min),we=j.max.subtract(g.max),Oe=this._rebound(ie.x,-we.x),tt=this._rebound(ie.y,-we.y);return new Pe(Oe,tt)},_rebound:function(g,C){return g+C>0?Math.round(g-C)/2:Math.max(0,Math.ceil(g))-Math.max(0,Math.floor(C))},_limitZoom:function(g){var C=this.getMinZoom(),k=this.getMaxZoom(),j=Tt.any3d?this.options.zoomSnap:1;return j&&(g=Math.round(g/j)*j),Math.max(C,Math.min(k,g))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Zr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(g,C){var k=this._getCenterOffset(g)._trunc();return(C&&C.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,C),!0)},_createAnimProxy:function(){var g=this._proxy=Pn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(g),this.on("zoomanim",function(C){var k=hr,j=this._proxy.style[k];fo(this._proxy,this.project(C.center,C.zoom),this.getZoomScale(C.zoom,1)),j===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Hr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var g=this.getCenter(),C=this.getZoom();fo(this._proxy,this.project(g,C),this.getZoomScale(C,1))},_catchTransitionEnd:function(g){this._animatingZoom&&g.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(g,C,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(C-this._zoom)>this.options.zoomAnimationThreshold)return!1;var j=this.getZoomScale(C),ie=this._getCenterOffset(g)._divideBy(1-1/j);return k.animate!==!0&&!this.getSize().contains(ie)?!1:(Q(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(g,C,!0)},this),!0)},_animateZoom:function(g,C,k,j){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=g,this._animateToZoom=C,zn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:g,zoom:C,noUpdate:j}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Zr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function al(g,C){return new or(g,C)}var Ns=q.extend({options:{position:"topright"},initialize:function(g){w(this,g)},getPosition:function(){return this.options.position},setPosition:function(g){var C=this._map;return C&&C.removeControl(this),this.options.position=g,C&&C.addControl(this),this},getContainer:function(){return this._container},addTo:function(g){this.remove(),this._map=g;var C=this._container=this.onAdd(g),k=this.getPosition(),j=g._controlCorners[k];return zn(C,"leaflet-control"),k.indexOf("bottom")!==-1?j.insertBefore(C,j.firstChild):j.appendChild(C),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Hr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(g){this._map&&g&&g.screenX>0&&g.screenY>0&&this._map.getContainer().focus()}}),Qs=function(g){return new Ns(g)};or.include({addControl:function(g){return g.addTo(this),this},removeControl:function(g){return g.remove(),this},_initControlPos:function(){var g=this._controlCorners={},C="leaflet-",k=this._controlContainer=Pn("div",C+"control-container",this._container);function j(ie,we){var Oe=C+ie+" "+C+we;g[ie+we]=Pn("div",Oe,k)}j("top","left"),j("top","right"),j("bottom","left"),j("bottom","right")},_clearControlPos:function(){for(var g in this._controlCorners)Hr(this._controlCorners[g]);Hr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Iu=Ns.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(g,C,k,j){return k<j?-1:j<k?1:0}},initialize:function(g,C,k){w(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var j in g)this._addLayer(g[j],j);for(j in C)this._addLayer(C[j],j,!0)},onAdd:function(g){this._initLayout(),this._update(),this._map=g,g.on("zoomend",this._checkDisabledLayers,this);for(var C=0;C<this._layers.length;C++)this._layers[C].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(g){return Ns.prototype.addTo.call(this,g),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(g,C){return this._addLayer(g,C),this._map?this._update():this},addOverlay:function(g,C){return this._addLayer(g,C,!0),this._map?this._update():this},removeLayer:function(g){g.off("add remove",this._onLayerChange,this);var C=this._getLayer(l(g));return C&&this._layers.splice(this._layers.indexOf(C),1),this._map?this._update():this},expand:function(){zn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var g=this._map.getSize().y-(this._container.offsetTop+50);return g<this._section.clientHeight?(zn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=g+"px"):Zr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Zr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var g="leaflet-control-layers",C=this._container=Pn("div",g),k=this.options.collapsed;C.setAttribute("aria-haspopup",!0),Do(C),Po(C);var j=this._section=Pn("section",g+"-list");k&&(this._map.on("click",this.collapse,this),Rn(C,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ie=this._layersLink=Pn("a",g+"-toggle",C);ie.href="#",ie.title="Layers",ie.setAttribute("role","button"),Rn(ie,{keydown:function(we){we.keyCode===13&&this._expandSafely()},click:function(we){Ar(we),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=Pn("div",g+"-base",j),this._separator=Pn("div",g+"-separator",j),this._overlaysList=Pn("div",g+"-overlays",j),C.appendChild(j)},_getLayer:function(g){for(var C=0;C<this._layers.length;C++)if(this._layers[C]&&l(this._layers[C].layer)===g)return this._layers[C]},_addLayer:function(g,C,k){this._map&&g.on("add remove",this._onLayerChange,this),this._layers.push({layer:g,name:C,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(j,ie){return this.options.sortFunction(j.layer,ie.layer,j.name,ie.name)},this)),this.options.autoZIndex&&g.setZIndex&&(this._lastZIndex++,g.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ms(this._baseLayersList),ms(this._overlaysList),this._layerControlInputs=[];var g,C,k,j,ie=0;for(k=0;k<this._layers.length;k++)j=this._layers[k],this._addItem(j),C=C||j.overlay,g=g||!j.overlay,ie+=j.overlay?0:1;return this.options.hideSingleBase&&(g=g&&ie>1,this._baseLayersList.style.display=g?"":"none"),this._separator.style.display=C&&g?"":"none",this},_onLayerChange:function(g){this._handlingClick||this._update();var C=this._getLayer(l(g.target)),k=C.overlay?g.type==="add"?"overlayadd":"overlayremove":g.type==="add"?"baselayerchange":null;k&&this._map.fire(k,C)},_createRadioElement:function(g,C){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+g+'"'+(C?' checked="checked"':"")+"/>",j=document.createElement("div");return j.innerHTML=k,j.firstChild},_addItem:function(g){var C=document.createElement("label"),k=this._map.hasLayer(g.layer),j;g.overlay?(j=document.createElement("input"),j.type="checkbox",j.className="leaflet-control-layers-selector",j.defaultChecked=k):j=this._createRadioElement("leaflet-base-layers_"+l(this),k),this._layerControlInputs.push(j),j.layerId=l(g.layer),Rn(j,"click",this._onInputClick,this);var ie=document.createElement("span");ie.innerHTML=" "+g.name;var we=document.createElement("span");C.appendChild(we),we.appendChild(j),we.appendChild(ie);var Oe=g.overlay?this._overlaysList:this._baseLayersList;return Oe.appendChild(C),this._checkDisabledLayers(),C},_onInputClick:function(){if(!this._preventClick){var g=this._layerControlInputs,C,k,j=[],ie=[];this._handlingClick=!0;for(var we=g.length-1;we>=0;we--)C=g[we],k=this._getLayer(C.layerId).layer,C.checked?j.push(k):C.checked||ie.push(k);for(we=0;we<ie.length;we++)this._map.hasLayer(ie[we])&&this._map.removeLayer(ie[we]);for(we=0;we<j.length;we++)this._map.hasLayer(j[we])||this._map.addLayer(j[we]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var g=this._layerControlInputs,C,k,j=this._map.getZoom(),ie=g.length-1;ie>=0;ie--)C=g[ie],k=this._getLayer(C.layerId).layer,C.disabled=k.options.minZoom!==void 0&&j<k.options.minZoom||k.options.maxZoom!==void 0&&j>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var g=this._section;this._preventClick=!0,Rn(g,"click",Ar),this.expand();var C=this;setTimeout(function(){Sn(g,"click",Ar),C._preventClick=!1})}}),ph=function(g,C,k){return new Iu(g,C,k)},jl=Ns.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(g){var C="leaflet-control-zoom",k=Pn("div",C+" leaflet-bar"),j=this.options;return this._zoomInButton=this._createButton(j.zoomInText,j.zoomInTitle,C+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(j.zoomOutText,j.zoomOutTitle,C+"-out",k,this._zoomOut),this._updateDisabled(),g.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(g){g.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(g){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(g.shiftKey?3:1))},_zoomOut:function(g){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(g.shiftKey?3:1))},_createButton:function(g,C,k,j,ie){var we=Pn("a",k,j);return we.innerHTML=g,we.href="#",we.title=C,we.setAttribute("role","button"),we.setAttribute("aria-label",C),Do(we),Rn(we,"click",ys),Rn(we,"click",ie,this),Rn(we,"click",this._refocusOnMap,this),we},_updateDisabled:function(){var g=this._map,C="leaflet-disabled";Zr(this._zoomInButton,C),Zr(this._zoomOutButton,C),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||g._zoom===g.getMinZoom())&&(zn(this._zoomOutButton,C),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||g._zoom===g.getMaxZoom())&&(zn(this._zoomInButton,C),this._zoomInButton.setAttribute("aria-disabled","true"))}});or.mergeOptions({zoomControl:!0}),or.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new jl,this.addControl(this.zoomControl))});var ll=function(g){return new jl(g)},Vc=Ns.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(g){var C="leaflet-control-scale",k=Pn("div",C),j=this.options;return this._addScales(j,C+"-line",k),g.on(j.updateWhenIdle?"moveend":"move",this._update,this),g.whenReady(this._update,this),k},onRemove:function(g){g.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(g,C,k){g.metric&&(this._mScale=Pn("div",C,k)),g.imperial&&(this._iScale=Pn("div",C,k))},_update:function(){var g=this._map,C=g.getSize().y/2,k=g.distance(g.containerPointToLatLng([0,C]),g.containerPointToLatLng([this.options.maxWidth,C]));this._updateScales(k)},_updateScales:function(g){this.options.metric&&g&&this._updateMetric(g),this.options.imperial&&g&&this._updateImperial(g)},_updateMetric:function(g){var C=this._getRoundNum(g),k=C<1e3?C+" m":C/1e3+" km";this._updateScale(this._mScale,k,C/g)},_updateImperial:function(g){var C=g*3.2808399,k,j,ie;C>5280?(k=C/5280,j=this._getRoundNum(k),this._updateScale(this._iScale,j+" mi",j/k)):(ie=this._getRoundNum(C),this._updateScale(this._iScale,ie+" ft",ie/C))},_updateScale:function(g,C,k){g.style.width=Math.round(this.options.maxWidth*k)+"px",g.innerHTML=C},_getRoundNum:function(g){var C=Math.pow(10,(Math.floor(g)+"").length-1),k=g/C;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,C*k}}),Kl=function(g){return new Vc(g)},gh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',cl=Ns.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Tt.inlineSvg?gh+" ":"")+"Leaflet</a>"},initialize:function(g){w(this,g),this._attributions={}},onAdd:function(g){g.attributionControl=this,this._container=Pn("div","leaflet-control-attribution"),Do(this._container);for(var C in g._layers)g._layers[C].getAttribution&&this.addAttribution(g._layers[C].getAttribution());return this._update(),g.on("layeradd",this._addAttribution,this),this._container},onRemove:function(g){g.off("layeradd",this._addAttribution,this)},_addAttribution:function(g){g.layer.getAttribution&&(this.addAttribution(g.layer.getAttribution()),g.layer.once("remove",function(){this.removeAttribution(g.layer.getAttribution())},this))},setPrefix:function(g){return this.options.prefix=g,this._update(),this},addAttribution:function(g){return g?(this._attributions[g]||(this._attributions[g]=0),this._attributions[g]++,this._update(),this):this},removeAttribution:function(g){return g?(this._attributions[g]&&(this._attributions[g]--,this._update()),this):this},_update:function(){if(this._map){var g=[];for(var C in this._attributions)this._attributions[C]&&g.push(C);var k=[];this.options.prefix&&k.push(this.options.prefix),g.length&&k.push(g.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});or.mergeOptions({attributionControl:!0}),or.addInitHook(function(){this.options.attributionControl&&new cl().addTo(this)});var mh=function(g){return new cl(g)};Ns.Layers=Iu,Ns.Zoom=jl,Ns.Scale=Vc,Ns.Attribution=cl,Qs.layers=ph,Qs.zoom=ll,Qs.scale=Kl,Qs.attribution=mh;var ws=q.extend({initialize:function(g){this._map=g},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ws.addTo=function(g,C){return g.addHandler(C,this),this};var Yl={Events:se},dc=Tt.touch?"touchstart mousedown":"mousedown",pa=ue.extend({options:{clickTolerance:3},initialize:function(g,C,k,j){w(this,j),this._element=g,this._dragStartTarget=C||g,this._preventOutline=k},enable:function(){this._enabled||(Rn(this._dragStartTarget,dc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(pa._dragging===this&&this.finishDrag(!0),Sn(this._dragStartTarget,dc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(g){if(this._enabled&&(this._moved=!1,!uo(this._element,"leaflet-zoom-anim"))){if(g.touches&&g.touches.length!==1){pa._dragging===this&&this.finishDrag();return}if(!(pa._dragging||g.shiftKey||g.which!==1&&g.button!==1&&!g.touches)&&(pa._dragging=this,this._preventOutline&&La(this._element),Ma(),Ys(),!this._moving)){this.fire("down");var C=g.touches?g.touches[0]:g,k=ks(this._element);this._startPoint=new Pe(C.clientX,C.clientY),this._startPos=Ks(this._element),this._parentScale=Qo(k);var j=g.type==="mousedown";Rn(document,j?"mousemove":"touchmove",this._onMove,this),Rn(document,j?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(g){if(this._enabled){if(g.touches&&g.touches.length>1){this._moved=!0;return}var C=g.touches&&g.touches.length===1?g.touches[0]:g,k=new Pe(C.clientX,C.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,Ar(g),this._moved||(this.fire("dragstart"),this._moved=!0,zn(document.body,"leaflet-dragging"),this._lastTarget=g.target||g.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),zn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=g,this._updatePosition())}},_updatePosition:function(){var g={originalEvent:this._lastEvent};this.fire("predrag",g),Bn(this._element,this._newPos),this.fire("drag",g)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(g){Zr(document.body,"leaflet-dragging"),this._lastTarget&&(Zr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Sn(document,"mousemove touchmove",this._onMove,this),Sn(document,"mouseup touchend touchcancel",this._onUp,this),kd(),ha();var C=this._moved&&this._moving;this._moving=!1,pa._dragging=!1,C&&this.fire("dragend",{noInertia:g,distance:this._newPos.distanceTo(this._startPos)})}});function ul(g,C,k){var j,ie=[1,4,2,8],we,Oe,tt,mt,Nt,en,hn,un;for(we=0,en=g.length;we<en;we++)g[we]._code=Io(g[we],C);for(tt=0;tt<4;tt++){for(hn=ie[tt],j=[],we=0,en=g.length,Oe=en-1;we<en;Oe=we++)mt=g[we],Nt=g[Oe],mt._code&hn?Nt._code&hn||(un=zr(Nt,mt,hn,C,k),un._code=Io(un,C),j.push(un)):(Nt._code&hn&&(un=zr(Nt,mt,hn,C,k),un._code=Io(un,C),j.push(un)),j.push(mt));g=j}return g}function ea(g,C){var k,j,ie,we,Oe,tt,mt,Nt,en;if(!g||g.length===0)throw new Error("latlngs not passed");T(g)||(console.warn("latlngs are not flat! Only the first ring will be used"),g=g[0]);var hn=De([0,0]),un=ce(g),Vn=un.getNorthWest().distanceTo(un.getSouthWest())*un.getNorthEast().distanceTo(un.getNorthWest());Vn<1700&&(hn=Mu(g));var Yr=g.length,Qr=[];for(k=0;k<Yr;k++){var Tr=De(g[k]);Qr.push(C.project(De([Tr.lat-hn.lat,Tr.lng-hn.lng])))}for(tt=mt=Nt=0,k=0,j=Yr-1;k<Yr;j=k++)ie=Qr[k],we=Qr[j],Oe=ie.y*we.x-we.y*ie.x,mt+=(ie.x+we.x)*Oe,Nt+=(ie.y+we.y)*Oe,tt+=Oe*3;tt===0?en=Qr[0]:en=[mt/tt,Nt/tt];var vo=C.unproject(W(en));return De([vo.lat+hn.lat,vo.lng+hn.lng])}function Mu(g){for(var C=0,k=0,j=0,ie=0;ie<g.length;ie++){var we=De(g[ie]);C+=we.lat,k+=we.lng,j++}return De([C/j,k/j])}var Ou={__proto__:null,clipPolygon:ul,polygonCenter:ea,centroid:Mu};function Ji(g,C){if(!C||!g.length)return g.slice();var k=C*C;return g=hl(g,k),g=hc(g,k),g}function dl(g,C,k){return Math.sqrt(Js(g,C,k,!0))}function mo(g,C,k){return Js(g,C,k)}function hc(g,C){var k=g.length,j=typeof Uint8Array<"u"?Uint8Array:Array,ie=new j(k);ie[0]=ie[k-1]=1,Hc(g,ie,C,0,k-1);var we,Oe=[];for(we=0;we<k;we++)ie[we]&&Oe.push(g[we]);return Oe}function Hc(g,C,k,j,ie){var we=0,Oe,tt,mt;for(tt=j+1;tt<=ie-1;tt++)mt=Js(g[tt],g[j],g[ie],!0),mt>we&&(Oe=tt,we=mt);we>k&&(C[Oe]=1,Hc(g,C,k,j,Oe),Hc(g,C,k,Oe,ie))}function hl(g,C){for(var k=[g[0]],j=1,ie=0,we=g.length;j<we;j++)Dd(g[j],g[ie])>C&&(k.push(g[j]),ie=j);return ie<we-1&&k.push(g[we-1]),k}var os;function as(g,C,k,j,ie){var we=j?os:Io(g,k),Oe=Io(C,k),tt,mt,Nt;for(os=Oe;;){if(!(we|Oe))return[g,C];if(we&Oe)return!1;tt=we||Oe,mt=zr(g,C,tt,k,ie),Nt=Io(mt,k),tt===we?(g=mt,we=Nt):(C=mt,Oe=Nt)}}function zr(g,C,k,j,ie){var we=C.x-g.x,Oe=C.y-g.y,tt=j.min,mt=j.max,Nt,en;return k&8?(Nt=g.x+we*(mt.y-g.y)/Oe,en=mt.y):k&4?(Nt=g.x+we*(tt.y-g.y)/Oe,en=tt.y):k&2?(Nt=mt.x,en=g.y+Oe*(mt.x-g.x)/we):k&1&&(Nt=tt.x,en=g.y+Oe*(tt.x-g.x)/we),new Pe(Nt,en,ie)}function Io(g,C){var k=0;return g.x<C.min.x?k|=1:g.x>C.max.x&&(k|=2),g.y<C.min.y?k|=4:g.y>C.max.y&&(k|=8),k}function Dd(g,C){var k=C.x-g.x,j=C.y-g.y;return k*k+j*j}function Js(g,C,k,j){var ie=C.x,we=C.y,Oe=k.x-ie,tt=k.y-we,mt=Oe*Oe+tt*tt,Nt;return mt>0&&(Nt=((g.x-ie)*Oe+(g.y-we)*tt)/mt,Nt>1?(ie=k.x,we=k.y):Nt>0&&(ie+=Oe*Nt,we+=tt*Nt)),Oe=g.x-ie,tt=g.y-we,j?Oe*Oe+tt*tt:new Pe(ie,we)}function T(g){return!_(g[0])||typeof g[0][0]!="object"&&typeof g[0][0]<"u"}function ee(g){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),T(g)}function ae(g,C){var k,j,ie,we,Oe,tt,mt,Nt;if(!g||g.length===0)throw new Error("latlngs not passed");T(g)||(console.warn("latlngs are not flat! Only the first ring will be used"),g=g[0]);var en=De([0,0]),hn=ce(g),un=hn.getNorthWest().distanceTo(hn.getSouthWest())*hn.getNorthEast().distanceTo(hn.getNorthWest());un<1700&&(en=Mu(g));var Vn=g.length,Yr=[];for(k=0;k<Vn;k++){var Qr=De(g[k]);Yr.push(C.project(De([Qr.lat-en.lat,Qr.lng-en.lng])))}for(k=0,j=0;k<Vn-1;k++)j+=Yr[k].distanceTo(Yr[k+1])/2;if(j===0)Nt=Yr[0];else for(k=0,we=0;k<Vn-1;k++)if(Oe=Yr[k],tt=Yr[k+1],ie=Oe.distanceTo(tt),we+=ie,we>j){mt=(we-j)/ie,Nt=[tt.x-mt*(tt.x-Oe.x),tt.y-mt*(tt.y-Oe.y)];break}var Tr=C.unproject(W(Nt));return De([Tr.lat+en.lat,Tr.lng+en.lng])}var Re={__proto__:null,simplify:Ji,pointToSegmentDistance:dl,closestPointOnSegment:mo,clipSegment:as,_getEdgeIntersection:zr,_getBitCode:Io,_sqClosestPointOnSegment:Js,isFlat:T,_flat:ee,polylineCenter:ae},st={project:function(g){return new Pe(g.lng,g.lat)},unproject:function(g){return new fe(g.y,g.x)},bounds:new re([-180,-90],[180,90])},Ct={R:6378137,R_MINOR:6356752314245179e-9,bounds:new re([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(g){var C=Math.PI/180,k=this.R,j=g.lat*C,ie=this.R_MINOR/k,we=Math.sqrt(1-ie*ie),Oe=we*Math.sin(j),tt=Math.tan(Math.PI/4-j/2)/Math.pow((1-Oe)/(1+Oe),we/2);return j=-k*Math.log(Math.max(tt,1e-10)),new Pe(g.lng*C*k,j)},unproject:function(g){for(var C=180/Math.PI,k=this.R,j=this.R_MINOR/k,ie=Math.sqrt(1-j*j),we=Math.exp(-g.y/k),Oe=Math.PI/2-2*Math.atan(we),tt=0,mt=.1,Nt;tt<15&&Math.abs(mt)>1e-7;tt++)Nt=ie*Math.sin(Oe),Nt=Math.pow((1-Nt)/(1+Nt),ie/2),mt=Math.PI/2-2*Math.atan(we*Nt)-Oe,Oe+=mt;return new fe(Oe*C,g.x*C/k)}},Zt={__proto__:null,LonLat:st,Mercator:Ct,SphericalMercator:et},fr=i({},je,{code:"EPSG:3395",projection:Ct,transformation:function(){var g=.5/(Math.PI*Ct.R);return Se(g,.5,-g,.5)}()}),Fr=i({},je,{code:"EPSG:4326",projection:st,transformation:Se(1/180,1,-1/180,.5)}),Er=i({},at,{projection:st,transformation:Se(1,0,-1,0),scale:function(g){return Math.pow(2,g)},zoom:function(g){return Math.log(g)/Math.LN2},distance:function(g,C){var k=C.lng-g.lng,j=C.lat-g.lat;return Math.sqrt(k*k+j*j)},infinite:!0});at.Earth=je,at.EPSG3395=fr,at.EPSG3857=$t,at.EPSG900913=ne,at.EPSG4326=Fr,at.Simple=Er;var Ir=ue.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(g){return g.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(g){return g&&g.removeLayer(this),this},getPane:function(g){return this._map.getPane(g?this.options[g]||g:this.options.pane)},addInteractiveTarget:function(g){return this._map._targets[l(g)]=this,this},removeInteractiveTarget:function(g){return delete this._map._targets[l(g)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(g){var C=g.target;if(C.hasLayer(this)){if(this._map=C,this._zoomAnimated=C._zoomAnimated,this.getEvents){var k=this.getEvents();C.on(k,this),this.once("remove",function(){C.off(k,this)},this)}this.onAdd(C),this.fire("add"),C.fire("layeradd",{layer:this})}}});or.include({addLayer:function(g){if(!g._layerAdd)throw new Error("The provided object is not a Layer.");var C=l(g);return this._layers[C]?this:(this._layers[C]=g,g._mapToAdd=this,g.beforeAdd&&g.beforeAdd(this),this.whenReady(g._layerAdd,g),this)},removeLayer:function(g){var C=l(g);return this._layers[C]?(this._loaded&&g.onRemove(this),delete this._layers[C],this._loaded&&(this.fire("layerremove",{layer:g}),g.fire("remove")),g._map=g._mapToAdd=null,this):this},hasLayer:function(g){return l(g)in this._layers},eachLayer:function(g,C){for(var k in this._layers)g.call(C,this._layers[k]);return this},_addLayers:function(g){g=g?_(g)?g:[g]:[];for(var C=0,k=g.length;C<k;C++)this.addLayer(g[C])},_addZoomLimit:function(g){(!isNaN(g.options.maxZoom)||!isNaN(g.options.minZoom))&&(this._zoomBoundLayers[l(g)]=g,this._updateZoomLevels())},_removeZoomLimit:function(g){var C=l(g);this._zoomBoundLayers[C]&&(delete this._zoomBoundLayers[C],this._updateZoomLevels())},_updateZoomLevels:function(){var g=1/0,C=-1/0,k=this._getZoomSpan();for(var j in this._zoomBoundLayers){var ie=this._zoomBoundLayers[j].options;g=ie.minZoom===void 0?g:Math.min(g,ie.minZoom),C=ie.maxZoom===void 0?C:Math.max(C,ie.maxZoom)}this._layersMaxZoom=C===-1/0?void 0:C,this._layersMinZoom=g===1/0?void 0:g,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ai=Ir.extend({initialize:function(g,C){w(this,C),this._layers={};var k,j;if(g)for(k=0,j=g.length;k<j;k++)this.addLayer(g[k])},addLayer:function(g){var C=this.getLayerId(g);return this._layers[C]=g,this._map&&this._map.addLayer(g),this},removeLayer:function(g){var C=g in this._layers?g:this.getLayerId(g);return this._map&&this._layers[C]&&this._map.removeLayer(this._layers[C]),delete this._layers[C],this},hasLayer:function(g){var C=typeof g=="number"?g:this.getLayerId(g);return C in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(g){var C=Array.prototype.slice.call(arguments,1),k,j;for(k in this._layers)j=this._layers[k],j[g]&&j[g].apply(j,C);return this},onAdd:function(g){this.eachLayer(g.addLayer,g)},onRemove:function(g){this.eachLayer(g.removeLayer,g)},eachLayer:function(g,C){for(var k in this._layers)g.call(C,this._layers[k]);return this},getLayer:function(g){return this._layers[g]},getLayers:function(){var g=[];return this.eachLayer(g.push,g),g},setZIndex:function(g){return this.invoke("setZIndex",g)},getLayerId:function(g){return l(g)}}),Na=function(g,C){return new ai(g,C)},ri=ai.extend({addLayer:function(g){return this.hasLayer(g)?this:(g.addEventParent(this),ai.prototype.addLayer.call(this,g),this.fire("layeradd",{layer:g}))},removeLayer:function(g){return this.hasLayer(g)?(g in this._layers&&(g=this._layers[g]),g.removeEventParent(this),ai.prototype.removeLayer.call(this,g),this.fire("layerremove",{layer:g})):this},setStyle:function(g){return this.invoke("setStyle",g)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var g=new J;for(var C in this._layers){var k=this._layers[C];g.extend(k.getBounds?k.getBounds():k.getLatLng())}return g}}),ta=function(g,C){return new ri(g,C)},Mo=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(g){w(this,g)},createIcon:function(g){return this._createIcon("icon",g)},createShadow:function(g){return this._createIcon("shadow",g)},_createIcon:function(g,C){var k=this._getIconUrl(g);if(!k){if(g==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var j=this._createImg(k,C&&C.tagName==="IMG"?C:null);return this._setIconStyles(j,g),(this.options.crossOrigin||this.options.crossOrigin==="")&&(j.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),j},_setIconStyles:function(g,C){var k=this.options,j=k[C+"Size"];typeof j=="number"&&(j=[j,j]);var ie=W(j),we=W(C==="shadow"&&k.shadowAnchor||k.iconAnchor||ie&&ie.divideBy(2,!0));g.className="leaflet-marker-"+C+" "+(k.className||""),we&&(g.style.marginLeft=-we.x+"px",g.style.marginTop=-we.y+"px"),ie&&(g.style.width=ie.x+"px",g.style.height=ie.y+"px")},_createImg:function(g,C){return C=C||document.createElement("img"),C.src=g,C},_getIconUrl:function(g){return Tt.retina&&this.options[g+"RetinaUrl"]||this.options[g+"Url"]}});function Lu(g){return new Mo(g)}var zc=Mo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(g){return typeof zc.imagePath!="string"&&(zc.imagePath=this._detectIconPath()),(this.options.imagePath||zc.imagePath)+Mo.prototype._getIconUrl.call(this,g)},_stripUrl:function(g){var C=function(k,j,ie){var we=j.exec(k);return we&&we[ie]};return g=C(g,/^url\((['"])?(.+)\1\)$/,2),g&&C(g,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var g=Pn("div","leaflet-default-icon-path",document.body),C=ur(g,"background-image")||ur(g,"backgroundImage");if(document.body.removeChild(g),C=this._stripUrl(C),C)return C;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),Fd=ws.extend({initialize:function(g){this._marker=g},addHooks:function(){var g=this._marker._icon;this._draggable||(this._draggable=new pa(g,g,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),zn(g,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Zr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(g){var C=this._marker,k=C._map,j=this._marker.options.autoPanSpeed,ie=this._marker.options.autoPanPadding,we=Ks(C._icon),Oe=k.getPixelBounds(),tt=k.getPixelOrigin(),mt=te(Oe.min._subtract(tt).add(ie),Oe.max._subtract(tt).subtract(ie));if(!mt.contains(we)){var Nt=W((Math.max(mt.max.x,we.x)-mt.max.x)/(Oe.max.x-mt.max.x)-(Math.min(mt.min.x,we.x)-mt.min.x)/(Oe.min.x-mt.min.x),(Math.max(mt.max.y,we.y)-mt.max.y)/(Oe.max.y-mt.max.y)-(Math.min(mt.min.y,we.y)-mt.min.y)/(Oe.min.y-mt.min.y)).multiplyBy(j);k.panBy(Nt,{animate:!1}),this._draggable._newPos._add(Nt),this._draggable._startPos._add(Nt),Bn(C._icon,this._draggable._newPos),this._onDrag(g),this._panRequest=Q(this._adjustPan.bind(this,g))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(g){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,g)))},_onDrag:function(g){var C=this._marker,k=C._shadow,j=Ks(C._icon),ie=C._map.layerPointToLatLng(j);k&&Bn(k,j),C._latlng=ie,g.latlng=ie,g.oldLatLng=this._oldLatLng,C.fire("move",g).fire("drag",g)},_onDragEnd:function(g){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",g)}}),Ba=Ir.extend({options:{icon:new zc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(g,C){w(this,C),this._latlng=De(g)},onAdd:function(g){this._zoomAnimated=this._zoomAnimated&&g.options.markerZoomAnimation,this._zoomAnimated&&g.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(g){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&g.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(g){var C=this._latlng;return this._latlng=De(g),this.update(),this.fire("move",{oldLatLng:C,latlng:this._latlng})},setZIndexOffset:function(g){return this.options.zIndexOffset=g,this.update()},getIcon:function(){return this.options.icon},setIcon:function(g){return this.options.icon=g,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var g=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(g)}return this},_initIcon:function(){var g=this.options,C="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=g.icon.createIcon(this._icon),j=!1;k!==this._icon&&(this._icon&&this._removeIcon(),j=!0,g.title&&(k.title=g.title),k.tagName==="IMG"&&(k.alt=g.alt||"")),zn(k,C),g.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,g.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rn(k,"focus",this._panOnFocus,this);var ie=g.icon.createShadow(this._shadow),we=!1;ie!==this._shadow&&(this._removeShadow(),we=!0),ie&&(zn(ie,C),ie.alt=""),this._shadow=ie,g.opacity<1&&this._updateOpacity(),j&&this.getPane().appendChild(this._icon),this._initInteraction(),ie&&we&&this.getPane(g.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Sn(this._icon,"focus",this._panOnFocus,this),Hr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Hr(this._shadow),this._shadow=null},_setPos:function(g){this._icon&&Bn(this._icon,g),this._shadow&&Bn(this._shadow,g),this._zIndex=g.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(g){this._icon&&(this._icon.style.zIndex=this._zIndex+g)},_animateZoom:function(g){var C=this._map._latLngToNewLayerPoint(this._latlng,g.zoom,g.center).round();this._setPos(C)},_initInteraction:function(){if(this.options.interactive&&(zn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Fd)){var g=this.options.draggable;this.dragging&&(g=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Fd(this),g&&this.dragging.enable()}},setOpacity:function(g){return this.options.opacity=g,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var g=this.options.opacity;this._icon&&pi(this._icon,g),this._shadow&&pi(this._shadow,g)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var g=this._map;if(g){var C=this.options.icon.options,k=C.iconSize?W(C.iconSize):W(0,0),j=C.iconAnchor?W(C.iconAnchor):W(0,0);g.panInside(this._latlng,{paddingTopLeft:j,paddingBottomRight:k.subtract(j)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fl(g,C){return new Ba(g,C)}var Oo=Ir.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(g){this._renderer=g.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(g){return w(this,g),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&g&&Object.prototype.hasOwnProperty.call(g,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Va=Oo.extend({options:{fill:!0,radius:10},initialize:function(g,C){w(this,C),this._latlng=De(g),this._radius=this.options.radius},setLatLng:function(g){var C=this._latlng;return this._latlng=De(g),this.redraw(),this.fire("move",{oldLatLng:C,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(g){return this.options.radius=this._radius=g,this.redraw()},getRadius:function(){return this._radius},setStyle:function(g){var C=g&&g.radius||this._radius;return Oo.prototype.setStyle.call(this,g),this.setRadius(C),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var g=this._radius,C=this._radiusY||g,k=this._clickTolerance(),j=[g+k,C+k];this._pxBounds=new re(this._point.subtract(j),this._point.add(j))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(g){return g.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nu(g,C){return new Va(g,C)}var Bu=Va.extend({initialize:function(g,C,k){if(typeof C=="number"&&(C=i({},k,{radius:C})),w(this,C),this._latlng=De(g),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(g){return this._mRadius=g,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var g=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(g)),this._map.layerPointToLatLng(this._point.add(g)))},setStyle:Oo.prototype.setStyle,_project:function(){var g=this._latlng.lng,C=this._latlng.lat,k=this._map,j=k.options.crs;if(j.distance===je.distance){var ie=Math.PI/180,we=this._mRadius/je.R/ie,Oe=k.project([C+we,g]),tt=k.project([C-we,g]),mt=Oe.add(tt).divideBy(2),Nt=k.unproject(mt).lat,en=Math.acos((Math.cos(we*ie)-Math.sin(C*ie)*Math.sin(Nt*ie))/(Math.cos(C*ie)*Math.cos(Nt*ie)))/ie;(isNaN(en)||en===0)&&(en=we/Math.cos(Math.PI/180*C)),this._point=mt.subtract(k.getPixelOrigin()),this._radius=isNaN(en)?0:mt.x-k.project([Nt,g-en]).x,this._radiusY=mt.y-Oe.y}else{var hn=j.unproject(j.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(hn).x}this._updateBounds()}});function _f(g,C,k){return new Bu(g,C,k)}var na=Oo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(g,C){w(this,C),this._setLatLngs(g)},getLatLngs:function(){return this._latlngs},setLatLngs:function(g){return this._setLatLngs(g),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(g){for(var C=1/0,k=null,j=Js,ie,we,Oe=0,tt=this._parts.length;Oe<tt;Oe++)for(var mt=this._parts[Oe],Nt=1,en=mt.length;Nt<en;Nt++){ie=mt[Nt-1],we=mt[Nt];var hn=j(g,ie,we,!0);hn<C&&(C=hn,k=j(g,ie,we))}return k&&(k.distance=Math.sqrt(C)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ae(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(g,C){return C=C||this._defaultShape(),g=De(g),C.push(g),this._bounds.extend(g),this.redraw()},_setLatLngs:function(g){this._bounds=new J,this._latlngs=this._convertLatLngs(g)},_defaultShape:function(){return T(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(g){for(var C=[],k=T(g),j=0,ie=g.length;j<ie;j++)k?(C[j]=De(g[j]),this._bounds.extend(C[j])):C[j]=this._convertLatLngs(g[j]);return C},_project:function(){var g=new re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,g),this._bounds.isValid()&&g.isValid()&&(this._rawPxBounds=g,this._updateBounds())},_updateBounds:function(){var g=this._clickTolerance(),C=new Pe(g,g);this._rawPxBounds&&(this._pxBounds=new re([this._rawPxBounds.min.subtract(C),this._rawPxBounds.max.add(C)]))},_projectLatlngs:function(g,C,k){var j=g[0]instanceof fe,ie=g.length,we,Oe;if(j){for(Oe=[],we=0;we<ie;we++)Oe[we]=this._map.latLngToLayerPoint(g[we]),k.extend(Oe[we]);C.push(Oe)}else for(we=0;we<ie;we++)this._projectLatlngs(g[we],C,k)},_clipPoints:function(){var g=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(g))){if(this.options.noClip){this._parts=this._rings;return}var C=this._parts,k,j,ie,we,Oe,tt,mt;for(k=0,ie=0,we=this._rings.length;k<we;k++)for(mt=this._rings[k],j=0,Oe=mt.length;j<Oe-1;j++)tt=as(mt[j],mt[j+1],g,j,!0),tt&&(C[ie]=C[ie]||[],C[ie].push(tt[0]),(tt[1]!==mt[j+1]||j===Oe-2)&&(C[ie].push(tt[1]),ie++))}},_simplifyPoints:function(){for(var g=this._parts,C=this.options.smoothFactor,k=0,j=g.length;k<j;k++)g[k]=Ji(g[k],C)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(g,C){var k,j,ie,we,Oe,tt,mt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(g))return!1;for(k=0,we=this._parts.length;k<we;k++)for(tt=this._parts[k],j=0,Oe=tt.length,ie=Oe-1;j<Oe;ie=j++)if(!(!C&&j===0)&&dl(g,tt[ie],tt[j])<=mt)return!0;return!1}});function Gc(g,C){return new na(g,C)}na._flat=ee;var Vu=na.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ea(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(g){var C=na.prototype._convertLatLngs.call(this,g),k=C.length;return k>=2&&C[0]instanceof fe&&C[0].equals(C[k-1])&&C.pop(),C},_setLatLngs:function(g){na.prototype._setLatLngs.call(this,g),T(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return T(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var g=this._renderer._bounds,C=this.options.weight,k=new Pe(C,C);if(g=new re(g.min.subtract(k),g.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(g))){if(this.options.noClip){this._parts=this._rings;return}for(var j=0,ie=this._rings.length,we;j<ie;j++)we=ul(this._rings[j],g,!0),we.length&&this._parts.push(we)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(g){var C=!1,k,j,ie,we,Oe,tt,mt,Nt;if(!this._pxBounds||!this._pxBounds.contains(g))return!1;for(we=0,mt=this._parts.length;we<mt;we++)for(k=this._parts[we],Oe=0,Nt=k.length,tt=Nt-1;Oe<Nt;tt=Oe++)j=k[Oe],ie=k[tt],j.y>g.y!=ie.y>g.y&&g.x<(ie.x-j.x)*(g.y-j.y)/(ie.y-j.y)+j.x&&(C=!C);return C||na.prototype._containsPoint.call(this,g,!0)}});function $s(g,C){return new Vu(g,C)}var Lo=ri.extend({initialize:function(g,C){w(this,C),this._layers={},g&&this.addData(g)},addData:function(g){var C=_(g)?g:g.features,k,j,ie;if(C){for(k=0,j=C.length;k<j;k++)ie=C[k],(ie.geometries||ie.geometry||ie.features||ie.coordinates)&&this.addData(ie);return this}var we=this.options;if(we.filter&&!we.filter(g))return this;var Oe=ga(g,we);return Oe?(Oe.feature=Ue(g),Oe.defaultOptions=Oe.options,this.resetStyle(Oe),we.onEachFeature&&we.onEachFeature(g,Oe),this.addLayer(Oe)):this},resetStyle:function(g){return g===void 0?this.eachLayer(this.resetStyle,this):(g.options=i({},g.defaultOptions),this._setLayerStyle(g,this.options.style),this)},setStyle:function(g){return this.eachLayer(function(C){this._setLayerStyle(C,g)},this)},_setLayerStyle:function(g,C){g.setStyle&&(typeof C=="function"&&(C=C(g.feature)),g.setStyle(C))}});function ga(g,C){var k=g.type==="Feature"?g.geometry:g,j=k?k.coordinates:null,ie=[],we=C&&C.pointToLayer,Oe=C&&C.coordsToLatLng||F,tt,mt,Nt,en;if(!j&&!k)return null;switch(k.type){case"Point":return tt=Oe(j),A(we,g,tt,C);case"MultiPoint":for(Nt=0,en=j.length;Nt<en;Nt++)tt=Oe(j[Nt]),ie.push(A(we,g,tt,C));return new ri(ie);case"LineString":case"MultiLineString":return mt=Y(j,k.type==="LineString"?0:1,Oe),new na(mt,C);case"Polygon":case"MultiPolygon":return mt=Y(j,k.type==="Polygon"?1:2,Oe),new Vu(mt,C);case"GeometryCollection":for(Nt=0,en=k.geometries.length;Nt<en;Nt++){var hn=ga({geometry:k.geometries[Nt],type:"Feature",properties:g.properties},C);hn&&ie.push(hn)}return new ri(ie);case"FeatureCollection":for(Nt=0,en=k.features.length;Nt<en;Nt++){var un=ga(k.features[Nt],C);un&&ie.push(un)}return new ri(ie);default:throw new Error("Invalid GeoJSON object.")}}function A(g,C,k,j){return g?g(C,k):new Ba(k,j&&j.markersInheritOptions&&j)}function F(g){return new fe(g[1],g[0],g[2])}function Y(g,C,k){for(var j=[],ie=0,we=g.length,Oe;ie<we;ie++)Oe=C?Y(g[ie],C-1,k):(k||F)(g[ie]),j.push(Oe);return j}function oe(g,C){return g=De(g),g.alt!==void 0?[p(g.lng,C),p(g.lat,C),p(g.alt,C)]:[p(g.lng,C),p(g.lat,C)]}function ge(g,C,k,j){for(var ie=[],we=0,Oe=g.length;we<Oe;we++)ie.push(C?ge(g[we],T(g[we])?0:C-1,k,j):oe(g[we],j));return!C&&k&&ie.length>0&&ie.push(ie[0].slice()),ie}function Ae(g,C){return g.feature?i({},g.feature,{geometry:C}):Ue(C)}function Ue(g){return g.type==="Feature"||g.type==="FeatureCollection"?g:{type:"Feature",properties:{},geometry:g}}var St={toGeoJSON:function(g){return Ae(this,{type:"Point",coordinates:oe(this.getLatLng(),g)})}};Ba.include(St),Bu.include(St),Va.include(St),na.include({toGeoJSON:function(g){var C=!T(this._latlngs),k=ge(this._latlngs,C?1:0,!1,g);return Ae(this,{type:(C?"Multi":"")+"LineString",coordinates:k})}}),Vu.include({toGeoJSON:function(g){var C=!T(this._latlngs),k=C&&!T(this._latlngs[0]),j=ge(this._latlngs,k?2:C?1:0,!0,g);return C||(j=[j]),Ae(this,{type:(k?"Multi":"")+"Polygon",coordinates:j})}}),ai.include({toMultiPoint:function(g){var C=[];return this.eachLayer(function(k){C.push(k.toGeoJSON(g).geometry.coordinates)}),Ae(this,{type:"MultiPoint",coordinates:C})},toGeoJSON:function(g){var C=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(C==="MultiPoint")return this.toMultiPoint(g);var k=C==="GeometryCollection",j=[];return this.eachLayer(function(ie){if(ie.toGeoJSON){var we=ie.toGeoJSON(g);if(k)j.push(we.geometry);else{var Oe=Ue(we);Oe.type==="FeatureCollection"?j.push.apply(j,Oe.features):j.push(Oe)}}}),k?Ae(this,{geometries:j,type:"GeometryCollection"}):{type:"FeatureCollection",features:j}}});function ct(g,C){return new Lo(g,C)}var xt=ct,Jt=Ir.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(g,C,k){this._url=g,this._bounds=ce(C),w(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(zn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Hr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(g){return this.options.opacity=g,this._image&&this._updateOpacity(),this},setStyle:function(g){return g.opacity&&this.setOpacity(g.opacity),this},bringToFront:function(){return this._map&&vs(this._image),this},bringToBack:function(){return this._map&&ol(this._image),this},setUrl:function(g){return this._url=g,this._image&&(this._image.src=g),this},setBounds:function(g){return this._bounds=ce(g),this._map&&this._reset(),this},getEvents:function(){var g={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(g.zoomanim=this._animateZoom),g},setZIndex:function(g){return this.options.zIndex=g,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var g=this._url.tagName==="IMG",C=this._image=g?this._url:Pn("img");if(zn(C,"leaflet-image-layer"),this._zoomAnimated&&zn(C,"leaflet-zoom-animated"),this.options.className&&zn(C,this.options.className),C.onselectstart=h,C.onmousemove=h,C.onload=o(this.fire,this,"load"),C.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(C.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),g){this._url=C.src;return}C.src=this._url,C.alt=this.options.alt},_animateZoom:function(g){var C=this._map.getZoomScale(g.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,g.zoom,g.center).min;fo(this._image,k,C)},_reset:function(){var g=this._image,C=new re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=C.getSize();Bn(g,C.min),g.style.width=k.x+"px",g.style.height=k.y+"px"},_updateOpacity:function(){pi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var g=this.options.errorOverlayUrl;g&&this._url!==g&&(this._url=g,this._image.src=g)},getCenter:function(){return this._bounds.getCenter()}}),Kt=function(g,C,k){return new Jt(g,C,k)},yn=Jt.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var g=this._url.tagName==="VIDEO",C=this._image=g?this._url:Pn("video");if(zn(C,"leaflet-image-layer"),this._zoomAnimated&&zn(C,"leaflet-zoom-animated"),this.options.className&&zn(C,this.options.className),C.onselectstart=h,C.onmousemove=h,C.onloadeddata=o(this.fire,this,"load"),g){for(var k=C.getElementsByTagName("source"),j=[],ie=0;ie<k.length;ie++)j.push(k[ie].src);this._url=k.length>0?j:[C.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(C.style,"objectFit")&&(C.style.objectFit="fill"),C.autoplay=!!this.options.autoplay,C.loop=!!this.options.loop,C.muted=!!this.options.muted,C.playsInline=!!this.options.playsInline;for(var we=0;we<this._url.length;we++){var Oe=Pn("source");Oe.src=this._url[we],C.appendChild(Oe)}}});function An(g,C,k){return new yn(g,C,k)}var _n=Jt.extend({_initImage:function(){var g=this._image=this._url;zn(g,"leaflet-image-layer"),this._zoomAnimated&&zn(g,"leaflet-zoom-animated"),this.options.className&&zn(g,this.options.className),g.onselectstart=h,g.onmousemove=h}});function Un(g,C,k){return new _n(g,C,k)}var pr=Ir.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(g,C){g&&(g instanceof fe||_(g))?(this._latlng=De(g),w(this,C)):(w(this,g),this._source=C),this.options.content&&(this._content=this.options.content)},openOn:function(g){return g=arguments.length?g:this._source._map,g.hasLayer(this)||g.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(g){return this._map?this.close():(arguments.length?this._source=g:g=this._source,this._prepareOpen(),this.openOn(g._map)),this},onAdd:function(g){this._zoomAnimated=g._zoomAnimated,this._container||this._initLayout(),g._fadeAnimated&&pi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),g._fadeAnimated&&pi(this._container,1),this.bringToFront(),this.options.interactive&&(zn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(g){g._fadeAnimated?(pi(this._container,0),this._removeTimeout=setTimeout(o(Hr,void 0,this._container),200)):Hr(this._container),this.options.interactive&&(Zr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(g){return this._latlng=De(g),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(g){return this._content=g,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var g={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(g.zoomanim=this._animateZoom),g},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vs(this._container),this},bringToBack:function(){return this._map&&ol(this._container),this},_prepareOpen:function(g){var C=this._source;if(!C._map)return!1;if(C instanceof ri){C=null;var k=this._source._layers;for(var j in k)if(k[j]._map){C=k[j];break}if(!C)return!1;this._source=C}if(!g)if(C.getCenter)g=C.getCenter();else if(C.getLatLng)g=C.getLatLng();else if(C.getBounds)g=C.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(g),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var g=this._contentNode,C=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof C=="string")g.innerHTML=C;else{for(;g.hasChildNodes();)g.removeChild(g.firstChild);g.appendChild(C)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var g=this._map.latLngToLayerPoint(this._latlng),C=W(this.options.offset),k=this._getAnchor();this._zoomAnimated?Bn(this._container,g.add(k)):C=C.add(g).add(k);var j=this._containerBottom=-C.y,ie=this._containerLeft=-Math.round(this._containerWidth/2)+C.x;this._container.style.bottom=j+"px",this._container.style.left=ie+"px"}},_getAnchor:function(){return[0,0]}});or.include({_initOverlay:function(g,C,k,j){var ie=C;return ie instanceof g||(ie=new g(j).setContent(C)),k&&ie.setLatLng(k),ie}}),Ir.include({_initOverlay:function(g,C,k,j){var ie=k;return ie instanceof g?(w(ie,j),ie._source=this):(ie=C&&!j?C:new g(j,this),ie.setContent(k)),ie}});var Nr=pr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(g){return g=arguments.length?g:this._source._map,!g.hasLayer(this)&&g._popup&&g._popup.options.autoClose&&g.removeLayer(g._popup),g._popup=this,pr.prototype.openOn.call(this,g)},onAdd:function(g){pr.prototype.onAdd.call(this,g),g.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Oo||this._source.on("preclick",Ps))},onRemove:function(g){pr.prototype.onRemove.call(this,g),g.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Oo||this._source.off("preclick",Ps))},getEvents:function(){var g=pr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(g.preclick=this.close),this.options.keepInView&&(g.moveend=this._adjustPan),g},_initLayout:function(){var g="leaflet-popup",C=this._container=Pn("div",g+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=Pn("div",g+"-content-wrapper",C);if(this._contentNode=Pn("div",g+"-content",k),Do(C),Po(this._contentNode),Rn(C,"contextmenu",Ps),this._tipContainer=Pn("div",g+"-tip-container",C),this._tip=Pn("div",g+"-tip",this._tipContainer),this.options.closeButton){var j=this._closeButton=Pn("a",g+"-close-button",C);j.setAttribute("role","button"),j.setAttribute("aria-label","Close popup"),j.href="#close",j.innerHTML='<span aria-hidden="true">&#215;</span>',Rn(j,"click",function(ie){Ar(ie),this.close()},this)}},_updateLayout:function(){var g=this._contentNode,C=g.style;C.width="",C.whiteSpace="nowrap";var k=g.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),C.width=k+1+"px",C.whiteSpace="",C.height="";var j=g.offsetHeight,ie=this.options.maxHeight,we="leaflet-popup-scrolled";ie&&j>ie?(C.height=ie+"px",zn(g,we)):Zr(g,we),this._containerWidth=this._container.offsetWidth},_animateZoom:function(g){var C=this._map._latLngToNewLayerPoint(this._latlng,g.zoom,g.center),k=this._getAnchor();Bn(this._container,C.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var g=this._map,C=parseInt(ur(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+C,j=this._containerWidth,ie=new Pe(this._containerLeft,-k-this._containerBottom);ie._add(Ks(this._container));var we=g.layerPointToContainerPoint(ie),Oe=W(this.options.autoPanPadding),tt=W(this.options.autoPanPaddingTopLeft||Oe),mt=W(this.options.autoPanPaddingBottomRight||Oe),Nt=g.getSize(),en=0,hn=0;we.x+j+mt.x>Nt.x&&(en=we.x+j-Nt.x+mt.x),we.x-en-tt.x<0&&(en=we.x-tt.x),we.y+k+mt.y>Nt.y&&(hn=we.y+k-Nt.y+mt.y),we.y-hn-tt.y<0&&(hn=we.y-tt.y),(en||hn)&&(this.options.keepInView&&(this._autopanning=!0),g.fire("autopanstart").panBy([en,hn]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),qr=function(g,C){return new Nr(g,C)};or.mergeOptions({closePopupOnClick:!0}),or.include({openPopup:function(g,C,k){return this._initOverlay(Nr,g,C,k).openOn(this),this},closePopup:function(g){return g=arguments.length?g:this._popup,g&&g.close(),this}}),Ir.include({bindPopup:function(g,C){return this._popup=this._initOverlay(Nr,this._popup,g,C),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(g){return this._popup&&(this instanceof ri||(this._popup._source=this),this._popup._prepareOpen(g||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(g){return this._popup&&this._popup.setContent(g),this},getPopup:function(){return this._popup},_openPopup:function(g){if(!(!this._popup||!this._map)){ys(g);var C=g.layer||g.target;if(this._popup._source===C&&!(C instanceof Oo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(g.latlng);return}this._popup._source=C,this.openPopup(g.latlng)}},_movePopup:function(g){this._popup.setLatLng(g.latlng)},_onKeyPress:function(g){g.originalEvent.keyCode===13&&this._openPopup(g)}});var ii=pr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(g){pr.prototype.onAdd.call(this,g),this.setOpacity(this.options.opacity),g.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(g){pr.prototype.onRemove.call(this,g),g.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var g=pr.prototype.getEvents.call(this);return this.options.permanent||(g.preclick=this.close),g},_initLayout:function(){var g="leaflet-tooltip",C=g+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pn("div",C),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(g){var C,k,j=this._map,ie=this._container,we=j.latLngToContainerPoint(j.getCenter()),Oe=j.layerPointToContainerPoint(g),tt=this.options.direction,mt=ie.offsetWidth,Nt=ie.offsetHeight,en=W(this.options.offset),hn=this._getAnchor();tt==="top"?(C=mt/2,k=Nt):tt==="bottom"?(C=mt/2,k=0):tt==="center"?(C=mt/2,k=Nt/2):tt==="right"?(C=0,k=Nt/2):tt==="left"?(C=mt,k=Nt/2):Oe.x<we.x?(tt="right",C=0,k=Nt/2):(tt="left",C=mt+(en.x+hn.x)*2,k=Nt/2),g=g.subtract(W(C,k,!0)).add(en).add(hn),Zr(ie,"leaflet-tooltip-right"),Zr(ie,"leaflet-tooltip-left"),Zr(ie,"leaflet-tooltip-top"),Zr(ie,"leaflet-tooltip-bottom"),zn(ie,"leaflet-tooltip-"+tt),Bn(ie,g)},_updatePosition:function(){var g=this._map.latLngToLayerPoint(this._latlng);this._setPosition(g)},setOpacity:function(g){this.options.opacity=g,this._container&&pi(this._container,g)},_animateZoom:function(g){var C=this._map._latLngToNewLayerPoint(this._latlng,g.zoom,g.center);this._setPosition(C)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),En=function(g,C){return new ii(g,C)};or.include({openTooltip:function(g,C,k){return this._initOverlay(ii,g,C,k).openOn(this),this},closeTooltip:function(g){return g.close(),this}}),Ir.include({bindTooltip:function(g,C){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ii,this._tooltip,g,C),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(g){if(!(!g&&this._tooltipHandlersAdded)){var C=g?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[C](k),this._tooltipHandlersAdded=!g}},openTooltip:function(g){return this._tooltip&&(this instanceof ri||(this._tooltip._source=this),this._tooltip._prepareOpen(g)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(g){return this._tooltip&&this._tooltip.setContent(g),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(g){var C=typeof g.getElement=="function"&&g.getElement();C&&(Rn(C,"focus",function(){this._tooltip._source=g,this.openTooltip()},this),Rn(C,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(g){var C=typeof g.getElement=="function"&&g.getElement();C&&C.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(g){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var C=this;this._map.once("moveend",function(){C._openOnceFlag=!1,C._openTooltip(g)});return}this._tooltip._source=g.layer||g.target,this.openTooltip(this._tooltip.options.sticky?g.latlng:void 0)}},_moveTooltip:function(g){var C=g.latlng,k,j;this._tooltip.options.sticky&&g.originalEvent&&(k=this._map.mouseEventToContainerPoint(g.originalEvent),j=this._map.containerPointToLayerPoint(k),C=this._map.layerPointToLatLng(j)),this._tooltip.setLatLng(C)}});var ki=Mo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(g){var C=g&&g.tagName==="DIV"?g:document.createElement("div"),k=this.options;if(k.html instanceof Element?(ms(C),C.appendChild(k.html)):C.innerHTML=k.html!==!1?k.html:"",k.bgPos){var j=W(k.bgPos);C.style.backgroundPosition=-j.x+"px "+-j.y+"px"}return this._setIconStyles(C,"icon"),C},createShadow:function(){return null}});function gr(g){return new ki(g)}Mo.Default=zc;var xi=Ir.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(g){w(this,g)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(g){g._addZoomLimit(this)},onRemove:function(g){this._removeAllTiles(),Hr(this._container),g._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ol(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(g){return this.options.opacity=g,this._updateOpacity(),this},setZIndex:function(g){return this.options.zIndex=g,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var g=this._clampZoom(this._map.getZoom());g!==this._tileZoom&&(this._tileZoom=g,this._updateLevels()),this._update()}return this},getEvents:function(){var g={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),g.move=this._onMove),this._zoomAnimated&&(g.zoomanim=this._animateZoom),g},createTile:function(){return document.createElement("div")},getTileSize:function(){var g=this.options.tileSize;return g instanceof Pe?g:new Pe(g,g)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(g){for(var C=this.getPane().children,k=-g(-1/0,1/0),j=0,ie=C.length,we;j<ie;j++)we=C[j].style.zIndex,C[j]!==this._container&&we&&(k=g(k,+we));isFinite(k)&&(this.options.zIndex=k+g(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Tt.ielt9){pi(this._container,this.options.opacity);var g=+new Date,C=!1,k=!1;for(var j in this._tiles){var ie=this._tiles[j];if(!(!ie.current||!ie.loaded)){var we=Math.min(1,(g-ie.loaded)/200);pi(ie.el,we),we<1?C=!0:(ie.active?k=!0:this._onOpaqueTile(ie),ie.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),C&&(U(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Pn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var g=this._tileZoom,C=this.options.maxZoom;if(g!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===g?(this._levels[k].el.style.zIndex=C-Math.abs(g-k),this._onUpdateLevel(k)):(Hr(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var j=this._levels[g],ie=this._map;return j||(j=this._levels[g]={},j.el=Pn("div","leaflet-tile-container leaflet-zoom-animated",this._container),j.el.style.zIndex=C,j.origin=ie.project(ie.unproject(ie.getPixelOrigin()),g).round(),j.zoom=g,this._setZoomTransform(j,ie.getCenter(),ie.getZoom()),h(j.el.offsetWidth),this._onCreateLevel(j)),this._level=j,j}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var g,C,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(g in this._tiles)C=this._tiles[g],C.retain=C.current;for(g in this._tiles)if(C=this._tiles[g],C.current&&!C.active){var j=C.coords;this._retainParent(j.x,j.y,j.z,j.z-5)||this._retainChildren(j.x,j.y,j.z,j.z+2)}for(g in this._tiles)this._tiles[g].retain||this._removeTile(g)}},_removeTilesAtZoom:function(g){for(var C in this._tiles)this._tiles[C].coords.z===g&&this._removeTile(C)},_removeAllTiles:function(){for(var g in this._tiles)this._removeTile(g)},_invalidateAll:function(){for(var g in this._levels)Hr(this._levels[g].el),this._onRemoveLevel(Number(g)),delete this._levels[g];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(g,C,k,j){var ie=Math.floor(g/2),we=Math.floor(C/2),Oe=k-1,tt=new Pe(+ie,+we);tt.z=+Oe;var mt=this._tileCoordsToKey(tt),Nt=this._tiles[mt];return Nt&&Nt.active?(Nt.retain=!0,!0):(Nt&&Nt.loaded&&(Nt.retain=!0),Oe>j?this._retainParent(ie,we,Oe,j):!1)},_retainChildren:function(g,C,k,j){for(var ie=2*g;ie<2*g+2;ie++)for(var we=2*C;we<2*C+2;we++){var Oe=new Pe(ie,we);Oe.z=k+1;var tt=this._tileCoordsToKey(Oe),mt=this._tiles[tt];if(mt&&mt.active){mt.retain=!0;continue}else mt&&mt.loaded&&(mt.retain=!0);k+1<j&&this._retainChildren(ie,we,k+1,j)}},_resetView:function(g){var C=g&&(g.pinch||g.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),C,C)},_animateZoom:function(g){this._setView(g.center,g.zoom,!0,g.noUpdate)},_clampZoom:function(g){var C=this.options;return C.minNativeZoom!==void 0&&g<C.minNativeZoom?C.minNativeZoom:C.maxNativeZoom!==void 0&&C.maxNativeZoom<g?C.maxNativeZoom:g},_setView:function(g,C,k,j){var ie=Math.round(C);this.options.maxZoom!==void 0&&ie>this.options.maxZoom||this.options.minZoom!==void 0&&ie<this.options.minZoom?ie=void 0:ie=this._clampZoom(ie);var we=this.options.updateWhenZooming&&ie!==this._tileZoom;(!j||we)&&(this._tileZoom=ie,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ie!==void 0&&this._update(g),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(g,C)},_setZoomTransforms:function(g,C){for(var k in this._levels)this._setZoomTransform(this._levels[k],g,C)},_setZoomTransform:function(g,C,k){var j=this._map.getZoomScale(k,g.zoom),ie=g.origin.multiplyBy(j).subtract(this._map._getNewPixelOrigin(C,k)).round();Tt.any3d?fo(g.el,ie,j):Bn(g.el,ie)},_resetGrid:function(){var g=this._map,C=g.options.crs,k=this._tileSize=this.getTileSize(),j=this._tileZoom,ie=this._map.getPixelWorldBounds(this._tileZoom);ie&&(this._globalTileRange=this._pxBoundsToTileRange(ie)),this._wrapX=C.wrapLng&&!this.options.noWrap&&[Math.floor(g.project([0,C.wrapLng[0]],j).x/k.x),Math.ceil(g.project([0,C.wrapLng[1]],j).x/k.y)],this._wrapY=C.wrapLat&&!this.options.noWrap&&[Math.floor(g.project([C.wrapLat[0],0],j).y/k.x),Math.ceil(g.project([C.wrapLat[1],0],j).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(g){var C=this._map,k=C._animatingZoom?Math.max(C._animateToZoom,C.getZoom()):C.getZoom(),j=C.getZoomScale(k,this._tileZoom),ie=C.project(g,this._tileZoom).floor(),we=C.getSize().divideBy(j*2);return new re(ie.subtract(we),ie.add(we))},_update:function(g){var C=this._map;if(C){var k=this._clampZoom(C.getZoom());if(g===void 0&&(g=C.getCenter()),this._tileZoom!==void 0){var j=this._getTiledPixelBounds(g),ie=this._pxBoundsToTileRange(j),we=ie.getCenter(),Oe=[],tt=this.options.keepBuffer,mt=new re(ie.getBottomLeft().subtract([tt,-tt]),ie.getTopRight().add([tt,-tt]));if(!(isFinite(ie.min.x)&&isFinite(ie.min.y)&&isFinite(ie.max.x)&&isFinite(ie.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Nt in this._tiles){var en=this._tiles[Nt].coords;(en.z!==this._tileZoom||!mt.contains(new Pe(en.x,en.y)))&&(this._tiles[Nt].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(g,k);return}for(var hn=ie.min.y;hn<=ie.max.y;hn++)for(var un=ie.min.x;un<=ie.max.x;un++){var Vn=new Pe(un,hn);if(Vn.z=this._tileZoom,!!this._isValidTile(Vn)){var Yr=this._tiles[this._tileCoordsToKey(Vn)];Yr?Yr.current=!0:Oe.push(Vn)}}if(Oe.sort(function(Tr,vo){return Tr.distanceTo(we)-vo.distanceTo(we)}),Oe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qr=document.createDocumentFragment();for(un=0;un<Oe.length;un++)this._addTile(Oe[un],Qr);this._level.el.appendChild(Qr)}}}},_isValidTile:function(g){var C=this._map.options.crs;if(!C.infinite){var k=this._globalTileRange;if(!C.wrapLng&&(g.x<k.min.x||g.x>k.max.x)||!C.wrapLat&&(g.y<k.min.y||g.y>k.max.y))return!1}if(!this.options.bounds)return!0;var j=this._tileCoordsToBounds(g);return ce(this.options.bounds).overlaps(j)},_keyToBounds:function(g){return this._tileCoordsToBounds(this._keyToTileCoords(g))},_tileCoordsToNwSe:function(g){var C=this._map,k=this.getTileSize(),j=g.scaleBy(k),ie=j.add(k),we=C.unproject(j,g.z),Oe=C.unproject(ie,g.z);return[we,Oe]},_tileCoordsToBounds:function(g){var C=this._tileCoordsToNwSe(g),k=new J(C[0],C[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(g){return g.x+":"+g.y+":"+g.z},_keyToTileCoords:function(g){var C=g.split(":"),k=new Pe(+C[0],+C[1]);return k.z=+C[2],k},_removeTile:function(g){var C=this._tiles[g];C&&(Hr(C.el),delete this._tiles[g],this.fire("tileunload",{tile:C.el,coords:this._keyToTileCoords(g)}))},_initTile:function(g){zn(g,"leaflet-tile");var C=this.getTileSize();g.style.width=C.x+"px",g.style.height=C.y+"px",g.onselectstart=h,g.onmousemove=h,Tt.ielt9&&this.options.opacity<1&&pi(g,this.options.opacity)},_addTile:function(g,C){var k=this._getTilePos(g),j=this._tileCoordsToKey(g),ie=this.createTile(this._wrapCoords(g),o(this._tileReady,this,g));this._initTile(ie),this.createTile.length<2&&Q(o(this._tileReady,this,g,null,ie)),Bn(ie,k),this._tiles[j]={el:ie,coords:g,current:!0},C.appendChild(ie),this.fire("tileloadstart",{tile:ie,coords:g})},_tileReady:function(g,C,k){C&&this.fire("tileerror",{error:C,tile:k,coords:g});var j=this._tileCoordsToKey(g);k=this._tiles[j],k&&(k.loaded=+new Date,this._map._fadeAnimated?(pi(k.el,0),U(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),C||(zn(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:g})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Tt.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(g){return g.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(g){var C=new Pe(this._wrapX?u(g.x,this._wrapX):g.x,this._wrapY?u(g.y,this._wrapY):g.y);return C.z=g.z,C},_pxBoundsToTileRange:function(g){var C=this.getTileSize();return new re(g.min.unscaleBy(C).floor(),g.max.unscaleBy(C).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var g in this._tiles)if(!this._tiles[g].loaded)return!1;return!0}});function li(g){return new xi(g)}var On=xi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(g,C){this._url=g,C=w(this,C),C.detectRetina&&Tt.retina&&C.maxZoom>0?(C.tileSize=Math.floor(C.tileSize/2),C.zoomReverse?(C.zoomOffset--,C.minZoom=Math.min(C.maxZoom,C.minZoom+1)):(C.zoomOffset++,C.maxZoom=Math.max(C.minZoom,C.maxZoom-1)),C.minZoom=Math.max(0,C.minZoom)):C.zoomReverse?C.minZoom=Math.min(C.maxZoom,C.minZoom):C.maxZoom=Math.max(C.minZoom,C.maxZoom),typeof C.subdomains=="string"&&(C.subdomains=C.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(g,C){return this._url===g&&C===void 0&&(C=!0),this._url=g,C||this.redraw(),this},createTile:function(g,C){var k=document.createElement("img");return Rn(k,"load",o(this._tileOnLoad,this,C,k)),Rn(k,"error",o(this._tileOnError,this,C,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(g),k},getTileUrl:function(g){var C={r:Tt.retina?"@2x":"",s:this._getSubdomain(g),x:g.x,y:g.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-g.y;this.options.tms&&(C.y=k),C["-y"]=k}return E(this._url,i(C,this.options))},_tileOnLoad:function(g,C){Tt.ielt9?setTimeout(o(g,this,null,C),0):g(null,C)},_tileOnError:function(g,C,k){var j=this.options.errorTileUrl;j&&C.getAttribute("src")!==j&&(C.src=j),g(k,C)},_onTileRemove:function(g){g.tile.onload=null},_getZoomForUrl:function(){var g=this._tileZoom,C=this.options.maxZoom,k=this.options.zoomReverse,j=this.options.zoomOffset;return k&&(g=C-g),g+j},_getSubdomain:function(g){var C=Math.abs(g.x+g.y)%this.options.subdomains.length;return this.options.subdomains[C]},_abortLoading:function(){var g,C;for(g in this._tiles)if(this._tiles[g].coords.z!==this._tileZoom&&(C=this._tiles[g].el,C.onload=h,C.onerror=h,!C.complete)){C.src=V;var k=this._tiles[g].coords;Hr(C),delete this._tiles[g],this.fire("tileabort",{tile:C,coords:k})}},_removeTile:function(g){var C=this._tiles[g];if(C)return C.el.setAttribute("src",V),xi.prototype._removeTile.call(this,g)},_tileReady:function(g,C,k){if(!(!this._map||k&&k.getAttribute("src")===V))return xi.prototype._tileReady.call(this,g,C,k)}});function Gr(g,C){return new On(g,C)}var ls=On.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(g,C){this._url=g;var k=i({},this.defaultWmsParams);for(var j in C)j in this.options||(k[j]=C[j]);C=w(this,C);var ie=C.detectRetina&&Tt.retina?2:1,we=this.getTileSize();k.width=we.x*ie,k.height=we.y*ie,this.wmsParams=k},onAdd:function(g){this._crs=this.options.crs||g.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var C=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[C]=this._crs.code,On.prototype.onAdd.call(this,g)},getTileUrl:function(g){var C=this._tileCoordsToNwSe(g),k=this._crs,j=te(k.project(C[0]),k.project(C[1])),ie=j.min,we=j.max,Oe=(this._wmsVersion>=1.3&&this._crs===Fr?[ie.y,ie.x,we.y,we.x]:[ie.x,ie.y,we.x,we.y]).join(","),tt=On.prototype.getTileUrl.call(this,g);return tt+b(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Oe},setParams:function(g,C){return i(this.wmsParams,g),C||this.redraw(),this}});function Hi(g,C){return new ls(g,C)}On.WMS=ls,Gr.wms=Hi;var Cs=Ir.extend({options:{padding:.1},initialize:function(g){w(this,g),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),zn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var g={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(g.zoomanim=this._onAnimZoom),g},_onAnimZoom:function(g){this._updateTransform(g.center,g.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(g,C){var k=this._map.getZoomScale(C,this._zoom),j=this._map.getSize().multiplyBy(.5+this.options.padding),ie=this._map.project(this._center,C),we=j.multiplyBy(-k).add(ie).subtract(this._map._getNewPixelOrigin(g,C));Tt.any3d?fo(this._container,we,k):Bn(this._container,we)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var g in this._layers)this._layers[g]._reset()},_onZoomEnd:function(){for(var g in this._layers)this._layers[g]._project()},_updatePaths:function(){for(var g in this._layers)this._layers[g]._update()},_update:function(){var g=this.options.padding,C=this._map.getSize(),k=this._map.containerPointToLayerPoint(C.multiplyBy(-g)).round();this._bounds=new re(k,k.add(C.multiplyBy(1+g*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),eo=Cs.extend({options:{tolerance:0},getEvents:function(){var g=Cs.prototype.getEvents.call(this);return g.viewprereset=this._onViewPreReset,g},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var g=this._container=document.createElement("canvas");Rn(g,"mousemove",this._onMouseMove,this),Rn(g,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Rn(g,"mouseout",this._handleMouseOut,this),g._leaflet_disable_events=!0,this._ctx=g.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Hr(this._container),Sn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var g;this._redrawBounds=null;for(var C in this._layers)g=this._layers[C],g._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cs.prototype._update.call(this);var g=this._bounds,C=this._container,k=g.getSize(),j=Tt.retina?2:1;Bn(C,g.min),C.width=j*k.x,C.height=j*k.y,C.style.width=k.x+"px",C.style.height=k.y+"px",Tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-g.min.x,-g.min.y),this.fire("update")}},_reset:function(){Cs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(g){this._updateDashArray(g),this._layers[l(g)]=g;var C=g._order={layer:g,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=C),this._drawLast=C,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(g){this._requestRedraw(g)},_removePath:function(g){var C=g._order,k=C.next,j=C.prev;k?k.prev=j:this._drawLast=j,j?j.next=k:this._drawFirst=k,delete g._order,delete this._layers[l(g)],this._requestRedraw(g)},_updatePath:function(g){this._extendRedrawBounds(g),g._project(),g._update(),this._requestRedraw(g)},_updateStyle:function(g){this._updateDashArray(g),this._requestRedraw(g)},_updateDashArray:function(g){if(typeof g.options.dashArray=="string"){var C=g.options.dashArray.split(/[, ]+/),k=[],j,ie;for(ie=0;ie<C.length;ie++){if(j=Number(C[ie]),isNaN(j))return;k.push(j)}g.options._dashArray=k}else g.options._dashArray=g.options.dashArray},_requestRedraw:function(g){this._map&&(this._extendRedrawBounds(g),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(g){if(g._pxBounds){var C=(g.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new re,this._redrawBounds.extend(g._pxBounds.min.subtract([C,C])),this._redrawBounds.extend(g._pxBounds.max.add([C,C]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var g=this._redrawBounds;if(g){var C=g.getSize();this._ctx.clearRect(g.min.x,g.min.y,C.x,C.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var g,C=this._redrawBounds;if(this._ctx.save(),C){var k=C.getSize();this._ctx.beginPath(),this._ctx.rect(C.min.x,C.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var j=this._drawFirst;j;j=j.next)g=j.layer,(!C||g._pxBounds&&g._pxBounds.intersects(C))&&g._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(g,C){if(this._drawing){var k,j,ie,we,Oe=g._parts,tt=Oe.length,mt=this._ctx;if(tt){for(mt.beginPath(),k=0;k<tt;k++){for(j=0,ie=Oe[k].length;j<ie;j++)we=Oe[k][j],mt[j?"lineTo":"moveTo"](we.x,we.y);C&&mt.closePath()}this._fillStroke(mt,g)}}},_updateCircle:function(g){if(!(!this._drawing||g._empty())){var C=g._point,k=this._ctx,j=Math.max(Math.round(g._radius),1),ie=(Math.max(Math.round(g._radiusY),1)||j)/j;ie!==1&&(k.save(),k.scale(1,ie)),k.beginPath(),k.arc(C.x,C.y/ie,j,0,Math.PI*2,!1),ie!==1&&k.restore(),this._fillStroke(k,g)}},_fillStroke:function(g,C){var k=C.options;k.fill&&(g.globalAlpha=k.fillOpacity,g.fillStyle=k.fillColor||k.color,g.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(g.setLineDash&&g.setLineDash(C.options&&C.options._dashArray||[]),g.globalAlpha=k.opacity,g.lineWidth=k.weight,g.strokeStyle=k.color,g.lineCap=k.lineCap,g.lineJoin=k.lineJoin,g.stroke())},_onClick:function(g){for(var C=this._map.mouseEventToLayerPoint(g),k,j,ie=this._drawFirst;ie;ie=ie.next)k=ie.layer,k.options.interactive&&k._containsPoint(C)&&(!(g.type==="click"||g.type==="preclick")||!this._map._draggableMoved(k))&&(j=k);this._fireEvent(j?[j]:!1,g)},_onMouseMove:function(g){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var C=this._map.mouseEventToLayerPoint(g);this._handleMouseHover(g,C)}},_handleMouseOut:function(g){var C=this._hoveredLayer;C&&(Zr(this._container,"leaflet-interactive"),this._fireEvent([C],g,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(g,C){if(!this._mouseHoverThrottled){for(var k,j,ie=this._drawFirst;ie;ie=ie.next)k=ie.layer,k.options.interactive&&k._containsPoint(C)&&(j=k);j!==this._hoveredLayer&&(this._handleMouseOut(g),j&&(zn(this._container,"leaflet-interactive"),this._fireEvent([j],g,"mouseover"),this._hoveredLayer=j)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,g),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(g,C,k){this._map._fireDOMEvent(C,k||C.type,g)},_bringToFront:function(g){var C=g._order;if(C){var k=C.next,j=C.prev;if(k)k.prev=j;else return;j?j.next=k:k&&(this._drawFirst=k),C.prev=this._drawLast,this._drawLast.next=C,C.next=null,this._drawLast=C,this._requestRedraw(g)}},_bringToBack:function(g){var C=g._order;if(C){var k=C.next,j=C.prev;if(j)j.next=k;else return;k?k.prev=j:j&&(this._drawLast=j),C.prev=null,C.next=this._drawFirst,this._drawFirst.prev=C,this._drawFirst=C,this._requestRedraw(g)}}});function $i(g){return Tt.canvas?new eo(g):null}var es=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(g){return document.createElement("<lvml:"+g+' class="lvml">')}}catch{}return function(g){return document.createElement("<"+g+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ts={_initContainer:function(){this._container=Pn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cs.prototype._update.call(this),this.fire("update"))},_initPath:function(g){var C=g._container=es("shape");zn(C,"leaflet-vml-shape "+(this.options.className||"")),C.coordsize="1 1",g._path=es("path"),C.appendChild(g._path),this._updateStyle(g),this._layers[l(g)]=g},_addPath:function(g){var C=g._container;this._container.appendChild(C),g.options.interactive&&g.addInteractiveTarget(C)},_removePath:function(g){var C=g._container;Hr(C),g.removeInteractiveTarget(C),delete this._layers[l(g)]},_updateStyle:function(g){var C=g._stroke,k=g._fill,j=g.options,ie=g._container;ie.stroked=!!j.stroke,ie.filled=!!j.fill,j.stroke?(C||(C=g._stroke=es("stroke")),ie.appendChild(C),C.weight=j.weight+"px",C.color=j.color,C.opacity=j.opacity,j.dashArray?C.dashStyle=_(j.dashArray)?j.dashArray.join(" "):j.dashArray.replace(/( *, *)/g," "):C.dashStyle="",C.endcap=j.lineCap.replace("butt","flat"),C.joinstyle=j.lineJoin):C&&(ie.removeChild(C),g._stroke=null),j.fill?(k||(k=g._fill=es("fill")),ie.appendChild(k),k.color=j.fillColor||j.color,k.opacity=j.fillOpacity):k&&(ie.removeChild(k),g._fill=null)},_updateCircle:function(g){var C=g._point.round(),k=Math.round(g._radius),j=Math.round(g._radiusY||k);this._setPath(g,g._empty()?"M0 0":"AL "+C.x+","+C.y+" "+k+","+j+" 0,"+65535*360)},_setPath:function(g,C){g._path.v=C},_bringToFront:function(g){vs(g._container)},_bringToBack:function(g){ol(g._container)}},ra=Tt.vml?es:Ge,zi=Cs.extend({_initContainer:function(){this._container=ra("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ra("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Hr(this._container),Sn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cs.prototype._update.call(this);var g=this._bounds,C=g.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(C))&&(this._svgSize=C,k.setAttribute("width",C.x),k.setAttribute("height",C.y)),Bn(k,g.min),k.setAttribute("viewBox",[g.min.x,g.min.y,C.x,C.y].join(" ")),this.fire("update")}},_initPath:function(g){var C=g._path=ra("path");g.options.className&&zn(C,g.options.className),g.options.interactive&&zn(C,"leaflet-interactive"),this._updateStyle(g),this._layers[l(g)]=g},_addPath:function(g){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(g._path),g.addInteractiveTarget(g._path)},_removePath:function(g){Hr(g._path),g.removeInteractiveTarget(g._path),delete this._layers[l(g)]},_updatePath:function(g){g._project(),g._update()},_updateStyle:function(g){var C=g._path,k=g.options;C&&(k.stroke?(C.setAttribute("stroke",k.color),C.setAttribute("stroke-opacity",k.opacity),C.setAttribute("stroke-width",k.weight),C.setAttribute("stroke-linecap",k.lineCap),C.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?C.setAttribute("stroke-dasharray",k.dashArray):C.removeAttribute("stroke-dasharray"),k.dashOffset?C.setAttribute("stroke-dashoffset",k.dashOffset):C.removeAttribute("stroke-dashoffset")):C.setAttribute("stroke","none"),k.fill?(C.setAttribute("fill",k.fillColor||k.color),C.setAttribute("fill-opacity",k.fillOpacity),C.setAttribute("fill-rule",k.fillRule||"evenodd")):C.setAttribute("fill","none"))},_updatePoly:function(g,C){this._setPath(g,Me(g._parts,C))},_updateCircle:function(g){var C=g._point,k=Math.max(Math.round(g._radius),1),j=Math.max(Math.round(g._radiusY),1)||k,ie="a"+k+","+j+" 0 1,0 ",we=g._empty()?"M0 0":"M"+(C.x-k)+","+C.y+ie+k*2+",0 "+ie+-k*2+",0 ";this._setPath(g,we)},_setPath:function(g,C){g._path.setAttribute("d",C)},_bringToFront:function(g){vs(g._path)},_bringToBack:function(g){ol(g._path)}});Tt.vml&&zi.include(ts);function ma(g){return Tt.svg||Tt.vml?new zi(g):null}or.include({getRenderer:function(g){var C=g.options.renderer||this._getPaneRenderer(g.options.pane)||this.options.renderer||this._renderer;return C||(C=this._renderer=this._createRenderer()),this.hasLayer(C)||this.addLayer(C),C},_getPaneRenderer:function(g){if(g==="overlayPane"||g===void 0)return!1;var C=this._paneRenderers[g];return C===void 0&&(C=this._createRenderer({pane:g}),this._paneRenderers[g]=C),C},_createRenderer:function(g){return this.options.preferCanvas&&$i(g)||ma(g)}});var pl=Vu.extend({initialize:function(g,C){Vu.prototype.initialize.call(this,this._boundsToLatLngs(g),C)},setBounds:function(g){return this.setLatLngs(this._boundsToLatLngs(g))},_boundsToLatLngs:function(g){return g=ce(g),[g.getSouthWest(),g.getNorthWest(),g.getNorthEast(),g.getSouthEast()]}});function cs(g,C){return new pl(g,C)}zi.create=ra,zi.pointsToPath=Me,Lo.geometryToLayer=ga,Lo.coordsToLatLng=F,Lo.coordsToLatLngs=Y,Lo.latLngToCoords=oe,Lo.latLngsToCoords=ge,Lo.getFeature=Ae,Lo.asFeature=Ue,or.mergeOptions({boxZoom:!0});var gl=ws.extend({initialize:function(g){this._map=g,this._container=g._container,this._pane=g._panes.overlayPane,this._resetStateTimeout=0,g.on("unload",this._destroy,this)},addHooks:function(){Rn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Sn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Hr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(g){if(!g.shiftKey||g.which!==1&&g.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ys(),Ma(),this._startPoint=this._map.mouseEventToContainerPoint(g),Rn(document,{contextmenu:ys,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(g){this._moved||(this._moved=!0,this._box=Pn("div","leaflet-zoom-box",this._container),zn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(g);var C=new re(this._point,this._startPoint),k=C.getSize();Bn(this._box,C.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(Hr(this._box),Zr(this._container,"leaflet-crosshair")),ha(),kd(),Sn(document,{contextmenu:ys,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(g){if(!(g.which!==1&&g.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var C=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(C).fire("boxzoomend",{boxZoomBounds:C})}},_onKeyDown:function(g){g.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});or.addInitHook("addHandler","boxZoom",gl),or.mergeOptions({doubleClickZoom:!0});var ia=ws.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(g){var C=this._map,k=C.getZoom(),j=C.options.zoomDelta,ie=g.originalEvent.shiftKey?k-j:k+j;C.options.doubleClickZoom==="center"?C.setZoom(ie):C.setZoomAround(g.containerPoint,ie)}});or.addInitHook("addHandler","doubleClickZoom",ia),or.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Hu=ws.extend({addHooks:function(){if(!this._draggable){var g=this._map;this._draggable=new pa(g._mapPane,g._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),g.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),g.on("zoomend",this._onZoomEnd,this),g.whenReady(this._onZoomEnd,this))}zn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Zr(this._map._container,"leaflet-grab"),Zr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var g=this._map;if(g._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var C=ce(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(C.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(C.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;g.fire("movestart").fire("dragstart"),g.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(g){if(this._map.options.inertia){var C=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(C),this._prunePositions(C)}this._map.fire("move",g).fire("drag",g)},_prunePositions:function(g){for(;this._positions.length>1&&g-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var g=this._map.getSize().divideBy(2),C=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=C.subtract(g).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(g,C){return g-(g-C)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var g=this._draggable._newPos.subtract(this._draggable._startPos),C=this._offsetLimit;g.x<C.min.x&&(g.x=this._viscousLimit(g.x,C.min.x)),g.y<C.min.y&&(g.y=this._viscousLimit(g.y,C.min.y)),g.x>C.max.x&&(g.x=this._viscousLimit(g.x,C.max.x)),g.y>C.max.y&&(g.y=this._viscousLimit(g.y,C.max.y)),this._draggable._newPos=this._draggable._startPos.add(g)}},_onPreDragWrap:function(){var g=this._worldWidth,C=Math.round(g/2),k=this._initialWorldOffset,j=this._draggable._newPos.x,ie=(j-C+k)%g+C-k,we=(j+C+k)%g-C-k,Oe=Math.abs(ie+k)<Math.abs(we+k)?ie:we;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Oe},_onDragEnd:function(g){var C=this._map,k=C.options,j=!k.inertia||g.noInertia||this._times.length<2;if(C.fire("dragend",g),j)C.fire("moveend");else{this._prunePositions(+new Date);var ie=this._lastPos.subtract(this._positions[0]),we=(this._lastTime-this._times[0])/1e3,Oe=k.easeLinearity,tt=ie.multiplyBy(Oe/we),mt=tt.distanceTo([0,0]),Nt=Math.min(k.inertiaMaxSpeed,mt),en=tt.multiplyBy(Nt/mt),hn=Nt/(k.inertiaDeceleration*Oe),un=en.multiplyBy(-hn/2).round();!un.x&&!un.y?C.fire("moveend"):(un=C._limitOffset(un,C.options.maxBounds),Q(function(){C.panBy(un,{duration:hn,easeLinearity:Oe,noMoveStart:!0,animate:!0})}))}}});or.addInitHook("addHandler","dragging",Hu),or.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ml=ws.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(g){this._map=g,this._setPanDelta(g.options.keyboardPanDelta),this._setZoomDelta(g.options.zoomDelta)},addHooks:function(){var g=this._map._container;g.tabIndex<=0&&(g.tabIndex="0"),Rn(g,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Sn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var g=document.body,C=document.documentElement,k=g.scrollTop||C.scrollTop,j=g.scrollLeft||C.scrollLeft;this._map._container.focus(),window.scrollTo(j,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(g){var C=this._panKeys={},k=this.keyCodes,j,ie;for(j=0,ie=k.left.length;j<ie;j++)C[k.left[j]]=[-1*g,0];for(j=0,ie=k.right.length;j<ie;j++)C[k.right[j]]=[g,0];for(j=0,ie=k.down.length;j<ie;j++)C[k.down[j]]=[0,g];for(j=0,ie=k.up.length;j<ie;j++)C[k.up[j]]=[0,-1*g]},_setZoomDelta:function(g){var C=this._zoomKeys={},k=this.keyCodes,j,ie;for(j=0,ie=k.zoomIn.length;j<ie;j++)C[k.zoomIn[j]]=g;for(j=0,ie=k.zoomOut.length;j<ie;j++)C[k.zoomOut[j]]=-g},_addHooks:function(){Rn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Sn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(g){if(!(g.altKey||g.ctrlKey||g.metaKey)){var C=g.keyCode,k=this._map,j;if(C in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(j=this._panKeys[C],g.shiftKey&&(j=W(j).multiplyBy(3)),k.options.maxBounds&&(j=k._limitOffset(W(j),k.options.maxBounds)),k.options.worldCopyJump){var ie=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(j)));k.panTo(ie)}else k.panBy(j)}else if(C in this._zoomKeys)k.setZoom(k.getZoom()+(g.shiftKey?3:1)*this._zoomKeys[C]);else if(C===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;ys(g)}}});or.addInitHook("addHandler","keyboard",ml),or.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ds=ws.extend({addHooks:function(){Rn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Sn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(g){var C=fa(g),k=this._map.options.wheelDebounceTime;this._delta+=C,this._lastMousePos=this._map.mouseEventToContainerPoint(g),this._startTime||(this._startTime=+new Date);var j=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),j),ys(g)},_performZoom:function(){var g=this._map,C=g.getZoom(),k=this._map.options.zoomSnap||0;g._stop();var j=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ie=4*Math.log(2/(1+Math.exp(-Math.abs(j))))/Math.LN2,we=k?Math.ceil(ie/k)*k:ie,Oe=g._limitZoom(C+(this._delta>0?we:-we))-C;this._delta=0,this._startTime=null,Oe&&(g.options.scrollWheelZoom==="center"?g.setZoom(C+Oe):g.setZoomAround(this._lastMousePos,C+Oe))}});or.addInitHook("addHandler","scrollWheelZoom",Ds);var vh=600;or.mergeOptions({tapHold:Tt.touchNative&&Tt.safari&&Tt.mobile,tapTolerance:15});var fc=ws.extend({addHooks:function(){Rn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Sn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(g){if(clearTimeout(this._holdTimeout),g.touches.length===1){var C=g.touches[0];this._startPos=this._newPos=new Pe(C.clientX,C.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Rn(document,"touchend",Ar),Rn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",C))},this),vh),Rn(document,"touchend touchcancel contextmenu",this._cancel,this),Rn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function g(){Sn(document,"touchend",Ar),Sn(document,"touchend touchcancel",g)},_cancel:function(){clearTimeout(this._holdTimeout),Sn(document,"touchend touchcancel contextmenu",this._cancel,this),Sn(document,"touchmove",this._onMove,this)},_onMove:function(g){var C=g.touches[0];this._newPos=new Pe(C.clientX,C.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(g,C){var k=new MouseEvent(g,{bubbles:!0,cancelable:!0,view:window,screenX:C.screenX,screenY:C.screenY,clientX:C.clientX,clientY:C.clientY});k._simulated=!0,C.target.dispatchEvent(k)}});or.addInitHook("addHandler","tapHold",fc),or.mergeOptions({touchZoom:Tt.touch,bounceAtZoomLimits:!0});var Xl=ws.extend({addHooks:function(){zn(this._map._container,"leaflet-touch-zoom"),Rn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Zr(this._map._container,"leaflet-touch-zoom"),Sn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(g){var C=this._map;if(!(!g.touches||g.touches.length!==2||C._animatingZoom||this._zooming)){var k=C.mouseEventToContainerPoint(g.touches[0]),j=C.mouseEventToContainerPoint(g.touches[1]);this._centerPoint=C.getSize()._divideBy(2),this._startLatLng=C.containerPointToLatLng(this._centerPoint),C.options.touchZoom!=="center"&&(this._pinchStartLatLng=C.containerPointToLatLng(k.add(j)._divideBy(2))),this._startDist=k.distanceTo(j),this._startZoom=C.getZoom(),this._moved=!1,this._zooming=!0,C._stop(),Rn(document,"touchmove",this._onTouchMove,this),Rn(document,"touchend touchcancel",this._onTouchEnd,this),Ar(g)}},_onTouchMove:function(g){if(!(!g.touches||g.touches.length!==2||!this._zooming)){var C=this._map,k=C.mouseEventToContainerPoint(g.touches[0]),j=C.mouseEventToContainerPoint(g.touches[1]),ie=k.distanceTo(j)/this._startDist;if(this._zoom=C.getScaleZoom(ie,this._startZoom),!C.options.bounceAtZoomLimits&&(this._zoom<C.getMinZoom()&&ie<1||this._zoom>C.getMaxZoom()&&ie>1)&&(this._zoom=C._limitZoom(this._zoom)),C.options.touchZoom==="center"){if(this._center=this._startLatLng,ie===1)return}else{var we=k._add(j)._divideBy(2)._subtract(this._centerPoint);if(ie===1&&we.x===0&&we.y===0)return;this._center=C.unproject(C.project(this._pinchStartLatLng,this._zoom).subtract(we),this._zoom)}this._moved||(C._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var Oe=o(C._move,C,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(Oe,this,!0),Ar(g)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Sn(document,"touchmove",this._onTouchMove,this),Sn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});or.addInitHook("addHandler","touchZoom",Xl),or.BoxZoom=gl,or.DoubleClickZoom=ia,or.Drag=Hu,or.Keyboard=ml,or.ScrollWheelZoom=Ds,or.TapHold=fc,or.TouchZoom=Xl,n.Bounds=re,n.Browser=Tt,n.CRS=at,n.Canvas=eo,n.Circle=Bu,n.CircleMarker=Va,n.Class=q,n.Control=Ns,n.DivIcon=ki,n.DivOverlay=pr,n.DomEvent=Pd,n.DomUtil=Bc,n.Draggable=pa,n.Evented=ue,n.FeatureGroup=ri,n.GeoJSON=Lo,n.GridLayer=xi,n.Handler=ws,n.Icon=Mo,n.ImageOverlay=Jt,n.LatLng=fe,n.LatLngBounds=J,n.Layer=Ir,n.LayerGroup=ai,n.LineUtil=Re,n.Map=or,n.Marker=Ba,n.Mixin=Yl,n.Path=Oo,n.Point=Pe,n.PolyUtil=Ou,n.Polygon=Vu,n.Polyline=na,n.Popup=Nr,n.PosAnimation=uc,n.Projection=Zt,n.Rectangle=pl,n.Renderer=Cs,n.SVG=zi,n.SVGOverlay=_n,n.TileLayer=On,n.Tooltip=ii,n.Transformation=Et,n.Util=Z,n.VideoOverlay=yn,n.bind=o,n.bounds=te,n.canvas=$i,n.circle=_f,n.circleMarker=Nu,n.control=Qs,n.divIcon=gr,n.extend=i,n.featureGroup=ta,n.geoJSON=ct,n.geoJson=xt,n.gridLayer=li,n.icon=Lu,n.imageOverlay=Kt,n.latLng=De,n.latLngBounds=ce,n.layerGroup=Na,n.map=al,n.marker=fl,n.point=W,n.polygon=$s,n.polyline=Gc,n.popup=qr,n.rectangle=cs,n.setOptions=w,n.stamp=l,n.svg=ma,n.svgOverlay=Un,n.tileLayer=Gr,n.tooltip=En,n.transformation=Se,n.version=r,n.videoOverlay=An;var pc=window.L;n.noConflict=function(){return window.L=pc,this},window.L=n})}(Rb,Rb.exports)),Rb.exports}var L1=Fat();function bB(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function xB(e,t){return t==null?function(r,i){const s=I.useRef(void 0);return s.current||(s.current=e(r,i)),s}:function(r,i){const s=I.useRef(void 0);s.current||(s.current=e(r,i));const o=I.useRef(r),{instance:a}=s.current;return I.useEffect(function(){o.current!==r&&(t(a,r,o.current),o.current=r)},[a,r,t]),s}}function zie(e,t){I.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Gie(e){return function(n){const r=Bie(),i=e(CB(n,r),r);return Rat(r.map,n.attribution),Hie(i.current,n.eventHandlers),zie(i.current,r),i}}function Iat(e,t){const n=I.useRef(void 0);I.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function Mat(e){return function(n){const r=Bie(),i=e(CB(n,r),r);return Hie(i.current,n.eventHandlers),zie(i.current,r),Iat(i.current,n),i}}function Oat(e,t){const n=xB(e,t),r=Gie(n);return Vie(r)}function Lat(e,t){const n=xB(e,t),r=Mat(n);return Vie(r)}function Nat(e,t){const n=xB(e,t),r=Gie(n);return Pat(r)}function Bat(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}const Uie=Lat(function({data:t,...n},r){const i=new L1.GeoJSON(t,n);return bB(i,Nie(r,{overlayContainer:i}))},function(t,n,r){n.style!==r.style&&(n.style==null?t.resetStyle():t.setStyle(n.style))});function Vat({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:s,placeholder:o,style:a,whenReady:l,zoom:c,...u},h){const[p]=I.useState({className:i,id:s,style:a}),[m,y]=I.useState(null),w=I.useRef(void 0);I.useImperativeHandle(h,()=>m?.map??null,[m]);const b=I.useCallback(E=>{if(E!==null&&!w.current){const _=new L1.Map(E,u);w.current=_,n!=null&&c!=null?_.setView(n,c):e!=null&&_.fitBounds(e,t),l!=null&&_.whenReady(l),y(kat(_))}},[]);I.useEffect(()=>()=>{m?.map.remove()},[m]);const S=m?Ve.createElement(wB,{value:m},r):o??null;return Ve.createElement("div",{...p,ref:b},S)}const Hat=I.forwardRef(Vat),zat=Oat(function({position:t,...n},r){const i=new L1.Marker(t,n);return bB(i,Nie(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),Gat=Nat(function({url:t,...n},r){const i=new L1.TileLayer(t,CB(n,r));return bB(i,r)},function(t,n,r){Bat(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)});function Uat(e){return e}function Wat(e){if(e==null)return Uat;var t,n,r=e.scale[0],i=e.scale[1],s=e.translate[0],o=e.translate[1];return function(a,l){l||(t=n=0);var c=2,u=a.length,h=new Array(u);for(h[0]=(t+=a[0])*r+s,h[1]=(n+=a[1])*i+o;c<u;)h[c]=a[c],++c;return h}}function jat(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Wie(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return DW(e,n)})}:DW(e,t)}function DW(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,s=Kat(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function Kat(e,t){var n=Wat(e.transform),r=e.arcs;function i(u,h){h.length&&h.pop();for(var p=r[u<0?~u:u],m=0,y=p.length;m<y;++m)h.push(n(p[m],m));u<0&&jat(h,y)}function s(u){return n(u)}function o(u){for(var h=[],p=0,m=u.length;p<m;++p)i(u[p],h);return h.length<2&&h.push(h[0]),h}function a(u){for(var h=o(u);h.length<4;)h.push(h[0]);return h}function l(u){return u.map(a)}function c(u){var h=u.type,p;switch(h){case"GeometryCollection":return{type:h,geometries:u.geometries.map(c)};case"Point":p=s(u.coordinates);break;case"MultiPoint":p=u.coordinates.map(s);break;case"LineString":p=o(u.arcs);break;case"MultiLineString":p=u.arcs.map(o);break;case"Polygon":p=l(u.arcs);break;case"MultiPolygon":p=u.arcs.map(l);break;default:return null}return{type:h,coordinates:p}}return c(t)}const Yat="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",Xat='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',jie=({containerClassName:e,containerStyle:t,tileUrl:n=Yat,tileAttribution:r=Xat,children:i,whenReady:s,...o})=>{const a={width:"100%",height:"100%",minHeight:"250px",borderRadius:12,overflow:"hidden",...t},l=I.useRef(null);return I.useEffect(()=>{s&&l.current&&s(l.current)},[s]),B.jsx("div",{className:e,style:a,children:B.jsxs(Hat,{...o,ref:c=>{l.current=c,s&&c&&s(c)},style:{width:"100%",height:"100%"},className:"leaflet-map",children:[B.jsx(Gat,{url:n,attribution:r}),i]})})};var Im={},cb={};/**
 * @license React
 * react-dom-server-legacy.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FW;function Zat(){if(FW)return cb;FW=1;var e=_w(),t=IR();function n(A){var F="https://react.dev/errors/"+A;if(1<arguments.length){F+="?args[]="+encodeURIComponent(arguments[1]);for(var Y=2;Y<arguments.length;Y++)F+="&args[]="+encodeURIComponent(arguments[Y])}return"Minified React error #"+A+"; visit "+F+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.scope"),S=Symbol.for("react.activity"),E=Symbol.for("react.legacy_hidden"),_=Symbol.for("react.memo_cache_sentinel"),N=Symbol.for("react.view_transition"),V=Symbol.iterator,M=Array.isArray;function O(A,F){var Y=A.length&3,oe=A.length-Y,ge=F;for(F=0;F<oe;){var Ae=A.charCodeAt(F)&255|(A.charCodeAt(++F)&255)<<8|(A.charCodeAt(++F)&255)<<16|(A.charCodeAt(++F)&255)<<24;++F,Ae=3432918353*(Ae&65535)+((3432918353*(Ae>>>16)&65535)<<16)&4294967295,Ae=Ae<<15|Ae>>>17,Ae=461845907*(Ae&65535)+((461845907*(Ae>>>16)&65535)<<16)&4294967295,ge^=Ae,ge=ge<<13|ge>>>19,ge=5*(ge&65535)+((5*(ge>>>16)&65535)<<16)&4294967295,ge=(ge&65535)+27492+(((ge>>>16)+58964&65535)<<16)}switch(Ae=0,Y){case 3:Ae^=(A.charCodeAt(F+2)&255)<<16;case 2:Ae^=(A.charCodeAt(F+1)&255)<<8;case 1:Ae^=A.charCodeAt(F)&255,Ae=3432918353*(Ae&65535)+((3432918353*(Ae>>>16)&65535)<<16)&4294967295,Ae=Ae<<15|Ae>>>17,ge^=461845907*(Ae&65535)+((461845907*(Ae>>>16)&65535)<<16)&4294967295}return ge^=A.length,ge^=ge>>>16,ge=2246822507*(ge&65535)+((2246822507*(ge>>>16)&65535)<<16)&4294967295,ge^=ge>>>13,ge=3266489909*(ge&65535)+((3266489909*(ge>>>16)&65535)<<16)&4294967295,(ge^ge>>>16)>>>0}var z=Object.assign,H=Object.prototype.hasOwnProperty,X=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Q={},U={};function Z(A){return H.call(U,A)?!0:H.call(Q,A)?!1:X.test(A)?U[A]=!0:(Q[A]=!0,!1)}var q=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),me=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),se=/["'&<>]/;function ue(A){if(typeof A=="boolean"||typeof A=="number"||typeof A=="bigint")return""+A;A=""+A;var F=se.exec(A);if(F){var Y="",oe,ge=0;for(oe=F.index;oe<A.length;oe++){switch(A.charCodeAt(oe)){case 34:F="&quot;";break;case 38:F="&amp;";break;case 39:F="&#x27;";break;case 60:F="&lt;";break;case 62:F="&gt;";break;default:continue}ge!==oe&&(Y+=A.slice(ge,oe)),ge=oe+1,Y+=F}A=ge!==oe?Y+A.slice(ge,oe):Y}return A}var Pe=/([A-Z])/g,ye=/^ms-/,W=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function re(A){return W.test(""+A)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":A}var te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},fe=J.d;J.d={f:fe.f,r:fe.r,D:Ke,C:$e,L:ut,m:Ot,X:jt,S:Wt,M:Ut};var De=[],at=/(<\/|<)(s)(cript)/gi;function je(A,F,Y,oe){return""+F+(Y==="s"?"\\u0073":"\\u0053")+oe}function qe(A,F,Y,oe,ge){return{idPrefix:A===void 0?"":A,nextFormID:0,streamingFormat:0,bootstrapScriptContent:Y,bootstrapScripts:oe,bootstrapModules:ge,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function et(){return{htmlChunks:null,headChunks:null,bodyChunks:null,contribution:0}}function Et(A,F,Y){return{insertionMode:A,selectedValue:F,tagScope:Y}}function Se(A,F,Y){switch(F){case"noscript":return Et(2,null,A.tagScope|1);case"select":return Et(2,Y.value!=null?Y.value:Y.defaultValue,A.tagScope);case"svg":return Et(4,null,A.tagScope);case"picture":return Et(2,null,A.tagScope|2);case"math":return Et(5,null,A.tagScope);case"foreignObject":return Et(2,null,A.tagScope);case"table":return Et(6,null,A.tagScope);case"thead":case"tbody":case"tfoot":return Et(7,null,A.tagScope);case"colgroup":return Et(9,null,A.tagScope);case"tr":return Et(8,null,A.tagScope);case"head":if(2>A.insertionMode)return Et(3,null,A.tagScope);break;case"html":if(A.insertionMode===0)return Et(1,null,A.tagScope)}return 6<=A.insertionMode||2>A.insertionMode?Et(2,null,A.tagScope):A}var $t=new Map;function ne(A,F){if(typeof F!="object")throw Error(n(62));var Y=!0,oe;for(oe in F)if(H.call(F,oe)){var ge=F[oe];if(ge!=null&&typeof ge!="boolean"&&ge!==""){if(oe.indexOf("--")===0){var Ae=ue(oe);ge=ue((""+ge).trim())}else Ae=$t.get(oe),Ae===void 0&&(Ae=ue(oe.replace(Pe,"-$1").toLowerCase().replace(ye,"-ms-")),$t.set(oe,Ae)),ge=typeof ge=="number"?ge===0||q.has(oe)?""+ge:ge+"px":ue((""+ge).trim());Y?(Y=!1,A.push(' style="',Ae,":",ge)):A.push(";",Ae,":",ge)}}Y||A.push('"')}function Ge(A,F,Y){Y&&typeof Y!="function"&&typeof Y!="symbol"&&A.push(" ",F,'=""')}function Me(A,F,Y){typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&A.push(" ",F,'="',ue(Y),'"')}var ve=ue("javascript:throw new Error('React form unexpectedly submitted.')");function xe(A,F){this.push('<input type="hidden"'),Le(A),Me(this,"name",F),Me(this,"value",A),this.push("/>")}function Le(A){if(typeof A!="string")throw Error(n(480))}function Je(A,F){if(typeof F.$$FORM_ACTION=="function"){var Y=A.nextFormID++;A=A.idPrefix+Y;try{var oe=F.$$FORM_ACTION(A);if(oe){var ge=oe.data;ge?.forEach(Le)}return oe}catch(Ae){if(typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function")throw Ae}}return null}function nt(A,F,Y,oe,ge,Ae,Ue,St){var ct=null;if(typeof oe=="function"){var xt=Je(F,oe);xt!==null?(St=xt.name,oe=xt.action||"",ge=xt.encType,Ae=xt.method,Ue=xt.target,ct=xt.data):(A.push(" ","formAction",'="',ve,'"'),Ue=Ae=ge=oe=St=null,At(F,Y))}return St!=null&&Be(A,"name",St),oe!=null&&Be(A,"formAction",oe),ge!=null&&Be(A,"formEncType",ge),Ae!=null&&Be(A,"formMethod",Ae),Ue!=null&&Be(A,"formTarget",Ue),ct}function Be(A,F,Y){switch(F){case"className":Me(A,"class",Y);break;case"tabIndex":Me(A,"tabindex",Y);break;case"dir":case"role":case"viewBox":case"width":case"height":Me(A,F,Y);break;case"style":ne(A,Y);break;case"src":case"href":if(Y==="")break;case"action":case"formAction":if(Y==null||typeof Y=="function"||typeof Y=="symbol"||typeof Y=="boolean")break;Y=re(""+Y),A.push(" ",F,'="',ue(Y),'"');break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Ge(A,F.toLowerCase(),Y);break;case"xlinkHref":if(typeof Y=="function"||typeof Y=="symbol"||typeof Y=="boolean")break;Y=re(""+Y),A.push(" ","xlink:href",'="',ue(Y),'"');break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof Y!="function"&&typeof Y!="symbol"&&A.push(" ",F,'="',ue(Y),'"');break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Y&&typeof Y!="function"&&typeof Y!="symbol"&&A.push(" ",F,'=""');break;case"capture":case"download":Y===!0?A.push(" ",F,'=""'):Y!==!1&&typeof Y!="function"&&typeof Y!="symbol"&&A.push(" ",F,'="',ue(Y),'"');break;case"cols":case"rows":case"size":case"span":typeof Y!="function"&&typeof Y!="symbol"&&!isNaN(Y)&&1<=Y&&A.push(" ",F,'="',ue(Y),'"');break;case"rowSpan":case"start":typeof Y=="function"||typeof Y=="symbol"||isNaN(Y)||A.push(" ",F,'="',ue(Y),'"');break;case"xlinkActuate":Me(A,"xlink:actuate",Y);break;case"xlinkArcrole":Me(A,"xlink:arcrole",Y);break;case"xlinkRole":Me(A,"xlink:role",Y);break;case"xlinkShow":Me(A,"xlink:show",Y);break;case"xlinkTitle":Me(A,"xlink:title",Y);break;case"xlinkType":Me(A,"xlink:type",Y);break;case"xmlBase":Me(A,"xml:base",Y);break;case"xmlLang":Me(A,"xml:lang",Y);break;case"xmlSpace":Me(A,"xml:space",Y);break;default:if((!(2<F.length)||F[0]!=="o"&&F[0]!=="O"||F[1]!=="n"&&F[1]!=="N")&&(F=me.get(F)||F,Z(F))){switch(typeof Y){case"function":case"symbol":return;case"boolean":var oe=F.toLowerCase().slice(0,5);if(oe!=="data-"&&oe!=="aria-")return}A.push(" ",F,'="',ue(Y),'"')}}}function gt(A,F,Y){if(F!=null){if(Y!=null)throw Error(n(60));if(typeof F!="object"||!("__html"in F))throw Error(n(61));F=F.__html,F!=null&&A.push(""+F)}}function Mt(A){var F="";return e.Children.forEach(A,function(Y){Y!=null&&(F+=Y)}),F}function At(A,F){(A.instructions&16)===0&&(A.instructions|=16,F.bootstrapChunks.unshift(F.startInlineScript,`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`,"<\/script>"))}function Ie(A,F){A.push(xn("link"));for(var Y in F)if(H.call(F,Y)){var oe=F[Y];if(oe!=null)switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:Be(A,Y,oe)}}return A.push("/>"),null}var it=/(<\/|<)(s)(tyle)/gi;function yt(A,F,Y,oe){return""+F+(Y==="s"?"\\73 ":"\\53 ")+oe}function Gt(A,F,Y){A.push(xn(Y));for(var oe in F)if(H.call(F,oe)){var ge=F[oe];if(ge!=null)switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,Y));default:Be(A,oe,ge)}}return A.push("/>"),null}function qt(A,F){A.push(xn("title"));var Y=null,oe=null,ge;for(ge in F)if(H.call(F,ge)){var Ae=F[ge];if(Ae!=null)switch(ge){case"children":Y=Ae;break;case"dangerouslySetInnerHTML":oe=Ae;break;default:Be(A,ge,Ae)}}return A.push(">"),F=Array.isArray(Y)?2>Y.length?Y[0]:null:Y,typeof F!="function"&&typeof F!="symbol"&&F!==null&&F!==void 0&&A.push(ue(""+F)),gt(A,oe,Y),A.push(Qi("title")),null}function mn(A,F){A.push(xn("script"));var Y=null,oe=null,ge;for(ge in F)if(H.call(F,ge)){var Ae=F[ge];if(Ae!=null)switch(ge){case"children":Y=Ae;break;case"dangerouslySetInnerHTML":oe=Ae;break;default:Be(A,ge,Ae)}}return A.push(">"),gt(A,oe,Y),typeof Y=="string"&&A.push((""+Y).replace(at,je)),A.push(Qi("script")),null}function cr(A,F,Y){A.push(xn(Y));var oe=Y=null,ge;for(ge in F)if(H.call(F,ge)){var Ae=F[ge];if(Ae!=null)switch(ge){case"children":Y=Ae;break;case"dangerouslySetInnerHTML":oe=Ae;break;default:Be(A,ge,Ae)}}return A.push(">"),gt(A,oe,Y),Y}function fn(A,F,Y){A.push(xn(Y));var oe=Y=null,ge;for(ge in F)if(H.call(F,ge)){var Ae=F[ge];if(Ae!=null)switch(ge){case"children":Y=Ae;break;case"dangerouslySetInnerHTML":oe=Ae;break;default:Be(A,ge,Ae)}}return A.push(">"),gt(A,oe,Y),typeof Y=="string"?(A.push(ue(Y)),null):Y}var Pr=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Kr=new Map;function xn(A){var F=Kr.get(A);if(F===void 0){if(!Pr.test(A))throw Error(n(65,A));F="<"+A,Kr.set(A,F)}return F}function rr(A,F,Y,oe,ge,Ae,Ue,St,ct,xt){switch(F){case"div":case"span":case"svg":case"path":break;case"a":A.push(xn("a"));var Jt=null,Kt=null,yn;for(yn in Y)if(H.call(Y,yn)){var An=Y[yn];if(An!=null)switch(yn){case"children":Jt=An;break;case"dangerouslySetInnerHTML":Kt=An;break;case"href":An===""?Me(A,"href",""):Be(A,yn,An);break;default:Be(A,yn,An)}}if(A.push(">"),gt(A,Kt,Jt),typeof Jt=="string"){A.push(ue(Jt));var _n=null}else _n=Jt;return _n;case"g":case"p":case"li":break;case"select":A.push(xn("select"));var Un=null,pr=null,Nr;for(Nr in Y)if(H.call(Y,Nr)){var qr=Y[Nr];if(qr!=null)switch(Nr){case"children":Un=qr;break;case"dangerouslySetInnerHTML":pr=qr;break;case"defaultValue":case"value":break;default:Be(A,Nr,qr)}}return A.push(">"),gt(A,pr,Un),Un;case"option":var ii=St.selectedValue;A.push(xn("option"));var En=null,ki=null,gr=null,xi=null,li;for(li in Y)if(H.call(Y,li)){var On=Y[li];if(On!=null)switch(li){case"children":En=On;break;case"selected":gr=On;break;case"dangerouslySetInnerHTML":xi=On;break;case"value":ki=On;default:Be(A,li,On)}}if(ii!=null){var Gr=ki!==null?""+ki:Mt(En);if(M(ii)){for(var ls=0;ls<ii.length;ls++)if(""+ii[ls]===Gr){A.push(' selected=""');break}}else""+ii===Gr&&A.push(' selected=""')}else gr&&A.push(' selected=""');return A.push(">"),gt(A,xi,En),En;case"textarea":A.push(xn("textarea"));var Hi=null,Cs=null,eo=null,$i;for($i in Y)if(H.call(Y,$i)){var es=Y[$i];if(es!=null)switch($i){case"children":eo=es;break;case"value":Hi=es;break;case"defaultValue":Cs=es;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:Be(A,$i,es)}}if(Hi===null&&Cs!==null&&(Hi=Cs),A.push(">"),eo!=null){if(Hi!=null)throw Error(n(92));if(M(eo)){if(1<eo.length)throw Error(n(93));Hi=""+eo[0]}Hi=""+eo}return typeof Hi=="string"&&Hi[0]===`
`&&A.push(`
`),Hi!==null&&A.push(ue(""+Hi)),null;case"input":A.push(xn("input"));var ts=null,ra=null,zi=null,ma=null,pl=null,cs=null,gl=null,ia=null,Hu=null,ml;for(ml in Y)if(H.call(Y,ml)){var Ds=Y[ml];if(Ds!=null)switch(ml){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":ts=Ds;break;case"formAction":ra=Ds;break;case"formEncType":zi=Ds;break;case"formMethod":ma=Ds;break;case"formTarget":pl=Ds;break;case"defaultChecked":Hu=Ds;break;case"defaultValue":gl=Ds;break;case"checked":ia=Ds;break;case"value":cs=Ds;break;default:Be(A,ml,Ds)}}var vh=nt(A,oe,ge,ra,zi,ma,pl,ts);return ia!==null?Ge(A,"checked",ia):Hu!==null&&Ge(A,"checked",Hu),cs!==null?Be(A,"value",cs):gl!==null&&Be(A,"value",gl),A.push("/>"),vh?.forEach(xe,A),null;case"button":A.push(xn("button"));var fc=null,Xl=null,pc=null,g=null,C=null,k=null,j=null,ie;for(ie in Y)if(H.call(Y,ie)){var we=Y[ie];if(we!=null)switch(ie){case"children":fc=we;break;case"dangerouslySetInnerHTML":Xl=we;break;case"name":pc=we;break;case"formAction":g=we;break;case"formEncType":C=we;break;case"formMethod":k=we;break;case"formTarget":j=we;break;default:Be(A,ie,we)}}var Oe=nt(A,oe,ge,g,C,k,j,pc);if(A.push(">"),Oe?.forEach(xe,A),gt(A,Xl,fc),typeof fc=="string"){A.push(ue(fc));var tt=null}else tt=fc;return tt;case"form":A.push(xn("form"));var mt=null,Nt=null,en=null,hn=null,un=null,Vn=null,Yr;for(Yr in Y)if(H.call(Y,Yr)){var Qr=Y[Yr];if(Qr!=null)switch(Yr){case"children":mt=Qr;break;case"dangerouslySetInnerHTML":Nt=Qr;break;case"action":en=Qr;break;case"encType":hn=Qr;break;case"method":un=Qr;break;case"target":Vn=Qr;break;default:Be(A,Yr,Qr)}}var Tr=null,vo=null;if(typeof en=="function"){var va=Je(oe,en);va!==null?(en=va.action||"",hn=va.encType,un=va.method,Vn=va.target,Tr=va.data,vo=va.name):(A.push(" ","action",'="',ve,'"'),Vn=un=hn=en=null,At(oe,ge))}if(en!=null&&Be(A,"action",en),hn!=null&&Be(A,"encType",hn),un!=null&&Be(A,"method",un),Vn!=null&&Be(A,"target",Vn),A.push(">"),vo!==null&&(A.push('<input type="hidden"'),Me(A,"name",vo),A.push("/>"),Tr?.forEach(xe,A)),gt(A,Nt,mt),typeof mt=="string"){A.push(ue(mt));var Uc=null}else Uc=mt;return Uc;case"menuitem":A.push(xn("menuitem"));for(var Zl in Y)if(H.call(Y,Zl)){var ya=Y[Zl];if(ya!=null)switch(Zl){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:Be(A,Zl,ya)}}return A.push(">"),null;case"object":A.push(xn("object"));var Ha=null,sa=null,dr;for(dr in Y)if(H.call(Y,dr)){var Fs=Y[dr];if(Fs!=null)switch(dr){case"children":Ha=Fs;break;case"dangerouslySetInnerHTML":sa=Fs;break;case"data":var za=re(""+Fs);if(za==="")break;A.push(" ","data",'="',ue(za),'"');break;default:Be(A,dr,Fs)}}if(A.push(">"),gt(A,sa,Ha),typeof Ha=="string"){A.push(ue(Ha));var vl=null}else vl=Ha;return vl;case"title":if(St.insertionMode===4||St.tagScope&1||Y.itemProp!=null)var No=qt(A,Y);else xt?No=null:(qt(ge.hoistableChunks,Y),No=void 0);return No;case"link":var Wc=Y.rel,Gi=Y.href,yl=Y.precedence;if(St.insertionMode===4||St.tagScope&1||Y.itemProp!=null||typeof Wc!="string"||typeof Gi!="string"||Gi===""){Ie(A,Y);var gc=null}else if(Y.rel==="stylesheet")if(typeof yl!="string"||Y.disabled!=null||Y.onLoad||Y.onError)gc=Ie(A,Y);else{var wa=ge.styles.get(yl),Is=oe.styleResources.hasOwnProperty(Gi)?oe.styleResources[Gi]:void 0;if(Is!==null){oe.styleResources[Gi]=null,wa||(wa={precedence:ue(yl),rules:[],hrefs:[],sheets:new Map},ge.styles.set(yl,wa));var zu={state:0,props:z({},Y,{"data-precedence":Y.precedence,precedence:null})};if(Is){Is.length===2&&Xt(zu.props,Is);var Ca=ge.preloads.stylesheets.get(Gi);Ca&&0<Ca.length?Ca.length=0:zu.state=1}wa.sheets.set(Gi,zu),Ue&&Ue.stylesheets.add(zu)}else if(wa){var fv=wa.sheets.get(Gi);fv&&Ue&&Ue.stylesheets.add(fv)}ct&&A.push("<!-- -->"),gc=null}else Y.onLoad||Y.onError?gc=Ie(A,Y):(ct&&A.push("<!-- -->"),gc=xt?null:Ie(ge.hoistableChunks,Y));return gc;case"script":var Id=Y.async;if(typeof Y.src!="string"||!Y.src||!Id||typeof Id=="function"||typeof Id=="symbol"||Y.onLoad||Y.onError||St.insertionMode===4||St.tagScope&1||Y.itemProp!=null)var om=mn(A,Y);else{var Ui=Y.src;if(Y.type==="module")var Gu=oe.moduleScriptResources,jc=ge.preloads.moduleScripts;else Gu=oe.scriptResources,jc=ge.preloads.scripts;var wl=Gu.hasOwnProperty(Ui)?Gu[Ui]:void 0;if(wl!==null){Gu[Ui]=null;var Md=Y;if(wl){wl.length===2&&(Md=z({},Y),Xt(Md,wl));var Kc=jc.get(Ui);Kc&&(Kc.length=0)}var Yc=[];ge.scripts.add(Yc),mn(Yc,Md)}ct&&A.push("<!-- -->"),om=null}return om;case"style":var Ef=Y.precedence,Cl=Y.href;if(St.insertionMode===4||St.tagScope&1||Y.itemProp!=null||typeof Ef!="string"||typeof Cl!="string"||Cl===""){A.push(xn("style"));var Xc=null,Od=null,Ga;for(Ga in Y)if(H.call(Y,Ga)){var Ld=Y[Ga];if(Ld!=null)switch(Ga){case"children":Xc=Ld;break;case"dangerouslySetInnerHTML":Od=Ld;break;default:Be(A,Ga,Ld)}}A.push(">");var Zc=Array.isArray(Xc)?2>Xc.length?Xc[0]:null:Xc;typeof Zc!="function"&&typeof Zc!="symbol"&&Zc!==null&&Zc!==void 0&&A.push((""+Zc).replace(it,yt)),gt(A,Od,Xc),A.push(Qi("style"));var yh=null}else{var bl=ge.styles.get(Ef);if((oe.styleResources.hasOwnProperty(Cl)?oe.styleResources[Cl]:void 0)!==null){oe.styleResources[Cl]=null,bl?bl.hrefs.push(ue(Cl)):(bl={precedence:ue(Ef),rules:[],hrefs:[ue(Cl)],sheets:new Map},ge.styles.set(Ef,bl));var qc=bl.rules,mc=null,Qc=null,wh;for(wh in Y)if(H.call(Y,wh)){var R=Y[wh];if(R!=null)switch(wh){case"children":mc=R;break;case"dangerouslySetInnerHTML":Qc=R}}var P=Array.isArray(mc)?2>mc.length?mc[0]:null:mc;typeof P!="function"&&typeof P!="symbol"&&P!==null&&P!==void 0&&qc.push((""+P).replace(it,yt)),gt(qc,Qc,mc)}bl&&Ue&&Ue.styles.add(bl),ct&&A.push("<!-- -->"),yh=void 0}return yh;case"meta":if(St.insertionMode===4||St.tagScope&1||Y.itemProp!=null)var K=Gt(A,Y,"meta");else ct&&A.push("<!-- -->"),K=xt?null:typeof Y.charSet=="string"?Gt(ge.charsetChunks,Y,"meta"):Y.name==="viewport"?Gt(ge.viewportChunks,Y,"meta"):Gt(ge.hoistableChunks,Y,"meta");return K;case"listing":case"pre":A.push(xn(F));var le=null,pe=null,ke;for(ke in Y)if(H.call(Y,ke)){var ze=Y[ke];if(ze!=null)switch(ke){case"children":le=ze;break;case"dangerouslySetInnerHTML":pe=ze;break;default:Be(A,ke,ze)}}if(A.push(">"),pe!=null){if(le!=null)throw Error(n(60));if(typeof pe!="object"||!("__html"in pe))throw Error(n(61));var ft=pe.__html;ft!=null&&(typeof ft=="string"&&0<ft.length&&ft[0]===`
`?A.push(`
`,ft):A.push(""+ft))}return typeof le=="string"&&le[0]===`
`&&A.push(`
`),le;case"img":var We=Y.src,ot=Y.srcSet;if(!(Y.loading==="lazy"||!We&&!ot||typeof We!="string"&&We!=null||typeof ot!="string"&&ot!=null)&&Y.fetchPriority!=="low"&&!(St.tagScope&3)&&(typeof We!="string"||We[4]!==":"||We[0]!=="d"&&We[0]!=="D"||We[1]!=="a"&&We[1]!=="A"||We[2]!=="t"&&We[2]!=="T"||We[3]!=="a"&&We[3]!=="A")&&(typeof ot!="string"||ot[4]!==":"||ot[0]!=="d"&&ot[0]!=="D"||ot[1]!=="a"&&ot[1]!=="A"||ot[2]!=="t"&&ot[2]!=="T"||ot[3]!=="a"&&ot[3]!=="A")){var Yt=typeof Y.sizes=="string"?Y.sizes:void 0,kt=ot?ot+`
`+(Yt||""):We,gn=ge.preloads.images,wn=gn.get(kt);if(wn)(Y.fetchPriority==="high"||10>ge.highImagePreloads.size)&&(gn.delete(kt),ge.highImagePreloads.add(wn));else if(!oe.imageResources.hasOwnProperty(kt)){oe.imageResources[kt]=De;var kn=Y.crossOrigin,Zn=typeof kn=="string"?kn==="use-credentials"?kn:"":void 0,gi=ge.headers,Pi;gi&&0<gi.remainingCapacity&&typeof Y.srcSet!="string"&&(Y.fetchPriority==="high"||500>gi.highImagePreloads.length)&&(Pi=pn(We,"image",{imageSrcSet:Y.srcSet,imageSizes:Y.sizes,crossOrigin:Zn,integrity:Y.integrity,nonce:Y.nonce,type:Y.type,fetchPriority:Y.fetchPriority,referrerPolicy:Y.refererPolicy}),0<=(gi.remainingCapacity-=Pi.length+2))?(ge.resets.image[kt]=De,gi.highImagePreloads&&(gi.highImagePreloads+=", "),gi.highImagePreloads+=Pi):(wn=[],Ie(wn,{rel:"preload",as:"image",href:ot?void 0:We,imageSrcSet:ot,imageSizes:Yt,crossOrigin:Zn,integrity:Y.integrity,type:Y.type,fetchPriority:Y.fetchPriority,referrerPolicy:Y.referrerPolicy}),Y.fetchPriority==="high"||10>ge.highImagePreloads.size?ge.highImagePreloads.add(wn):(ge.bulkPreloads.add(wn),gn.set(kt,wn)))}}return Gt(A,Y,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return Gt(A,Y,F);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>St.insertionMode){var Cr=Ae||ge.preamble;if(Cr.headChunks)throw Error(n(545,"`<head>`"));Cr.headChunks=[];var yo=cr(Cr.headChunks,Y,"head")}else yo=fn(A,Y,"head");return yo;case"body":if(2>St.insertionMode){var ns=Ae||ge.preamble;if(ns.bodyChunks)throw Error(n(545,"`<body>`"));ns.bodyChunks=[];var Bo=cr(ns.bodyChunks,Y,"body")}else Bo=fn(A,Y,"body");return Bo;case"html":if(St.insertionMode===0){var Wi=Ae||ge.preamble;if(Wi.htmlChunks)throw Error(n(545,"`<html>`"));Wi.htmlChunks=[""];var Wn=cr(Wi.htmlChunks,Y,"html")}else Wn=fn(A,Y,"html");return Wn;default:if(F.indexOf("-")!==-1){A.push(xn(F));var mr=null,yr=null,us;for(us in Y)if(H.call(Y,us)){var mi=Y[us];if(mi!=null){var ds=us;switch(us){case"children":mr=mi;break;case"dangerouslySetInnerHTML":yr=mi;break;case"style":ne(A,mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":ds="class";default:if(Z(us)&&typeof mi!="function"&&typeof mi!="symbol"&&mi!==!1){if(mi===!0)mi="";else if(typeof mi=="object")continue;A.push(" ",ds,'="',ue(mi),'"')}}}}return A.push(">"),gt(A,yr,mr),mr}}return fn(A,Y,F)}var fi=new Map;function Qi(A){var F=fi.get(A);return F===void 0&&(F="</"+A+">",fi.set(A,F)),F}function Ni(A,F){A=A.preamble,A.htmlChunks===null&&F.htmlChunks&&(A.htmlChunks=F.htmlChunks,F.contribution|=1),A.headChunks===null&&F.headChunks&&(A.headChunks=F.headChunks,F.contribution|=4),A.bodyChunks===null&&F.bodyChunks&&(A.bodyChunks=F.bodyChunks,F.contribution|=2)}function is(A,F){F=F.bootstrapChunks;for(var Y=0;Y<F.length-1;Y++)A.push(F[Y]);return Y<F.length?(Y=F[Y],F.length=0,A.push(Y)):!0}function Bi(A,F,Y){if(A.push('<!--$?--><template id="'),Y===null)throw Error(n(395));return A.push(F.boundaryPrefix),F=Y.toString(16),A.push(F),A.push('"></template>')}function gs(A,F){F=F.contribution,F!==0&&(A.push("<!--"),A.push(""+F),A.push("-->"))}function As(A,F,Y,oe){switch(Y.insertionMode){case 0:case 1:case 3:case 2:return A.push('<div hidden id="'),A.push(F.segmentPrefix),F=oe.toString(16),A.push(F),A.push('">');case 4:return A.push('<svg aria-hidden="true" style="display:none" id="'),A.push(F.segmentPrefix),F=oe.toString(16),A.push(F),A.push('">');case 5:return A.push('<math aria-hidden="true" style="display:none" id="'),A.push(F.segmentPrefix),F=oe.toString(16),A.push(F),A.push('">');case 6:return A.push('<table hidden id="'),A.push(F.segmentPrefix),F=oe.toString(16),A.push(F),A.push('">');case 7:return A.push('<table hidden><tbody id="'),A.push(F.segmentPrefix),F=oe.toString(16),A.push(F),A.push('">');case 8:return A.push('<table hidden><tr id="'),A.push(F.segmentPrefix),F=oe.toString(16),A.push(F),A.push('">');case 9:return A.push('<table hidden><colgroup id="'),A.push(F.segmentPrefix),F=oe.toString(16),A.push(F),A.push('">');default:throw Error(n(397))}}function da(A,F){switch(F.insertionMode){case 0:case 1:case 3:case 2:return A.push("</div>");case 4:return A.push("</svg>");case 5:return A.push("</math>");case 6:return A.push("</table>");case 7:return A.push("</tbody></table>");case 8:return A.push("</tr></table>");case 9:return A.push("</colgroup></table>");default:throw Error(n(397))}}var qo=/[<\u2028\u2029]/g;function Ci(A){return JSON.stringify(A).replace(qo,function(F){switch(F){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var Ne=/[&><\u2028\u2029]/g;function Qe(A){return JSON.stringify(A).replace(Ne,function(F){switch(F){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var lt=!1,Pt=!0;function Dt(A){var F=A.rules,Y=A.hrefs,oe=0;if(Y.length){for(this.push('<style media="not all" data-precedence="'),this.push(A.precedence),this.push('" data-href="');oe<Y.length-1;oe++)this.push(Y[oe]),this.push(" ");for(this.push(Y[oe]),this.push('">'),oe=0;oe<F.length;oe++)this.push(F[oe]);Pt=this.push("</style>"),lt=!0,F.length=0,Y.length=0}}function ln(A){return A.state!==2?lt=!0:!1}function an(A,F,Y){return lt=!1,Pt=!0,F.styles.forEach(Dt,A),F.stylesheets.forEach(ln),lt&&(Y.stylesToHoist=!0),Pt}function Tt(A){for(var F=0;F<A.length;F++)this.push(A[F]);A.length=0}var he=[];function Te(A){Ie(he,A.props);for(var F=0;F<he.length;F++)this.push(he[F]);he.length=0,A.state=2}function be(A){var F=0<A.sheets.size;A.sheets.forEach(Te,this),A.sheets.clear();var Y=A.rules,oe=A.hrefs;if(!F||oe.length){if(this.push('<style data-precedence="'),this.push(A.precedence),A=0,oe.length){for(this.push('" data-href="');A<oe.length-1;A++)this.push(oe[A]),this.push(" ");this.push(oe[A])}for(this.push('">'),A=0;A<Y.length;A++)this.push(Y[A]);this.push("</style>"),Y.length=0,oe.length=0}}function Ce(A){if(A.state===0){A.state=1;var F=A.props;for(Ie(he,{rel:"preload",as:"style",href:A.props.href,crossOrigin:F.crossOrigin,fetchPriority:F.fetchPriority,integrity:F.integrity,media:F.media,hrefLang:F.hrefLang,referrerPolicy:F.referrerPolicy}),A=0;A<he.length;A++)this.push(he[A]);he.length=0}}function Ee(A){A.sheets.forEach(Ce,this),A.sheets.clear()}function Fe(A,F){A.push("[");var Y="[";F.stylesheets.forEach(function(oe){if(oe.state!==2)if(oe.state===3)A.push(Y),oe=Qe(""+oe.props.href),A.push(oe),A.push("]"),Y=",[";else{A.push(Y);var ge=oe.props["data-precedence"],Ae=oe.props,Ue=re(""+oe.props.href);Ue=Qe(Ue),A.push(Ue),ge=""+ge,A.push(","),ge=Qe(ge),A.push(ge);for(var St in Ae)if(H.call(Ae,St)&&(ge=Ae[St],ge!=null))switch(St){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:Xe(A,St,ge)}A.push("]"),Y=",[",oe.state=3}}),A.push("]")}function Xe(A,F,Y){var oe=F.toLowerCase();switch(typeof Y){case"function":case"symbol":return}switch(F){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":oe="class",F=""+Y;break;case"hidden":if(Y===!1)return;F="";break;case"src":case"href":Y=re(Y),F=""+Y;break;default:if(2<F.length&&(F[0]==="o"||F[0]==="O")&&(F[1]==="n"||F[1]==="N")||!Z(F))return;F=""+Y}A.push(","),oe=Qe(oe),A.push(oe),A.push(","),oe=Qe(F),A.push(oe)}function ht(){return{styles:new Set,stylesheets:new Set}}function Ke(A){var F=Ji||null;if(F){var Y=F.resumableState,oe=F.renderState;if(typeof A=="string"&&A){if(!Y.dnsResources.hasOwnProperty(A)){Y.dnsResources[A]=null,Y=oe.headers;var ge,Ae;(Ae=Y&&0<Y.remainingCapacity)&&(Ae=(ge="<"+(""+A).replace(sr,Kn)+">; rel=dns-prefetch",0<=(Y.remainingCapacity-=ge.length+2))),Ae?(oe.resets.dns[A]=null,Y.preconnects&&(Y.preconnects+=", "),Y.preconnects+=ge):(ge=[],Ie(ge,{href:A,rel:"dns-prefetch"}),oe.preconnects.add(ge))}Gc(F)}}else fe.D(A)}function $e(A,F){var Y=Ji||null;if(Y){var oe=Y.resumableState,ge=Y.renderState;if(typeof A=="string"&&A){var Ae=F==="use-credentials"?"credentials":typeof F=="string"?"anonymous":"default";if(!oe.connectResources[Ae].hasOwnProperty(A)){oe.connectResources[Ae][A]=null,oe=ge.headers;var Ue,St;if(St=oe&&0<oe.remainingCapacity){if(St="<"+(""+A).replace(sr,Kn)+">; rel=preconnect",typeof F=="string"){var ct=(""+F).replace(dn,hr);St+='; crossorigin="'+ct+'"'}St=(Ue=St,0<=(oe.remainingCapacity-=Ue.length+2))}St?(ge.resets.connect[Ae][A]=null,oe.preconnects&&(oe.preconnects+=", "),oe.preconnects+=Ue):(Ae=[],Ie(Ae,{rel:"preconnect",href:A,crossOrigin:F}),ge.preconnects.add(Ae))}Gc(Y)}}else fe.C(A,F)}function ut(A,F,Y){var oe=Ji||null;if(oe){var ge=oe.resumableState,Ae=oe.renderState;if(F&&A){switch(F){case"image":if(Y)var Ue=Y.imageSrcSet,St=Y.imageSizes,ct=Y.fetchPriority;var xt=Ue?Ue+`
`+(St||""):A;if(ge.imageResources.hasOwnProperty(xt))return;ge.imageResources[xt]=De,ge=Ae.headers;var Jt;ge&&0<ge.remainingCapacity&&typeof Ue!="string"&&ct==="high"&&(Jt=pn(A,F,Y),0<=(ge.remainingCapacity-=Jt.length+2))?(Ae.resets.image[xt]=De,ge.highImagePreloads&&(ge.highImagePreloads+=", "),ge.highImagePreloads+=Jt):(ge=[],Ie(ge,z({rel:"preload",href:Ue?void 0:A,as:F},Y)),ct==="high"?Ae.highImagePreloads.add(ge):(Ae.bulkPreloads.add(ge),Ae.preloads.images.set(xt,ge)));break;case"style":if(ge.styleResources.hasOwnProperty(A))return;Ue=[],Ie(Ue,z({rel:"preload",href:A,as:F},Y)),ge.styleResources[A]=!Y||typeof Y.crossOrigin!="string"&&typeof Y.integrity!="string"?De:[Y.crossOrigin,Y.integrity],Ae.preloads.stylesheets.set(A,Ue),Ae.bulkPreloads.add(Ue);break;case"script":if(ge.scriptResources.hasOwnProperty(A))return;Ue=[],Ae.preloads.scripts.set(A,Ue),Ae.bulkPreloads.add(Ue),Ie(Ue,z({rel:"preload",href:A,as:F},Y)),ge.scriptResources[A]=!Y||typeof Y.crossOrigin!="string"&&typeof Y.integrity!="string"?De:[Y.crossOrigin,Y.integrity];break;default:if(ge.unknownResources.hasOwnProperty(F)){if(Ue=ge.unknownResources[F],Ue.hasOwnProperty(A))return}else Ue={},ge.unknownResources[F]=Ue;if(Ue[A]=De,(ge=Ae.headers)&&0<ge.remainingCapacity&&F==="font"&&(xt=pn(A,F,Y),0<=(ge.remainingCapacity-=xt.length+2)))Ae.resets.font[A]=De,ge.fontPreloads&&(ge.fontPreloads+=", "),ge.fontPreloads+=xt;else switch(ge=[],A=z({rel:"preload",href:A,as:F},Y),Ie(ge,A),F){case"font":Ae.fontPreloads.add(ge);break;default:Ae.bulkPreloads.add(ge)}}Gc(oe)}}else fe.L(A,F,Y)}function Ot(A,F){var Y=Ji||null;if(Y){var oe=Y.resumableState,ge=Y.renderState;if(A){var Ae=F&&typeof F.as=="string"?F.as:"script";switch(Ae){case"script":if(oe.moduleScriptResources.hasOwnProperty(A))return;Ae=[],oe.moduleScriptResources[A]=!F||typeof F.crossOrigin!="string"&&typeof F.integrity!="string"?De:[F.crossOrigin,F.integrity],ge.preloads.moduleScripts.set(A,Ae);break;default:if(oe.moduleUnknownResources.hasOwnProperty(Ae)){var Ue=oe.unknownResources[Ae];if(Ue.hasOwnProperty(A))return}else Ue={},oe.moduleUnknownResources[Ae]=Ue;Ae=[],Ue[A]=De}Ie(Ae,z({rel:"modulepreload",href:A},F)),ge.bulkPreloads.add(Ae),Gc(Y)}}else fe.m(A,F)}function Wt(A,F,Y){var oe=Ji||null;if(oe){var ge=oe.resumableState,Ae=oe.renderState;if(A){F=F||"default";var Ue=Ae.styles.get(F),St=ge.styleResources.hasOwnProperty(A)?ge.styleResources[A]:void 0;St!==null&&(ge.styleResources[A]=null,Ue||(Ue={precedence:ue(F),rules:[],hrefs:[],sheets:new Map},Ae.styles.set(F,Ue)),F={state:0,props:z({rel:"stylesheet",href:A,"data-precedence":F},Y)},St&&(St.length===2&&Xt(F.props,St),(Ae=Ae.preloads.stylesheets.get(A))&&0<Ae.length?Ae.length=0:F.state=1),Ue.sheets.set(A,F),Gc(oe))}}else fe.S(A,F,Y)}function jt(A,F){var Y=Ji||null;if(Y){var oe=Y.resumableState,ge=Y.renderState;if(A){var Ae=oe.scriptResources.hasOwnProperty(A)?oe.scriptResources[A]:void 0;Ae!==null&&(oe.scriptResources[A]=null,F=z({src:A,async:!0},F),Ae&&(Ae.length===2&&Xt(F,Ae),A=ge.preloads.scripts.get(A))&&(A.length=0),A=[],ge.scripts.add(A),mn(A,F),Gc(Y))}}else fe.X(A,F)}function Ut(A,F){var Y=Ji||null;if(Y){var oe=Y.resumableState,ge=Y.renderState;if(A){var Ae=oe.moduleScriptResources.hasOwnProperty(A)?oe.moduleScriptResources[A]:void 0;Ae!==null&&(oe.moduleScriptResources[A]=null,F=z({src:A,type:"module",async:!0},F),Ae&&(Ae.length===2&&Xt(F,Ae),A=ge.preloads.moduleScripts.get(A))&&(A.length=0),A=[],ge.scripts.add(A),mn(A,F),Gc(Y))}}else fe.M(A,F)}function Xt(A,F){A.crossOrigin==null&&(A.crossOrigin=F[0]),A.integrity==null&&(A.integrity=F[1])}function pn(A,F,Y){A=(""+A).replace(sr,Kn),F=(""+F).replace(dn,hr),F="<"+A+'>; rel=preload; as="'+F+'"';for(var oe in Y)H.call(Y,oe)&&(A=Y[oe],typeof A=="string"&&(F+="; "+oe.toLowerCase()+'="'+(""+A).replace(dn,hr)+'"'));return F}var sr=/[<>\r\n]/g;function Kn(A){switch(A){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var dn=/["';,\r\n]/g;function hr(A){switch(A){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function Vi(A){this.styles.add(A)}function Ai(A){this.stylesheets.add(A)}function vr(A,F){var Y=A.idPrefix,oe=[],ge=A.bootstrapScriptContent,Ae=A.bootstrapScripts,Ue=A.bootstrapModules;ge!==void 0&&oe.push("<script>",(""+ge).replace(at,je),"<\/script>"),ge=Y+"P:";var St=Y+"S:";Y+="B:";var ct=et(),xt=new Set,Jt=new Set,Kt=new Set,yn=new Map,An=new Set,_n=new Set,Un=new Set,pr={images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map};if(Ae!==void 0)for(var Nr=0;Nr<Ae.length;Nr++){var qr=Ae[Nr],ii,En=void 0,ki=void 0,gr={rel:"preload",as:"script",fetchPriority:"low",nonce:void 0};typeof qr=="string"?gr.href=ii=qr:(gr.href=ii=qr.src,gr.integrity=ki=typeof qr.integrity=="string"?qr.integrity:void 0,gr.crossOrigin=En=typeof qr=="string"||qr.crossOrigin==null?void 0:qr.crossOrigin==="use-credentials"?"use-credentials":""),qr=A;var xi=ii;qr.scriptResources[xi]=null,qr.moduleScriptResources[xi]=null,qr=[],Ie(qr,gr),An.add(qr),oe.push('<script src="',ue(ii)),typeof ki=="string"&&oe.push('" integrity="',ue(ki)),typeof En=="string"&&oe.push('" crossorigin="',ue(En)),oe.push('" async=""><\/script>')}if(Ue!==void 0)for(Ae=0;Ae<Ue.length;Ae++)gr=Ue[Ae],En=ii=void 0,ki={rel:"modulepreload",fetchPriority:"low",nonce:void 0},typeof gr=="string"?ki.href=Nr=gr:(ki.href=Nr=gr.src,ki.integrity=En=typeof gr.integrity=="string"?gr.integrity:void 0,ki.crossOrigin=ii=typeof gr=="string"||gr.crossOrigin==null?void 0:gr.crossOrigin==="use-credentials"?"use-credentials":""),gr=A,qr=Nr,gr.scriptResources[qr]=null,gr.moduleScriptResources[qr]=null,gr=[],Ie(gr,ki),An.add(gr),oe.push('<script type="module" src="',ue(Nr)),typeof En=="string"&&oe.push('" integrity="',ue(En)),typeof ii=="string"&&oe.push('" crossorigin="',ue(ii)),oe.push('" async=""><\/script>');return{placeholderPrefix:ge,segmentPrefix:St,boundaryPrefix:Y,startInlineScript:"<script>",preamble:ct,externalRuntimeScript:null,bootstrapChunks:oe,importMapChunks:[],onHeaders:void 0,headers:null,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:xt,fontPreloads:Jt,highImagePreloads:Kt,styles:yn,bootstrapScripts:An,scripts:_n,bulkPreloads:Un,preloads:pr,stylesToHoist:!1,generateStaticMarkup:F}}function ur(A,F,Y,oe){return Y.generateStaticMarkup?(A.push(ue(F)),!1):(F===""?A=oe:(oe&&A.push("<!-- -->"),A.push(ue(F)),A=!0),A)}function Pn(A,F,Y,oe){F.generateStaticMarkup||Y&&oe&&A.push("<!-- -->")}var Hr=Function.prototype.bind,ms=Symbol.for("react.client.reference");function vs(A){if(A==null)return null;if(typeof A=="function")return A.$$typeof===ms?null:A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case s:return"Fragment";case a:return"Profiler";case o:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList";case S:return"Activity"}if(typeof A=="object")switch(A.$$typeof){case i:return"Portal";case u:return(A.displayName||"Context")+".Provider";case c:return(A._context.displayName||"Context")+".Consumer";case h:var F=A.render;return A=A.displayName,A||(A=F.displayName||F.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case y:return F=A.displayName||null,F!==null?F:vs(A.type)||"Memo";case w:F=A._payload,A=A._init;try{return vs(A(F))}catch{}}return null}var ol={},uo=null;function zn(A,F){if(A!==F){A.context._currentValue2=A.parentValue,A=A.parent;var Y=F.parent;if(A===null){if(Y!==null)throw Error(n(401))}else{if(Y===null)throw Error(n(401));zn(A,Y)}F.context._currentValue2=F.value}}function Zr(A){A.context._currentValue2=A.parentValue,A=A.parent,A!==null&&Zr(A)}function Du(A){var F=A.parent;F!==null&&Du(F),A.context._currentValue2=A.value}function bi(A,F){if(A.context._currentValue2=A.parentValue,A=A.parent,A===null)throw Error(n(402));A.depth===F.depth?zn(A,F):bi(A,F)}function pi(A,F){var Y=F.parent;if(Y===null)throw Error(n(402));A.depth===Y.depth?zn(A,Y):pi(A,Y),F.context._currentValue2=F.value}function ko(A){var F=uo;F!==A&&(F===null?Du(A):A===null?Zr(F):F.depth===A.depth?zn(F,A):F.depth>A.depth?bi(F,A):pi(F,A),uo=A)}var ho={enqueueSetState:function(A,F){A=A._reactInternals,A.queue!==null&&A.queue.push(F)},enqueueReplaceState:function(A,F){A=A._reactInternals,A.replace=!0,A.queue=[F]},enqueueForceUpdate:function(){}},fo={id:1,overflow:""};function Bn(A,F,Y){var oe=A.id;A=A.overflow;var ge=32-Ks(oe)-1;oe&=~(1<<ge),Y+=1;var Ae=32-Ks(F)+ge;if(30<Ae){var Ue=ge-ge%5;return Ae=(oe&(1<<Ue)-1).toString(32),oe>>=Ue,ge-=Ue,{id:1<<32-Ks(F)+ge|Y<<ge|oe,overflow:Ae+A}}return{id:1<<Ae|Y<<ge|oe,overflow:A}}var Ks=Math.clz32?Math.clz32:Fu,Ys=Math.log,ha=Math.LN2;function Fu(A){return A>>>=0,A===0?32:31-(Ys(A)/ha|0)|0}var po=Error(n(460));function Ma(){}function kd(A,F,Y){switch(Y=A[Y],Y===void 0?A.push(F):Y!==F&&(F.then(Ma,Ma),F=Y),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Ma,Ma):(A=F,A.status="pending",A.then(function(oe){if(F.status==="pending"){var ge=F;ge.status="fulfilled",ge.value=oe}},function(oe){if(F.status==="pending"){var ge=F;ge.status="rejected",ge.reason=oe}})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}throw Wl=F,po}}var Wl=null;function Oa(){if(Wl===null)throw Error(n(459));var A=Wl;return Wl=null,A}function La(A,F){return A===F&&(A!==0||1/A===1/F)||A!==A&&F!==F}var go=typeof Object.is=="function"?Object.is:La,ks=null,Qo=null,Bc=null,Rn=null,Xs=null,Sn=null,Zs=!1,Ls=!1,Jo=0,qs=0,Ps=-1,Po=0,Do=null,Ar=null,ys=0;function Fo(){if(ks===null)throw Error(n(321));return ks}function ss(){if(0<ys)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function Dr(){return Sn===null?Xs===null?(Zs=!1,Xs=Sn=ss()):(Zs=!0,Sn=Xs):Sn.next===null?(Zs=!1,Sn=Sn.next=ss()):(Zs=!0,Sn=Sn.next),Sn}function fa(){var A=Do;return Do=null,A}function $o(){Rn=Bc=Qo=ks=null,Ls=!1,Xs=null,ys=0,Sn=Ar=null}function Pd(A,F){return typeof F=="function"?F(A):F}function uc(A,F,Y){if(ks=Fo(),Sn=Dr(),Zs){var oe=Sn.queue;if(F=oe.dispatch,Ar!==null&&(Y=Ar.get(oe),Y!==void 0)){Ar.delete(oe),oe=Sn.memoizedState;do oe=A(oe,Y.action),Y=Y.next;while(Y!==null);return Sn.memoizedState=oe,[oe,F]}return[Sn.memoizedState,F]}return A=A===Pd?typeof F=="function"?F():F:Y!==void 0?Y(F):F,Sn.memoizedState=A,A=Sn.queue={last:null,dispatch:null},A=A.dispatch=al.bind(null,ks,A),[Sn.memoizedState,A]}function or(A,F){if(ks=Fo(),Sn=Dr(),F=F===void 0?null:F,Sn!==null){var Y=Sn.memoizedState;if(Y!==null&&F!==null){var oe=Y[1];e:if(oe===null)oe=!1;else{for(var ge=0;ge<oe.length&&ge<F.length;ge++)if(!go(F[ge],oe[ge])){oe=!1;break e}oe=!0}if(oe)return Y[0]}}return A=A(),Sn.memoizedState=[A,F],A}function al(A,F,Y){if(25<=ys)throw Error(n(301));if(A===ks)if(Ls=!0,A={action:Y,next:null},Ar===null&&(Ar=new Map),Y=Ar.get(F),Y===void 0)Ar.set(F,A);else{for(F=Y;F.next!==null;)F=F.next;F.next=A}}function Ns(){throw Error(n(394))}function Qs(){throw Error(n(479))}function Iu(A,F,Y){Fo();var oe=qs++,ge=Bc;if(typeof A.$$FORM_ACTION=="function"){var Ae=null,Ue=Rn;ge=ge.formState;var St=A.$$IS_SIGNATURE_EQUAL;if(ge!==null&&typeof St=="function"){var ct=ge[1];St.call(A,ge[2],ge[3])&&(Ae=Y!==void 0?"p"+Y:"k"+O(JSON.stringify([Ue,null,oe]),0),ct===Ae&&(Ps=oe,F=ge[0]))}var xt=A.bind(null,F);return A=function(Kt){xt(Kt)},typeof xt.$$FORM_ACTION=="function"&&(A.$$FORM_ACTION=function(Kt){Kt=xt.$$FORM_ACTION(Kt),Y!==void 0&&(Y+="",Kt.action=Y);var yn=Kt.data;return yn&&(Ae===null&&(Ae=Y!==void 0?"p"+Y:"k"+O(JSON.stringify([Ue,null,oe]),0)),yn.append("$ACTION_KEY",Ae)),Kt}),[F,A,!1]}var Jt=A.bind(null,F);return[F,function(Kt){Jt(Kt)},!1]}function ph(A){var F=Po;return Po+=1,Do===null&&(Do=[]),kd(Do,A,F)}function jl(){throw Error(n(393))}function ll(){}var Vc={readContext:function(A){return A._currentValue2},use:function(A){if(A!==null&&typeof A=="object"){if(typeof A.then=="function")return ph(A);if(A.$$typeof===u)return A._currentValue2}throw Error(n(438,String(A)))},useContext:function(A){return Fo(),A._currentValue2},useMemo:or,useReducer:uc,useRef:function(A){ks=Fo(),Sn=Dr();var F=Sn.memoizedState;return F===null?(A={current:A},Sn.memoizedState=A):F},useState:function(A){return uc(Pd,A)},useInsertionEffect:ll,useLayoutEffect:ll,useCallback:function(A,F){return or(function(){return A},F)},useImperativeHandle:ll,useEffect:ll,useDebugValue:ll,useDeferredValue:function(A,F){return Fo(),F!==void 0?F:A},useTransition:function(){return Fo(),[!1,Ns]},useId:function(){var A=Qo.treeContext,F=A.overflow;A=A.id,A=(A&~(1<<32-Ks(A)-1)).toString(32)+F;var Y=Kl;if(Y===null)throw Error(n(404));return F=Jo++,A=""+Y.idPrefix+"R"+A,0<F&&(A+="H"+F.toString(32)),A+""},useSyncExternalStore:function(A,F,Y){if(Y===void 0)throw Error(n(407));return Y()},useOptimistic:function(A){return Fo(),[A,Qs]},useActionState:Iu,useFormState:Iu,useHostTransitionStatus:function(){return Fo(),ce},useMemoCache:function(A){for(var F=Array(A),Y=0;Y<A;Y++)F[Y]=_;return F},useCacheRefresh:function(){return jl}},Kl=null,gh={getCacheForType:function(){throw Error(n(248))}},cl,mh;function ws(A){if(cl===void 0)try{throw Error()}catch(Y){var F=Y.stack.trim().match(/\n( *(at )?)/);cl=F&&F[1]||"",mh=-1<Y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cl+A+mh}var Yl=!1;function dc(A,F){if(!A||Yl)return"";Yl=!0;var Y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var oe={DetermineComponentFrameRoot:function(){try{if(F){var Kt=function(){throw Error()};if(Object.defineProperty(Kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Kt,[])}catch(An){var yn=An}Reflect.construct(A,[],Kt)}else{try{Kt.call()}catch(An){yn=An}A.call(Kt.prototype)}}else{try{throw Error()}catch(An){yn=An}(Kt=A())&&typeof Kt.catch=="function"&&Kt.catch(function(){})}}catch(An){if(An&&yn&&typeof An.stack=="string")return[An.stack,yn.stack]}return[null,null]}};oe.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var ge=Object.getOwnPropertyDescriptor(oe.DetermineComponentFrameRoot,"name");ge&&ge.configurable&&Object.defineProperty(oe.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Ae=oe.DetermineComponentFrameRoot(),Ue=Ae[0],St=Ae[1];if(Ue&&St){var ct=Ue.split(`
`),xt=St.split(`
`);for(ge=oe=0;oe<ct.length&&!ct[oe].includes("DetermineComponentFrameRoot");)oe++;for(;ge<xt.length&&!xt[ge].includes("DetermineComponentFrameRoot");)ge++;if(oe===ct.length||ge===xt.length)for(oe=ct.length-1,ge=xt.length-1;1<=oe&&0<=ge&&ct[oe]!==xt[ge];)ge--;for(;1<=oe&&0<=ge;oe--,ge--)if(ct[oe]!==xt[ge]){if(oe!==1||ge!==1)do if(oe--,ge--,0>ge||ct[oe]!==xt[ge]){var Jt=`
`+ct[oe].replace(" at new "," at ");return A.displayName&&Jt.includes("<anonymous>")&&(Jt=Jt.replace("<anonymous>",A.displayName)),Jt}while(1<=oe&&0<=ge);break}}}finally{Yl=!1,Error.prepareStackTrace=Y}return(Y=A?A.displayName||A.name:"")?ws(Y):""}function pa(A){if(typeof A=="string")return ws(A);if(typeof A=="function")return A.prototype&&A.prototype.isReactComponent?dc(A,!0):dc(A,!1);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case h:return dc(A.render,!1);case y:return dc(A.type,!1);case w:var F=A,Y=F._payload;F=F._init;try{A=F(Y)}catch{return ws("Lazy")}return pa(A)}if(typeof A.name=="string")return Y=A.env,ws(A.name+(Y?" ["+Y+"]":""))}switch(A){case m:return ws("SuspenseList");case p:return ws("Suspense")}return""}function ul(A){if(typeof A=="object"&&A!==null&&typeof A.environmentName=="string"){var F=A.environmentName;A=[A].slice(0),typeof A[0]=="string"?A.splice(0,1,"[%s] "+A[0]," "+F+" "):A.splice(0,0,"[%s] "," "+F+" "),A.unshift(console),F=Hr.apply(console.error,A),F()}else console.error(A);return null}function ea(){}function Mu(A,F,Y,oe,ge,Ae,Ue,St,ct,xt,Jt){var Kt=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=A,this.renderState=F,this.rootFormatContext=Y,this.progressiveChunkSize=oe===void 0?12800:oe,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.abortableTasks=Kt,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=ge===void 0?ul:ge,this.onPostpone=xt===void 0?ea:xt,this.onAllReady=Ae===void 0?ea:Ae,this.onShellReady=Ue===void 0?ea:Ue,this.onShellError=St===void 0?ea:St,this.onFatalError=ct===void 0?ea:ct,this.formState=Jt===void 0?null:Jt}function Ou(A,F,Y,oe,ge,Ae,Ue,St,ct,xt,Jt,Kt){return F=new Mu(F,Y,oe,ge,Ae,Ue,St,ct,xt,Jt,Kt),Y=hl(F,0,null,oe,!1,!1),Y.parentFlushed=!0,A=hc(F,null,A,-1,null,Y,null,null,F.abortableTasks,null,oe,null,fo,null,!1),os(A),F.pingedTasks.push(A),F}var Ji=null;function dl(A,F){A.pingedTasks.push(F),A.pingedTasks.length===1&&(A.flushScheduled=A.destination!==null,zc(A))}function mo(A,F,Y,oe){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:F,errorDigest:null,contentState:ht(),fallbackState:ht(),contentPreamble:Y,fallbackPreamble:oe,trackedContentKeyPath:null,trackedFallbackNode:null}}function hc(A,F,Y,oe,ge,Ae,Ue,St,ct,xt,Jt,Kt,yn,An,_n){A.allPendingTasks++,ge===null?A.pendingRootTasks++:ge.pendingTasks++;var Un={replay:null,node:Y,childIndex:oe,ping:function(){return dl(A,Un)},blockedBoundary:ge,blockedSegment:Ae,blockedPreamble:Ue,hoistableState:St,abortSet:ct,keyPath:xt,formatContext:Jt,context:Kt,treeContext:yn,componentStack:An,thenableState:F,isFallback:_n};return ct.add(Un),Un}function Hc(A,F,Y,oe,ge,Ae,Ue,St,ct,xt,Jt,Kt,yn,An){A.allPendingTasks++,Ae===null?A.pendingRootTasks++:Ae.pendingTasks++,Y.pendingTasks++;var _n={replay:Y,node:oe,childIndex:ge,ping:function(){return dl(A,_n)},blockedBoundary:Ae,blockedSegment:null,blockedPreamble:null,hoistableState:Ue,abortSet:St,keyPath:ct,formatContext:xt,context:Jt,treeContext:Kt,componentStack:yn,thenableState:F,isFallback:An};return St.add(_n),_n}function hl(A,F,Y,oe,ge,Ae){return{status:0,parentFlushed:!1,id:-1,index:F,chunks:[],children:[],preambleChildren:[],parentFormatContext:oe,boundary:Y,lastPushedText:ge,textEmbedded:Ae}}function os(A){var F=A.node;if(typeof F=="object"&&F!==null)switch(F.$$typeof){case r:A.componentStack={parent:A.componentStack,type:F.type}}}function as(A){var F={};return A&&Object.defineProperty(F,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var Y="",oe=A;do Y+=pa(oe.type),oe=oe.parent;while(oe);var ge=Y}catch(Ae){ge=`
Error generating stack: `+Ae.message+`
`+Ae.stack}return Object.defineProperty(F,"componentStack",{value:ge}),ge}}),F}function zr(A,F,Y){if(A=A.onError,F=A(F,Y),F==null||typeof F=="string")return F}function Io(A,F){var Y=A.onShellError,oe=A.onFatalError;Y(F),oe(F),A.destination!==null?(A.status=14,A.destination.destroy(F)):(A.status=13,A.fatalError=F)}function Dd(A,F,Y,oe,ge,Ae){var Ue=F.thenableState;for(F.thenableState=null,ks={},Qo=F,Bc=A,Rn=Y,qs=Jo=0,Ps=-1,Po=0,Do=Ue,A=oe(ge,Ae);Ls;)Ls=!1,qs=Jo=0,Ps=-1,Po=0,ys+=1,Sn=null,A=oe(ge,Ae);return $o(),A}function Js(A,F,Y,oe,ge,Ae,Ue){var St=!1;if(Ae!==0&&A.formState!==null){var ct=F.blockedSegment;if(ct!==null){St=!0,ct=ct.chunks;for(var xt=0;xt<Ae;xt++)xt===Ue?ct.push("<!--F!-->"):ct.push("<!--F-->")}}Ae=F.keyPath,F.keyPath=Y,ge?(Y=F.treeContext,F.treeContext=Bn(Y,1,0),Fr(A,F,oe,-1),F.treeContext=Y):St?Fr(A,F,oe,-1):ae(A,F,oe,-1),F.keyPath=Ae}function T(A,F,Y,oe,ge,Ae){if(typeof oe=="function")if(oe.prototype&&oe.prototype.isReactComponent){var Ue=ge;if("ref"in ge){Ue={};for(var St in ge)St!=="ref"&&(Ue[St]=ge[St])}var ct=oe.defaultProps;if(ct){Ue===ge&&(Ue=z({},Ue,ge));for(var xt in ct)Ue[xt]===void 0&&(Ue[xt]=ct[xt])}ge=Ue,Ue=ol,ct=oe.contextType,typeof ct=="object"&&ct!==null&&(Ue=ct._currentValue2),Ue=new oe(ge,Ue);var Jt=Ue.state!==void 0?Ue.state:null;if(Ue.updater=ho,Ue.props=ge,Ue.state=Jt,ct={queue:[],replace:!1},Ue._reactInternals=ct,Ae=oe.contextType,Ue.context=typeof Ae=="object"&&Ae!==null?Ae._currentValue2:ol,Ae=oe.getDerivedStateFromProps,typeof Ae=="function"&&(Ae=Ae(ge,Jt),Jt=Ae==null?Jt:z({},Jt,Ae),Ue.state=Jt),typeof oe.getDerivedStateFromProps!="function"&&typeof Ue.getSnapshotBeforeUpdate!="function"&&(typeof Ue.UNSAFE_componentWillMount=="function"||typeof Ue.componentWillMount=="function"))if(oe=Ue.state,typeof Ue.componentWillMount=="function"&&Ue.componentWillMount(),typeof Ue.UNSAFE_componentWillMount=="function"&&Ue.UNSAFE_componentWillMount(),oe!==Ue.state&&ho.enqueueReplaceState(Ue,Ue.state,null),ct.queue!==null&&0<ct.queue.length)if(oe=ct.queue,Ae=ct.replace,ct.queue=null,ct.replace=!1,Ae&&oe.length===1)Ue.state=oe[0];else{for(ct=Ae?oe[0]:Ue.state,Jt=!0,Ae=Ae?1:0;Ae<oe.length;Ae++)xt=oe[Ae],xt=typeof xt=="function"?xt.call(Ue,ct,ge,void 0):xt,xt!=null&&(Jt?(Jt=!1,ct=z({},ct,xt)):z(ct,xt));Ue.state=ct}else ct.queue=null;if(oe=Ue.render(),A.status===12)throw null;ge=F.keyPath,F.keyPath=Y,ae(A,F,oe,-1),F.keyPath=ge}else{if(oe=Dd(A,F,Y,oe,ge,void 0),A.status===12)throw null;Js(A,F,Y,oe,Jo!==0,qs,Ps)}else if(typeof oe=="string")if(Ue=F.blockedSegment,Ue===null)Ue=ge.children,ct=F.formatContext,Jt=F.keyPath,F.formatContext=Se(ct,oe,ge),F.keyPath=Y,Fr(A,F,Ue,-1),F.formatContext=ct,F.keyPath=Jt;else{Ae=rr(Ue.chunks,oe,ge,A.resumableState,A.renderState,F.blockedPreamble,F.hoistableState,F.formatContext,Ue.lastPushedText,F.isFallback),Ue.lastPushedText=!1,ct=F.formatContext,Jt=F.keyPath,F.keyPath=Y,(F.formatContext=Se(ct,oe,ge)).insertionMode===3?(Y=hl(A,0,null,F.formatContext,!1,!1),Ue.preambleChildren.push(Y),Y=hc(A,null,Ae,-1,F.blockedBoundary,Y,F.blockedPreamble,F.hoistableState,A.abortableTasks,F.keyPath,F.formatContext,F.context,F.treeContext,F.componentStack,F.isFallback),os(Y),A.pingedTasks.push(Y)):Fr(A,F,Ae,-1),F.formatContext=ct,F.keyPath=Jt;e:{switch(F=Ue.chunks,A=A.resumableState,oe){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=ct.insertionMode){A.hasBody=!0;break e}break;case"html":if(ct.insertionMode===0){A.hasHtml=!0;break e}break;case"head":if(1>=ct.insertionMode)break e}F.push(Qi(oe))}Ue.lastPushedText=!1}else{switch(oe){case E:case o:case a:case s:oe=F.keyPath,F.keyPath=Y,ae(A,F,ge.children,-1),F.keyPath=oe;return;case S:ge.mode!=="hidden"&&(oe=F.keyPath,F.keyPath=Y,ae(A,F,ge.children,-1),F.keyPath=oe);return;case m:oe=F.keyPath,F.keyPath=Y,ae(A,F,ge.children,-1),F.keyPath=oe;return;case N:case b:throw Error(n(343));case p:e:if(F.replay!==null){oe=F.keyPath,F.keyPath=Y,Y=ge.children;try{Fr(A,F,Y,-1)}finally{F.keyPath=oe}}else{oe=F.keyPath;var Kt=F.blockedBoundary;Ae=F.blockedPreamble;var yn=F.hoistableState;xt=F.blockedSegment,St=ge.fallback,ge=ge.children;var An=new Set,_n=2>F.formatContext.insertionMode?mo(A,An,et(),et()):mo(A,An,null,null);A.trackedPostpones!==null&&(_n.trackedContentKeyPath=Y);var Un=hl(A,xt.chunks.length,_n,F.formatContext,!1,!1);xt.children.push(Un),xt.lastPushedText=!1;var pr=hl(A,0,null,F.formatContext,!1,!1);if(pr.parentFlushed=!0,A.trackedPostpones!==null){Ue=[Y[0],"Suspense Fallback",Y[2]],ct=[Ue[1],Ue[2],[],null],A.trackedPostpones.workingMap.set(Ue,ct),_n.trackedFallbackNode=ct,F.blockedSegment=Un,F.blockedPreamble=_n.fallbackPreamble,F.keyPath=Ue,Un.status=6;try{Fr(A,F,St,-1),Pn(Un.chunks,A.renderState,Un.lastPushedText,Un.textEmbedded),Un.status=1}catch(Nr){throw Un.status=A.status===12?3:4,Nr}finally{F.blockedSegment=xt,F.blockedPreamble=Ae,F.keyPath=oe}F=hc(A,null,ge,-1,_n,pr,_n.contentPreamble,_n.contentState,F.abortSet,Y,F.formatContext,F.context,F.treeContext,F.componentStack,F.isFallback),os(F),A.pingedTasks.push(F)}else{F.blockedBoundary=_n,F.blockedPreamble=_n.contentPreamble,F.hoistableState=_n.contentState,F.blockedSegment=pr,F.keyPath=Y,pr.status=6;try{if(Fr(A,F,ge,-1),Pn(pr.chunks,A.renderState,pr.lastPushedText,pr.textEmbedded),pr.status=1,Mo(_n,pr),_n.pendingTasks===0&&_n.status===0){_n.status=1,A.pendingRootTasks===0&&F.blockedPreamble&&fl(A);break e}}catch(Nr){_n.status=4,A.status===12?(pr.status=3,Ue=A.fatalError):(pr.status=4,Ue=Nr),ct=as(F.componentStack),Jt=zr(A,Ue,ct),_n.errorDigest=Jt,Ct(A,_n)}finally{F.blockedBoundary=Kt,F.blockedPreamble=Ae,F.hoistableState=yn,F.blockedSegment=xt,F.keyPath=oe}F=hc(A,null,St,-1,Kt,Un,_n.fallbackPreamble,_n.fallbackState,An,[Y[0],"Suspense Fallback",Y[2]],F.formatContext,F.context,F.treeContext,F.componentStack,!0),os(F),A.pingedTasks.push(F)}}return}if(typeof oe=="object"&&oe!==null)switch(oe.$$typeof){case h:if("ref"in ge)for(_n in Ue={},ge)_n!=="ref"&&(Ue[_n]=ge[_n]);else Ue=ge;oe=Dd(A,F,Y,oe.render,Ue,Ae),Js(A,F,Y,oe,Jo!==0,qs,Ps);return;case y:T(A,F,Y,oe.type,ge,Ae);return;case l:case u:if(ct=ge.children,Ue=F.keyPath,ge=ge.value,Jt=oe._currentValue2,oe._currentValue2=ge,Ae=uo,uo=oe={parent:Ae,depth:Ae===null?0:Ae.depth+1,context:oe,parentValue:Jt,value:ge},F.context=oe,F.keyPath=Y,ae(A,F,ct,-1),A=uo,A===null)throw Error(n(403));A.context._currentValue2=A.parentValue,A=uo=A.parent,F.context=A,F.keyPath=Ue;return;case c:ge=ge.children,oe=ge(oe._context._currentValue2),ge=F.keyPath,F.keyPath=Y,ae(A,F,oe,-1),F.keyPath=ge;return;case w:if(Ue=oe._init,oe=Ue(oe._payload),A.status===12)throw null;T(A,F,Y,oe,ge,Ae);return}throw Error(n(130,oe==null?oe:typeof oe,""))}}function ee(A,F,Y,oe,ge){var Ae=F.replay,Ue=F.blockedBoundary,St=hl(A,0,null,F.formatContext,!1,!1);St.id=Y,St.parentFlushed=!0;try{F.replay=null,F.blockedSegment=St,Fr(A,F,oe,ge),St.status=1,Ue===null?A.completedRootSegment=St:(Mo(Ue,St),Ue.parentFlushed&&A.partialBoundaries.push(Ue))}finally{F.replay=Ae,F.blockedSegment=null}}function ae(A,F,Y,oe){F.replay!==null&&typeof F.replay.slots=="number"?ee(A,F,F.replay.slots,Y,oe):(F.node=Y,F.childIndex=oe,Y=F.componentStack,os(F),Re(A,F),F.componentStack=Y)}function Re(A,F){var Y=F.node,oe=F.childIndex;if(Y!==null){if(typeof Y=="object"){switch(Y.$$typeof){case r:var ge=Y.type,Ae=Y.key,Ue=Y.props;Y=Ue.ref;var St=Y!==void 0?Y:null,ct=vs(ge),xt=Ae??(oe===-1?0:oe);if(Ae=[F.keyPath,ct,xt],F.replay!==null)e:{var Jt=F.replay;for(oe=Jt.nodes,Y=0;Y<oe.length;Y++){var Kt=oe[Y];if(xt===Kt[1]){if(Kt.length===4){if(ct!==null&&ct!==Kt[0])throw Error(n(490,Kt[0],ct));var yn=Kt[2];ct=Kt[3],xt=F.node,F.replay={nodes:yn,slots:ct,pendingTasks:1};try{if(T(A,F,Ae,ge,Ue,St),F.replay.pendingTasks===1&&0<F.replay.nodes.length)throw Error(n(488));F.replay.pendingTasks--}catch(En){if(typeof En=="object"&&En!==null&&(En===po||typeof En.then=="function"))throw F.node===xt&&(F.replay=Jt),En;F.replay.pendingTasks--,Ue=as(F.componentStack),Ae=F.blockedBoundary,ge=En,Ue=zr(A,ge,Ue),Ir(A,Ae,yn,ct,ge,Ue)}F.replay=Jt}else{if(ge!==p)throw Error(n(490,"Suspense",vs(ge)||"Unknown"));t:{Jt=void 0,ge=Kt[5],St=Kt[2],ct=Kt[3],xt=Kt[4]===null?[]:Kt[4][2],Kt=Kt[4]===null?null:Kt[4][3];var An=F.keyPath,_n=F.replay,Un=F.blockedBoundary,pr=F.hoistableState,Nr=Ue.children,qr=Ue.fallback,ii=new Set;Ue=2>F.formatContext.insertionMode?mo(A,ii,et(),et()):mo(A,ii,null,null),Ue.parentFlushed=!0,Ue.rootSegmentID=ge,F.blockedBoundary=Ue,F.hoistableState=Ue.contentState,F.keyPath=Ae,F.replay={nodes:St,slots:ct,pendingTasks:1};try{if(Fr(A,F,Nr,-1),F.replay.pendingTasks===1&&0<F.replay.nodes.length)throw Error(n(488));if(F.replay.pendingTasks--,Ue.pendingTasks===0&&Ue.status===0){Ue.status=1,A.completedBoundaries.push(Ue);break t}}catch(En){Ue.status=4,yn=as(F.componentStack),Jt=zr(A,En,yn),Ue.errorDigest=Jt,F.replay.pendingTasks--,A.clientRenderedBoundaries.push(Ue)}finally{F.blockedBoundary=Un,F.hoistableState=pr,F.replay=_n,F.keyPath=An}F=Hc(A,null,{nodes:xt,slots:Kt,pendingTasks:0},qr,-1,Un,Ue.fallbackState,ii,[Ae[0],"Suspense Fallback",Ae[2]],F.formatContext,F.context,F.treeContext,F.componentStack,!0),os(F),A.pingedTasks.push(F)}}oe.splice(Y,1);break e}}}else T(A,F,Ae,ge,Ue,St);return;case i:throw Error(n(257));case w:if(yn=Y._init,Y=yn(Y._payload),A.status===12)throw null;ae(A,F,Y,oe);return}if(M(Y)){st(A,F,Y,oe);return}if(Y===null||typeof Y!="object"?yn=null:(yn=V&&Y[V]||Y["@@iterator"],yn=typeof yn=="function"?yn:null),yn&&(yn=yn.call(Y))){if(Y=yn.next(),!Y.done){Ue=[];do Ue.push(Y.value),Y=yn.next();while(!Y.done);st(A,F,Ue,oe)}return}if(typeof Y.then=="function")return F.thenableState=null,ae(A,F,ph(Y),oe);if(Y.$$typeof===u)return ae(A,F,Y._currentValue2,oe);throw oe=Object.prototype.toString.call(Y),Error(n(31,oe==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":oe))}typeof Y=="string"?(oe=F.blockedSegment,oe!==null&&(oe.lastPushedText=ur(oe.chunks,Y,A.renderState,oe.lastPushedText))):(typeof Y=="number"||typeof Y=="bigint")&&(oe=F.blockedSegment,oe!==null&&(oe.lastPushedText=ur(oe.chunks,""+Y,A.renderState,oe.lastPushedText)))}}function st(A,F,Y,oe){var ge=F.keyPath;if(oe!==-1&&(F.keyPath=[F.keyPath,"Fragment",oe],F.replay!==null)){for(var Ae=F.replay,Ue=Ae.nodes,St=0;St<Ue.length;St++){var ct=Ue[St];if(ct[1]===oe){oe=ct[2],ct=ct[3],F.replay={nodes:oe,slots:ct,pendingTasks:1};try{if(st(A,F,Y,-1),F.replay.pendingTasks===1&&0<F.replay.nodes.length)throw Error(n(488));F.replay.pendingTasks--}catch(Kt){if(typeof Kt=="object"&&Kt!==null&&(Kt===po||typeof Kt.then=="function"))throw Kt;F.replay.pendingTasks--,Y=as(F.componentStack);var xt=F.blockedBoundary,Jt=Kt;Y=zr(A,Jt,Y),Ir(A,xt,oe,ct,Jt,Y)}F.replay=Ae,Ue.splice(St,1);break}}F.keyPath=ge;return}if(Ae=F.treeContext,Ue=Y.length,F.replay!==null&&(St=F.replay.slots,St!==null&&typeof St=="object")){for(oe=0;oe<Ue;oe++)ct=Y[oe],F.treeContext=Bn(Ae,Ue,oe),xt=St[oe],typeof xt=="number"?(ee(A,F,xt,ct,oe),delete St[oe]):Fr(A,F,ct,oe);F.treeContext=Ae,F.keyPath=ge;return}for(St=0;St<Ue;St++)oe=Y[St],F.treeContext=Bn(Ae,Ue,St),Fr(A,F,oe,St);F.treeContext=Ae,F.keyPath=ge}function Ct(A,F){A=A.trackedPostpones,A!==null&&(F=F.trackedContentKeyPath,F!==null&&(F=A.workingMap.get(F),F!==void 0&&(F.length=4,F[2]=[],F[3]=null)))}function Zt(A,F,Y){return Hc(A,Y,F.replay,F.node,F.childIndex,F.blockedBoundary,F.hoistableState,F.abortSet,F.keyPath,F.formatContext,F.context,F.treeContext,F.componentStack,F.isFallback)}function fr(A,F,Y){var oe=F.blockedSegment,ge=hl(A,oe.chunks.length,null,F.formatContext,oe.lastPushedText,!0);return oe.children.push(ge),oe.lastPushedText=!1,hc(A,Y,F.node,F.childIndex,F.blockedBoundary,ge,F.blockedPreamble,F.hoistableState,F.abortSet,F.keyPath,F.formatContext,F.context,F.treeContext,F.componentStack,F.isFallback)}function Fr(A,F,Y,oe){var ge=F.formatContext,Ae=F.context,Ue=F.keyPath,St=F.treeContext,ct=F.componentStack,xt=F.blockedSegment;if(xt===null)try{return ae(A,F,Y,oe)}catch(yn){if($o(),Y=yn===po?Oa():yn,typeof Y=="object"&&Y!==null){if(typeof Y.then=="function"){oe=fa(),A=Zt(A,F,oe).ping,Y.then(A,A),F.formatContext=ge,F.context=Ae,F.keyPath=Ue,F.treeContext=St,F.componentStack=ct,ko(Ae);return}if(Y.message==="Maximum call stack size exceeded"){Y=fa(),Y=Zt(A,F,Y),A.pingedTasks.push(Y),F.formatContext=ge,F.context=Ae,F.keyPath=Ue,F.treeContext=St,F.componentStack=ct,ko(Ae);return}}}else{var Jt=xt.children.length,Kt=xt.chunks.length;try{return ae(A,F,Y,oe)}catch(yn){if($o(),xt.children.length=Jt,xt.chunks.length=Kt,Y=yn===po?Oa():yn,typeof Y=="object"&&Y!==null){if(typeof Y.then=="function"){oe=fa(),A=fr(A,F,oe).ping,Y.then(A,A),F.formatContext=ge,F.context=Ae,F.keyPath=Ue,F.treeContext=St,F.componentStack=ct,ko(Ae);return}if(Y.message==="Maximum call stack size exceeded"){Y=fa(),Y=fr(A,F,Y),A.pingedTasks.push(Y),F.formatContext=ge,F.context=Ae,F.keyPath=Ue,F.treeContext=St,F.componentStack=ct,ko(Ae);return}}}}throw F.formatContext=ge,F.context=Ae,F.keyPath=Ue,F.treeContext=St,ko(Ae),Y}function Er(A){var F=A.blockedBoundary;A=A.blockedSegment,A!==null&&(A.status=3,Lu(this,F,A))}function Ir(A,F,Y,oe,ge,Ae){for(var Ue=0;Ue<Y.length;Ue++){var St=Y[Ue];if(St.length===4)Ir(A,F,St[2],St[3],ge,Ae);else{St=St[5];var ct=A,xt=Ae,Jt=mo(ct,new Set,null,null);Jt.parentFlushed=!0,Jt.rootSegmentID=St,Jt.status=4,Jt.errorDigest=xt,Jt.parentFlushed&&ct.clientRenderedBoundaries.push(Jt)}}if(Y.length=0,oe!==null){if(F===null)throw Error(n(487));if(F.status!==4&&(F.status=4,F.errorDigest=Ae,F.parentFlushed&&A.clientRenderedBoundaries.push(F)),typeof oe=="object")for(var Kt in oe)delete oe[Kt]}}function ai(A,F,Y){var oe=A.blockedBoundary,ge=A.blockedSegment;if(ge!==null){if(ge.status===6)return;ge.status=3}if(ge=as(A.componentStack),oe===null){if(F.status!==13&&F.status!==14){if(oe=A.replay,oe===null){zr(F,Y,ge),Io(F,Y);return}oe.pendingTasks--,oe.pendingTasks===0&&0<oe.nodes.length&&(A=zr(F,Y,ge),Ir(F,null,oe.nodes,oe.slots,Y,A)),F.pendingRootTasks--,F.pendingRootTasks===0&&ri(F)}}else oe.pendingTasks--,oe.status!==4&&(oe.status=4,A=zr(F,Y,ge),oe.status=4,oe.errorDigest=A,Ct(F,oe),oe.parentFlushed&&F.clientRenderedBoundaries.push(oe)),oe.fallbackAbortableTasks.forEach(function(Ae){return ai(Ae,F,Y)}),oe.fallbackAbortableTasks.clear();F.allPendingTasks--,F.allPendingTasks===0&&ta(F)}function Na(A,F){try{var Y=A.renderState,oe=Y.onHeaders;if(oe){var ge=Y.headers;if(ge){Y.headers=null;var Ae=ge.preconnects;if(ge.fontPreloads&&(Ae&&(Ae+=", "),Ae+=ge.fontPreloads),ge.highImagePreloads&&(Ae&&(Ae+=", "),Ae+=ge.highImagePreloads),!F){var Ue=Y.styles.values(),St=Ue.next();e:for(;0<ge.remainingCapacity&&!St.done;St=Ue.next())for(var ct=St.value.sheets.values(),xt=ct.next();0<ge.remainingCapacity&&!xt.done;xt=ct.next()){var Jt=xt.value,Kt=Jt.props,yn=Kt.href,An=Jt.props,_n=pn(An.href,"style",{crossOrigin:An.crossOrigin,integrity:An.integrity,nonce:An.nonce,type:An.type,fetchPriority:An.fetchPriority,referrerPolicy:An.referrerPolicy,media:An.media});if(0<=(ge.remainingCapacity-=_n.length+2))Y.resets.style[yn]=De,Ae&&(Ae+=", "),Ae+=_n,Y.resets.style[yn]=typeof Kt.crossOrigin=="string"||typeof Kt.integrity=="string"?[Kt.crossOrigin,Kt.integrity]:De;else break e}}oe(Ae?{Link:Ae}:{})}}}catch(Un){zr(A,Un,{})}}function ri(A){A.trackedPostpones===null&&Na(A,!0),A.trackedPostpones===null&&fl(A),A.onShellError=ea,A=A.onShellReady,A()}function ta(A){Na(A,A.trackedPostpones===null?!0:A.completedRootSegment===null||A.completedRootSegment.status!==5),fl(A),A=A.onAllReady,A()}function Mo(A,F){if(F.chunks.length===0&&F.children.length===1&&F.children[0].boundary===null&&F.children[0].id===-1){var Y=F.children[0];Y.id=F.id,Y.parentFlushed=!0,Y.status===1&&Mo(A,Y)}else A.completedSegments.push(F)}function Lu(A,F,Y){if(F===null){if(Y!==null&&Y.parentFlushed){if(A.completedRootSegment!==null)throw Error(n(389));A.completedRootSegment=Y}A.pendingRootTasks--,A.pendingRootTasks===0&&ri(A)}else F.pendingTasks--,F.status!==4&&(F.pendingTasks===0?(F.status===0&&(F.status=1),Y!==null&&Y.parentFlushed&&Y.status===1&&Mo(F,Y),F.parentFlushed&&A.completedBoundaries.push(F),F.status===1&&(F.fallbackAbortableTasks.forEach(Er,A),F.fallbackAbortableTasks.clear(),A.pendingRootTasks===0&&A.trackedPostpones===null&&F.contentPreamble!==null&&fl(A))):Y!==null&&Y.parentFlushed&&Y.status===1&&(Mo(F,Y),F.completedSegments.length===1&&F.parentFlushed&&A.partialBoundaries.push(F)));A.allPendingTasks--,A.allPendingTasks===0&&ta(A)}function zc(A){if(A.status!==14&&A.status!==13){var F=uo,Y=te.H;te.H=Vc;var oe=te.A;te.A=gh;var ge=Ji;Ji=A;var Ae=Kl;Kl=A.resumableState;try{var Ue=A.pingedTasks,St;for(St=0;St<Ue.length;St++){var ct=Ue[St],xt=A,Jt=ct.blockedSegment;if(Jt===null){var Kt=xt;if(ct.replay.pendingTasks!==0){ko(ct.context);try{if(typeof ct.replay.slots=="number"?ee(Kt,ct,ct.replay.slots,ct.node,ct.childIndex):Re(Kt,ct),ct.replay.pendingTasks===1&&0<ct.replay.nodes.length)throw Error(n(488));ct.replay.pendingTasks--,ct.abortSet.delete(ct),Lu(Kt,ct.blockedBoundary,null)}catch(Gr){$o();var yn=Gr===po?Oa():Gr;if(typeof yn=="object"&&yn!==null&&typeof yn.then=="function"){var An=ct.ping;yn.then(An,An),ct.thenableState=fa()}else{ct.replay.pendingTasks--,ct.abortSet.delete(ct);var _n=as(ct.componentStack);xt=void 0;var Un=Kt,pr=ct.blockedBoundary,Nr=Kt.status===12?Kt.fatalError:yn,qr=ct.replay.nodes,ii=ct.replay.slots;xt=zr(Un,Nr,_n),Ir(Un,pr,qr,ii,Nr,xt),Kt.pendingRootTasks--,Kt.pendingRootTasks===0&&ri(Kt),Kt.allPendingTasks--,Kt.allPendingTasks===0&&ta(Kt)}}finally{}}}else if(Kt=void 0,Un=Jt,Un.status===0){Un.status=6,ko(ct.context);var En=Un.children.length,ki=Un.chunks.length;try{Re(xt,ct),Pn(Un.chunks,xt.renderState,Un.lastPushedText,Un.textEmbedded),ct.abortSet.delete(ct),Un.status=1,Lu(xt,ct.blockedBoundary,Un)}catch(Gr){$o(),Un.children.length=En,Un.chunks.length=ki;var gr=Gr===po?Oa():xt.status===12?xt.fatalError:Gr;if(typeof gr=="object"&&gr!==null&&typeof gr.then=="function"){Un.status=0,ct.thenableState=fa();var xi=ct.ping;gr.then(xi,xi)}else{var li=as(ct.componentStack);ct.abortSet.delete(ct),Un.status=4;var On=ct.blockedBoundary;Kt=zr(xt,gr,li),On===null?Io(xt,gr):(On.pendingTasks--,On.status!==4&&(On.status=4,On.errorDigest=Kt,Ct(xt,On),On.parentFlushed&&xt.clientRenderedBoundaries.push(On),xt.pendingRootTasks===0&&xt.trackedPostpones===null&&On.contentPreamble!==null&&fl(xt))),xt.allPendingTasks--,xt.allPendingTasks===0&&ta(xt)}}finally{}}}Ue.splice(0,St),A.destination!==null&&na(A,A.destination)}catch(Gr){zr(A,Gr,{}),Io(A,Gr)}finally{Kl=Ae,te.H=Y,te.A=oe,Y===Vc&&ko(F),Ji=ge}}}function Fd(A,F,Y){F.preambleChildren.length&&Y.push(F.preambleChildren);for(var oe=!1,ge=0;ge<F.children.length;ge++)oe=Ba(A,F.children[ge],Y)||oe;return oe}function Ba(A,F,Y){var oe=F.boundary;if(oe===null)return Fd(A,F,Y);var ge=oe.contentPreamble,Ae=oe.fallbackPreamble;if(ge===null||Ae===null)return!1;switch(oe.status){case 1:if(Ni(A.renderState,ge),F=oe.completedSegments[0],!F)throw Error(n(391));return Fd(A,F,Y);case 5:if(A.trackedPostpones!==null)return!0;case 4:if(F.status===1)return Ni(A.renderState,Ae),Fd(A,F,Y);default:return!0}}function fl(A){if(A.completedRootSegment&&A.completedPreambleSegments===null){var F=[],Y=Ba(A,A.completedRootSegment,F),oe=A.renderState.preamble;(Y===!1||oe.headChunks&&oe.bodyChunks)&&(A.completedPreambleSegments=F)}}function Oo(A,F,Y,oe){switch(Y.parentFlushed=!0,Y.status){case 0:Y.id=A.nextSegmentId++;case 5:return oe=Y.id,Y.lastPushedText=!1,Y.textEmbedded=!1,A=A.renderState,F.push('<template id="'),F.push(A.placeholderPrefix),A=oe.toString(16),F.push(A),F.push('"></template>');case 1:Y.status=2;var ge=!0,Ae=Y.chunks,Ue=0;Y=Y.children;for(var St=0;St<Y.length;St++){for(ge=Y[St];Ue<ge.index;Ue++)F.push(Ae[Ue]);ge=Va(A,F,ge,oe)}for(;Ue<Ae.length-1;Ue++)F.push(Ae[Ue]);return Ue<Ae.length&&(ge=F.push(Ae[Ue])),ge;default:throw Error(n(390))}}function Va(A,F,Y,oe){var ge=Y.boundary;if(ge===null)return Oo(A,F,Y,oe);if(ge.parentFlushed=!0,ge.status===4){if(!A.renderState.generateStaticMarkup){var Ae=ge.errorDigest;F.push("<!--$!-->"),F.push("<template"),Ae&&(F.push(' data-dgst="'),Ae=ue(Ae),F.push(Ae),F.push('"')),F.push("></template>")}return Oo(A,F,Y,oe),A.renderState.generateStaticMarkup?F=!0:((A=ge.fallbackPreamble)&&gs(F,A),F=F.push("<!--/$-->")),F}if(ge.status!==1)return ge.status===0&&(ge.rootSegmentID=A.nextSegmentId++),0<ge.completedSegments.length&&A.partialBoundaries.push(ge),Bi(F,A.renderState,ge.rootSegmentID),oe&&(ge=ge.fallbackState,ge.styles.forEach(Vi,oe),ge.stylesheets.forEach(Ai,oe)),Oo(A,F,Y,oe),F.push("<!--/$-->");if(ge.byteSize>A.progressiveChunkSize)return ge.rootSegmentID=A.nextSegmentId++,A.completedBoundaries.push(ge),Bi(F,A.renderState,ge.rootSegmentID),Oo(A,F,Y,oe),F.push("<!--/$-->");if(oe&&(Y=ge.contentState,Y.styles.forEach(Vi,oe),Y.stylesheets.forEach(Ai,oe)),A.renderState.generateStaticMarkup||F.push("<!--$-->"),Y=ge.completedSegments,Y.length!==1)throw Error(n(391));return Va(A,F,Y[0],oe),A.renderState.generateStaticMarkup?F=!0:((A=ge.contentPreamble)&&gs(F,A),F=F.push("<!--/$-->")),F}function Nu(A,F,Y,oe){return As(F,A.renderState,Y.parentFormatContext,Y.id),Va(A,F,Y,oe),da(F,Y.parentFormatContext)}function Bu(A,F,Y){for(var oe=Y.completedSegments,ge=0;ge<oe.length;ge++)_f(A,F,Y,oe[ge]);oe.length=0,an(F,Y.contentState,A.renderState),oe=A.resumableState,A=A.renderState,ge=Y.rootSegmentID,Y=Y.contentState;var Ae=A.stylesToHoist;return A.stylesToHoist=!1,F.push(A.startInlineScript),Ae?(oe.instructions&2)===0?(oe.instructions|=10,F.push(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):(oe.instructions&8)===0?(oe.instructions|=8,F.push(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`)):F.push('$RR("'):(oe.instructions&2)===0?(oe.instructions|=2,F.push('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("')):F.push('$RC("'),oe=ge.toString(16),F.push(A.boundaryPrefix),F.push(oe),F.push('","'),F.push(A.segmentPrefix),F.push(oe),Ae?(F.push('",'),Fe(F,Y)):F.push('"'),Y=F.push(")<\/script>"),is(F,A)&&Y}function _f(A,F,Y,oe){if(oe.status===2)return!0;var ge=Y.contentState,Ae=oe.id;if(Ae===-1){if((oe.id=Y.rootSegmentID)===-1)throw Error(n(392));return Nu(A,F,oe,ge)}return Ae===Y.rootSegmentID?Nu(A,F,oe,ge):(Nu(A,F,oe,ge),Y=A.resumableState,A=A.renderState,F.push(A.startInlineScript),(Y.instructions&1)===0?(Y.instructions|=1,F.push('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')):F.push('$RS("'),F.push(A.segmentPrefix),Ae=Ae.toString(16),F.push(Ae),F.push('","'),F.push(A.placeholderPrefix),F.push(Ae),F=F.push('")<\/script>'),F)}function na(A,F){try{if(!(0<A.pendingRootTasks)){var Y,oe=A.completedRootSegment;if(oe!==null){if(oe.status===5)return;var ge=A.completedPreambleSegments;if(ge===null)return;var Ae=A.renderState,Ue=Ae.preamble,St=Ue.htmlChunks,ct=Ue.headChunks,xt;if(St){for(xt=0;xt<St.length;xt++)F.push(St[xt]);if(ct)for(xt=0;xt<ct.length;xt++)F.push(ct[xt]);else{var Jt=xn("head");F.push(Jt),F.push(">")}}else if(ct)for(xt=0;xt<ct.length;xt++)F.push(ct[xt]);var Kt=Ae.charsetChunks;for(xt=0;xt<Kt.length;xt++)F.push(Kt[xt]);Kt.length=0,Ae.preconnects.forEach(Tt,F),Ae.preconnects.clear();var yn=Ae.viewportChunks;for(xt=0;xt<yn.length;xt++)F.push(yn[xt]);yn.length=0,Ae.fontPreloads.forEach(Tt,F),Ae.fontPreloads.clear(),Ae.highImagePreloads.forEach(Tt,F),Ae.highImagePreloads.clear(),Ae.styles.forEach(be,F);var An=Ae.importMapChunks;for(xt=0;xt<An.length;xt++)F.push(An[xt]);An.length=0,Ae.bootstrapScripts.forEach(Tt,F),Ae.scripts.forEach(Tt,F),Ae.scripts.clear(),Ae.bulkPreloads.forEach(Tt,F),Ae.bulkPreloads.clear();var _n=Ae.hoistableChunks;for(xt=0;xt<_n.length;xt++)F.push(_n[xt]);for(Ae=_n.length=0;Ae<ge.length;Ae++){var Un=ge[Ae];for(Ue=0;Ue<Un.length;Ue++)Va(A,F,Un[Ue],null)}var pr=A.renderState.preamble,Nr=pr.headChunks;if(pr.htmlChunks||Nr){var qr=Qi("head");F.push(qr)}var ii=pr.bodyChunks;if(ii)for(ge=0;ge<ii.length;ge++)F.push(ii[ge]);Va(A,F,oe,null),A.completedRootSegment=null,is(F,A.renderState)}var En=A.renderState;oe=0;var ki=En.viewportChunks;for(oe=0;oe<ki.length;oe++)F.push(ki[oe]);ki.length=0,En.preconnects.forEach(Tt,F),En.preconnects.clear(),En.fontPreloads.forEach(Tt,F),En.fontPreloads.clear(),En.highImagePreloads.forEach(Tt,F),En.highImagePreloads.clear(),En.styles.forEach(Ee,F),En.scripts.forEach(Tt,F),En.scripts.clear(),En.bulkPreloads.forEach(Tt,F),En.bulkPreloads.clear();var gr=En.hoistableChunks;for(oe=0;oe<gr.length;oe++)F.push(gr[oe]);gr.length=0;var xi=A.clientRenderedBoundaries;for(Y=0;Y<xi.length;Y++){var li=xi[Y];En=F;var On=A.resumableState,Gr=A.renderState,ls=li.rootSegmentID,Hi=li.errorDigest;En.push(Gr.startInlineScript),(On.instructions&4)===0?(On.instructions|=4,En.push('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("')):En.push('$RX("'),En.push(Gr.boundaryPrefix);var Cs=ls.toString(16);if(En.push(Cs),En.push('"'),Hi){En.push(",");var eo=Ci(Hi||"");En.push(eo)}var $i=En.push(")<\/script>");if(!$i){A.destination=null,Y++,xi.splice(0,Y);return}}xi.splice(0,Y);var es=A.completedBoundaries;for(Y=0;Y<es.length;Y++)if(!Bu(A,F,es[Y])){A.destination=null,Y++,es.splice(0,Y);return}es.splice(0,Y);var ts=A.partialBoundaries;for(Y=0;Y<ts.length;Y++){var ra=ts[Y];e:{xi=A,li=F;var zi=ra.completedSegments;for($i=0;$i<zi.length;$i++)if(!_f(xi,li,ra,zi[$i])){$i++,zi.splice(0,$i);var ma=!1;break e}zi.splice(0,$i),ma=an(li,ra.contentState,xi.renderState)}if(!ma){A.destination=null,Y++,ts.splice(0,Y);return}}ts.splice(0,Y);var pl=A.completedBoundaries;for(Y=0;Y<pl.length;Y++)if(!Bu(A,F,pl[Y])){A.destination=null,Y++,pl.splice(0,Y);return}pl.splice(0,Y)}}finally{A.allPendingTasks===0&&A.pingedTasks.length===0&&A.clientRenderedBoundaries.length===0&&A.completedBoundaries.length===0&&(A.flushScheduled=!1,Y=A.resumableState,Y.hasBody&&(ts=Qi("body"),F.push(ts)),Y.hasHtml&&(Y=Qi("html"),F.push(Y)),A.status=14,F.push(null),A.destination=null)}}function Gc(A){if(A.flushScheduled===!1&&A.pingedTasks.length===0&&A.destination!==null){A.flushScheduled=!0;var F=A.destination;F?na(A,F):A.flushScheduled=!1}}function Vu(A,F){if(A.status===13)A.status=14,F.destroy(A.fatalError);else if(A.status!==14&&A.destination===null){A.destination=F;try{na(A,F)}catch(Y){zr(A,Y,{}),Io(A,Y)}}}function $s(A,F){(A.status===11||A.status===10)&&(A.status=12);try{var Y=A.abortableTasks;if(0<Y.size){var oe=F===void 0?Error(n(432)):typeof F=="object"&&F!==null&&typeof F.then=="function"?Error(n(530)):F;A.fatalError=oe,Y.forEach(function(ge){return ai(ge,A,oe)}),Y.clear()}A.destination!==null&&na(A,A.destination)}catch(ge){zr(A,ge,{}),Io(A,ge)}}function Lo(){}function ga(A,F,Y,oe){var ge=!1,Ae=null,Ue="",St=!1;if(F=qe(F?F.identifierPrefix:void 0),A=Ou(A,F,vr(F,Y),Et(0,null,0),1/0,Lo,void 0,function(){St=!0},void 0,void 0,void 0),A.flushScheduled=A.destination!==null,zc(A),A.status===10&&(A.status=11),A.trackedPostpones===null&&Na(A,A.pendingRootTasks===0),$s(A,oe),Vu(A,{push:function(ct){return ct!==null&&(Ue+=ct),!0},destroy:function(ct){ge=!0,Ae=ct}}),ge&&Ae!==oe)throw Ae;if(!St)throw Error(n(426));return Ue}return cb.renderToStaticMarkup=function(A,F){return ga(A,F,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},cb.renderToString=function(A,F){return ga(A,F,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},cb.version="19.1.1",cb}var ub={};/**
 * @license React
 * react-dom-server.browser.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IW;function qat(){if(IW)return ub;IW=1;var e=_w(),t=IR();function n(R){var P="https://react.dev/errors/"+R;if(1<arguments.length){P+="?args[]="+encodeURIComponent(arguments[1]);for(var K=2;K<arguments.length;K++)P+="&args[]="+encodeURIComponent(arguments[K])}return"Minified React error #"+R+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.for("react.scope"),S=Symbol.for("react.activity"),E=Symbol.for("react.legacy_hidden"),_=Symbol.for("react.memo_cache_sentinel"),N=Symbol.for("react.view_transition"),V=Symbol.iterator,M=Array.isArray;function O(R,P){var K=R.length&3,le=R.length-K,pe=P;for(P=0;P<le;){var ke=R.charCodeAt(P)&255|(R.charCodeAt(++P)&255)<<8|(R.charCodeAt(++P)&255)<<16|(R.charCodeAt(++P)&255)<<24;++P,ke=3432918353*(ke&65535)+((3432918353*(ke>>>16)&65535)<<16)&4294967295,ke=ke<<15|ke>>>17,ke=461845907*(ke&65535)+((461845907*(ke>>>16)&65535)<<16)&4294967295,pe^=ke,pe=pe<<13|pe>>>19,pe=5*(pe&65535)+((5*(pe>>>16)&65535)<<16)&4294967295,pe=(pe&65535)+27492+(((pe>>>16)+58964&65535)<<16)}switch(ke=0,K){case 3:ke^=(R.charCodeAt(P+2)&255)<<16;case 2:ke^=(R.charCodeAt(P+1)&255)<<8;case 1:ke^=R.charCodeAt(P)&255,ke=3432918353*(ke&65535)+((3432918353*(ke>>>16)&65535)<<16)&4294967295,ke=ke<<15|ke>>>17,pe^=461845907*(ke&65535)+((461845907*(ke>>>16)&65535)<<16)&4294967295}return pe^=R.length,pe^=pe>>>16,pe=2246822507*(pe&65535)+((2246822507*(pe>>>16)&65535)<<16)&4294967295,pe^=pe>>>13,pe=3266489909*(pe&65535)+((3266489909*(pe>>>16)&65535)<<16)&4294967295,(pe^pe>>>16)>>>0}var z=new MessageChannel,H=[];z.port1.onmessage=function(){var R=H.shift();R&&R()};function X(R){H.push(R),z.port2.postMessage(null)}function Q(R){setTimeout(function(){throw R})}var U=Promise,Z=typeof queueMicrotask=="function"?queueMicrotask:function(R){U.resolve(null).then(R).catch(Q)},q=null,me=0;function se(R,P){if(P.byteLength!==0)if(2048<P.byteLength)0<me&&(R.enqueue(new Uint8Array(q.buffer,0,me)),q=new Uint8Array(2048),me=0),R.enqueue(P);else{var K=q.length-me;K<P.byteLength&&(K===0?R.enqueue(q):(q.set(P.subarray(0,K),me),R.enqueue(q),P=P.subarray(K)),q=new Uint8Array(2048),me=0),q.set(P,me),me+=P.byteLength}}function ue(R,P){return se(R,P),!0}function Pe(R){q&&0<me&&(R.enqueue(new Uint8Array(q.buffer,0,me)),q=null,me=0)}var ye=new TextEncoder;function W(R){return ye.encode(R)}function re(R){return ye.encode(R)}function te(R,P){typeof R.error=="function"?R.error(P):R.close()}var J=Object.assign,ce=Object.prototype.hasOwnProperty,fe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),De={},at={};function je(R){return ce.call(at,R)?!0:ce.call(De,R)?!1:fe.test(R)?at[R]=!0:(De[R]=!0,!1)}var qe=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/["'&<>]/;function Se(R){if(typeof R=="boolean"||typeof R=="number"||typeof R=="bigint")return""+R;R=""+R;var P=Et.exec(R);if(P){var K="",le,pe=0;for(le=P.index;le<R.length;le++){switch(R.charCodeAt(le)){case 34:P="&quot;";break;case 38:P="&amp;";break;case 39:P="&#x27;";break;case 60:P="&lt;";break;case 62:P="&gt;";break;default:continue}pe!==le&&(K+=R.slice(pe,le)),pe=le+1,K+=P}R=pe!==le?K+R.slice(pe,le):K}return R}var $t=/([A-Z])/g,ne=/^ms-/,Ge=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Me(R){return Ge.test(""+R)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":R}var ve=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le={pending:!1,data:null,method:null,action:null},Je=xe.d;xe.d={f:Je.f,r:Je.r,D:Na,C:ri,L:ta,m:Mo,X:zc,S:Lu,M:Fd};var nt=[];re('"></template>');var Be=re("<script>"),gt=re("<\/script>"),Mt=re('<script src="'),At=re('<script type="module" src="'),Ie=re('" nonce="'),it=re('" integrity="'),yt=re('" crossorigin="'),Gt=re('" async=""><\/script>'),qt=/(<\/|<)(s)(cript)/gi;function mn(R,P,K,le){return""+P+(K==="s"?"\\u0073":"\\u0053")+le}var cr=re('<script type="importmap">'),fn=re("<\/script>");function Pr(R,P,K,le,pe,ke){var ze=P===void 0?Be:re('<script nonce="'+Se(P)+'">'),ft=R.idPrefix;K=[];var We=R.bootstrapScriptContent,ot=R.bootstrapScripts,Yt=R.bootstrapModules;if(We!==void 0&&K.push(ze,W((""+We).replace(qt,mn)),gt),We=[],le!==void 0&&(We.push(cr),We.push(W((""+JSON.stringify(le)).replace(qt,mn))),We.push(fn)),le=pe?{preconnects:"",fontPreloads:"",highImagePreloads:"",remainingCapacity:2+(typeof ke=="number"?ke:2e3)}:null,pe={placeholderPrefix:re(ft+"P:"),segmentPrefix:re(ft+"S:"),boundaryPrefix:re(ft+"B:"),startInlineScript:ze,preamble:xn(),externalRuntimeScript:null,bootstrapChunks:K,importMapChunks:We,onHeaders:pe,headers:le,resets:{font:{},dns:{},connect:{default:{},anonymous:{},credentials:{}},image:{},style:{}},charsetChunks:[],viewportChunks:[],hoistableChunks:[],preconnects:new Set,fontPreloads:new Set,highImagePreloads:new Set,styles:new Map,bootstrapScripts:new Set,scripts:new Set,bulkPreloads:new Set,preloads:{images:new Map,stylesheets:new Map,scripts:new Map,moduleScripts:new Map},nonce:P,hoistableState:null,stylesToHoist:!1},ot!==void 0)for(le=0;le<ot.length;le++){var kt=ot[le];ft=ze=void 0,We={rel:"preload",as:"script",fetchPriority:"low",nonce:P},typeof kt=="string"?We.href=ke=kt:(We.href=ke=kt.src,We.integrity=ft=typeof kt.integrity=="string"?kt.integrity:void 0,We.crossOrigin=ze=typeof kt=="string"||kt.crossOrigin==null?void 0:kt.crossOrigin==="use-credentials"?"use-credentials":""),kt=R;var gn=ke;kt.scriptResources[gn]=null,kt.moduleScriptResources[gn]=null,kt=[],jt(kt,We),pe.bootstrapScripts.add(kt),K.push(Mt,W(Se(ke))),P&&K.push(Ie,W(Se(P))),typeof ft=="string"&&K.push(it,W(Se(ft))),typeof ze=="string"&&K.push(yt,W(Se(ze))),K.push(Gt)}if(Yt!==void 0)for(ot=0;ot<Yt.length;ot++)We=Yt[ot],ze=ke=void 0,ft={rel:"modulepreload",fetchPriority:"low",nonce:P},typeof We=="string"?ft.href=le=We:(ft.href=le=We.src,ft.integrity=ze=typeof We.integrity=="string"?We.integrity:void 0,ft.crossOrigin=ke=typeof We=="string"||We.crossOrigin==null?void 0:We.crossOrigin==="use-credentials"?"use-credentials":""),We=R,kt=le,We.scriptResources[kt]=null,We.moduleScriptResources[kt]=null,We=[],jt(We,ft),pe.bootstrapScripts.add(We),K.push(At,W(Se(le))),P&&K.push(Ie,W(Se(P))),typeof ze=="string"&&K.push(it,W(Se(ze))),typeof ke=="string"&&K.push(yt,W(Se(ke))),K.push(Gt);return pe}function Kr(R,P,K,le,pe){return{idPrefix:R===void 0?"":R,nextFormID:0,streamingFormat:0,bootstrapScriptContent:K,bootstrapScripts:le,bootstrapModules:pe,instructions:0,hasBody:!1,hasHtml:!1,unknownResources:{},dnsResources:{},connectResources:{default:{},anonymous:{},credentials:{}},imageResources:{},styleResources:{},scriptResources:{},moduleUnknownResources:{},moduleScriptResources:{}}}function xn(){return{htmlChunks:null,headChunks:null,bodyChunks:null,contribution:0}}function rr(R,P,K){return{insertionMode:R,selectedValue:P,tagScope:K}}function fi(R){return rr(R==="http://www.w3.org/2000/svg"?4:R==="http://www.w3.org/1998/Math/MathML"?5:0,null,0)}function Qi(R,P,K){switch(P){case"noscript":return rr(2,null,R.tagScope|1);case"select":return rr(2,K.value!=null?K.value:K.defaultValue,R.tagScope);case"svg":return rr(4,null,R.tagScope);case"picture":return rr(2,null,R.tagScope|2);case"math":return rr(5,null,R.tagScope);case"foreignObject":return rr(2,null,R.tagScope);case"table":return rr(6,null,R.tagScope);case"thead":case"tbody":case"tfoot":return rr(7,null,R.tagScope);case"colgroup":return rr(9,null,R.tagScope);case"tr":return rr(8,null,R.tagScope);case"head":if(2>R.insertionMode)return rr(3,null,R.tagScope);break;case"html":if(R.insertionMode===0)return rr(1,null,R.tagScope)}return 6<=R.insertionMode||2>R.insertionMode?rr(2,null,R.tagScope):R}var Ni=re("<!-- -->");function is(R,P,K,le){return P===""?le:(le&&R.push(Ni),R.push(W(Se(P))),!0)}var Bi=new Map,gs=re(' style="'),As=re(":"),da=re(";");function qo(R,P){if(typeof P!="object")throw Error(n(62));var K=!0,le;for(le in P)if(ce.call(P,le)){var pe=P[le];if(pe!=null&&typeof pe!="boolean"&&pe!==""){if(le.indexOf("--")===0){var ke=W(Se(le));pe=W(Se((""+pe).trim()))}else ke=Bi.get(le),ke===void 0&&(ke=re(Se(le.replace($t,"-$1").toLowerCase().replace(ne,"-ms-"))),Bi.set(le,ke)),pe=typeof pe=="number"?pe===0||qe.has(le)?W(""+pe):W(pe+"px"):W(Se((""+pe).trim()));K?(K=!1,R.push(gs,ke,As,pe)):R.push(da,ke,As,pe)}}K||R.push(Qe)}var Ci=re(" "),Ne=re('="'),Qe=re('"'),lt=re('=""');function Pt(R,P,K){K&&typeof K!="function"&&typeof K!="symbol"&&R.push(Ci,W(P),lt)}function Dt(R,P,K){typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&R.push(Ci,W(P),Ne,W(Se(K)),Qe)}var ln=re(Se("javascript:throw new Error('React form unexpectedly submitted.')")),an=re('<input type="hidden"');function Tt(R,P){this.push(an),he(R),Dt(this,"name",P),Dt(this,"value",R),this.push(Fe)}function he(R){if(typeof R!="string")throw Error(n(480))}function Te(R,P){if(typeof P.$$FORM_ACTION=="function"){var K=R.nextFormID++;R=R.idPrefix+K;try{var le=P.$$FORM_ACTION(R);if(le){var pe=le.data;pe?.forEach(he)}return le}catch(ke){if(typeof ke=="object"&&ke!==null&&typeof ke.then=="function")throw ke}}return null}function be(R,P,K,le,pe,ke,ze,ft){var We=null;if(typeof le=="function"){var ot=Te(P,le);ot!==null?(ft=ot.name,le=ot.action||"",pe=ot.encType,ke=ot.method,ze=ot.target,We=ot.data):(R.push(Ci,W("formAction"),Ne,ln,Qe),ze=ke=pe=le=ft=null,ut(P,K))}return ft!=null&&Ce(R,"name",ft),le!=null&&Ce(R,"formAction",le),pe!=null&&Ce(R,"formEncType",pe),ke!=null&&Ce(R,"formMethod",ke),ze!=null&&Ce(R,"formTarget",ze),We}function Ce(R,P,K){switch(P){case"className":Dt(R,"class",K);break;case"tabIndex":Dt(R,"tabindex",K);break;case"dir":case"role":case"viewBox":case"width":case"height":Dt(R,P,K);break;case"style":qo(R,K);break;case"src":case"href":if(K==="")break;case"action":case"formAction":if(K==null||typeof K=="function"||typeof K=="symbol"||typeof K=="boolean")break;K=Me(""+K),R.push(Ci,W(P),Ne,W(Se(K)),Qe);break;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"autoFocus":case"multiple":case"muted":Pt(R,P.toLowerCase(),K);break;case"xlinkHref":if(typeof K=="function"||typeof K=="symbol"||typeof K=="boolean")break;K=Me(""+K),R.push(Ci,W("xlink:href"),Ne,W(Se(K)),Qe);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":typeof K!="function"&&typeof K!="symbol"&&R.push(Ci,W(P),Ne,W(Se(K)),Qe);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":K&&typeof K!="function"&&typeof K!="symbol"&&R.push(Ci,W(P),lt);break;case"capture":case"download":K===!0?R.push(Ci,W(P),lt):K!==!1&&typeof K!="function"&&typeof K!="symbol"&&R.push(Ci,W(P),Ne,W(Se(K)),Qe);break;case"cols":case"rows":case"size":case"span":typeof K!="function"&&typeof K!="symbol"&&!isNaN(K)&&1<=K&&R.push(Ci,W(P),Ne,W(Se(K)),Qe);break;case"rowSpan":case"start":typeof K=="function"||typeof K=="symbol"||isNaN(K)||R.push(Ci,W(P),Ne,W(Se(K)),Qe);break;case"xlinkActuate":Dt(R,"xlink:actuate",K);break;case"xlinkArcrole":Dt(R,"xlink:arcrole",K);break;case"xlinkRole":Dt(R,"xlink:role",K);break;case"xlinkShow":Dt(R,"xlink:show",K);break;case"xlinkTitle":Dt(R,"xlink:title",K);break;case"xlinkType":Dt(R,"xlink:type",K);break;case"xmlBase":Dt(R,"xml:base",K);break;case"xmlLang":Dt(R,"xml:lang",K);break;case"xmlSpace":Dt(R,"xml:space",K);break;default:if((!(2<P.length)||P[0]!=="o"&&P[0]!=="O"||P[1]!=="n"&&P[1]!=="N")&&(P=et.get(P)||P,je(P))){switch(typeof K){case"function":case"symbol":return;case"boolean":var le=P.toLowerCase().slice(0,5);if(le!=="data-"&&le!=="aria-")return}R.push(Ci,W(P),Ne,W(Se(K)),Qe)}}}var Ee=re(">"),Fe=re("/>");function Xe(R,P,K){if(P!=null){if(K!=null)throw Error(n(60));if(typeof P!="object"||!("__html"in P))throw Error(n(61));P=P.__html,P!=null&&R.push(W(""+P))}}function ht(R){var P="";return e.Children.forEach(R,function(K){K!=null&&(P+=K)}),P}var Ke=re(' selected=""'),$e=re(`addEventListener("submit",function(a){if(!a.defaultPrevented){var c=a.target,d=a.submitter,e=c.action,b=d;if(d){var f=d.getAttribute("formAction");null!=f&&(e=f,b=null)}"javascript:throw new Error('React form unexpectedly submitted.')"===e&&(a.preventDefault(),b?(a=document.createElement("input"),a.name=b.name,a.value=b.value,b.parentNode.insertBefore(a,b),b=new FormData(c),a.parentNode.removeChild(a)):b=new FormData(c),a=c.ownerDocument||c,(a.$$reactFormReplay=a.$$reactFormReplay||[]).push(c,d,b))}});`);function ut(R,P){(R.instructions&16)===0&&(R.instructions|=16,P.bootstrapChunks.unshift(P.startInlineScript,$e,gt))}var Ot=re("<!--F!-->"),Wt=re("<!--F-->");function jt(R,P){R.push(ur("link"));for(var K in P)if(ce.call(P,K)){var le=P[K];if(le!=null)switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:Ce(R,K,le)}}return R.push(Fe),null}var Ut=/(<\/|<)(s)(tyle)/gi;function Xt(R,P,K,le){return""+P+(K==="s"?"\\73 ":"\\53 ")+le}function pn(R,P,K){R.push(ur(K));for(var le in P)if(ce.call(P,le)){var pe=P[le];if(pe!=null)switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,K));default:Ce(R,le,pe)}}return R.push(Fe),null}function sr(R,P){R.push(ur("title"));var K=null,le=null,pe;for(pe in P)if(ce.call(P,pe)){var ke=P[pe];if(ke!=null)switch(pe){case"children":K=ke;break;case"dangerouslySetInnerHTML":le=ke;break;default:Ce(R,pe,ke)}}return R.push(Ee),P=Array.isArray(K)?2>K.length?K[0]:null:K,typeof P!="function"&&typeof P!="symbol"&&P!==null&&P!==void 0&&R.push(W(Se(""+P))),Xe(R,le,K),R.push(vs("title")),null}function Kn(R,P){R.push(ur("script"));var K=null,le=null,pe;for(pe in P)if(ce.call(P,pe)){var ke=P[pe];if(ke!=null)switch(pe){case"children":K=ke;break;case"dangerouslySetInnerHTML":le=ke;break;default:Ce(R,pe,ke)}}return R.push(Ee),Xe(R,le,K),typeof K=="string"&&R.push(W((""+K).replace(qt,mn))),R.push(vs("script")),null}function dn(R,P,K){R.push(ur(K));var le=K=null,pe;for(pe in P)if(ce.call(P,pe)){var ke=P[pe];if(ke!=null)switch(pe){case"children":K=ke;break;case"dangerouslySetInnerHTML":le=ke;break;default:Ce(R,pe,ke)}}return R.push(Ee),Xe(R,le,K),K}function hr(R,P,K){R.push(ur(K));var le=K=null,pe;for(pe in P)if(ce.call(P,pe)){var ke=P[pe];if(ke!=null)switch(pe){case"children":K=ke;break;case"dangerouslySetInnerHTML":le=ke;break;default:Ce(R,pe,ke)}}return R.push(Ee),Xe(R,le,K),typeof K=="string"?(R.push(W(Se(K))),null):K}var Vi=re(`
`),Ai=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,vr=new Map;function ur(R){var P=vr.get(R);if(P===void 0){if(!Ai.test(R))throw Error(n(65,R));P=re("<"+R),vr.set(R,P)}return P}var Pn=re("<!DOCTYPE html>");function Hr(R,P,K,le,pe,ke,ze,ft,We,ot){switch(P){case"div":case"span":case"svg":case"path":break;case"a":R.push(ur("a"));var Yt=null,kt=null,gn;for(gn in K)if(ce.call(K,gn)){var wn=K[gn];if(wn!=null)switch(gn){case"children":Yt=wn;break;case"dangerouslySetInnerHTML":kt=wn;break;case"href":wn===""?Dt(R,"href",""):Ce(R,gn,wn);break;default:Ce(R,gn,wn)}}if(R.push(Ee),Xe(R,kt,Yt),typeof Yt=="string"){R.push(W(Se(Yt)));var kn=null}else kn=Yt;return kn;case"g":case"p":case"li":break;case"select":R.push(ur("select"));var Zn=null,gi=null,Pi;for(Pi in K)if(ce.call(K,Pi)){var Cr=K[Pi];if(Cr!=null)switch(Pi){case"children":Zn=Cr;break;case"dangerouslySetInnerHTML":gi=Cr;break;case"defaultValue":case"value":break;default:Ce(R,Pi,Cr)}}return R.push(Ee),Xe(R,gi,Zn),Zn;case"option":var yo=ft.selectedValue;R.push(ur("option"));var ns=null,Bo=null,Wi=null,Wn=null,mr;for(mr in K)if(ce.call(K,mr)){var yr=K[mr];if(yr!=null)switch(mr){case"children":ns=yr;break;case"selected":Wi=yr;break;case"dangerouslySetInnerHTML":Wn=yr;break;case"value":Bo=yr;default:Ce(R,mr,yr)}}if(yo!=null){var us=Bo!==null?""+Bo:ht(ns);if(M(yo)){for(var mi=0;mi<yo.length;mi++)if(""+yo[mi]===us){R.push(Ke);break}}else""+yo===us&&R.push(Ke)}else Wi&&R.push(Ke);return R.push(Ee),Xe(R,Wn,ns),ns;case"textarea":R.push(ur("textarea"));var ds=null,Jc=null,xl=null,Ua;for(Ua in K)if(ce.call(K,Ua)){var Ch=K[Ua];if(Ch!=null)switch(Ua){case"children":xl=Ch;break;case"value":ds=Ch;break;case"defaultValue":Jc=Ch;break;case"dangerouslySetInnerHTML":throw Error(n(91));default:Ce(R,Ua,Ch)}}if(ds===null&&Jc!==null&&(ds=Jc),R.push(Ee),xl!=null){if(ds!=null)throw Error(n(92));if(M(xl)){if(1<xl.length)throw Error(n(93));ds=""+xl[0]}ds=""+xl}return typeof ds=="string"&&ds[0]===`
`&&R.push(Vi),ds!==null&&R.push(W(Se(""+ds))),null;case"input":R.push(ur("input"));var Di=null,pv=null,gv=null,tC=null,nC=null,rC=null,am=null,lm=null,cm=null,Vo;for(Vo in K)if(ce.call(K,Vo)){var ci=K[Vo];if(ci!=null)switch(Vo){case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"input"));case"name":Di=ci;break;case"formAction":pv=ci;break;case"formEncType":gv=ci;break;case"formMethod":tC=ci;break;case"formTarget":nC=ci;break;case"defaultChecked":cm=ci;break;case"defaultValue":am=ci;break;case"checked":lm=ci;break;case"value":rC=ci;break;default:Ce(R,Vo,ci)}}var mv=be(R,le,pe,pv,gv,tC,nC,Di);return lm!==null?Pt(R,"checked",lm):cm!==null&&Pt(R,"checked",cm),rC!==null?Ce(R,"value",rC):am!==null&&Ce(R,"value",am),R.push(Fe),mv?.forEach(Tt,R),null;case"button":R.push(ur("button"));var Nd=null,um=null,vv=null,Uu=null,dm=null,yv=null,wv=null,xp;for(xp in K)if(ce.call(K,xp)){var Wu=K[xp];if(Wu!=null)switch(xp){case"children":Nd=Wu;break;case"dangerouslySetInnerHTML":um=Wu;break;case"name":vv=Wu;break;case"formAction":Uu=Wu;break;case"formEncType":dm=Wu;break;case"formMethod":yv=Wu;break;case"formTarget":wv=Wu;break;default:Ce(R,xp,Wu)}}var iC=be(R,le,pe,Uu,dm,yv,wv,vv);if(R.push(Ee),iC?.forEach(Tt,R),Xe(R,um,Nd),typeof Nd=="string"){R.push(W(Se(Nd)));var sC=null}else sC=Nd;return sC;case"form":R.push(ur("form"));var Sp=null,oC=null,Bd=null,_p=null,hm=null,Ep=null,Tp;for(Tp in K)if(ce.call(K,Tp)){var Vd=K[Tp];if(Vd!=null)switch(Tp){case"children":Sp=Vd;break;case"dangerouslySetInnerHTML":oC=Vd;break;case"action":Bd=Vd;break;case"encType":_p=Vd;break;case"method":hm=Vd;break;case"target":Ep=Vd;break;default:Ce(R,Tp,Vd)}}var fm=null,Cv=null;if(typeof Bd=="function"){var bh=Te(le,Bd);bh!==null?(Bd=bh.action||"",_p=bh.encType,hm=bh.method,Ep=bh.target,fm=bh.data,Cv=bh.name):(R.push(Ci,W("action"),Ne,ln,Qe),Ep=hm=_p=Bd=null,ut(le,pe))}if(Bd!=null&&Ce(R,"action",Bd),_p!=null&&Ce(R,"encType",_p),hm!=null&&Ce(R,"method",hm),Ep!=null&&Ce(R,"target",Ep),R.push(Ee),Cv!==null&&(R.push(an),Dt(R,"name",Cv),R.push(Fe),fm?.forEach(Tt,R)),Xe(R,oC,Sp),typeof Sp=="string"){R.push(W(Se(Sp)));var aC=null}else aC=Sp;return aC;case"menuitem":R.push(ur("menuitem"));for(var pm in K)if(ce.call(K,pm)){var lC=K[pm];if(lC!=null)switch(pm){case"children":case"dangerouslySetInnerHTML":throw Error(n(400));default:Ce(R,pm,lC)}}return R.push(Ee),null;case"object":R.push(ur("object"));var gm=null,cC=null,ju;for(ju in K)if(ce.call(K,ju)){var xh=K[ju];if(xh!=null)switch(ju){case"children":gm=xh;break;case"dangerouslySetInnerHTML":cC=xh;break;case"data":var uC=Me(""+xh);if(uC==="")break;R.push(Ci,W("data"),Ne,W(Se(uC)),Qe);break;default:Ce(R,ju,xh)}}if(R.push(Ee),Xe(R,cC,gm),typeof gm=="string"){R.push(W(Se(gm)));var mm=null}else mm=gm;return mm;case"title":if(ft.insertionMode===4||ft.tagScope&1||K.itemProp!=null)var Tf=sr(R,K);else ot?Tf=null:(sr(pe.hoistableChunks,K),Tf=void 0);return Tf;case"link":var N1=K.rel,Hd=K.href,vm=K.precedence;if(ft.insertionMode===4||ft.tagScope&1||K.itemProp!=null||typeof N1!="string"||typeof Hd!="string"||Hd===""){jt(R,K);var Rp=null}else if(K.rel==="stylesheet")if(typeof vm!="string"||K.disabled!=null||K.onLoad||K.onError)Rp=jt(R,K);else{var Rf=pe.styles.get(vm),ym=le.styleResources.hasOwnProperty(Hd)?le.styleResources[Hd]:void 0;if(ym!==null){le.styleResources[Hd]=null,Rf||(Rf={precedence:W(Se(vm)),rules:[],hrefs:[],sheets:new Map},pe.styles.set(vm,Rf));var Ap={state:0,props:J({},K,{"data-precedence":K.precedence,precedence:null})};if(ym){ym.length===2&&Ba(Ap.props,ym);var bv=pe.preloads.stylesheets.get(Hd);bv&&0<bv.length?bv.length=0:Ap.state=1}Rf.sheets.set(Hd,Ap),ze&&ze.stylesheets.add(Ap)}else if(Rf){var dC=Rf.sheets.get(Hd);dC&&ze&&ze.stylesheets.add(dC)}We&&R.push(Ni),Rp=null}else K.onLoad||K.onError?Rp=jt(R,K):(We&&R.push(Ni),Rp=ot?null:jt(pe.hoistableChunks,K));return Rp;case"script":var wm=K.async;if(typeof K.src!="string"||!K.src||!wm||typeof wm=="function"||typeof wm=="symbol"||K.onLoad||K.onError||ft.insertionMode===4||ft.tagScope&1||K.itemProp!=null)var hC=Kn(R,K);else{var Cm=K.src;if(K.type==="module")var xv=le.moduleScriptResources,Sv=pe.preloads.moduleScripts;else xv=le.scriptResources,Sv=pe.preloads.scripts;var bm=xv.hasOwnProperty(Cm)?xv[Cm]:void 0;if(bm!==null){xv[Cm]=null;var _v=K;if(bm){bm.length===2&&(_v=J({},K),Ba(_v,bm));var Ev=Sv.get(Cm);Ev&&(Ev.length=0)}var fC=[];pe.scripts.add(fC),Kn(fC,_v)}We&&R.push(Ni),hC=null}return hC;case"style":var xm=K.precedence,Af=K.href;if(ft.insertionMode===4||ft.tagScope&1||K.itemProp!=null||typeof xm!="string"||typeof Af!="string"||Af===""){R.push(ur("style"));var kp=null,pC=null,zd;for(zd in K)if(ce.call(K,zd)){var Pp=K[zd];if(Pp!=null)switch(zd){case"children":kp=Pp;break;case"dangerouslySetInnerHTML":pC=Pp;break;default:Ce(R,zd,Pp)}}R.push(Ee);var Sh=Array.isArray(kp)?2>kp.length?kp[0]:null:kp;typeof Sh!="function"&&typeof Sh!="symbol"&&Sh!==null&&Sh!==void 0&&R.push(W((""+Sh).replace(Ut,Xt))),Xe(R,pC,kp),R.push(vs("style"));var gC=null}else{var _h=pe.styles.get(xm);if((le.styleResources.hasOwnProperty(Af)?le.styleResources[Af]:void 0)!==null){le.styleResources[Af]=null,_h?_h.hrefs.push(W(Se(Af))):(_h={precedence:W(Se(xm)),rules:[],hrefs:[W(Se(Af))],sheets:new Map},pe.styles.set(xm,_h));var Sm=_h.rules,kf=null,mC=null,Tv;for(Tv in K)if(ce.call(K,Tv)){var Eh=K[Tv];if(Eh!=null)switch(Tv){case"children":kf=Eh;break;case"dangerouslySetInnerHTML":mC=Eh}}var Gd=Array.isArray(kf)?2>kf.length?kf[0]:null:kf;typeof Gd!="function"&&typeof Gd!="symbol"&&Gd!==null&&Gd!==void 0&&Sm.push(W((""+Gd).replace(Ut,Xt))),Xe(Sm,mC,kf)}_h&&ze&&ze.styles.add(_h),We&&R.push(Ni),gC=void 0}return gC;case"meta":if(ft.insertionMode===4||ft.tagScope&1||K.itemProp!=null)var _m=pn(R,K,"meta");else We&&R.push(Ni),_m=ot?null:typeof K.charSet=="string"?pn(pe.charsetChunks,K,"meta"):K.name==="viewport"?pn(pe.viewportChunks,K,"meta"):pn(pe.hoistableChunks,K,"meta");return _m;case"listing":case"pre":R.push(ur(P));var Ud=null,Th=null,Dp;for(Dp in K)if(ce.call(K,Dp)){var Em=K[Dp];if(Em!=null)switch(Dp){case"children":Ud=Em;break;case"dangerouslySetInnerHTML":Th=Em;break;default:Ce(R,Dp,Em)}}if(R.push(Ee),Th!=null){if(Ud!=null)throw Error(n(60));if(typeof Th!="object"||!("__html"in Th))throw Error(n(61));var vc=Th.__html;vc!=null&&(typeof vc=="string"&&0<vc.length&&vc[0]===`
`?R.push(Vi,W(vc)):R.push(W(""+vc)))}return typeof Ud=="string"&&Ud[0]===`
`&&R.push(Vi),Ud;case"img":var oa=K.src,Si=K.srcSet;if(!(K.loading==="lazy"||!oa&&!Si||typeof oa!="string"&&oa!=null||typeof Si!="string"&&Si!=null)&&K.fetchPriority!=="low"&&!(ft.tagScope&3)&&(typeof oa!="string"||oa[4]!==":"||oa[0]!=="d"&&oa[0]!=="D"||oa[1]!=="a"&&oa[1]!=="A"||oa[2]!=="t"&&oa[2]!=="T"||oa[3]!=="a"&&oa[3]!=="A")&&(typeof Si!="string"||Si[4]!==":"||Si[0]!=="d"&&Si[0]!=="D"||Si[1]!=="a"&&Si[1]!=="A"||Si[2]!=="t"&&Si[2]!=="T"||Si[3]!=="a"&&Si[3]!=="A")){var $c=typeof K.sizes=="string"?K.sizes:void 0,ql=Si?Si+`
`+($c||""):oa,Rv=pe.preloads.images,Sl=Rv.get(ql);if(Sl)(K.fetchPriority==="high"||10>pe.highImagePreloads.size)&&(Rv.delete(ql),pe.highImagePreloads.add(Sl));else if(!le.imageResources.hasOwnProperty(ql)){le.imageResources[ql]=nt;var eu=K.crossOrigin,to=typeof eu=="string"?eu==="use-credentials"?eu:"":void 0,Ku=pe.headers,Tm;Ku&&0<Ku.remainingCapacity&&typeof K.srcSet!="string"&&(K.fetchPriority==="high"||500>Ku.highImagePreloads.length)&&(Tm=fl(oa,"image",{imageSrcSet:K.srcSet,imageSizes:K.sizes,crossOrigin:to,integrity:K.integrity,nonce:K.nonce,type:K.type,fetchPriority:K.fetchPriority,referrerPolicy:K.refererPolicy}),0<=(Ku.remainingCapacity-=Tm.length+2))?(pe.resets.image[ql]=nt,Ku.highImagePreloads&&(Ku.highImagePreloads+=", "),Ku.highImagePreloads+=Tm):(Sl=[],jt(Sl,{rel:"preload",as:"image",href:Si?void 0:oa,imageSrcSet:Si,imageSizes:$c,crossOrigin:to,integrity:K.integrity,type:K.type,fetchPriority:K.fetchPriority,referrerPolicy:K.referrerPolicy}),K.fetchPriority==="high"||10>pe.highImagePreloads.size?pe.highImagePreloads.add(Sl):(pe.bulkPreloads.add(Sl),Rv.set(ql,Sl)))}}return pn(R,K,"img");case"base":case"area":case"br":case"col":case"embed":case"hr":case"keygen":case"param":case"source":case"track":case"wbr":return pn(R,K,P);case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":break;case"head":if(2>ft.insertionMode){var Rm=ke||pe.preamble;if(Rm.headChunks)throw Error(n(545,"`<head>`"));Rm.headChunks=[];var vC=dn(Rm.headChunks,K,"head")}else vC=hr(R,K,"head");return vC;case"body":if(2>ft.insertionMode){var Av=ke||pe.preamble;if(Av.bodyChunks)throw Error(n(545,"`<body>`"));Av.bodyChunks=[];var Rh=dn(Av.bodyChunks,K,"body")}else Rh=hr(R,K,"body");return Rh;case"html":if(ft.insertionMode===0){var Fp=ke||pe.preamble;if(Fp.htmlChunks)throw Error(n(545,"`<html>`"));Fp.htmlChunks=[Pn];var yC=dn(Fp.htmlChunks,K,"html")}else yC=hr(R,K,"html");return yC;default:if(P.indexOf("-")!==-1){R.push(ur(P));var kv=null,wC=null,Wd;for(Wd in K)if(ce.call(K,Wd)){var yc=K[Wd];if(yc!=null){var Pv=Wd;switch(Wd){case"children":kv=yc;break;case"dangerouslySetInnerHTML":wC=yc;break;case"style":qo(R,yc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"ref":break;case"className":Pv="class";default:if(je(Wd)&&typeof yc!="function"&&typeof yc!="symbol"&&yc!==!1){if(yc===!0)yc="";else if(typeof yc=="object")continue;R.push(Ci,W(Pv),Ne,W(Se(yc)),Qe)}}}}return R.push(Ee),Xe(R,wC,kv),kv}}return hr(R,K,P)}var ms=new Map;function vs(R){var P=ms.get(R);return P===void 0&&(P=re("</"+R+">"),ms.set(R,P)),P}function ol(R,P){R=R.preamble,R.htmlChunks===null&&P.htmlChunks&&(R.htmlChunks=P.htmlChunks,P.contribution|=1),R.headChunks===null&&P.headChunks&&(R.headChunks=P.headChunks,P.contribution|=4),R.bodyChunks===null&&P.bodyChunks&&(R.bodyChunks=P.bodyChunks,P.contribution|=2)}function uo(R,P){P=P.bootstrapChunks;for(var K=0;K<P.length-1;K++)se(R,P[K]);return K<P.length?(K=P[K],P.length=0,ue(R,K)):!0}var zn=re('<template id="'),Zr=re('"></template>'),Du=re("<!--$-->"),bi=re('<!--$?--><template id="'),pi=re('"></template>'),ko=re("<!--$!-->"),ho=re("<!--/$-->"),fo=re("<template"),Bn=re('"'),Ks=re(' data-dgst="');re(' data-msg="'),re(' data-stck="'),re(' data-cstck="');var Ys=re("></template>");function ha(R,P,K){if(se(R,bi),K===null)throw Error(n(395));return se(R,P.boundaryPrefix),se(R,W(K.toString(16))),ue(R,pi)}var Fu=re("<!--"),po=re("-->");function Ma(R,P){P=P.contribution,P!==0&&(se(R,Fu),se(R,W(""+P)),se(R,po))}var kd=re('<div hidden id="'),Wl=re('">'),Oa=re("</div>"),La=re('<svg aria-hidden="true" style="display:none" id="'),go=re('">'),ks=re("</svg>"),Qo=re('<math aria-hidden="true" style="display:none" id="'),Bc=re('">'),Rn=re("</math>"),Xs=re('<table hidden id="'),Sn=re('">'),Zs=re("</table>"),Ls=re('<table hidden><tbody id="'),Jo=re('">'),qs=re("</tbody></table>"),Ps=re('<table hidden><tr id="'),Po=re('">'),Do=re("</tr></table>"),Ar=re('<table hidden><colgroup id="'),ys=re('">'),Fo=re("</colgroup></table>");function ss(R,P,K,le){switch(K.insertionMode){case 0:case 1:case 3:case 2:return se(R,kd),se(R,P.segmentPrefix),se(R,W(le.toString(16))),ue(R,Wl);case 4:return se(R,La),se(R,P.segmentPrefix),se(R,W(le.toString(16))),ue(R,go);case 5:return se(R,Qo),se(R,P.segmentPrefix),se(R,W(le.toString(16))),ue(R,Bc);case 6:return se(R,Xs),se(R,P.segmentPrefix),se(R,W(le.toString(16))),ue(R,Sn);case 7:return se(R,Ls),se(R,P.segmentPrefix),se(R,W(le.toString(16))),ue(R,Jo);case 8:return se(R,Ps),se(R,P.segmentPrefix),se(R,W(le.toString(16))),ue(R,Po);case 9:return se(R,Ar),se(R,P.segmentPrefix),se(R,W(le.toString(16))),ue(R,ys);default:throw Error(n(397))}}function Dr(R,P){switch(P.insertionMode){case 0:case 1:case 3:case 2:return ue(R,Oa);case 4:return ue(R,ks);case 5:return ue(R,Rn);case 6:return ue(R,Zs);case 7:return ue(R,qs);case 8:return ue(R,Do);case 9:return ue(R,Fo);default:throw Error(n(397))}}var fa=re('$RS=function(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),$o=re('$RS("'),Pd=re('","'),uc=re('")<\/script>');re('<template data-rsi="" data-sid="'),re('" data-pid="');var or=re('$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("'),al=re('$RC("'),Ns=re(`$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),Qs=re(`$RM=new Map;
$RR=function(t,u,y){function v(n){this._p=null;n()}for(var w=$RC,p=$RM,q=new Map,r=document,g,b,h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=[],k=0;b=h[k++];)"not all"===b.getAttribute("media")?x.push(b):("LINK"===b.tagName&&p.set(b.getAttribute("href"),b),q.set(b.dataset.precedence,g=b));b=0;h=[];var l,a;for(k=!0;;){if(k){var e=y[b++];if(!e){k=!1;b=0;continue}var c=!1,m=0;var d=e[m++];if(a=p.get(d)){var f=a._p;c=!0}else{a=r.createElement("link");a.href=
d;a.rel="stylesheet";for(a.dataset.precedence=l=e[m++];f=e[m++];)a.setAttribute(f,e[m++]);f=a._p=new Promise(function(n,z){a.onload=v.bind(a,n);a.onerror=v.bind(a,z)});p.set(d,a)}d=a.getAttribute("media");!f||d&&!matchMedia(d).matches||h.push(f);if(c)continue}else{a=x[b++];if(!a)break;l=a.getAttribute("data-precedence");a.removeAttribute("media")}c=q.get(l)||g;c===g&&(g=a);q.set(l,a);c?c.parentNode.insertBefore(a,c.nextSibling):(c=r.head,c.insertBefore(a,c.firstChild))}Promise.all(h).then(w.bind(null,
t,u,""),w.bind(null,t,u,"Resource failed to load"))};$RR("`),Iu=re('$RR("'),ph=re('","'),jl=re('",'),ll=re('"'),Vc=re(")<\/script>");re('<template data-rci="" data-bid="'),re('<template data-rri="" data-bid="'),re('" data-sid="'),re('" data-sty="');var Kl=re('$RX=function(b,c,d,e,f){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),f&&(a.cstck=f),b._reactRetry&&b._reactRetry())};;$RX("'),gh=re('$RX("'),cl=re('"'),mh=re(","),ws=re(")<\/script>");re('<template data-rxi="" data-bid="'),re('" data-dgst="'),re('" data-msg="'),re('" data-stck="'),re('" data-cstck="');var Yl=/[<\u2028\u2029]/g;function dc(R){return JSON.stringify(R).replace(Yl,function(P){switch(P){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var pa=/[&><\u2028\u2029]/g;function ul(R){return JSON.stringify(R).replace(pa,function(P){switch(P){case"&":return"\\u0026";case">":return"\\u003e";case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSObjectForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var ea=re('<style media="not all" data-precedence="'),Mu=re('" data-href="'),Ou=re('">'),Ji=re("</style>"),dl=!1,mo=!0;function hc(R){var P=R.rules,K=R.hrefs,le=0;if(K.length){for(se(this,ea),se(this,R.precedence),se(this,Mu);le<K.length-1;le++)se(this,K[le]),se(this,Js);for(se(this,K[le]),se(this,Ou),le=0;le<P.length;le++)se(this,P[le]);mo=ue(this,Ji),dl=!0,P.length=0,K.length=0}}function Hc(R){return R.state!==2?dl=!0:!1}function hl(R,P,K){return dl=!1,mo=!0,P.styles.forEach(hc,R),P.stylesheets.forEach(Hc),dl&&(K.stylesToHoist=!0),mo}function os(R){for(var P=0;P<R.length;P++)se(this,R[P]);R.length=0}var as=[];function zr(R){jt(as,R.props);for(var P=0;P<as.length;P++)se(this,as[P]);as.length=0,R.state=2}var Io=re('<style data-precedence="'),Dd=re('" data-href="'),Js=re(" "),T=re('">'),ee=re("</style>");function ae(R){var P=0<R.sheets.size;R.sheets.forEach(zr,this),R.sheets.clear();var K=R.rules,le=R.hrefs;if(!P||le.length){if(se(this,Io),se(this,R.precedence),R=0,le.length){for(se(this,Dd);R<le.length-1;R++)se(this,le[R]),se(this,Js);se(this,le[R])}for(se(this,T),R=0;R<K.length;R++)se(this,K[R]);se(this,ee),K.length=0,le.length=0}}function Re(R){if(R.state===0){R.state=1;var P=R.props;for(jt(as,{rel:"preload",as:"style",href:R.props.href,crossOrigin:P.crossOrigin,fetchPriority:P.fetchPriority,integrity:P.integrity,media:P.media,hrefLang:P.hrefLang,referrerPolicy:P.referrerPolicy}),R=0;R<as.length;R++)se(this,as[R]);as.length=0}}function st(R){R.sheets.forEach(Re,this),R.sheets.clear()}var Ct=re("["),Zt=re(",["),fr=re(","),Fr=re("]");function Er(R,P){se(R,Ct);var K=Ct;P.stylesheets.forEach(function(le){if(le.state!==2)if(le.state===3)se(R,K),se(R,W(ul(""+le.props.href))),se(R,Fr),K=Zt;else{se(R,K);var pe=le.props["data-precedence"],ke=le.props,ze=Me(""+le.props.href);se(R,W(ul(ze))),pe=""+pe,se(R,fr),se(R,W(ul(pe)));for(var ft in ke)if(ce.call(ke,ft)&&(pe=ke[ft],pe!=null))switch(ft){case"href":case"rel":case"precedence":case"data-precedence":break;case"children":case"dangerouslySetInnerHTML":throw Error(n(399,"link"));default:Ir(R,ft,pe)}se(R,Fr),K=Zt,le.state=3}}),se(R,Fr)}function Ir(R,P,K){var le=P.toLowerCase();switch(typeof K){case"function":case"symbol":return}switch(P){case"innerHTML":case"dangerouslySetInnerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"style":case"ref":return;case"className":le="class",P=""+K;break;case"hidden":if(K===!1)return;P="";break;case"src":case"href":K=Me(K),P=""+K;break;default:if(2<P.length&&(P[0]==="o"||P[0]==="O")&&(P[1]==="n"||P[1]==="N")||!je(P))return;P=""+K}se(R,fr),se(R,W(ul(le))),se(R,fr),se(R,W(ul(P)))}function ai(){return{styles:new Set,stylesheets:new Set}}function Na(R){var P=Tr||null;if(P){var K=P.resumableState,le=P.renderState;if(typeof R=="string"&&R){if(!K.dnsResources.hasOwnProperty(R)){K.dnsResources[R]=null,K=le.headers;var pe,ke;(ke=K&&0<K.remainingCapacity)&&(ke=(pe="<"+(""+R).replace(Oo,Va)+">; rel=dns-prefetch",0<=(K.remainingCapacity-=pe.length+2))),ke?(le.resets.dns[R]=null,K.preconnects&&(K.preconnects+=", "),K.preconnects+=pe):(pe=[],jt(pe,{href:R,rel:"dns-prefetch"}),le.preconnects.add(pe))}qc(P)}}else Je.D(R)}function ri(R,P){var K=Tr||null;if(K){var le=K.resumableState,pe=K.renderState;if(typeof R=="string"&&R){var ke=P==="use-credentials"?"credentials":typeof P=="string"?"anonymous":"default";if(!le.connectResources[ke].hasOwnProperty(R)){le.connectResources[ke][R]=null,le=pe.headers;var ze,ft;if(ft=le&&0<le.remainingCapacity){if(ft="<"+(""+R).replace(Oo,Va)+">; rel=preconnect",typeof P=="string"){var We=(""+P).replace(Nu,Bu);ft+='; crossorigin="'+We+'"'}ft=(ze=ft,0<=(le.remainingCapacity-=ze.length+2))}ft?(pe.resets.connect[ke][R]=null,le.preconnects&&(le.preconnects+=", "),le.preconnects+=ze):(ke=[],jt(ke,{rel:"preconnect",href:R,crossOrigin:P}),pe.preconnects.add(ke))}qc(K)}}else Je.C(R,P)}function ta(R,P,K){var le=Tr||null;if(le){var pe=le.resumableState,ke=le.renderState;if(P&&R){switch(P){case"image":if(K)var ze=K.imageSrcSet,ft=K.imageSizes,We=K.fetchPriority;var ot=ze?ze+`
`+(ft||""):R;if(pe.imageResources.hasOwnProperty(ot))return;pe.imageResources[ot]=nt,pe=ke.headers;var Yt;pe&&0<pe.remainingCapacity&&typeof ze!="string"&&We==="high"&&(Yt=fl(R,P,K),0<=(pe.remainingCapacity-=Yt.length+2))?(ke.resets.image[ot]=nt,pe.highImagePreloads&&(pe.highImagePreloads+=", "),pe.highImagePreloads+=Yt):(pe=[],jt(pe,J({rel:"preload",href:ze?void 0:R,as:P},K)),We==="high"?ke.highImagePreloads.add(pe):(ke.bulkPreloads.add(pe),ke.preloads.images.set(ot,pe)));break;case"style":if(pe.styleResources.hasOwnProperty(R))return;ze=[],jt(ze,J({rel:"preload",href:R,as:P},K)),pe.styleResources[R]=!K||typeof K.crossOrigin!="string"&&typeof K.integrity!="string"?nt:[K.crossOrigin,K.integrity],ke.preloads.stylesheets.set(R,ze),ke.bulkPreloads.add(ze);break;case"script":if(pe.scriptResources.hasOwnProperty(R))return;ze=[],ke.preloads.scripts.set(R,ze),ke.bulkPreloads.add(ze),jt(ze,J({rel:"preload",href:R,as:P},K)),pe.scriptResources[R]=!K||typeof K.crossOrigin!="string"&&typeof K.integrity!="string"?nt:[K.crossOrigin,K.integrity];break;default:if(pe.unknownResources.hasOwnProperty(P)){if(ze=pe.unknownResources[P],ze.hasOwnProperty(R))return}else ze={},pe.unknownResources[P]=ze;if(ze[R]=nt,(pe=ke.headers)&&0<pe.remainingCapacity&&P==="font"&&(ot=fl(R,P,K),0<=(pe.remainingCapacity-=ot.length+2)))ke.resets.font[R]=nt,pe.fontPreloads&&(pe.fontPreloads+=", "),pe.fontPreloads+=ot;else switch(pe=[],R=J({rel:"preload",href:R,as:P},K),jt(pe,R),P){case"font":ke.fontPreloads.add(pe);break;default:ke.bulkPreloads.add(pe)}}qc(le)}}else Je.L(R,P,K)}function Mo(R,P){var K=Tr||null;if(K){var le=K.resumableState,pe=K.renderState;if(R){var ke=P&&typeof P.as=="string"?P.as:"script";switch(ke){case"script":if(le.moduleScriptResources.hasOwnProperty(R))return;ke=[],le.moduleScriptResources[R]=!P||typeof P.crossOrigin!="string"&&typeof P.integrity!="string"?nt:[P.crossOrigin,P.integrity],pe.preloads.moduleScripts.set(R,ke);break;default:if(le.moduleUnknownResources.hasOwnProperty(ke)){var ze=le.unknownResources[ke];if(ze.hasOwnProperty(R))return}else ze={},le.moduleUnknownResources[ke]=ze;ke=[],ze[R]=nt}jt(ke,J({rel:"modulepreload",href:R},P)),pe.bulkPreloads.add(ke),qc(K)}}else Je.m(R,P)}function Lu(R,P,K){var le=Tr||null;if(le){var pe=le.resumableState,ke=le.renderState;if(R){P=P||"default";var ze=ke.styles.get(P),ft=pe.styleResources.hasOwnProperty(R)?pe.styleResources[R]:void 0;ft!==null&&(pe.styleResources[R]=null,ze||(ze={precedence:W(Se(P)),rules:[],hrefs:[],sheets:new Map},ke.styles.set(P,ze)),P={state:0,props:J({rel:"stylesheet",href:R,"data-precedence":P},K)},ft&&(ft.length===2&&Ba(P.props,ft),(ke=ke.preloads.stylesheets.get(R))&&0<ke.length?ke.length=0:P.state=1),ze.sheets.set(R,P),qc(le))}}else Je.S(R,P,K)}function zc(R,P){var K=Tr||null;if(K){var le=K.resumableState,pe=K.renderState;if(R){var ke=le.scriptResources.hasOwnProperty(R)?le.scriptResources[R]:void 0;ke!==null&&(le.scriptResources[R]=null,P=J({src:R,async:!0},P),ke&&(ke.length===2&&Ba(P,ke),R=pe.preloads.scripts.get(R))&&(R.length=0),R=[],pe.scripts.add(R),Kn(R,P),qc(K))}}else Je.X(R,P)}function Fd(R,P){var K=Tr||null;if(K){var le=K.resumableState,pe=K.renderState;if(R){var ke=le.moduleScriptResources.hasOwnProperty(R)?le.moduleScriptResources[R]:void 0;ke!==null&&(le.moduleScriptResources[R]=null,P=J({src:R,type:"module",async:!0},P),ke&&(ke.length===2&&Ba(P,ke),R=pe.preloads.moduleScripts.get(R))&&(R.length=0),R=[],pe.scripts.add(R),Kn(R,P),qc(K))}}else Je.M(R,P)}function Ba(R,P){R.crossOrigin==null&&(R.crossOrigin=P[0]),R.integrity==null&&(R.integrity=P[1])}function fl(R,P,K){R=(""+R).replace(Oo,Va),P=(""+P).replace(Nu,Bu),P="<"+R+'>; rel=preload; as="'+P+'"';for(var le in K)ce.call(K,le)&&(R=K[le],typeof R=="string"&&(P+="; "+le.toLowerCase()+'="'+(""+R).replace(Nu,Bu)+'"'));return P}var Oo=/[<>\r\n]/g;function Va(R){switch(R){case"<":return"%3C";case">":return"%3E";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeLinkHrefForHeaderContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}var Nu=/["';,\r\n]/g;function Bu(R){switch(R){case'"':return"%22";case"'":return"%27";case";":return"%3B";case",":return"%2C";case`
`:return"%0A";case"\r":return"%0D";default:throw Error("escapeStringForLinkHeaderQuotedParamValueContextReplacer encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}}function _f(R){this.styles.add(R)}function na(R){this.stylesheets.add(R)}var Gc=Function.prototype.bind,Vu=Symbol.for("react.client.reference");function $s(R){if(R==null)return null;if(typeof R=="function")return R.$$typeof===Vu?null:R.displayName||R.name||null;if(typeof R=="string")return R;switch(R){case s:return"Fragment";case a:return"Profiler";case o:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList";case S:return"Activity"}if(typeof R=="object")switch(R.$$typeof){case i:return"Portal";case u:return(R.displayName||"Context")+".Provider";case c:return(R._context.displayName||"Context")+".Consumer";case h:var P=R.render;return R=R.displayName,R||(R=P.displayName||P.name||"",R=R!==""?"ForwardRef("+R+")":"ForwardRef"),R;case y:return P=R.displayName||null,P!==null?P:$s(R.type)||"Memo";case w:P=R._payload,R=R._init;try{return $s(R(P))}catch{}}return null}var Lo={},ga=null;function A(R,P){if(R!==P){R.context._currentValue=R.parentValue,R=R.parent;var K=P.parent;if(R===null){if(K!==null)throw Error(n(401))}else{if(K===null)throw Error(n(401));A(R,K)}P.context._currentValue=P.value}}function F(R){R.context._currentValue=R.parentValue,R=R.parent,R!==null&&F(R)}function Y(R){var P=R.parent;P!==null&&Y(P),R.context._currentValue=R.value}function oe(R,P){if(R.context._currentValue=R.parentValue,R=R.parent,R===null)throw Error(n(402));R.depth===P.depth?A(R,P):oe(R,P)}function ge(R,P){var K=P.parent;if(K===null)throw Error(n(402));R.depth===K.depth?A(R,K):ge(R,K),P.context._currentValue=P.value}function Ae(R){var P=ga;P!==R&&(P===null?Y(R):R===null?F(P):P.depth===R.depth?A(P,R):P.depth>R.depth?oe(P,R):ge(P,R),ga=R)}var Ue={enqueueSetState:function(R,P){R=R._reactInternals,R.queue!==null&&R.queue.push(P)},enqueueReplaceState:function(R,P){R=R._reactInternals,R.replace=!0,R.queue=[P]},enqueueForceUpdate:function(){}},St={id:1,overflow:""};function ct(R,P,K){var le=R.id;R=R.overflow;var pe=32-xt(le)-1;le&=~(1<<pe),K+=1;var ke=32-xt(P)+pe;if(30<ke){var ze=pe-pe%5;return ke=(le&(1<<ze)-1).toString(32),le>>=ze,pe-=ze,{id:1<<32-xt(P)+pe|K<<pe|le,overflow:ke+R}}return{id:1<<ke|K<<pe|le,overflow:R}}var xt=Math.clz32?Math.clz32:yn,Jt=Math.log,Kt=Math.LN2;function yn(R){return R>>>=0,R===0?32:31-(Jt(R)/Kt|0)|0}var An=Error(n(460));function _n(){}function Un(R,P,K){switch(K=R[K],K===void 0?R.push(P):K!==P&&(P.then(_n,_n),P=K),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(_n,_n):(R=P,R.status="pending",R.then(function(le){if(P.status==="pending"){var pe=P;pe.status="fulfilled",pe.value=le}},function(le){if(P.status==="pending"){var pe=P;pe.status="rejected",pe.reason=le}})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}throw pr=P,An}}var pr=null;function Nr(){if(pr===null)throw Error(n(459));var R=pr;return pr=null,R}function qr(R,P){return R===P&&(R!==0||1/R===1/P)||R!==R&&P!==P}var ii=typeof Object.is=="function"?Object.is:qr,En=null,ki=null,gr=null,xi=null,li=null,On=null,Gr=!1,ls=!1,Hi=0,Cs=0,eo=-1,$i=0,es=null,ts=null,ra=0;function zi(){if(En===null)throw Error(n(321));return En}function ma(){if(0<ra)throw Error(n(312));return{memoizedState:null,queue:null,next:null}}function pl(){return On===null?li===null?(Gr=!1,li=On=ma()):(Gr=!0,On=li):On.next===null?(Gr=!1,On=On.next=ma()):(Gr=!0,On=On.next),On}function cs(){var R=es;return es=null,R}function gl(){xi=gr=ki=En=null,ls=!1,li=null,ra=0,On=ts=null}function ia(R,P){return typeof P=="function"?P(R):P}function Hu(R,P,K){if(En=zi(),On=pl(),Gr){var le=On.queue;if(P=le.dispatch,ts!==null&&(K=ts.get(le),K!==void 0)){ts.delete(le),le=On.memoizedState;do le=R(le,K.action),K=K.next;while(K!==null);return On.memoizedState=le,[le,P]}return[On.memoizedState,P]}return R=R===ia?typeof P=="function"?P():P:K!==void 0?K(P):P,On.memoizedState=R,R=On.queue={last:null,dispatch:null},R=R.dispatch=Ds.bind(null,En,R),[On.memoizedState,R]}function ml(R,P){if(En=zi(),On=pl(),P=P===void 0?null:P,On!==null){var K=On.memoizedState;if(K!==null&&P!==null){var le=K[1];e:if(le===null)le=!1;else{for(var pe=0;pe<le.length&&pe<P.length;pe++)if(!ii(P[pe],le[pe])){le=!1;break e}le=!0}if(le)return K[0]}}return R=R(),On.memoizedState=[R,P],R}function Ds(R,P,K){if(25<=ra)throw Error(n(301));if(R===En)if(ls=!0,R={action:K,next:null},ts===null&&(ts=new Map),K=ts.get(P),K===void 0)ts.set(P,R);else{for(P=K;P.next!==null;)P=P.next;P.next=R}}function vh(){throw Error(n(394))}function fc(){throw Error(n(479))}function Xl(R,P,K){zi();var le=Cs++,pe=gr;if(typeof R.$$FORM_ACTION=="function"){var ke=null,ze=xi;pe=pe.formState;var ft=R.$$IS_SIGNATURE_EQUAL;if(pe!==null&&typeof ft=="function"){var We=pe[1];ft.call(R,pe[2],pe[3])&&(ke=K!==void 0?"p"+K:"k"+O(JSON.stringify([ze,null,le]),0),We===ke&&(eo=le,P=pe[0]))}var ot=R.bind(null,P);return R=function(kt){ot(kt)},typeof ot.$$FORM_ACTION=="function"&&(R.$$FORM_ACTION=function(kt){kt=ot.$$FORM_ACTION(kt),K!==void 0&&(K+="",kt.action=K);var gn=kt.data;return gn&&(ke===null&&(ke=K!==void 0?"p"+K:"k"+O(JSON.stringify([ze,null,le]),0)),gn.append("$ACTION_KEY",ke)),kt}),[P,R,!1]}var Yt=R.bind(null,P);return[P,function(kt){Yt(kt)},!1]}function pc(R){var P=$i;return $i+=1,es===null&&(es=[]),Un(es,R,P)}function g(){throw Error(n(393))}function C(){}var k={readContext:function(R){return R._currentValue},use:function(R){if(R!==null&&typeof R=="object"){if(typeof R.then=="function")return pc(R);if(R.$$typeof===u)return R._currentValue}throw Error(n(438,String(R)))},useContext:function(R){return zi(),R._currentValue},useMemo:ml,useReducer:Hu,useRef:function(R){En=zi(),On=pl();var P=On.memoizedState;return P===null?(R={current:R},On.memoizedState=R):P},useState:function(R){return Hu(ia,R)},useInsertionEffect:C,useLayoutEffect:C,useCallback:function(R,P){return ml(function(){return R},P)},useImperativeHandle:C,useEffect:C,useDebugValue:C,useDeferredValue:function(R,P){return zi(),P!==void 0?P:R},useTransition:function(){return zi(),[!1,vh]},useId:function(){var R=ki.treeContext,P=R.overflow;R=R.id,R=(R&~(1<<32-xt(R)-1)).toString(32)+P;var K=j;if(K===null)throw Error(n(404));return P=Hi++,R=""+K.idPrefix+"R"+R,0<P&&(R+="H"+P.toString(32)),R+""},useSyncExternalStore:function(R,P,K){if(K===void 0)throw Error(n(407));return K()},useOptimistic:function(R){return zi(),[R,fc]},useActionState:Xl,useFormState:Xl,useHostTransitionStatus:function(){return zi(),Le},useMemoCache:function(R){for(var P=Array(R),K=0;K<R;K++)P[K]=_;return P},useCacheRefresh:function(){return g}},j=null,ie={getCacheForType:function(){throw Error(n(248))}},we,Oe;function tt(R){if(we===void 0)try{throw Error()}catch(K){var P=K.stack.trim().match(/\n( *(at )?)/);we=P&&P[1]||"",Oe=-1<K.stack.indexOf(`
    at`)?" (<anonymous>)":-1<K.stack.indexOf("@")?"@unknown:0:0":""}return`
`+we+R+Oe}var mt=!1;function Nt(R,P){if(!R||mt)return"";mt=!0;var K=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var le={DetermineComponentFrameRoot:function(){try{if(P){var kt=function(){throw Error()};if(Object.defineProperty(kt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(kt,[])}catch(wn){var gn=wn}Reflect.construct(R,[],kt)}else{try{kt.call()}catch(wn){gn=wn}R.call(kt.prototype)}}else{try{throw Error()}catch(wn){gn=wn}(kt=R())&&typeof kt.catch=="function"&&kt.catch(function(){})}}catch(wn){if(wn&&gn&&typeof wn.stack=="string")return[wn.stack,gn.stack]}return[null,null]}};le.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var pe=Object.getOwnPropertyDescriptor(le.DetermineComponentFrameRoot,"name");pe&&pe.configurable&&Object.defineProperty(le.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var ke=le.DetermineComponentFrameRoot(),ze=ke[0],ft=ke[1];if(ze&&ft){var We=ze.split(`
`),ot=ft.split(`
`);for(pe=le=0;le<We.length&&!We[le].includes("DetermineComponentFrameRoot");)le++;for(;pe<ot.length&&!ot[pe].includes("DetermineComponentFrameRoot");)pe++;if(le===We.length||pe===ot.length)for(le=We.length-1,pe=ot.length-1;1<=le&&0<=pe&&We[le]!==ot[pe];)pe--;for(;1<=le&&0<=pe;le--,pe--)if(We[le]!==ot[pe]){if(le!==1||pe!==1)do if(le--,pe--,0>pe||We[le]!==ot[pe]){var Yt=`
`+We[le].replace(" at new "," at ");return R.displayName&&Yt.includes("<anonymous>")&&(Yt=Yt.replace("<anonymous>",R.displayName)),Yt}while(1<=le&&0<=pe);break}}}finally{mt=!1,Error.prepareStackTrace=K}return(K=R?R.displayName||R.name:"")?tt(K):""}function en(R){if(typeof R=="string")return tt(R);if(typeof R=="function")return R.prototype&&R.prototype.isReactComponent?Nt(R,!0):Nt(R,!1);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case h:return Nt(R.render,!1);case y:return Nt(R.type,!1);case w:var P=R,K=P._payload;P=P._init;try{R=P(K)}catch{return tt("Lazy")}return en(R)}if(typeof R.name=="string")return K=R.env,tt(R.name+(K?" ["+K+"]":""))}switch(R){case m:return tt("SuspenseList");case p:return tt("Suspense")}return""}function hn(R){if(typeof R=="object"&&R!==null&&typeof R.environmentName=="string"){var P=R.environmentName;R=[R].slice(0),typeof R[0]=="string"?R.splice(0,1,"%c%s%c "+R[0],"background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+P+" ",""):R.splice(0,0,"%c%s%c ","background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px"," "+P+" ",""),R.unshift(console),P=Gc.apply(console.error,R),P()}else console.error(R);return null}function un(){}function Vn(R,P,K,le,pe,ke,ze,ft,We,ot,Yt){var kt=new Set;this.destination=null,this.flushScheduled=!1,this.resumableState=R,this.renderState=P,this.rootFormatContext=K,this.progressiveChunkSize=le===void 0?12800:le,this.status=10,this.fatalError=null,this.pendingRootTasks=this.allPendingTasks=this.nextSegmentId=0,this.completedPreambleSegments=this.completedRootSegment=null,this.abortableTasks=kt,this.pingedTasks=[],this.clientRenderedBoundaries=[],this.completedBoundaries=[],this.partialBoundaries=[],this.trackedPostpones=null,this.onError=pe===void 0?hn:pe,this.onPostpone=ot===void 0?un:ot,this.onAllReady=ke===void 0?un:ke,this.onShellReady=ze===void 0?un:ze,this.onShellError=ft===void 0?un:ft,this.onFatalError=We===void 0?un:We,this.formState=Yt===void 0?null:Yt}function Yr(R,P,K,le,pe,ke,ze,ft,We,ot,Yt,kt){return P=new Vn(P,K,le,pe,ke,ze,ft,We,ot,Yt,kt),K=ya(P,0,null,le,!1,!1),K.parentFlushed=!0,R=Uc(P,null,R,-1,null,K,null,null,P.abortableTasks,null,le,null,St,null,!1),Ha(R),P.pingedTasks.push(R),P}function Qr(R,P,K,le,pe,ke,ze,ft,We,ot,Yt){return R=Yr(R,P,K,le,pe,ke,ze,ft,We,ot,Yt,void 0),R.trackedPostpones={workingMap:new Map,rootNodes:[],rootSlots:null},R}var Tr=null;function vo(R,P){R.pingedTasks.push(P),R.pingedTasks.length===1&&(R.flushScheduled=R.destination!==null,R.trackedPostpones!==null||R.status===10?Z(function(){return Kc(R)}):X(function(){return Kc(R)}))}function va(R,P,K,le){return{status:0,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,completedSegments:[],byteSize:0,fallbackAbortableTasks:P,errorDigest:null,contentState:ai(),fallbackState:ai(),contentPreamble:K,fallbackPreamble:le,trackedContentKeyPath:null,trackedFallbackNode:null}}function Uc(R,P,K,le,pe,ke,ze,ft,We,ot,Yt,kt,gn,wn,kn){R.allPendingTasks++,pe===null?R.pendingRootTasks++:pe.pendingTasks++;var Zn={replay:null,node:K,childIndex:le,ping:function(){return vo(R,Zn)},blockedBoundary:pe,blockedSegment:ke,blockedPreamble:ze,hoistableState:ft,abortSet:We,keyPath:ot,formatContext:Yt,context:kt,treeContext:gn,componentStack:wn,thenableState:P,isFallback:kn};return We.add(Zn),Zn}function Zl(R,P,K,le,pe,ke,ze,ft,We,ot,Yt,kt,gn,wn){R.allPendingTasks++,ke===null?R.pendingRootTasks++:ke.pendingTasks++,K.pendingTasks++;var kn={replay:K,node:le,childIndex:pe,ping:function(){return vo(R,kn)},blockedBoundary:ke,blockedSegment:null,blockedPreamble:null,hoistableState:ze,abortSet:ft,keyPath:We,formatContext:ot,context:Yt,treeContext:kt,componentStack:gn,thenableState:P,isFallback:wn};return ft.add(kn),kn}function ya(R,P,K,le,pe,ke){return{status:0,parentFlushed:!1,id:-1,index:P,chunks:[],children:[],preambleChildren:[],parentFormatContext:le,boundary:K,lastPushedText:pe,textEmbedded:ke}}function Ha(R){var P=R.node;if(typeof P=="object"&&P!==null)switch(P.$$typeof){case r:R.componentStack={parent:R.componentStack,type:P.type}}}function sa(R){var P={};return R&&Object.defineProperty(P,"componentStack",{configurable:!0,enumerable:!0,get:function(){try{var K="",le=R;do K+=en(le.type),le=le.parent;while(le);var pe=K}catch(ke){pe=`
Error generating stack: `+ke.message+`
`+ke.stack}return Object.defineProperty(P,"componentStack",{value:pe}),pe}}),P}function dr(R,P,K){if(R=R.onError,P=R(P,K),P==null||typeof P=="string")return P}function Fs(R,P){var K=R.onShellError,le=R.onFatalError;K(P),le(P),R.destination!==null?(R.status=14,te(R.destination,P)):(R.status=13,R.fatalError=P)}function za(R,P,K,le,pe,ke){var ze=P.thenableState;for(P.thenableState=null,En={},ki=P,gr=R,xi=K,Cs=Hi=0,eo=-1,$i=0,es=ze,R=le(pe,ke);ls;)ls=!1,Cs=Hi=0,eo=-1,$i=0,ra+=1,On=null,R=le(pe,ke);return gl(),R}function vl(R,P,K,le,pe,ke,ze){var ft=!1;if(ke!==0&&R.formState!==null){var We=P.blockedSegment;if(We!==null){ft=!0,We=We.chunks;for(var ot=0;ot<ke;ot++)ot===ze?We.push(Ot):We.push(Wt)}}ke=P.keyPath,P.keyPath=K,pe?(K=P.treeContext,P.treeContext=ct(K,1,0),Ca(R,P,le,-1),P.treeContext=K):ft?Ca(R,P,le,-1):Gi(R,P,le,-1),P.keyPath=ke}function No(R,P,K,le,pe,ke){if(typeof le=="function")if(le.prototype&&le.prototype.isReactComponent){var ze=pe;if("ref"in pe){ze={};for(var ft in pe)ft!=="ref"&&(ze[ft]=pe[ft])}var We=le.defaultProps;if(We){ze===pe&&(ze=J({},ze,pe));for(var ot in We)ze[ot]===void 0&&(ze[ot]=We[ot])}pe=ze,ze=Lo,We=le.contextType,typeof We=="object"&&We!==null&&(ze=We._currentValue),ze=new le(pe,ze);var Yt=ze.state!==void 0?ze.state:null;if(ze.updater=Ue,ze.props=pe,ze.state=Yt,We={queue:[],replace:!1},ze._reactInternals=We,ke=le.contextType,ze.context=typeof ke=="object"&&ke!==null?ke._currentValue:Lo,ke=le.getDerivedStateFromProps,typeof ke=="function"&&(ke=ke(pe,Yt),Yt=ke==null?Yt:J({},Yt,ke),ze.state=Yt),typeof le.getDerivedStateFromProps!="function"&&typeof ze.getSnapshotBeforeUpdate!="function"&&(typeof ze.UNSAFE_componentWillMount=="function"||typeof ze.componentWillMount=="function"))if(le=ze.state,typeof ze.componentWillMount=="function"&&ze.componentWillMount(),typeof ze.UNSAFE_componentWillMount=="function"&&ze.UNSAFE_componentWillMount(),le!==ze.state&&Ue.enqueueReplaceState(ze,ze.state,null),We.queue!==null&&0<We.queue.length)if(le=We.queue,ke=We.replace,We.queue=null,We.replace=!1,ke&&le.length===1)ze.state=le[0];else{for(We=ke?le[0]:ze.state,Yt=!0,ke=ke?1:0;ke<le.length;ke++)ot=le[ke],ot=typeof ot=="function"?ot.call(ze,We,pe,void 0):ot,ot!=null&&(Yt?(Yt=!1,We=J({},We,ot)):J(We,ot));ze.state=We}else We.queue=null;if(le=ze.render(),R.status===12)throw null;pe=P.keyPath,P.keyPath=K,Gi(R,P,le,-1),P.keyPath=pe}else{if(le=za(R,P,K,le,pe,void 0),R.status===12)throw null;vl(R,P,K,le,Hi!==0,Cs,eo)}else if(typeof le=="string")if(ze=P.blockedSegment,ze===null)ze=pe.children,We=P.formatContext,Yt=P.keyPath,P.formatContext=Qi(We,le,pe),P.keyPath=K,Ca(R,P,ze,-1),P.formatContext=We,P.keyPath=Yt;else{ke=Hr(ze.chunks,le,pe,R.resumableState,R.renderState,P.blockedPreamble,P.hoistableState,P.formatContext,ze.lastPushedText,P.isFallback),ze.lastPushedText=!1,We=P.formatContext,Yt=P.keyPath,P.keyPath=K,(P.formatContext=Qi(We,le,pe)).insertionMode===3?(K=ya(R,0,null,P.formatContext,!1,!1),ze.preambleChildren.push(K),K=Uc(R,null,ke,-1,P.blockedBoundary,K,P.blockedPreamble,P.hoistableState,R.abortableTasks,P.keyPath,P.formatContext,P.context,P.treeContext,P.componentStack,P.isFallback),Ha(K),R.pingedTasks.push(K)):Ca(R,P,ke,-1),P.formatContext=We,P.keyPath=Yt;e:{switch(P=ze.chunks,R=R.resumableState,le){case"title":case"style":case"script":case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break e;case"body":if(1>=We.insertionMode){R.hasBody=!0;break e}break;case"html":if(We.insertionMode===0){R.hasHtml=!0;break e}break;case"head":if(1>=We.insertionMode)break e}P.push(vs(le))}ze.lastPushedText=!1}else{switch(le){case E:case o:case a:case s:le=P.keyPath,P.keyPath=K,Gi(R,P,pe.children,-1),P.keyPath=le;return;case S:pe.mode!=="hidden"&&(le=P.keyPath,P.keyPath=K,Gi(R,P,pe.children,-1),P.keyPath=le);return;case m:le=P.keyPath,P.keyPath=K,Gi(R,P,pe.children,-1),P.keyPath=le;return;case N:case b:throw Error(n(343));case p:e:if(P.replay!==null){le=P.keyPath,P.keyPath=K,K=pe.children;try{Ca(R,P,K,-1)}finally{P.keyPath=le}}else{le=P.keyPath;var kt=P.blockedBoundary;ke=P.blockedPreamble;var gn=P.hoistableState;ot=P.blockedSegment,ft=pe.fallback,pe=pe.children;var wn=new Set,kn=2>P.formatContext.insertionMode?va(R,wn,xn(),xn()):va(R,wn,null,null);R.trackedPostpones!==null&&(kn.trackedContentKeyPath=K);var Zn=ya(R,ot.chunks.length,kn,P.formatContext,!1,!1);ot.children.push(Zn),ot.lastPushedText=!1;var gi=ya(R,0,null,P.formatContext,!1,!1);if(gi.parentFlushed=!0,R.trackedPostpones!==null){ze=[K[0],"Suspense Fallback",K[2]],We=[ze[1],ze[2],[],null],R.trackedPostpones.workingMap.set(ze,We),kn.trackedFallbackNode=We,P.blockedSegment=Zn,P.blockedPreamble=kn.fallbackPreamble,P.keyPath=ze,Zn.status=6;try{Ca(R,P,ft,-1),Zn.lastPushedText&&Zn.textEmbedded&&Zn.chunks.push(Ni),Zn.status=1}catch(Pi){throw Zn.status=R.status===12?3:4,Pi}finally{P.blockedSegment=ot,P.blockedPreamble=ke,P.keyPath=le}P=Uc(R,null,pe,-1,kn,gi,kn.contentPreamble,kn.contentState,P.abortSet,K,P.formatContext,P.context,P.treeContext,P.componentStack,P.isFallback),Ha(P),R.pingedTasks.push(P)}else{P.blockedBoundary=kn,P.blockedPreamble=kn.contentPreamble,P.hoistableState=kn.contentState,P.blockedSegment=gi,P.keyPath=K,gi.status=6;try{if(Ca(R,P,pe,-1),gi.lastPushedText&&gi.textEmbedded&&gi.chunks.push(Ni),gi.status=1,wl(kn,gi),kn.pendingTasks===0&&kn.status===0){kn.status=1,R.pendingRootTasks===0&&P.blockedPreamble&&Cl(R);break e}}catch(Pi){kn.status=4,R.status===12?(gi.status=3,ze=R.fatalError):(gi.status=4,ze=Pi),We=sa(P.componentStack),Yt=dr(R,ze,We),kn.errorDigest=Yt,wa(R,kn)}finally{P.blockedBoundary=kt,P.blockedPreamble=ke,P.hoistableState=gn,P.blockedSegment=ot,P.keyPath=le}P=Uc(R,null,ft,-1,kt,Zn,kn.fallbackPreamble,kn.fallbackState,wn,[K[0],"Suspense Fallback",K[2]],P.formatContext,P.context,P.treeContext,P.componentStack,!0),Ha(P),R.pingedTasks.push(P)}}return}if(typeof le=="object"&&le!==null)switch(le.$$typeof){case h:if("ref"in pe)for(kn in ze={},pe)kn!=="ref"&&(ze[kn]=pe[kn]);else ze=pe;le=za(R,P,K,le.render,ze,ke),vl(R,P,K,le,Hi!==0,Cs,eo);return;case y:No(R,P,K,le.type,pe,ke);return;case l:case u:if(We=pe.children,ze=P.keyPath,pe=pe.value,Yt=le._currentValue,le._currentValue=pe,ke=ga,ga=le={parent:ke,depth:ke===null?0:ke.depth+1,context:le,parentValue:Yt,value:pe},P.context=le,P.keyPath=K,Gi(R,P,We,-1),R=ga,R===null)throw Error(n(403));R.context._currentValue=R.parentValue,R=ga=R.parent,P.context=R,P.keyPath=ze;return;case c:pe=pe.children,le=pe(le._context._currentValue),pe=P.keyPath,P.keyPath=K,Gi(R,P,le,-1),P.keyPath=pe;return;case w:if(ze=le._init,le=ze(le._payload),R.status===12)throw null;No(R,P,K,le,pe,ke);return}throw Error(n(130,le==null?le:typeof le,""))}}function Wc(R,P,K,le,pe){var ke=P.replay,ze=P.blockedBoundary,ft=ya(R,0,null,P.formatContext,!1,!1);ft.id=K,ft.parentFlushed=!0;try{P.replay=null,P.blockedSegment=ft,Ca(R,P,le,pe),ft.status=1,ze===null?R.completedRootSegment=ft:(wl(ze,ft),ze.parentFlushed&&R.partialBoundaries.push(ze))}finally{P.replay=ke,P.blockedSegment=null}}function Gi(R,P,K,le){P.replay!==null&&typeof P.replay.slots=="number"?Wc(R,P,P.replay.slots,K,le):(P.node=K,P.childIndex=le,K=P.componentStack,Ha(P),yl(R,P),P.componentStack=K)}function yl(R,P){var K=P.node,le=P.childIndex;if(K!==null){if(typeof K=="object"){switch(K.$$typeof){case r:var pe=K.type,ke=K.key,ze=K.props;K=ze.ref;var ft=K!==void 0?K:null,We=$s(pe),ot=ke??(le===-1?0:le);if(ke=[P.keyPath,We,ot],P.replay!==null)e:{var Yt=P.replay;for(le=Yt.nodes,K=0;K<le.length;K++){var kt=le[K];if(ot===kt[1]){if(kt.length===4){if(We!==null&&We!==kt[0])throw Error(n(490,kt[0],We));var gn=kt[2];We=kt[3],ot=P.node,P.replay={nodes:gn,slots:We,pendingTasks:1};try{if(No(R,P,ke,pe,ze,ft),P.replay.pendingTasks===1&&0<P.replay.nodes.length)throw Error(n(488));P.replay.pendingTasks--}catch(ns){if(typeof ns=="object"&&ns!==null&&(ns===An||typeof ns.then=="function"))throw P.node===ot&&(P.replay=Yt),ns;P.replay.pendingTasks--,ze=sa(P.componentStack),ke=P.blockedBoundary,pe=ns,ze=dr(R,pe,ze),Id(R,ke,gn,We,pe,ze)}P.replay=Yt}else{if(pe!==p)throw Error(n(490,"Suspense",$s(pe)||"Unknown"));t:{Yt=void 0,pe=kt[5],ft=kt[2],We=kt[3],ot=kt[4]===null?[]:kt[4][2],kt=kt[4]===null?null:kt[4][3];var wn=P.keyPath,kn=P.replay,Zn=P.blockedBoundary,gi=P.hoistableState,Pi=ze.children,Cr=ze.fallback,yo=new Set;ze=2>P.formatContext.insertionMode?va(R,yo,xn(),xn()):va(R,yo,null,null),ze.parentFlushed=!0,ze.rootSegmentID=pe,P.blockedBoundary=ze,P.hoistableState=ze.contentState,P.keyPath=ke,P.replay={nodes:ft,slots:We,pendingTasks:1};try{if(Ca(R,P,Pi,-1),P.replay.pendingTasks===1&&0<P.replay.nodes.length)throw Error(n(488));if(P.replay.pendingTasks--,ze.pendingTasks===0&&ze.status===0){ze.status=1,R.completedBoundaries.push(ze);break t}}catch(ns){ze.status=4,gn=sa(P.componentStack),Yt=dr(R,ns,gn),ze.errorDigest=Yt,P.replay.pendingTasks--,R.clientRenderedBoundaries.push(ze)}finally{P.blockedBoundary=Zn,P.hoistableState=gi,P.replay=kn,P.keyPath=wn}P=Zl(R,null,{nodes:ot,slots:kt,pendingTasks:0},Cr,-1,Zn,ze.fallbackState,yo,[ke[0],"Suspense Fallback",ke[2]],P.formatContext,P.context,P.treeContext,P.componentStack,!0),Ha(P),R.pingedTasks.push(P)}}le.splice(K,1);break e}}}else No(R,P,ke,pe,ze,ft);return;case i:throw Error(n(257));case w:if(gn=K._init,K=gn(K._payload),R.status===12)throw null;Gi(R,P,K,le);return}if(M(K)){gc(R,P,K,le);return}if(K===null||typeof K!="object"?gn=null:(gn=V&&K[V]||K["@@iterator"],gn=typeof gn=="function"?gn:null),gn&&(gn=gn.call(K))){if(K=gn.next(),!K.done){ze=[];do ze.push(K.value),K=gn.next();while(!K.done);gc(R,P,ze,le)}return}if(typeof K.then=="function")return P.thenableState=null,Gi(R,P,pc(K),le);if(K.$$typeof===u)return Gi(R,P,K._currentValue,le);throw le=Object.prototype.toString.call(K),Error(n(31,le==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":le))}typeof K=="string"?(le=P.blockedSegment,le!==null&&(le.lastPushedText=is(le.chunks,K,R.renderState,le.lastPushedText))):(typeof K=="number"||typeof K=="bigint")&&(le=P.blockedSegment,le!==null&&(le.lastPushedText=is(le.chunks,""+K,R.renderState,le.lastPushedText)))}}function gc(R,P,K,le){var pe=P.keyPath;if(le!==-1&&(P.keyPath=[P.keyPath,"Fragment",le],P.replay!==null)){for(var ke=P.replay,ze=ke.nodes,ft=0;ft<ze.length;ft++){var We=ze[ft];if(We[1]===le){le=We[2],We=We[3],P.replay={nodes:le,slots:We,pendingTasks:1};try{if(gc(R,P,K,-1),P.replay.pendingTasks===1&&0<P.replay.nodes.length)throw Error(n(488));P.replay.pendingTasks--}catch(kt){if(typeof kt=="object"&&kt!==null&&(kt===An||typeof kt.then=="function"))throw kt;P.replay.pendingTasks--,K=sa(P.componentStack);var ot=P.blockedBoundary,Yt=kt;K=dr(R,Yt,K),Id(R,ot,le,We,Yt,K)}P.replay=ke,ze.splice(ft,1);break}}P.keyPath=pe;return}if(ke=P.treeContext,ze=K.length,P.replay!==null&&(ft=P.replay.slots,ft!==null&&typeof ft=="object")){for(le=0;le<ze;le++)We=K[le],P.treeContext=ct(ke,ze,le),ot=ft[le],typeof ot=="number"?(Wc(R,P,ot,We,le),delete ft[le]):Ca(R,P,We,le);P.treeContext=ke,P.keyPath=pe;return}for(ft=0;ft<ze;ft++)le=K[ft],P.treeContext=ct(ke,ze,ft),Ca(R,P,le,ft);P.treeContext=ke,P.keyPath=pe}function wa(R,P){R=R.trackedPostpones,R!==null&&(P=P.trackedContentKeyPath,P!==null&&(P=R.workingMap.get(P),P!==void 0&&(P.length=4,P[2]=[],P[3]=null)))}function Is(R,P,K){return Zl(R,K,P.replay,P.node,P.childIndex,P.blockedBoundary,P.hoistableState,P.abortSet,P.keyPath,P.formatContext,P.context,P.treeContext,P.componentStack,P.isFallback)}function zu(R,P,K){var le=P.blockedSegment,pe=ya(R,le.chunks.length,null,P.formatContext,le.lastPushedText,!0);return le.children.push(pe),le.lastPushedText=!1,Uc(R,K,P.node,P.childIndex,P.blockedBoundary,pe,P.blockedPreamble,P.hoistableState,P.abortSet,P.keyPath,P.formatContext,P.context,P.treeContext,P.componentStack,P.isFallback)}function Ca(R,P,K,le){var pe=P.formatContext,ke=P.context,ze=P.keyPath,ft=P.treeContext,We=P.componentStack,ot=P.blockedSegment;if(ot===null)try{return Gi(R,P,K,le)}catch(gn){if(gl(),K=gn===An?Nr():gn,typeof K=="object"&&K!==null){if(typeof K.then=="function"){le=cs(),R=Is(R,P,le).ping,K.then(R,R),P.formatContext=pe,P.context=ke,P.keyPath=ze,P.treeContext=ft,P.componentStack=We,Ae(ke);return}if(K.message==="Maximum call stack size exceeded"){K=cs(),K=Is(R,P,K),R.pingedTasks.push(K),P.formatContext=pe,P.context=ke,P.keyPath=ze,P.treeContext=ft,P.componentStack=We,Ae(ke);return}}}else{var Yt=ot.children.length,kt=ot.chunks.length;try{return Gi(R,P,K,le)}catch(gn){if(gl(),ot.children.length=Yt,ot.chunks.length=kt,K=gn===An?Nr():gn,typeof K=="object"&&K!==null){if(typeof K.then=="function"){le=cs(),R=zu(R,P,le).ping,K.then(R,R),P.formatContext=pe,P.context=ke,P.keyPath=ze,P.treeContext=ft,P.componentStack=We,Ae(ke);return}if(K.message==="Maximum call stack size exceeded"){K=cs(),K=zu(R,P,K),R.pingedTasks.push(K),P.formatContext=pe,P.context=ke,P.keyPath=ze,P.treeContext=ft,P.componentStack=We,Ae(ke);return}}}}throw P.formatContext=pe,P.context=ke,P.keyPath=ze,P.treeContext=ft,Ae(ke),K}function fv(R){var P=R.blockedBoundary;R=R.blockedSegment,R!==null&&(R.status=3,Md(this,P,R))}function Id(R,P,K,le,pe,ke){for(var ze=0;ze<K.length;ze++){var ft=K[ze];if(ft.length===4)Id(R,P,ft[2],ft[3],pe,ke);else{ft=ft[5];var We=R,ot=ke,Yt=va(We,new Set,null,null);Yt.parentFlushed=!0,Yt.rootSegmentID=ft,Yt.status=4,Yt.errorDigest=ot,Yt.parentFlushed&&We.clientRenderedBoundaries.push(Yt)}}if(K.length=0,le!==null){if(P===null)throw Error(n(487));if(P.status!==4&&(P.status=4,P.errorDigest=ke,P.parentFlushed&&R.clientRenderedBoundaries.push(P)),typeof le=="object")for(var kt in le)delete le[kt]}}function om(R,P,K){var le=R.blockedBoundary,pe=R.blockedSegment;if(pe!==null){if(pe.status===6)return;pe.status=3}if(pe=sa(R.componentStack),le===null){if(P.status!==13&&P.status!==14){if(le=R.replay,le===null){dr(P,K,pe),Fs(P,K);return}le.pendingTasks--,le.pendingTasks===0&&0<le.nodes.length&&(R=dr(P,K,pe),Id(P,null,le.nodes,le.slots,K,R)),P.pendingRootTasks--,P.pendingRootTasks===0&&Gu(P)}}else le.pendingTasks--,le.status!==4&&(le.status=4,R=dr(P,K,pe),le.status=4,le.errorDigest=R,wa(P,le),le.parentFlushed&&P.clientRenderedBoundaries.push(le)),le.fallbackAbortableTasks.forEach(function(ke){return om(ke,P,K)}),le.fallbackAbortableTasks.clear();P.allPendingTasks--,P.allPendingTasks===0&&jc(P)}function Ui(R,P){try{var K=R.renderState,le=K.onHeaders;if(le){var pe=K.headers;if(pe){K.headers=null;var ke=pe.preconnects;if(pe.fontPreloads&&(ke&&(ke+=", "),ke+=pe.fontPreloads),pe.highImagePreloads&&(ke&&(ke+=", "),ke+=pe.highImagePreloads),!P){var ze=K.styles.values(),ft=ze.next();e:for(;0<pe.remainingCapacity&&!ft.done;ft=ze.next())for(var We=ft.value.sheets.values(),ot=We.next();0<pe.remainingCapacity&&!ot.done;ot=We.next()){var Yt=ot.value,kt=Yt.props,gn=kt.href,wn=Yt.props,kn=fl(wn.href,"style",{crossOrigin:wn.crossOrigin,integrity:wn.integrity,nonce:wn.nonce,type:wn.type,fetchPriority:wn.fetchPriority,referrerPolicy:wn.referrerPolicy,media:wn.media});if(0<=(pe.remainingCapacity-=kn.length+2))K.resets.style[gn]=nt,ke&&(ke+=", "),ke+=kn,K.resets.style[gn]=typeof kt.crossOrigin=="string"||typeof kt.integrity=="string"?[kt.crossOrigin,kt.integrity]:nt;else break e}}le(ke?{Link:ke}:{})}}}catch(Zn){dr(R,Zn,{})}}function Gu(R){R.trackedPostpones===null&&Ui(R,!0),R.trackedPostpones===null&&Cl(R),R.onShellError=un,R=R.onShellReady,R()}function jc(R){Ui(R,R.trackedPostpones===null?!0:R.completedRootSegment===null||R.completedRootSegment.status!==5),Cl(R),R=R.onAllReady,R()}function wl(R,P){if(P.chunks.length===0&&P.children.length===1&&P.children[0].boundary===null&&P.children[0].id===-1){var K=P.children[0];K.id=P.id,K.parentFlushed=!0,K.status===1&&wl(R,K)}else R.completedSegments.push(P)}function Md(R,P,K){if(P===null){if(K!==null&&K.parentFlushed){if(R.completedRootSegment!==null)throw Error(n(389));R.completedRootSegment=K}R.pendingRootTasks--,R.pendingRootTasks===0&&Gu(R)}else P.pendingTasks--,P.status!==4&&(P.pendingTasks===0?(P.status===0&&(P.status=1),K!==null&&K.parentFlushed&&K.status===1&&wl(P,K),P.parentFlushed&&R.completedBoundaries.push(P),P.status===1&&(P.fallbackAbortableTasks.forEach(fv,R),P.fallbackAbortableTasks.clear(),R.pendingRootTasks===0&&R.trackedPostpones===null&&P.contentPreamble!==null&&Cl(R))):K!==null&&K.parentFlushed&&K.status===1&&(wl(P,K),P.completedSegments.length===1&&P.parentFlushed&&R.partialBoundaries.push(P)));R.allPendingTasks--,R.allPendingTasks===0&&jc(R)}function Kc(R){if(R.status!==14&&R.status!==13){var P=ga,K=ve.H;ve.H=k;var le=ve.A;ve.A=ie;var pe=Tr;Tr=R;var ke=j;j=R.resumableState;try{var ze=R.pingedTasks,ft;for(ft=0;ft<ze.length;ft++){var We=ze[ft],ot=R,Yt=We.blockedSegment;if(Yt===null){var kt=ot;if(We.replay.pendingTasks!==0){Ae(We.context);try{if(typeof We.replay.slots=="number"?Wc(kt,We,We.replay.slots,We.node,We.childIndex):yl(kt,We),We.replay.pendingTasks===1&&0<We.replay.nodes.length)throw Error(n(488));We.replay.pendingTasks--,We.abortSet.delete(We),Md(kt,We.blockedBoundary,null)}catch(us){gl();var gn=us===An?Nr():us;if(typeof gn=="object"&&gn!==null&&typeof gn.then=="function"){var wn=We.ping;gn.then(wn,wn),We.thenableState=cs()}else{We.replay.pendingTasks--,We.abortSet.delete(We);var kn=sa(We.componentStack);ot=void 0;var Zn=kt,gi=We.blockedBoundary,Pi=kt.status===12?kt.fatalError:gn,Cr=We.replay.nodes,yo=We.replay.slots;ot=dr(Zn,Pi,kn),Id(Zn,gi,Cr,yo,Pi,ot),kt.pendingRootTasks--,kt.pendingRootTasks===0&&Gu(kt),kt.allPendingTasks--,kt.allPendingTasks===0&&jc(kt)}}finally{}}}else if(kt=void 0,Zn=Yt,Zn.status===0){Zn.status=6,Ae(We.context);var ns=Zn.children.length,Bo=Zn.chunks.length;try{yl(ot,We),Zn.lastPushedText&&Zn.textEmbedded&&Zn.chunks.push(Ni),We.abortSet.delete(We),Zn.status=1,Md(ot,We.blockedBoundary,Zn)}catch(us){gl(),Zn.children.length=ns,Zn.chunks.length=Bo;var Wi=us===An?Nr():ot.status===12?ot.fatalError:us;if(typeof Wi=="object"&&Wi!==null&&typeof Wi.then=="function"){Zn.status=0,We.thenableState=cs();var Wn=We.ping;Wi.then(Wn,Wn)}else{var mr=sa(We.componentStack);We.abortSet.delete(We),Zn.status=4;var yr=We.blockedBoundary;kt=dr(ot,Wi,mr),yr===null?Fs(ot,Wi):(yr.pendingTasks--,yr.status!==4&&(yr.status=4,yr.errorDigest=kt,wa(ot,yr),yr.parentFlushed&&ot.clientRenderedBoundaries.push(yr),ot.pendingRootTasks===0&&ot.trackedPostpones===null&&yr.contentPreamble!==null&&Cl(ot))),ot.allPendingTasks--,ot.allPendingTasks===0&&jc(ot)}}finally{}}}ze.splice(0,ft),R.destination!==null&&yh(R,R.destination)}catch(us){dr(R,us,{}),Fs(R,us)}finally{j=ke,ve.H=K,ve.A=le,K===k&&Ae(P),Tr=pe}}}function Yc(R,P,K){P.preambleChildren.length&&K.push(P.preambleChildren);for(var le=!1,pe=0;pe<P.children.length;pe++)le=Ef(R,P.children[pe],K)||le;return le}function Ef(R,P,K){var le=P.boundary;if(le===null)return Yc(R,P,K);var pe=le.contentPreamble,ke=le.fallbackPreamble;if(pe===null||ke===null)return!1;switch(le.status){case 1:if(ol(R.renderState,pe),P=le.completedSegments[0],!P)throw Error(n(391));return Yc(R,P,K);case 5:if(R.trackedPostpones!==null)return!0;case 4:if(P.status===1)return ol(R.renderState,ke),Yc(R,P,K);default:return!0}}function Cl(R){if(R.completedRootSegment&&R.completedPreambleSegments===null){var P=[],K=Ef(R,R.completedRootSegment,P),le=R.renderState.preamble;(K===!1||le.headChunks&&le.bodyChunks)&&(R.completedPreambleSegments=P)}}function Xc(R,P,K,le){switch(K.parentFlushed=!0,K.status){case 0:K.id=R.nextSegmentId++;case 5:return le=K.id,K.lastPushedText=!1,K.textEmbedded=!1,R=R.renderState,se(P,zn),se(P,R.placeholderPrefix),R=W(le.toString(16)),se(P,R),ue(P,Zr);case 1:K.status=2;var pe=!0,ke=K.chunks,ze=0;K=K.children;for(var ft=0;ft<K.length;ft++){for(pe=K[ft];ze<pe.index;ze++)se(P,ke[ze]);pe=Od(R,P,pe,le)}for(;ze<ke.length-1;ze++)se(P,ke[ze]);return ze<ke.length&&(pe=ue(P,ke[ze])),pe;default:throw Error(n(390))}}function Od(R,P,K,le){var pe=K.boundary;if(pe===null)return Xc(R,P,K,le);if(pe.parentFlushed=!0,pe.status===4){var ke=pe.errorDigest;return ue(P,ko),se(P,fo),ke&&(se(P,Ks),se(P,W(Se(ke))),se(P,Bn)),ue(P,Ys),Xc(R,P,K,le),(R=pe.fallbackPreamble)&&Ma(P,R),ue(P,ho)}if(pe.status!==1)return pe.status===0&&(pe.rootSegmentID=R.nextSegmentId++),0<pe.completedSegments.length&&R.partialBoundaries.push(pe),ha(P,R.renderState,pe.rootSegmentID),le&&(pe=pe.fallbackState,pe.styles.forEach(_f,le),pe.stylesheets.forEach(na,le)),Xc(R,P,K,le),ue(P,ho);if(pe.byteSize>R.progressiveChunkSize)return pe.rootSegmentID=R.nextSegmentId++,R.completedBoundaries.push(pe),ha(P,R.renderState,pe.rootSegmentID),Xc(R,P,K,le),ue(P,ho);if(le&&(K=pe.contentState,K.styles.forEach(_f,le),K.stylesheets.forEach(na,le)),ue(P,Du),K=pe.completedSegments,K.length!==1)throw Error(n(391));return Od(R,P,K[0],le),(R=pe.contentPreamble)&&Ma(P,R),ue(P,ho)}function Ga(R,P,K,le){return ss(P,R.renderState,K.parentFormatContext,K.id),Od(R,P,K,le),Dr(P,K.parentFormatContext)}function Ld(R,P,K){for(var le=K.completedSegments,pe=0;pe<le.length;pe++)Zc(R,P,K,le[pe]);le.length=0,hl(P,K.contentState,R.renderState),le=R.resumableState,R=R.renderState,pe=K.rootSegmentID,K=K.contentState;var ke=R.stylesToHoist;return R.stylesToHoist=!1,se(P,R.startInlineScript),ke?(le.instructions&2)===0?(le.instructions|=10,se(P,Ns)):(le.instructions&8)===0?(le.instructions|=8,se(P,Qs)):se(P,Iu):(le.instructions&2)===0?(le.instructions|=2,se(P,or)):se(P,al),le=W(pe.toString(16)),se(P,R.boundaryPrefix),se(P,le),se(P,ph),se(P,R.segmentPrefix),se(P,le),ke?(se(P,jl),Er(P,K)):se(P,ll),K=ue(P,Vc),uo(P,R)&&K}function Zc(R,P,K,le){if(le.status===2)return!0;var pe=K.contentState,ke=le.id;if(ke===-1){if((le.id=K.rootSegmentID)===-1)throw Error(n(392));return Ga(R,P,le,pe)}return ke===K.rootSegmentID?Ga(R,P,le,pe):(Ga(R,P,le,pe),K=R.resumableState,R=R.renderState,se(P,R.startInlineScript),(K.instructions&1)===0?(K.instructions|=1,se(P,fa)):se(P,$o),se(P,R.segmentPrefix),ke=W(ke.toString(16)),se(P,ke),se(P,Pd),se(P,R.placeholderPrefix),se(P,ke),P=ue(P,uc),P)}function yh(R,P){q=new Uint8Array(2048),me=0;try{if(!(0<R.pendingRootTasks)){var K,le=R.completedRootSegment;if(le!==null){if(le.status===5)return;var pe=R.completedPreambleSegments;if(pe===null)return;var ke=R.renderState,ze=ke.preamble,ft=ze.htmlChunks,We=ze.headChunks,ot;if(ft){for(ot=0;ot<ft.length;ot++)se(P,ft[ot]);if(We)for(ot=0;ot<We.length;ot++)se(P,We[ot]);else se(P,ur("head")),se(P,Ee)}else if(We)for(ot=0;ot<We.length;ot++)se(P,We[ot]);var Yt=ke.charsetChunks;for(ot=0;ot<Yt.length;ot++)se(P,Yt[ot]);Yt.length=0,ke.preconnects.forEach(os,P),ke.preconnects.clear();var kt=ke.viewportChunks;for(ot=0;ot<kt.length;ot++)se(P,kt[ot]);kt.length=0,ke.fontPreloads.forEach(os,P),ke.fontPreloads.clear(),ke.highImagePreloads.forEach(os,P),ke.highImagePreloads.clear(),ke.styles.forEach(ae,P);var gn=ke.importMapChunks;for(ot=0;ot<gn.length;ot++)se(P,gn[ot]);gn.length=0,ke.bootstrapScripts.forEach(os,P),ke.scripts.forEach(os,P),ke.scripts.clear(),ke.bulkPreloads.forEach(os,P),ke.bulkPreloads.clear();var wn=ke.hoistableChunks;for(ot=0;ot<wn.length;ot++)se(P,wn[ot]);for(ke=wn.length=0;ke<pe.length;ke++){var kn=pe[ke];for(ze=0;ze<kn.length;ze++)Od(R,P,kn[ze],null)}var Zn=R.renderState.preamble,gi=Zn.headChunks;(Zn.htmlChunks||gi)&&se(P,vs("head"));var Pi=Zn.bodyChunks;if(Pi)for(pe=0;pe<Pi.length;pe++)se(P,Pi[pe]);Od(R,P,le,null),R.completedRootSegment=null,uo(P,R.renderState)}var Cr=R.renderState;le=0;var yo=Cr.viewportChunks;for(le=0;le<yo.length;le++)se(P,yo[le]);yo.length=0,Cr.preconnects.forEach(os,P),Cr.preconnects.clear(),Cr.fontPreloads.forEach(os,P),Cr.fontPreloads.clear(),Cr.highImagePreloads.forEach(os,P),Cr.highImagePreloads.clear(),Cr.styles.forEach(st,P),Cr.scripts.forEach(os,P),Cr.scripts.clear(),Cr.bulkPreloads.forEach(os,P),Cr.bulkPreloads.clear();var ns=Cr.hoistableChunks;for(le=0;le<ns.length;le++)se(P,ns[le]);ns.length=0;var Bo=R.clientRenderedBoundaries;for(K=0;K<Bo.length;K++){var Wi=Bo[K];Cr=P;var Wn=R.resumableState,mr=R.renderState,yr=Wi.rootSegmentID,us=Wi.errorDigest;se(Cr,mr.startInlineScript),(Wn.instructions&4)===0?(Wn.instructions|=4,se(Cr,Kl)):se(Cr,gh),se(Cr,mr.boundaryPrefix),se(Cr,W(yr.toString(16))),se(Cr,cl),us&&(se(Cr,mh),se(Cr,W(dc(us||""))));var mi=ue(Cr,ws);if(!mi){R.destination=null,K++,Bo.splice(0,K);return}}Bo.splice(0,K);var ds=R.completedBoundaries;for(K=0;K<ds.length;K++)if(!Ld(R,P,ds[K])){R.destination=null,K++,ds.splice(0,K);return}ds.splice(0,K),Pe(P),q=new Uint8Array(2048),me=0;var Jc=R.partialBoundaries;for(K=0;K<Jc.length;K++){var xl=Jc[K];e:{Bo=R,Wi=P;var Ua=xl.completedSegments;for(mi=0;mi<Ua.length;mi++)if(!Zc(Bo,Wi,xl,Ua[mi])){mi++,Ua.splice(0,mi);var Ch=!1;break e}Ua.splice(0,mi),Ch=hl(Wi,xl.contentState,Bo.renderState)}if(!Ch){R.destination=null,K++,Jc.splice(0,K);return}}Jc.splice(0,K);var Di=R.completedBoundaries;for(K=0;K<Di.length;K++)if(!Ld(R,P,Di[K])){R.destination=null,K++,Di.splice(0,K);return}Di.splice(0,K)}}finally{R.allPendingTasks===0&&R.pingedTasks.length===0&&R.clientRenderedBoundaries.length===0&&R.completedBoundaries.length===0?(R.flushScheduled=!1,K=R.resumableState,K.hasBody&&se(P,vs("body")),K.hasHtml&&se(P,vs("html")),Pe(P),R.status=14,P.close(),R.destination=null):Pe(P)}}function bl(R){R.flushScheduled=R.destination!==null,Z(function(){return Kc(R)}),X(function(){R.status===10&&(R.status=11),R.trackedPostpones===null&&Ui(R,R.pendingRootTasks===0)})}function qc(R){R.flushScheduled===!1&&R.pingedTasks.length===0&&R.destination!==null&&(R.flushScheduled=!0,X(function(){var P=R.destination;P?yh(R,P):R.flushScheduled=!1}))}function mc(R,P){if(R.status===13)R.status=14,te(P,R.fatalError);else if(R.status!==14&&R.destination===null){R.destination=P;try{yh(R,P)}catch(K){dr(R,K,{}),Fs(R,K)}}}function Qc(R,P){(R.status===11||R.status===10)&&(R.status=12);try{var K=R.abortableTasks;if(0<K.size){var le=P===void 0?Error(n(432)):typeof P=="object"&&P!==null&&typeof P.then=="function"?Error(n(530)):P;R.fatalError=le,K.forEach(function(pe){return om(pe,R,le)}),K.clear()}R.destination!==null&&yh(R,R.destination)}catch(pe){dr(R,pe,{}),Fs(R,pe)}}function wh(){var R=e.version;if(R!=="19.1.1")throw Error(n(527,R,"19.1.1"))}return wh(),wh(),ub.prerender=function(R,P){return new Promise(function(K,le){var pe=P?P.onHeaders:void 0,ke;pe&&(ke=function(Yt){pe(new Headers(Yt))});var ze=Kr(P?P.identifierPrefix:void 0,P?P.unstable_externalRuntimeSrc:void 0,P?P.bootstrapScriptContent:void 0,P?P.bootstrapScripts:void 0,P?P.bootstrapModules:void 0),ft=Qr(R,ze,Pr(ze,void 0,P?P.unstable_externalRuntimeSrc:void 0,P?P.importMap:void 0,ke,P?P.maxHeadersLength:void 0),fi(P?P.namespaceURI:void 0),P?P.progressiveChunkSize:void 0,P?P.onError:void 0,function(){var Yt={prelude:new ReadableStream({type:"bytes",pull:function(kt){mc(ft,kt)},cancel:function(kt){ft.destination=null,Qc(ft,kt)}},{highWaterMark:0})};K(Yt)},void 0,void 0,le,P?P.onPostpone:void 0);if(P&&P.signal){var We=P.signal;if(We.aborted)Qc(ft,We.reason);else{var ot=function(){Qc(ft,We.reason),We.removeEventListener("abort",ot)};We.addEventListener("abort",ot)}}bl(ft)})},ub.renderToReadableStream=function(R,P){return new Promise(function(K,le){var pe,ke,ze=new Promise(function(wn,kn){ke=wn,pe=kn}),ft=P?P.onHeaders:void 0,We;ft&&(We=function(wn){ft(new Headers(wn))});var ot=Kr(P?P.identifierPrefix:void 0,P?P.unstable_externalRuntimeSrc:void 0,P?P.bootstrapScriptContent:void 0,P?P.bootstrapScripts:void 0,P?P.bootstrapModules:void 0),Yt=Yr(R,ot,Pr(ot,P?P.nonce:void 0,P?P.unstable_externalRuntimeSrc:void 0,P?P.importMap:void 0,We,P?P.maxHeadersLength:void 0),fi(P?P.namespaceURI:void 0),P?P.progressiveChunkSize:void 0,P?P.onError:void 0,ke,function(){var wn=new ReadableStream({type:"bytes",pull:function(kn){mc(Yt,kn)},cancel:function(kn){Yt.destination=null,Qc(Yt,kn)}},{highWaterMark:0});wn.allReady=ze,K(wn)},function(wn){ze.catch(function(){}),le(wn)},pe,P?P.onPostpone:void 0,P?P.formState:void 0);if(P&&P.signal){var kt=P.signal;if(kt.aborted)Qc(Yt,kt.reason);else{var gn=function(){Qc(Yt,kt.reason),kt.removeEventListener("abort",gn)};kt.addEventListener("abort",gn)}}bl(Yt)})},ub.version="19.1.1",ub}var MW;function Qat(){if(MW)return Im;MW=1;var e,t;return e=Zat(),t=qat(),Im.version=e.version,Im.renderToString=e.renderToString,Im.renderToStaticMarkup=e.renderToStaticMarkup,Im.renderToReadableStream=t.renderToReadableStream,t.resume&&(Im.resume=t.resume),Im}var Jat=Qat();const $at=({name:e,description:t,audioUrl:n})=>B.jsxs("div",{className:"locality-popup text-start",children:[B.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[B.jsx("span",{className:"badge bg-primary",children:"Bogot locality"}),B.jsx("span",{className:"small text-muted",children:"Community map"})]}),B.jsx("h5",{className:"fw-bold mb-1 text-capitalize",children:e.toLowerCase()}),B.jsx("p",{className:"small text-secondary mb-3",children:t}),B.jsx("audio",{controls:!0,preload:"none",src:n,className:"w-100","aria-label":`Play audio describing ${e}`})]}),elt=e=>Jat.renderToStaticMarkup(B.jsx($at,{...e})),tlt=[4.711,-74.0721],Kie="/TutorIngles/",nlt=`${Kie.replace(/\/$/,"")}/geojson/localidades_bogota.json`,OW="480px",LW=()=>({color:"#1f6feb",weight:2,opacity:.9,fillColor:"#1f6feb",fillOpacity:.2}),rlt=()=>({color:"#0883ff",weight:3,opacity:1,fillOpacity:.35}),ilt={SANTA_FE:{region:"center",highlight:"the historic downtown with vibrant plazas",note:"You can feel the community rhythm in its streets"},CHAPINERO:{region:"north of the center",highlight:"trendy cafs and young creative spaces",note:"Its residents enjoy storytelling and new ideas"},USAQUN:{region:"northeast",highlight:"markets and peaceful parks",note:"Families gather for fresh food and music"},BOSA:{region:"southwest",highlight:"community gardens and friendly neighbors",note:"Local spaces host story nights and markets"},ENGATIV:{region:"west",highlight:"colorful murals and busy streets",note:"You will hear drums, laughter, and shared meals"},SUBA:{region:"northwest",highlight:"hills and scenic viewpoints",note:"Many people share walks and community songs"},CIUDAD_BOLVAR:{region:"south",highlight:"strong families with proud traditions",note:"The neighborhoods celebrate festivals often"},PUENTE_ARANDA:{region:"southwest",highlight:"industrial heritage and lively plazas",note:"Local artists paint stories of resilience"},TEUSAQUILLO:{region:"center-north",highlight:"green parks next to cultural houses",note:"Students and neighbors share walks every day"}},slt=e=>{const t=e.replace(/\s+/g,"_").toUpperCase(),n=ilt[t];return n?`This locality is in the ${n.region} part of Bogot. It is known for ${n.highlight}. ${n.note}.`:"This locality is part of beautiful Bogot and it is full of warm people who care about their community."},olt=()=>{const[e,t]=I.useState(null),[n,r]=I.useState(null),[i,s]=I.useState(!0);I.useEffect(()=>{(async()=>{try{const l=await fetch(nlt);if(!l.ok)throw new Error("No se pudo cargar el geojson");const c=await l.json(),u=c.objects&&c.objects.bta_localidades||Object.values(c.objects??{})[0];if(!u)throw new Error("No se encontraron objetos geogrficos");const h=Wie(c,u);t(h)}catch(l){console.error("Error cargando geojson:",l),r("No se pudo cargar la informacin geogrfica.")}finally{s(!1)}})()},[]);const o=I.useMemo(()=>(a,l)=>{const c=a?.properties?.NOMBRE||a?.properties?.NOMBRE_LOC||"Locality",u=slt(c),h=elt({name:c,description:u,audioUrl:`${Kie.replace(/\/$/,"")}/audio/english_demo_audio.mp3`});l.on({mouseover:()=>{"setStyle"in l&&l.setStyle(rlt())},mouseout:()=>{"setStyle"in l&&l.setStyle(LW())}}),l.bindPopup(h,{minWidth:260,maxWidth:360,className:"shadow border-0"})},[]);return B.jsx("div",{style:{height:OW},children:B.jsxs(jie,{center:tlt,zoom:11,scrollWheelZoom:!0,containerStyle:{minHeight:OW},children:[i&&B.jsx("div",{className:"position-absolute top-50 start-50 translate-middle text-center",children:B.jsx(Ll,{animation:"border",variant:"primary"})}),n&&B.jsx(qd,{variant:"danger",className:"position-absolute top-0 w-100",children:n}),e&&B.jsx(Uie,{data:e,style:LW,onEachFeature:o})]})})},alt=()=>B.jsxs(Zy,{fluid:!0,className:"bogota-map-page p-4",children:[B.jsx("header",{className:"mb-4",children:B.jsxs("div",{className:"d-flex flex-column flex-md-row gap-3 align-items-start align-items-md-center justify-content-between",children:[B.jsxs("div",{children:[B.jsx("h1",{className:"mb-0 display-5",children:"Bogot Localities"}),B.jsx("p",{className:"text-muted mb-0",children:"Explore the localities and listen to short, easy English descriptions that help you understand each place's identity."})]}),B.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[B.jsx("span",{className:"badge rounded-pill bg-primary text-white",children:"Listen & Repeat"}),B.jsx("span",{className:"badge rounded-pill bg-warning text-dark",children:"Community Stories"})]})]})}),B.jsxs("div",{className:"map-content row g-4",children:[B.jsx("section",{className:"col-12 col-lg-4",children:B.jsx("div",{className:"card shadow-sm border-0 h-100 guide-card",children:B.jsxs("div",{className:"card-body",children:[B.jsx("h2",{className:"h5 fw-bold",children:"How to explore"}),B.jsx("p",{className:"text-muted small",children:"Move around the map and click any highlighted locality. Use the popups to read aloud, listen to the simple English audio, and connect the story with the territory."}),B.jsxs("ul",{className:"list-unstyled guide-list",children:[B.jsxs("li",{children:[B.jsx("strong",{children:"01."})," Click on the shape of a locality to open its popup and listen to the audio."]}),B.jsxs("li",{children:[B.jsx("strong",{children:"02."})," Repeat the sentences you hear to practice your pronunciation."]})]}),B.jsxs("div",{className:"mt-4",children:[B.jsx("p",{className:"small fw-bold mb-1 text-uppercase text-secondary",children:"Quick tips"}),B.jsx("p",{className:"small mb-1",children:" Zoom with the toolbar to focus on south or north."}),B.jsx("p",{className:"small mb-0",children:" Keep the popup open while you talk aloud."})]})]})})}),B.jsx("section",{className:"col-12 col-lg-8",children:B.jsx("div",{className:"card shadow-sm border-0 map-panel",children:B.jsxs("div",{className:"card-body p-0 position-relative",children:[B.jsxs("div",{className:"map-toolbar d-flex gap-2 flex-wrap",children:[B.jsx("button",{className:"btn btn-sm btn-outline-primary",children:"Focus Center"}),B.jsx("button",{className:"btn btn-sm btn-outline-secondary",children:"North"}),B.jsx("button",{className:"btn btn-sm btn-outline-secondary",children:"South"}),B.jsx("span",{className:"badge bg-white text-dark",children:"Audio ready"})]}),B.jsx("div",{className:"map-wrapper",children:B.jsx(olt,{})}),B.jsxs("div",{className:"map-legend d-flex gap-3",children:[B.jsxs("span",{className:"legend-chip",children:[B.jsx("span",{className:"legend-dot dot-active"}),"Location ready to explore"]}),B.jsxs("span",{className:"legend-chip",children:[B.jsx("span",{className:"legend-dot dot-hover"}),"Popups have short English sentences + audio"]})]})]})})})]})]}),T2=[4.711,-74.0721],NW="720px",llt="/TutorIngles/",clt=`${llt.replace(/\/$/,"")}/geojson/localidades_bogota.json`,ult=()=>({color:"#1f6feb",weight:1.5,opacity:.9,fillOpacity:0}),R2={tree:{label:"Tree",svg:`<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
      <circle cx="64" cy="44" r="32" fill="#2F855A"/>
      <circle cx="40" cy="64" r="24" fill="#38A169"/>
      <circle cx="88" cy="64" r="24" fill="#48BB78"/>
      <rect x="56" y="64" width="16" height="44" rx="8" fill="#6B4423"/>
    </svg>`},hospital:{label:"Hospital",svg:`<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
      <rect x="32" y="28" width="64" height="72" rx="8" fill="#E53E3E"/>
      <rect x="60" y="44" width="8" height="40" fill="#FFF"/>
      <rect x="44" y="60" width="40" height="8" fill="#FFF"/>
    </svg>`},cinema:{label:"Cinema",svg:`<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
      <rect x="24" y="36" width="80" height="56" rx="8" fill="#D69E2E"/>
      <rect x="36" y="52" width="56" height="24" rx="4" fill="#1A202C"/>
    </svg>`},school:{label:"School",svg:`<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
      <polygon points="64,20 24,44 104,44" fill="#38A169"/>
      <rect x="32" y="44" width="64" height="56" rx="4" fill="#63B3ED"/>
      <rect x="60" y="64" width="8" height="36" fill="#2D3748"/>
    </svg>`},market:{label:"Market",svg:`<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
      <rect x="28" y="44" width="72" height="48" rx="6" fill="#319795"/>
      <line x1="28" y1="60" x2="100" y2="60" stroke="#FFF" stroke-width="6"/>
    </svg>`},library:{label:"Library",svg:`<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
      <rect x="28" y="36" width="72" height="56" rx="6" fill="#805AD5"/>
      <rect x="40" y="44" width="12" height="40" fill="#FFF"/>
      <rect x="60" y="44" width="12" height="40" fill="#FFF"/>
      <rect x="80" y="44" width="12" height="40" fill="#FFF"/>
    </svg>`}},dlt=()=>{const[e,t]=I.useState(null),[n,r]=I.useState(null),[i,s]=I.useState(!0),[o,a]=I.useState([]),l=I.useRef(null),c=I.useMemo(()=>Object.fromEntries(Object.entries(R2).map(([h,p])=>[h,new L1.Icon({iconUrl:`data:image/svg+xml;utf8,${encodeURIComponent(p.svg)}`,iconSize:[48,48],iconAnchor:[24,44]})])),[]);I.useEffect(()=>{(async()=>{try{const p=await(await fetch(clt)).json(),m=p.objects?.bta_localidades??Object.values(p.objects)[0];t(Wie(p,m))}catch{r("No se pudo cargar la informacin geogrfica.")}finally{s(!1)}})()},[]);const u=h=>{const p=l.current,m=p?.getBounds().getCenter();console.log(p),console.log(m),a(y=>[...y,{id:crypto.randomUUID(),lat:m?.lat??T2[0],lng:m?.lng??T2[1],iconKey:h}])};return B.jsxs("div",{style:{height:NW},children:[B.jsxs(jie,{center:T2,zoom:11,scrollWheelZoom:!0,containerStyle:{minHeight:NW},whenReady:h=>{l.current=h;const p=h.getBounds().getCenter();p.lat&&p.lng&&l.current?.fitBounds(h.getBounds())},children:[i&&B.jsx(Ll,{className:"position-absolute top-50 start-50"}),n&&B.jsx(qd,{variant:"danger",children:n}),e&&B.jsx(Uie,{data:e,style:ult}),o.map(h=>B.jsx(zat,{position:[h.lat,h.lng],icon:c[h.iconKey],draggable:!0,eventHandlers:{dragend:p=>{const{lat:m,lng:y}=p.target.getLatLng();a(w=>w.map(b=>b.id===h.id?{...b,lat:m,lng:y}:b))}}},h.id))]}),B.jsx(ei,{className:"mt-3",children:B.jsx(ei.Body,{className:"d-flex flex-wrap gap-3 justify-content-center",children:Object.keys(R2).map(h=>{const{label:p,svg:m}=R2[h];return B.jsxs("button",{className:"btn btn-outline-secondary d-flex flex-column align-items-center",onClick:()=>u(h),children:[B.jsx("img",{src:`data:image/svg+xml;utf8,${encodeURIComponent(m)}`,style:{width:32,height:32},alt:p}),B.jsx("small",{className:"text-muted",children:p})]},h)})})})]})},hlt=()=>B.jsxs("div",{className:"bogota-interactive-map-page p-4",children:[B.jsx("header",{className:"mb-4",children:B.jsx("div",{className:"d-flex flex-column flex-md-row gap-3 align-items-start align-items-md-center justify-content-between",children:B.jsx("div",{children:B.jsx("h1",{className:"mb-0 display-5",children:"Bogota Interactive Map"})})})}),B.jsx(dlt,{})]}),flt=Jae([{path:"/dashboard",element:B.jsx(Iue,{children:B.jsx(qxe,{})}),children:[{index:!0,element:B.jsx(wy,{to:"mapa",replace:!0})},{path:"mapa",element:B.jsx(au,{allowedRoles:[Ln.STUDENT,Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(GSe,{})})},{path:"estudiantes",element:B.jsx(au,{allowedRoles:[Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(FXe,{})})},{path:"grupos",element:B.jsx(au,{allowedRoles:[Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(set,{})})},{path:"chatbot",element:B.jsx(au,{allowedRoles:[Ln.STUDENT,Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(Wit,{})})},{path:"chatbot_view/:userId",element:B.jsx(au,{allowedRoles:[Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(Tat,{})})},{path:"chatbot_usage",element:B.jsx(au,{allowedRoles:[Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(Eat,{})})},{path:"galeria/:sessionId",element:B.jsx(au,{allowedRoles:[Ln.STUDENT,Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(tat,{})})},{path:"practice_1",element:B.jsx(au,{allowedRoles:[Ln.STUDENT,Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(oat,{})})},{path:"practice_2",element:B.jsx(au,{allowedRoles:[Ln.STUDENT,Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(cat,{})})},{path:"research_exploration",element:B.jsx(au,{allowedRoles:[Ln.STUDENT,Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(hat,{})})},{path:"cultural_stories_and_expressions",element:B.jsx(au,{allowedRoles:[Ln.STUDENT,Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(wat,{})})},{path:"bogota_locations",element:B.jsx(au,{allowedRoles:[Ln.STUDENT,Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(alt,{})})},{path:"bogota_interactive_map",element:B.jsx(au,{allowedRoles:[Ln.STUDENT,Ln.TEACHER,Ln.ADMINISTRATOR],children:B.jsx(hlt,{})})}]},{path:"/",element:B.jsx(wy,{to:"/dashboard",replace:!0})},{path:"/login",element:B.jsx(oet,{children:B.jsx(PSe,{})})},{path:"*",element:B.jsx(wy,{to:"/",replace:!0})}]);lEe.registerModules([VNe]);function plt(){const[e,t]=I.useState(!0),{setUser:n}=dh();return I.useEffect(()=>{const r=localStorage.getItem("user");r&&n(JSON.parse(r)),t(!1)},[]),e?B.jsx(Ll,{animation:"border",className:"d-flex justify-content-center align-items-center"}):B.jsx(ule,{router:flt})}noe.createRoot(document.getElementById("root")).render(B.jsx(I.StrictMode,{children:B.jsx(plt,{})}));
